(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=i(c);fetch(c.href,u)}})();var Zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Y7(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var i=function o(){if(this instanceof o){var c=[null];c.push.apply(c,arguments);var u=Function.bind.apply(t,c);return new u}return t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var c=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(i,o,c.get?c:{enumerable:!0,get:function(){return n[o]}})}),i}var iO={exports:{}},Jv={},rO={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf=Symbol.for("react.element"),Z7=Symbol.for("react.portal"),J7=Symbol.for("react.fragment"),X7=Symbol.for("react.strict_mode"),eW=Symbol.for("react.profiler"),tW=Symbol.for("react.provider"),nW=Symbol.for("react.context"),iW=Symbol.for("react.forward_ref"),rW=Symbol.for("react.suspense"),oW=Symbol.for("react.memo"),sW=Symbol.for("react.lazy"),E2=Symbol.iterator;function aW(n){return n===null||typeof n!="object"?null:(n=E2&&n[E2]||n["@@iterator"],typeof n=="function"?n:null)}var oO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sO=Object.assign,aO={};function pd(n,t,i){this.props=n,this.context=t,this.refs=aO,this.updater=i||oO}pd.prototype.isReactComponent={};pd.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};pd.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function lO(){}lO.prototype=pd.prototype;function h_(n,t,i){this.props=n,this.context=t,this.refs=aO,this.updater=i||oO}var f_=h_.prototype=new lO;f_.constructor=h_;sO(f_,pd.prototype);f_.isPureReactComponent=!0;var S2=Array.isArray,cO=Object.prototype.hasOwnProperty,p_={current:null},uO={key:!0,ref:!0,__self:!0,__source:!0};function dO(n,t,i){var o,c={},u=null,h=null;if(t!=null)for(o in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(u=""+t.key),t)cO.call(t,o)&&!uO.hasOwnProperty(o)&&(c[o]=t[o]);var b=arguments.length-2;if(b===1)c.children=i;else if(1<b){for(var f=Array(b),w=0;w<b;w++)f[w]=arguments[w+2];c.children=f}if(n&&n.defaultProps)for(o in b=n.defaultProps,b)c[o]===void 0&&(c[o]=b[o]);return{$$typeof:Kf,type:n,key:u,ref:h,props:c,_owner:p_.current}}function lW(n,t){return{$$typeof:Kf,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function g_(n){return typeof n=="object"&&n!==null&&n.$$typeof===Kf}function cW(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(i){return t[i]})}var x2=/\/+/g;function ty(n,t){return typeof n=="object"&&n!==null&&n.key!=null?cW(""+n.key):t.toString(36)}function pm(n,t,i,o,c){var u=typeof n;(u==="undefined"||u==="boolean")&&(n=null);var h=!1;if(n===null)h=!0;else switch(u){case"string":case"number":h=!0;break;case"object":switch(n.$$typeof){case Kf:case Z7:h=!0}}if(h)return h=n,c=c(h),n=o===""?"."+ty(h,0):o,S2(c)?(i="",n!=null&&(i=n.replace(x2,"$&/")+"/"),pm(c,t,i,"",function(w){return w})):c!=null&&(g_(c)&&(c=lW(c,i+(!c.key||h&&h.key===c.key?"":(""+c.key).replace(x2,"$&/")+"/")+n)),t.push(c)),1;if(h=0,o=o===""?".":o+":",S2(n))for(var b=0;b<n.length;b++){u=n[b];var f=o+ty(u,b);h+=pm(u,t,i,f,c)}else if(f=aW(n),typeof f=="function")for(n=f.call(n),b=0;!(u=n.next()).done;)u=u.value,f=o+ty(u,b++),h+=pm(u,t,i,f,c);else if(u==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Pg(n,t,i){if(n==null)return n;var o=[],c=0;return pm(n,o,"","",function(u){return t.call(i,u,c++)}),o}function uW(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(i){(n._status===0||n._status===-1)&&(n._status=1,n._result=i)},function(i){(n._status===0||n._status===-1)&&(n._status=2,n._result=i)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Ki={current:null},gm={transition:null},dW={ReactCurrentDispatcher:Ki,ReactCurrentBatchConfig:gm,ReactCurrentOwner:p_};Ct.Children={map:Pg,forEach:function(n,t,i){Pg(n,function(){t.apply(this,arguments)},i)},count:function(n){var t=0;return Pg(n,function(){t++}),t},toArray:function(n){return Pg(n,function(t){return t})||[]},only:function(n){if(!g_(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ct.Component=pd;Ct.Fragment=J7;Ct.Profiler=eW;Ct.PureComponent=h_;Ct.StrictMode=X7;Ct.Suspense=rW;Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dW;Ct.cloneElement=function(n,t,i){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var o=sO({},n.props),c=n.key,u=n.ref,h=n._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,h=p_.current),t.key!==void 0&&(c=""+t.key),n.type&&n.type.defaultProps)var b=n.type.defaultProps;for(f in t)cO.call(t,f)&&!uO.hasOwnProperty(f)&&(o[f]=t[f]===void 0&&b!==void 0?b[f]:t[f])}var f=arguments.length-2;if(f===1)o.children=i;else if(1<f){b=Array(f);for(var w=0;w<f;w++)b[w]=arguments[w+2];o.children=b}return{$$typeof:Kf,type:n.type,key:c,ref:u,props:o,_owner:h}};Ct.createContext=function(n){return n={$$typeof:nW,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:tW,_context:n},n.Consumer=n};Ct.createElement=dO;Ct.createFactory=function(n){var t=dO.bind(null,n);return t.type=n,t};Ct.createRef=function(){return{current:null}};Ct.forwardRef=function(n){return{$$typeof:iW,render:n}};Ct.isValidElement=g_;Ct.lazy=function(n){return{$$typeof:sW,_payload:{_status:-1,_result:n},_init:uW}};Ct.memo=function(n,t){return{$$typeof:oW,type:n,compare:t===void 0?null:t}};Ct.startTransition=function(n){var t=gm.transition;gm.transition={};try{n()}finally{gm.transition=t}};Ct.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ct.useCallback=function(n,t){return Ki.current.useCallback(n,t)};Ct.useContext=function(n){return Ki.current.useContext(n)};Ct.useDebugValue=function(){};Ct.useDeferredValue=function(n){return Ki.current.useDeferredValue(n)};Ct.useEffect=function(n,t){return Ki.current.useEffect(n,t)};Ct.useId=function(){return Ki.current.useId()};Ct.useImperativeHandle=function(n,t,i){return Ki.current.useImperativeHandle(n,t,i)};Ct.useInsertionEffect=function(n,t){return Ki.current.useInsertionEffect(n,t)};Ct.useLayoutEffect=function(n,t){return Ki.current.useLayoutEffect(n,t)};Ct.useMemo=function(n,t){return Ki.current.useMemo(n,t)};Ct.useReducer=function(n,t,i){return Ki.current.useReducer(n,t,i)};Ct.useRef=function(n){return Ki.current.useRef(n)};Ct.useState=function(n){return Ki.current.useState(n)};Ct.useSyncExternalStore=function(n,t,i){return Ki.current.useSyncExternalStore(n,t,i)};Ct.useTransition=function(){return Ki.current.useTransition()};Ct.version="18.2.0";rO.exports=Ct;var Te=rO.exports;const Sa=Gf(Te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hW=Te,fW=Symbol.for("react.element"),pW=Symbol.for("react.fragment"),gW=Object.prototype.hasOwnProperty,mW=hW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vW={key:!0,ref:!0,__self:!0,__source:!0};function hO(n,t,i){var o,c={},u=null,h=null;i!==void 0&&(u=""+i),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(h=t.ref);for(o in t)gW.call(t,o)&&!vW.hasOwnProperty(o)&&(c[o]=t[o]);if(n&&n.defaultProps)for(o in t=n.defaultProps,t)c[o]===void 0&&(c[o]=t[o]);return{$$typeof:fW,type:n,key:u,ref:h,props:c,_owner:mW.current}}Jv.Fragment=pW;Jv.jsx=hO;Jv.jsxs=hO;iO.exports=Jv;var ae=iO.exports,b0={},fO={exports:{}},br={},pO={exports:{}},gO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(Y,ee){var re=Y.length;Y.push(ee);e:for(;0<re;){var oe=re-1>>>1,pe=Y[oe];if(0<c(pe,ee))Y[oe]=ee,Y[re]=pe,re=oe;else break e}}function i(Y){return Y.length===0?null:Y[0]}function o(Y){if(Y.length===0)return null;var ee=Y[0],re=Y.pop();if(re!==ee){Y[0]=re;e:for(var oe=0,pe=Y.length,le=pe>>>1;oe<le;){var ce=2*(oe+1)-1,ue=Y[ce],ge=ce+1,ye=Y[ge];if(0>c(ue,re))ge<pe&&0>c(ye,ue)?(Y[oe]=ye,Y[ge]=re,oe=ge):(Y[oe]=ue,Y[ce]=re,oe=ce);else if(ge<pe&&0>c(ye,re))Y[oe]=ye,Y[ge]=re,oe=ge;else break e}}return ee}function c(Y,ee){var re=Y.sortIndex-ee.sortIndex;return re!==0?re:Y.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,b=h.now();n.unstable_now=function(){return h.now()-b}}var f=[],w=[],p=1,v=null,g=3,k=!1,A=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(Y){for(var ee=i(w);ee!==null;){if(ee.callback===null)o(w);else if(ee.startTime<=Y)o(w),ee.sortIndex=ee.expirationTime,t(f,ee);else break;ee=i(w)}}function B(Y){if(_=!1,O(Y),!A)if(i(f)!==null)A=!0,G(I);else{var ee=i(w);ee!==null&&J(B,ee.startTime-Y)}}function I(Y,ee){A=!1,_&&(_=!1,x(N),N=-1),k=!0;var re=g;try{for(O(ee),v=i(f);v!==null&&(!(v.expirationTime>ee)||Y&&!T());){var oe=v.callback;if(typeof oe=="function"){v.callback=null,g=v.priorityLevel;var pe=oe(v.expirationTime<=ee);ee=n.unstable_now(),typeof pe=="function"?v.callback=pe:v===i(f)&&o(f),O(ee)}else o(f);v=i(f)}if(v!==null)var le=!0;else{var ce=i(w);ce!==null&&J(B,ce.startTime-ee),le=!1}return le}finally{v=null,g=re,k=!1}}var R=!1,j=null,N=-1,P=5,F=-1;function T(){return!(n.unstable_now()-F<P)}function L(){if(j!==null){var Y=n.unstable_now();F=Y;var ee=!0;try{ee=j(!0,Y)}finally{ee?z():(R=!1,j=null)}}else R=!1}var z;if(typeof D=="function")z=function(){D(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,H=V.port2;V.port1.onmessage=L,z=function(){H.postMessage(null)}}else z=function(){E(L,0)};function G(Y){j=Y,R||(R=!0,z())}function J(Y,ee){N=E(function(){Y(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){A||k||(A=!0,G(I))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return i(f)},n.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var re=g;g=ee;try{return Y()}finally{g=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,ee){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=g;g=Y;try{return ee()}finally{g=re}},n.unstable_scheduleCallback=function(Y,ee,re){var oe=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?oe+re:oe):re=oe,Y){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=re+pe,Y={id:p++,callback:ee,priorityLevel:Y,startTime:re,expirationTime:pe,sortIndex:-1},re>oe?(Y.sortIndex=re,t(w,Y),i(f)===null&&Y===i(w)&&(_?(x(N),N=-1):_=!0,J(B,re-oe))):(Y.sortIndex=pe,t(f,Y),A||k||(A=!0,G(I))),Y},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(Y){var ee=g;return function(){var re=g;g=ee;try{return Y.apply(this,arguments)}finally{g=re}}}})(gO);pO.exports=gO;var wW=pO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mO=Te,wr=wW;function Le(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vO=new Set,cf={};function wc(n,t){Ku(n,t),Ku(n+"Capture",t)}function Ku(n,t){for(cf[n]=t,n=0;n<t.length;n++)vO.add(t[n])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y0=Object.prototype.hasOwnProperty,kW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T2={},D2={};function bW(n){return y0.call(D2,n)?!0:y0.call(T2,n)?!1:kW.test(n)?D2[n]=!0:(T2[n]=!0,!1)}function yW(n,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function AW(n,t,i,o){if(t===null||typeof t>"u"||yW(n,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qi(n,t,i,o,c,u,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=n,this.type=t,this.sanitizeURL=u,this.removeEmptyString=h}var wi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){wi[n]=new qi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];wi[t]=new qi(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){wi[n]=new qi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){wi[n]=new qi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){wi[n]=new qi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){wi[n]=new qi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){wi[n]=new qi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){wi[n]=new qi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){wi[n]=new qi(n,5,!1,n.toLowerCase(),null,!1,!1)});var m_=/[\-:]([a-z])/g;function v_(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(m_,v_);wi[t]=new qi(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(m_,v_);wi[t]=new qi(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(m_,v_);wi[t]=new qi(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){wi[n]=new qi(n,1,!1,n.toLowerCase(),null,!1,!1)});wi.xlinkHref=new qi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){wi[n]=new qi(n,1,!1,n.toLowerCase(),null,!0,!0)});function w_(n,t,i,o){var c=wi.hasOwnProperty(t)?wi[t]:null;(c!==null?c.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AW(t,i,c,o)&&(i=null),o||c===null?bW(t)&&(i===null?n.removeAttribute(t):n.setAttribute(t,""+i)):c.mustUseProperty?n[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,o=c.attributeNamespace,i===null?n.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,o?n.setAttributeNS(o,t,i):n.setAttribute(t,i))))}var Vs=mO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$g=Symbol.for("react.element"),vu=Symbol.for("react.portal"),wu=Symbol.for("react.fragment"),k_=Symbol.for("react.strict_mode"),A0=Symbol.for("react.profiler"),wO=Symbol.for("react.provider"),kO=Symbol.for("react.context"),b_=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),C0=Symbol.for("react.suspense_list"),y_=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),bO=Symbol.for("react.offscreen"),I2=Symbol.iterator;function bh(n){return n===null||typeof n!="object"?null:(n=I2&&n[I2]||n["@@iterator"],typeof n=="function"?n:null)}var vn=Object.assign,ny;function Rh(n){if(ny===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);ny=t&&t[1]||""}return`
`+ny+n}var iy=!1;function ry(n,t){if(!n||iy)return"";iy=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var o=w}Reflect.construct(n,[],t)}else{try{t.call()}catch(w){o=w}n.call(t.prototype)}else{try{throw Error()}catch(w){o=w}n()}}catch(w){if(w&&o&&typeof w.stack=="string"){for(var c=w.stack.split(`
`),u=o.stack.split(`
`),h=c.length-1,b=u.length-1;1<=h&&0<=b&&c[h]!==u[b];)b--;for(;1<=h&&0<=b;h--,b--)if(c[h]!==u[b]){if(h!==1||b!==1)do if(h--,b--,0>b||c[h]!==u[b]){var f=`
`+c[h].replace(" at new "," at ");return n.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",n.displayName)),f}while(1<=h&&0<=b);break}}}finally{iy=!1,Error.prepareStackTrace=i}return(n=n?n.displayName||n.name:"")?Rh(n):""}function _W(n){switch(n.tag){case 5:return Rh(n.type);case 16:return Rh("Lazy");case 13:return Rh("Suspense");case 19:return Rh("SuspenseList");case 0:case 2:case 15:return n=ry(n.type,!1),n;case 11:return n=ry(n.type.render,!1),n;case 1:return n=ry(n.type,!0),n;default:return""}}function E0(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case wu:return"Fragment";case vu:return"Portal";case A0:return"Profiler";case k_:return"StrictMode";case _0:return"Suspense";case C0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case kO:return(n.displayName||"Context")+".Consumer";case wO:return(n._context.displayName||"Context")+".Provider";case b_:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case y_:return t=n.displayName||null,t!==null?t:E0(n.type)||"Memo";case va:t=n._payload,n=n._init;try{return E0(n(t))}catch{}}return null}function CW(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E0(t);case 8:return t===k_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ga(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function yO(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function EW(n){var t=yO(n)?"checked":"value",i=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),o=""+n[t];if(!n.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,u=i.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return c.call(this)},set:function(h){o=""+h,u.call(this,h)}}),Object.defineProperty(n,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(h){o=""+h},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function Bg(n){n._valueTracker||(n._valueTracker=EW(n))}function AO(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return n&&(o=yO(n)?n.checked?"true":"false":n.value),n=o,n!==i?(t.setValue(n),!0):!1}function jm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function S0(n,t){var i=t.checked;return vn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??n._wrapperState.initialChecked})}function M2(n,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=Ga(t.value!=null?t.value:i),n._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _O(n,t){t=t.checked,t!=null&&w_(n,"checked",t,!1)}function x0(n,t){_O(n,t);var i=Ga(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+i):n.value!==""+i&&(n.value=""+i);else if(o==="submit"||o==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?T0(n,t.type,i):t.hasOwnProperty("defaultValue")&&T0(n,t.type,Ga(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function L2(n,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,i||t===n.value||(n.value=t),n.defaultValue=t}i=n.name,i!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,i!==""&&(n.name=i)}function T0(n,t,i){(t!=="number"||jm(n.ownerDocument)!==n)&&(i==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+i&&(n.defaultValue=""+i))}var Nh=Array.isArray;function Lu(n,t,i,o){if(n=n.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<n.length;i++)c=t.hasOwnProperty("$"+n[i].value),n[i].selected!==c&&(n[i].selected=c),c&&o&&(n[i].defaultSelected=!0)}else{for(i=""+Ga(i),t=null,c=0;c<n.length;c++){if(n[c].value===i){n[c].selected=!0,o&&(n[c].defaultSelected=!0);return}t!==null||n[c].disabled||(t=n[c])}t!==null&&(t.selected=!0)}}function D0(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Le(91));return vn({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function R2(n,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(Le(92));if(Nh(i)){if(1<i.length)throw Error(Le(93));i=i[0]}t=i}t==null&&(t=""),i=t}n._wrapperState={initialValue:Ga(i)}}function CO(n,t){var i=Ga(t.value),o=Ga(t.defaultValue);i!=null&&(i=""+i,i!==n.value&&(n.value=i),t.defaultValue==null&&n.defaultValue!==i&&(n.defaultValue=i)),o!=null&&(n.defaultValue=""+o)}function N2(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function EO(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function I0(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?EO(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Fg,SO=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,c){MSApp.execUnsafeLocalFunction(function(){return n(t,i,o,c)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Fg=Fg||document.createElement("div"),Fg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function uf(n,t){if(t){var i=n.firstChild;if(i&&i===n.lastChild&&i.nodeType===3){i.nodeValue=t;return}}n.textContent=t}var Hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SW=["Webkit","ms","Moz","O"];Object.keys(Hh).forEach(function(n){SW.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),Hh[t]=Hh[n]})});function xO(n,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Hh.hasOwnProperty(n)&&Hh[n]?(""+t).trim():t+"px"}function TO(n,t){n=n.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,c=xO(i,t[i],o);i==="float"&&(i="cssFloat"),o?n.setProperty(i,c):n[i]=c}}var xW=vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function M0(n,t){if(t){if(xW[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Le(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Le(62))}}function L0(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R0=null;function A_(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var N0=null,Ru=null,Nu=null;function O2(n){if(n=Yf(n)){if(typeof N0!="function")throw Error(Le(280));var t=n.stateNode;t&&(t=iw(t),N0(n.stateNode,n.type,t))}}function DO(n){Ru?Nu?Nu.push(n):Nu=[n]:Ru=n}function IO(){if(Ru){var n=Ru,t=Nu;if(Nu=Ru=null,O2(n),t)for(n=0;n<t.length;n++)O2(t[n])}}function MO(n,t){return n(t)}function LO(){}var oy=!1;function RO(n,t,i){if(oy)return n(t,i);oy=!0;try{return MO(n,t,i)}finally{oy=!1,(Ru!==null||Nu!==null)&&(LO(),IO())}}function df(n,t){var i=n.stateNode;if(i===null)return null;var o=iw(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(i&&typeof i!="function")throw Error(Le(231,t,typeof i));return i}var O0=!1;if(Rs)try{var yh={};Object.defineProperty(yh,"passive",{get:function(){O0=!0}}),window.addEventListener("test",yh,yh),window.removeEventListener("test",yh,yh)}catch{O0=!1}function TW(n,t,i,o,c,u,h,b,f){var w=Array.prototype.slice.call(arguments,3);try{t.apply(i,w)}catch(p){this.onError(p)}}var Wh=!1,Vm=null,Um=!1,P0=null,DW={onError:function(n){Wh=!0,Vm=n}};function IW(n,t,i,o,c,u,h,b,f){Wh=!1,Vm=null,TW.apply(DW,arguments)}function MW(n,t,i,o,c,u,h,b,f){if(IW.apply(this,arguments),Wh){if(Wh){var w=Vm;Wh=!1,Vm=null}else throw Error(Le(198));Um||(Um=!0,P0=w)}}function kc(n){var t=n,i=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(i=t.return),n=t.return;while(n)}return t.tag===3?i:null}function NO(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function P2(n){if(kc(n)!==n)throw Error(Le(188))}function LW(n){var t=n.alternate;if(!t){if(t=kc(n),t===null)throw Error(Le(188));return t!==n?null:n}for(var i=n,o=t;;){var c=i.return;if(c===null)break;var u=c.alternate;if(u===null){if(o=c.return,o!==null){i=o;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===i)return P2(c),n;if(u===o)return P2(c),t;u=u.sibling}throw Error(Le(188))}if(i.return!==o.return)i=c,o=u;else{for(var h=!1,b=c.child;b;){if(b===i){h=!0,i=c,o=u;break}if(b===o){h=!0,o=c,i=u;break}b=b.sibling}if(!h){for(b=u.child;b;){if(b===i){h=!0,i=u,o=c;break}if(b===o){h=!0,o=u,i=c;break}b=b.sibling}if(!h)throw Error(Le(189))}}if(i.alternate!==o)throw Error(Le(190))}if(i.tag!==3)throw Error(Le(188));return i.stateNode.current===i?n:t}function OO(n){return n=LW(n),n!==null?PO(n):null}function PO(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=PO(n);if(t!==null)return t;n=n.sibling}return null}var $O=wr.unstable_scheduleCallback,$2=wr.unstable_cancelCallback,RW=wr.unstable_shouldYield,NW=wr.unstable_requestPaint,In=wr.unstable_now,OW=wr.unstable_getCurrentPriorityLevel,__=wr.unstable_ImmediatePriority,BO=wr.unstable_UserBlockingPriority,Hm=wr.unstable_NormalPriority,PW=wr.unstable_LowPriority,FO=wr.unstable_IdlePriority,Xv=null,Yo=null;function $W(n){if(Yo&&typeof Yo.onCommitFiberRoot=="function")try{Yo.onCommitFiberRoot(Xv,n,void 0,(n.current.flags&128)===128)}catch{}}var oo=Math.clz32?Math.clz32:zW,BW=Math.log,FW=Math.LN2;function zW(n){return n>>>=0,n===0?32:31-(BW(n)/FW|0)|0}var zg=64,jg=4194304;function Oh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Wm(n,t){var i=n.pendingLanes;if(i===0)return 0;var o=0,c=n.suspendedLanes,u=n.pingedLanes,h=i&268435455;if(h!==0){var b=h&~c;b!==0?o=Oh(b):(u&=h,u!==0&&(o=Oh(u)))}else h=i&~c,h!==0?o=Oh(h):u!==0&&(o=Oh(u));if(o===0)return 0;if(t!==0&&t!==o&&!(t&c)&&(c=o&-o,u=t&-t,c>=u||c===16&&(u&4194240)!==0))return t;if(o&4&&(o|=i&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=o;0<t;)i=31-oo(t),c=1<<i,o|=n[i],t&=~c;return o}function jW(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VW(n,t){for(var i=n.suspendedLanes,o=n.pingedLanes,c=n.expirationTimes,u=n.pendingLanes;0<u;){var h=31-oo(u),b=1<<h,f=c[h];f===-1?(!(b&i)||b&o)&&(c[h]=jW(b,t)):f<=t&&(n.expiredLanes|=b),u&=~b}}function $0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function zO(){var n=zg;return zg<<=1,!(zg&4194240)&&(zg=64),n}function sy(n){for(var t=[],i=0;31>i;i++)t.push(n);return t}function qf(n,t,i){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-oo(t),n[t]=i}function UW(n,t){var i=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var o=n.eventTimes;for(n=n.expirationTimes;0<i;){var c=31-oo(i),u=1<<c;t[c]=0,o[c]=-1,n[c]=-1,i&=~u}}function C_(n,t){var i=n.entangledLanes|=t;for(n=n.entanglements;i;){var o=31-oo(i),c=1<<o;c&t|n[o]&t&&(n[o]|=t),i&=~c}}var Gt=0;function jO(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var VO,E_,UO,HO,WO,B0=!1,Vg=[],Ra=null,Na=null,Oa=null,hf=new Map,ff=new Map,ba=[],HW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function B2(n,t){switch(n){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":hf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ff.delete(t.pointerId)}}function Ah(n,t,i,o,c,u){return n===null||n.nativeEvent!==u?(n={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:u,targetContainers:[c]},t!==null&&(t=Yf(t),t!==null&&E_(t)),n):(n.eventSystemFlags|=o,t=n.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),n)}function WW(n,t,i,o,c){switch(t){case"focusin":return Ra=Ah(Ra,n,t,i,o,c),!0;case"dragenter":return Na=Ah(Na,n,t,i,o,c),!0;case"mouseover":return Oa=Ah(Oa,n,t,i,o,c),!0;case"pointerover":var u=c.pointerId;return hf.set(u,Ah(hf.get(u)||null,n,t,i,o,c)),!0;case"gotpointercapture":return u=c.pointerId,ff.set(u,Ah(ff.get(u)||null,n,t,i,o,c)),!0}return!1}function GO(n){var t=Gl(n.target);if(t!==null){var i=kc(t);if(i!==null){if(t=i.tag,t===13){if(t=NO(i),t!==null){n.blockedOn=t,WO(n.priority,function(){UO(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){n.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mm(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var i=F0(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(i===null){i=n.nativeEvent;var o=new i.constructor(i.type,i);R0=o,i.target.dispatchEvent(o),R0=null}else return t=Yf(i),t!==null&&E_(t),n.blockedOn=i,!1;t.shift()}return!0}function F2(n,t,i){mm(n)&&i.delete(t)}function GW(){B0=!1,Ra!==null&&mm(Ra)&&(Ra=null),Na!==null&&mm(Na)&&(Na=null),Oa!==null&&mm(Oa)&&(Oa=null),hf.forEach(F2),ff.forEach(F2)}function _h(n,t){n.blockedOn===t&&(n.blockedOn=null,B0||(B0=!0,wr.unstable_scheduleCallback(wr.unstable_NormalPriority,GW)))}function pf(n){function t(c){return _h(c,n)}if(0<Vg.length){_h(Vg[0],n);for(var i=1;i<Vg.length;i++){var o=Vg[i];o.blockedOn===n&&(o.blockedOn=null)}}for(Ra!==null&&_h(Ra,n),Na!==null&&_h(Na,n),Oa!==null&&_h(Oa,n),hf.forEach(t),ff.forEach(t),i=0;i<ba.length;i++)o=ba[i],o.blockedOn===n&&(o.blockedOn=null);for(;0<ba.length&&(i=ba[0],i.blockedOn===null);)GO(i),i.blockedOn===null&&ba.shift()}var Ou=Vs.ReactCurrentBatchConfig,Gm=!0;function KW(n,t,i,o){var c=Gt,u=Ou.transition;Ou.transition=null;try{Gt=1,S_(n,t,i,o)}finally{Gt=c,Ou.transition=u}}function qW(n,t,i,o){var c=Gt,u=Ou.transition;Ou.transition=null;try{Gt=4,S_(n,t,i,o)}finally{Gt=c,Ou.transition=u}}function S_(n,t,i,o){if(Gm){var c=F0(n,t,i,o);if(c===null)my(n,t,o,Km,i),B2(n,o);else if(WW(c,n,t,i,o))o.stopPropagation();else if(B2(n,o),t&4&&-1<HW.indexOf(n)){for(;c!==null;){var u=Yf(c);if(u!==null&&VO(u),u=F0(n,t,i,o),u===null&&my(n,t,o,Km,i),u===c)break;c=u}c!==null&&o.stopPropagation()}else my(n,t,o,null,i)}}var Km=null;function F0(n,t,i,o){if(Km=null,n=A_(o),n=Gl(n),n!==null)if(t=kc(n),t===null)n=null;else if(i=t.tag,i===13){if(n=NO(t),n!==null)return n;n=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return Km=n,null}function KO(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OW()){case __:return 1;case BO:return 4;case Hm:case PW:return 16;case FO:return 536870912;default:return 16}default:return 16}}var xa=null,x_=null,vm=null;function qO(){if(vm)return vm;var n,t=x_,i=t.length,o,c="value"in xa?xa.value:xa.textContent,u=c.length;for(n=0;n<i&&t[n]===c[n];n++);var h=i-n;for(o=1;o<=h&&t[i-o]===c[u-o];o++);return vm=c.slice(n,1<o?1-o:void 0)}function wm(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Ug(){return!0}function z2(){return!1}function yr(n){function t(i,o,c,u,h){this._reactName=i,this._targetInst=c,this.type=o,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(i=n[b],this[b]=i?i(u):u[b]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ug:z2,this.isPropagationStopped=z2,this}return vn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ug)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ug)},persist:function(){},isPersistent:Ug}),t}var gd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T_=yr(gd),Qf=vn({},gd,{view:0,detail:0}),QW=yr(Qf),ay,ly,Ch,ew=vn({},Qf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D_,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ch&&(Ch&&n.type==="mousemove"?(ay=n.screenX-Ch.screenX,ly=n.screenY-Ch.screenY):ly=ay=0,Ch=n),ay)},movementY:function(n){return"movementY"in n?n.movementY:ly}}),j2=yr(ew),YW=vn({},ew,{dataTransfer:0}),ZW=yr(YW),JW=vn({},Qf,{relatedTarget:0}),cy=yr(JW),XW=vn({},gd,{animationName:0,elapsedTime:0,pseudoElement:0}),e8=yr(XW),t8=vn({},gd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),n8=yr(t8),i8=vn({},gd,{data:0}),V2=yr(i8),r8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a8(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=s8[n])?!!t[n]:!1}function D_(){return a8}var l8=vn({},Qf,{key:function(n){if(n.key){var t=r8[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=wm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?o8[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D_,charCode:function(n){return n.type==="keypress"?wm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?wm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),c8=yr(l8),u8=vn({},ew,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U2=yr(u8),d8=vn({},Qf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D_}),h8=yr(d8),f8=vn({},gd,{propertyName:0,elapsedTime:0,pseudoElement:0}),p8=yr(f8),g8=vn({},ew,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),m8=yr(g8),v8=[9,13,27,32],I_=Rs&&"CompositionEvent"in window,Gh=null;Rs&&"documentMode"in document&&(Gh=document.documentMode);var w8=Rs&&"TextEvent"in window&&!Gh,QO=Rs&&(!I_||Gh&&8<Gh&&11>=Gh),H2=String.fromCharCode(32),W2=!1;function YO(n,t){switch(n){case"keyup":return v8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZO(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ku=!1;function k8(n,t){switch(n){case"compositionend":return ZO(t);case"keypress":return t.which!==32?null:(W2=!0,H2);case"textInput":return n=t.data,n===H2&&W2?null:n;default:return null}}function b8(n,t){if(ku)return n==="compositionend"||!I_&&YO(n,t)?(n=qO(),vm=x_=xa=null,ku=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return QO&&t.locale!=="ko"?null:t.data;default:return null}}var y8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G2(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!y8[n.type]:t==="textarea"}function JO(n,t,i,o){DO(o),t=qm(t,"onChange"),0<t.length&&(i=new T_("onChange","change",null,i,o),n.push({event:i,listeners:t}))}var Kh=null,gf=null;function A8(n){cP(n,0)}function tw(n){var t=Au(n);if(AO(t))return n}function _8(n,t){if(n==="change")return t}var XO=!1;if(Rs){var uy;if(Rs){var dy="oninput"in document;if(!dy){var K2=document.createElement("div");K2.setAttribute("oninput","return;"),dy=typeof K2.oninput=="function"}uy=dy}else uy=!1;XO=uy&&(!document.documentMode||9<document.documentMode)}function q2(){Kh&&(Kh.detachEvent("onpropertychange",eP),gf=Kh=null)}function eP(n){if(n.propertyName==="value"&&tw(gf)){var t=[];JO(t,gf,n,A_(n)),RO(A8,t)}}function C8(n,t,i){n==="focusin"?(q2(),Kh=t,gf=i,Kh.attachEvent("onpropertychange",eP)):n==="focusout"&&q2()}function E8(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tw(gf)}function S8(n,t){if(n==="click")return tw(t)}function x8(n,t){if(n==="input"||n==="change")return tw(t)}function T8(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var lo=typeof Object.is=="function"?Object.is:T8;function mf(n,t){if(lo(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var i=Object.keys(n),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var c=i[o];if(!y0.call(t,c)||!lo(n[c],t[c]))return!1}return!0}function Q2(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Y2(n,t){var i=Q2(n);n=0;for(var o;i;){if(i.nodeType===3){if(o=n+i.textContent.length,n<=t&&o>=t)return{node:i,offset:t-n};n=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Q2(i)}}function tP(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?tP(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function nP(){for(var n=window,t=jm();t instanceof n.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)n=t.contentWindow;else break;t=jm(n.document)}return t}function M_(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function D8(n){var t=nP(),i=n.focusedElem,o=n.selectionRange;if(t!==i&&i&&i.ownerDocument&&tP(i.ownerDocument.documentElement,i)){if(o!==null&&M_(i)){if(t=o.start,n=o.end,n===void 0&&(n=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(n,i.value.length);else if(n=(t=i.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var c=i.textContent.length,u=Math.min(o.start,c);o=o.end===void 0?u:Math.min(o.end,c),!n.extend&&u>o&&(c=o,o=u,u=c),c=Y2(i,u);var h=Y2(i,o);c&&h&&(n.rangeCount!==1||n.anchorNode!==c.node||n.anchorOffset!==c.offset||n.focusNode!==h.node||n.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),n.removeAllRanges(),u>o?(n.addRange(t),n.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),n.addRange(t)))}}for(t=[],n=i;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)n=t[i],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var I8=Rs&&"documentMode"in document&&11>=document.documentMode,bu=null,z0=null,qh=null,j0=!1;function Z2(n,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;j0||bu==null||bu!==jm(o)||(o=bu,"selectionStart"in o&&M_(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qh&&mf(qh,o)||(qh=o,o=qm(z0,"onSelect"),0<o.length&&(t=new T_("onSelect","select",null,t,i),n.push({event:t,listeners:o}),t.target=bu)))}function Hg(n,t){var i={};return i[n.toLowerCase()]=t.toLowerCase(),i["Webkit"+n]="webkit"+t,i["Moz"+n]="moz"+t,i}var yu={animationend:Hg("Animation","AnimationEnd"),animationiteration:Hg("Animation","AnimationIteration"),animationstart:Hg("Animation","AnimationStart"),transitionend:Hg("Transition","TransitionEnd")},hy={},iP={};Rs&&(iP=document.createElement("div").style,"AnimationEvent"in window||(delete yu.animationend.animation,delete yu.animationiteration.animation,delete yu.animationstart.animation),"TransitionEvent"in window||delete yu.transitionend.transition);function nw(n){if(hy[n])return hy[n];if(!yu[n])return n;var t=yu[n],i;for(i in t)if(t.hasOwnProperty(i)&&i in iP)return hy[n]=t[i];return n}var rP=nw("animationend"),oP=nw("animationiteration"),sP=nw("animationstart"),aP=nw("transitionend"),lP=new Map,J2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Za(n,t){lP.set(n,t),wc(t,[n])}for(var fy=0;fy<J2.length;fy++){var py=J2[fy],M8=py.toLowerCase(),L8=py[0].toUpperCase()+py.slice(1);Za(M8,"on"+L8)}Za(rP,"onAnimationEnd");Za(oP,"onAnimationIteration");Za(sP,"onAnimationStart");Za("dblclick","onDoubleClick");Za("focusin","onFocus");Za("focusout","onBlur");Za(aP,"onTransitionEnd");Ku("onMouseEnter",["mouseout","mouseover"]);Ku("onMouseLeave",["mouseout","mouseover"]);Ku("onPointerEnter",["pointerout","pointerover"]);Ku("onPointerLeave",["pointerout","pointerover"]);wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ph));function X2(n,t,i){var o=n.type||"unknown-event";n.currentTarget=i,MW(o,t,void 0,n),n.currentTarget=null}function cP(n,t){t=(t&4)!==0;for(var i=0;i<n.length;i++){var o=n[i],c=o.event;o=o.listeners;e:{var u=void 0;if(t)for(var h=o.length-1;0<=h;h--){var b=o[h],f=b.instance,w=b.currentTarget;if(b=b.listener,f!==u&&c.isPropagationStopped())break e;X2(c,b,w),u=f}else for(h=0;h<o.length;h++){if(b=o[h],f=b.instance,w=b.currentTarget,b=b.listener,f!==u&&c.isPropagationStopped())break e;X2(c,b,w),u=f}}}if(Um)throw n=P0,Um=!1,P0=null,n}function on(n,t){var i=t[G0];i===void 0&&(i=t[G0]=new Set);var o=n+"__bubble";i.has(o)||(uP(t,n,2,!1),i.add(o))}function gy(n,t,i){var o=0;t&&(o|=4),uP(i,n,o,t)}var Wg="_reactListening"+Math.random().toString(36).slice(2);function vf(n){if(!n[Wg]){n[Wg]=!0,vO.forEach(function(i){i!=="selectionchange"&&(R8.has(i)||gy(i,!1,n),gy(i,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[Wg]||(t[Wg]=!0,gy("selectionchange",!1,t))}}function uP(n,t,i,o){switch(KO(t)){case 1:var c=KW;break;case 4:c=qW;break;default:c=S_}i=c.bind(null,t,i,n),c=void 0,!O0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?n.addEventListener(t,i,{capture:!0,passive:c}):n.addEventListener(t,i,!0):c!==void 0?n.addEventListener(t,i,{passive:c}):n.addEventListener(t,i,!1)}function my(n,t,i,o,c){var u=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var h=o.tag;if(h===3||h===4){var b=o.stateNode.containerInfo;if(b===c||b.nodeType===8&&b.parentNode===c)break;if(h===4)for(h=o.return;h!==null;){var f=h.tag;if((f===3||f===4)&&(f=h.stateNode.containerInfo,f===c||f.nodeType===8&&f.parentNode===c))return;h=h.return}for(;b!==null;){if(h=Gl(b),h===null)return;if(f=h.tag,f===5||f===6){o=u=h;continue e}b=b.parentNode}}o=o.return}RO(function(){var w=u,p=A_(i),v=[];e:{var g=lP.get(n);if(g!==void 0){var k=T_,A=n;switch(n){case"keypress":if(wm(i)===0)break e;case"keydown":case"keyup":k=c8;break;case"focusin":A="focus",k=cy;break;case"focusout":A="blur",k=cy;break;case"beforeblur":case"afterblur":k=cy;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=j2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=ZW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=h8;break;case rP:case oP:case sP:k=e8;break;case aP:k=p8;break;case"scroll":k=QW;break;case"wheel":k=m8;break;case"copy":case"cut":case"paste":k=n8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=U2}var _=(t&4)!==0,E=!_&&n==="scroll",x=_?g!==null?g+"Capture":null:g;_=[];for(var D=w,O;D!==null;){O=D;var B=O.stateNode;if(O.tag===5&&B!==null&&(O=B,x!==null&&(B=df(D,x),B!=null&&_.push(wf(D,B,O)))),E)break;D=D.return}0<_.length&&(g=new k(g,A,null,i,p),v.push({event:g,listeners:_}))}}if(!(t&7)){e:{if(g=n==="mouseover"||n==="pointerover",k=n==="mouseout"||n==="pointerout",g&&i!==R0&&(A=i.relatedTarget||i.fromElement)&&(Gl(A)||A[Ns]))break e;if((k||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,k?(A=i.relatedTarget||i.toElement,k=w,A=A?Gl(A):null,A!==null&&(E=kc(A),A!==E||A.tag!==5&&A.tag!==6)&&(A=null)):(k=null,A=w),k!==A)){if(_=j2,B="onMouseLeave",x="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(_=U2,B="onPointerLeave",x="onPointerEnter",D="pointer"),E=k==null?g:Au(k),O=A==null?g:Au(A),g=new _(B,D+"leave",k,i,p),g.target=E,g.relatedTarget=O,B=null,Gl(p)===w&&(_=new _(x,D+"enter",A,i,p),_.target=O,_.relatedTarget=E,B=_),E=B,k&&A)t:{for(_=k,x=A,D=0,O=_;O;O=cu(O))D++;for(O=0,B=x;B;B=cu(B))O++;for(;0<D-O;)_=cu(_),D--;for(;0<O-D;)x=cu(x),O--;for(;D--;){if(_===x||x!==null&&_===x.alternate)break t;_=cu(_),x=cu(x)}_=null}else _=null;k!==null&&eL(v,g,k,_,!1),A!==null&&E!==null&&eL(v,E,A,_,!0)}}e:{if(g=w?Au(w):window,k=g.nodeName&&g.nodeName.toLowerCase(),k==="select"||k==="input"&&g.type==="file")var I=_8;else if(G2(g))if(XO)I=x8;else{I=E8;var R=C8}else(k=g.nodeName)&&k.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(I=S8);if(I&&(I=I(n,w))){JO(v,I,i,p);break e}R&&R(n,g,w),n==="focusout"&&(R=g._wrapperState)&&R.controlled&&g.type==="number"&&T0(g,"number",g.value)}switch(R=w?Au(w):window,n){case"focusin":(G2(R)||R.contentEditable==="true")&&(bu=R,z0=w,qh=null);break;case"focusout":qh=z0=bu=null;break;case"mousedown":j0=!0;break;case"contextmenu":case"mouseup":case"dragend":j0=!1,Z2(v,i,p);break;case"selectionchange":if(I8)break;case"keydown":case"keyup":Z2(v,i,p)}var j;if(I_)e:{switch(n){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ku?YO(n,i)&&(N="onCompositionEnd"):n==="keydown"&&i.keyCode===229&&(N="onCompositionStart");N&&(QO&&i.locale!=="ko"&&(ku||N!=="onCompositionStart"?N==="onCompositionEnd"&&ku&&(j=qO()):(xa=p,x_="value"in xa?xa.value:xa.textContent,ku=!0)),R=qm(w,N),0<R.length&&(N=new V2(N,n,null,i,p),v.push({event:N,listeners:R}),j?N.data=j:(j=ZO(i),j!==null&&(N.data=j)))),(j=w8?k8(n,i):b8(n,i))&&(w=qm(w,"onBeforeInput"),0<w.length&&(p=new V2("onBeforeInput","beforeinput",null,i,p),v.push({event:p,listeners:w}),p.data=j))}cP(v,t)})}function wf(n,t,i){return{instance:n,listener:t,currentTarget:i}}function qm(n,t){for(var i=t+"Capture",o=[];n!==null;){var c=n,u=c.stateNode;c.tag===5&&u!==null&&(c=u,u=df(n,i),u!=null&&o.unshift(wf(n,u,c)),u=df(n,t),u!=null&&o.push(wf(n,u,c))),n=n.return}return o}function cu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function eL(n,t,i,o,c){for(var u=t._reactName,h=[];i!==null&&i!==o;){var b=i,f=b.alternate,w=b.stateNode;if(f!==null&&f===o)break;b.tag===5&&w!==null&&(b=w,c?(f=df(i,u),f!=null&&h.unshift(wf(i,f,b))):c||(f=df(i,u),f!=null&&h.push(wf(i,f,b)))),i=i.return}h.length!==0&&n.push({event:t,listeners:h})}var N8=/\r\n?/g,O8=/\u0000|\uFFFD/g;function tL(n){return(typeof n=="string"?n:""+n).replace(N8,`
`).replace(O8,"")}function Gg(n,t,i){if(t=tL(t),tL(n)!==t&&i)throw Error(Le(425))}function Qm(){}var V0=null,U0=null;function H0(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var W0=typeof setTimeout=="function"?setTimeout:void 0,P8=typeof clearTimeout=="function"?clearTimeout:void 0,nL=typeof Promise=="function"?Promise:void 0,$8=typeof queueMicrotask=="function"?queueMicrotask:typeof nL<"u"?function(n){return nL.resolve(null).then(n).catch(B8)}:W0;function B8(n){setTimeout(function(){throw n})}function vy(n,t){var i=t,o=0;do{var c=i.nextSibling;if(n.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(o===0){n.removeChild(c),pf(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=c}while(i);pf(t)}function Pa(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function iL(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var i=n.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return n;t--}else i==="/$"&&t++}n=n.previousSibling}return null}var md=Math.random().toString(36).slice(2),Wo="__reactFiber$"+md,kf="__reactProps$"+md,Ns="__reactContainer$"+md,G0="__reactEvents$"+md,F8="__reactListeners$"+md,z8="__reactHandles$"+md;function Gl(n){var t=n[Wo];if(t)return t;for(var i=n.parentNode;i;){if(t=i[Ns]||i[Wo]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(n=iL(n);n!==null;){if(i=n[Wo])return i;n=iL(n)}return t}n=i,i=n.parentNode}return null}function Yf(n){return n=n[Wo]||n[Ns],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Au(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Le(33))}function iw(n){return n[kf]||null}var K0=[],_u=-1;function Ja(n){return{current:n}}function an(n){0>_u||(n.current=K0[_u],K0[_u]=null,_u--)}function nn(n,t){_u++,K0[_u]=n.current,n.current=t}var Ka={},Ni=Ja(Ka),or=Ja(!1),oc=Ka;function qu(n,t){var i=n.type.contextTypes;if(!i)return Ka;var o=n.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var c={},u;for(u in i)c[u]=t[u];return o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=c),c}function sr(n){return n=n.childContextTypes,n!=null}function Ym(){an(or),an(Ni)}function rL(n,t,i){if(Ni.current!==Ka)throw Error(Le(168));nn(Ni,t),nn(or,i)}function dP(n,t,i){var o=n.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var c in o)if(!(c in t))throw Error(Le(108,CW(n)||"Unknown",c));return vn({},i,o)}function Zm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ka,oc=Ni.current,nn(Ni,n),nn(or,or.current),!0}function oL(n,t,i){var o=n.stateNode;if(!o)throw Error(Le(169));i?(n=dP(n,t,oc),o.__reactInternalMemoizedMergedChildContext=n,an(or),an(Ni),nn(Ni,n)):an(or),nn(or,i)}var ys=null,rw=!1,wy=!1;function hP(n){ys===null?ys=[n]:ys.push(n)}function j8(n){rw=!0,hP(n)}function Xa(){if(!wy&&ys!==null){wy=!0;var n=0,t=Gt;try{var i=ys;for(Gt=1;n<i.length;n++){var o=i[n];do o=o(!0);while(o!==null)}ys=null,rw=!1}catch(c){throw ys!==null&&(ys=ys.slice(n+1)),$O(__,Xa),c}finally{Gt=t,wy=!1}}return null}var Cu=[],Eu=0,Jm=null,Xm=0,Mr=[],Lr=0,sc=null,_s=1,Cs="";function zl(n,t){Cu[Eu++]=Xm,Cu[Eu++]=Jm,Jm=n,Xm=t}function fP(n,t,i){Mr[Lr++]=_s,Mr[Lr++]=Cs,Mr[Lr++]=sc,sc=n;var o=_s;n=Cs;var c=32-oo(o)-1;o&=~(1<<c),i+=1;var u=32-oo(t)+c;if(30<u){var h=c-c%5;u=(o&(1<<h)-1).toString(32),o>>=h,c-=h,_s=1<<32-oo(t)+c|i<<c|o,Cs=u+n}else _s=1<<u|i<<c|o,Cs=n}function L_(n){n.return!==null&&(zl(n,1),fP(n,1,0))}function R_(n){for(;n===Jm;)Jm=Cu[--Eu],Cu[Eu]=null,Xm=Cu[--Eu],Cu[Eu]=null;for(;n===sc;)sc=Mr[--Lr],Mr[Lr]=null,Cs=Mr[--Lr],Mr[Lr]=null,_s=Mr[--Lr],Mr[Lr]=null}var vr=null,gr=null,dn=!1,no=null;function pP(n,t){var i=Nr(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=n,t=n.deletions,t===null?(n.deletions=[i],n.flags|=16):t.push(i)}function sL(n,t){switch(n.tag){case 5:var i=n.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,vr=n,gr=Pa(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,vr=n,gr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=sc!==null?{id:_s,overflow:Cs}:null,n.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Nr(18,null,null,0),i.stateNode=t,i.return=n,n.child=i,vr=n,gr=null,!0):!1;default:return!1}}function q0(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Q0(n){if(dn){var t=gr;if(t){var i=t;if(!sL(n,t)){if(q0(n))throw Error(Le(418));t=Pa(i.nextSibling);var o=vr;t&&sL(n,t)?pP(o,i):(n.flags=n.flags&-4097|2,dn=!1,vr=n)}}else{if(q0(n))throw Error(Le(418));n.flags=n.flags&-4097|2,dn=!1,vr=n}}}function aL(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;vr=n}function Kg(n){if(n!==vr)return!1;if(!dn)return aL(n),dn=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!H0(n.type,n.memoizedProps)),t&&(t=gr)){if(q0(n))throw gP(),Error(Le(418));for(;t;)pP(n,t),t=Pa(t.nextSibling)}if(aL(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Le(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var i=n.data;if(i==="/$"){if(t===0){gr=Pa(n.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}n=n.nextSibling}gr=null}}else gr=vr?Pa(n.stateNode.nextSibling):null;return!0}function gP(){for(var n=gr;n;)n=Pa(n.nextSibling)}function Qu(){gr=vr=null,dn=!1}function N_(n){no===null?no=[n]:no.push(n)}var V8=Vs.ReactCurrentBatchConfig;function eo(n,t){if(n&&n.defaultProps){t=vn({},t),n=n.defaultProps;for(var i in n)t[i]===void 0&&(t[i]=n[i]);return t}return t}var ev=Ja(null),tv=null,Su=null,O_=null;function P_(){O_=Su=tv=null}function $_(n){var t=ev.current;an(ev),n._currentValue=t}function Y0(n,t,i){for(;n!==null;){var o=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),n===i)break;n=n.return}}function Pu(n,t){tv=n,O_=Su=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(rr=!0),n.firstContext=null)}function $r(n){var t=n._currentValue;if(O_!==n)if(n={context:n,memoizedValue:t,next:null},Su===null){if(tv===null)throw Error(Le(308));Su=n,tv.dependencies={lanes:0,firstContext:n}}else Su=Su.next=n;return t}var Kl=null;function B_(n){Kl===null?Kl=[n]:Kl.push(n)}function mP(n,t,i,o){var c=t.interleaved;return c===null?(i.next=i,B_(t)):(i.next=c.next,c.next=i),t.interleaved=i,Os(n,o)}function Os(n,t){n.lanes|=t;var i=n.alternate;for(i!==null&&(i.lanes|=t),i=n,n=n.return;n!==null;)n.childLanes|=t,i=n.alternate,i!==null&&(i.childLanes|=t),i=n,n=n.return;return i.tag===3?i.stateNode:null}var wa=!1;function F_(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vP(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Is(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function $a(n,t,i){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,Lt&2){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,Os(n,i)}return c=o.interleaved,c===null?(t.next=t,B_(o)):(t.next=c.next,c.next=t),o.interleaved=t,Os(n,i)}function km(n,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=n.pendingLanes,i|=o,t.lanes=i,C_(n,i)}}function lL(n,t){var i=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var c=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var h={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};u===null?c=u=h:u=u.next=h,i=i.next}while(i!==null);u===null?c=u=t:u=u.next=t}else c=u=t;i={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:o.shared,effects:o.effects},n.updateQueue=i;return}n=i.lastBaseUpdate,n===null?i.firstBaseUpdate=t:n.next=t,i.lastBaseUpdate=t}function nv(n,t,i,o){var c=n.updateQueue;wa=!1;var u=c.firstBaseUpdate,h=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var f=b,w=f.next;f.next=null,h===null?u=w:h.next=w,h=f;var p=n.alternate;p!==null&&(p=p.updateQueue,b=p.lastBaseUpdate,b!==h&&(b===null?p.firstBaseUpdate=w:b.next=w,p.lastBaseUpdate=f))}if(u!==null){var v=c.baseState;h=0,p=w=f=null,b=u;do{var g=b.lane,k=b.eventTime;if((o&g)===g){p!==null&&(p=p.next={eventTime:k,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var A=n,_=b;switch(g=t,k=i,_.tag){case 1:if(A=_.payload,typeof A=="function"){v=A.call(k,v,g);break e}v=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=_.payload,g=typeof A=="function"?A.call(k,v,g):A,g==null)break e;v=vn({},v,g);break e;case 2:wa=!0}}b.callback!==null&&b.lane!==0&&(n.flags|=64,g=c.effects,g===null?c.effects=[b]:g.push(b))}else k={eventTime:k,lane:g,tag:b.tag,payload:b.payload,callback:b.callback,next:null},p===null?(w=p=k,f=v):p=p.next=k,h|=g;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;g=b,b=g.next,g.next=null,c.lastBaseUpdate=g,c.shared.pending=null}}while(1);if(p===null&&(f=v),c.baseState=f,c.firstBaseUpdate=w,c.lastBaseUpdate=p,t=c.shared.interleaved,t!==null){c=t;do h|=c.lane,c=c.next;while(c!==t)}else u===null&&(c.shared.lanes=0);lc|=h,n.lanes=h,n.memoizedState=v}}function cL(n,t,i){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var o=n[t],c=o.callback;if(c!==null){if(o.callback=null,o=i,typeof c!="function")throw Error(Le(191,c));c.call(o)}}}var wP=new mO.Component().refs;function Z0(n,t,i,o){t=n.memoizedState,i=i(o,t),i=i==null?t:vn({},t,i),n.memoizedState=i,n.lanes===0&&(n.updateQueue.baseState=i)}var ow={isMounted:function(n){return(n=n._reactInternals)?kc(n)===n:!1},enqueueSetState:function(n,t,i){n=n._reactInternals;var o=Wi(),c=Fa(n),u=Is(o,c);u.payload=t,i!=null&&(u.callback=i),t=$a(n,u,c),t!==null&&(so(t,n,c,o),km(t,n,c))},enqueueReplaceState:function(n,t,i){n=n._reactInternals;var o=Wi(),c=Fa(n),u=Is(o,c);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=$a(n,u,c),t!==null&&(so(t,n,c,o),km(t,n,c))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var i=Wi(),o=Fa(n),c=Is(i,o);c.tag=2,t!=null&&(c.callback=t),t=$a(n,c,o),t!==null&&(so(t,n,o,i),km(t,n,o))}};function uL(n,t,i,o,c,u,h){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,u,h):t.prototype&&t.prototype.isPureReactComponent?!mf(i,o)||!mf(c,u):!0}function kP(n,t,i){var o=!1,c=Ka,u=t.contextType;return typeof u=="object"&&u!==null?u=$r(u):(c=sr(t)?oc:Ni.current,o=t.contextTypes,u=(o=o!=null)?qu(n,c):Ka),t=new t(i,u),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ow,n.stateNode=t,t._reactInternals=n,o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=c,n.__reactInternalMemoizedMaskedChildContext=u),t}function dL(n,t,i,o){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==n&&ow.enqueueReplaceState(t,t.state,null)}function J0(n,t,i,o){var c=n.stateNode;c.props=i,c.state=n.memoizedState,c.refs=wP,F_(n);var u=t.contextType;typeof u=="object"&&u!==null?c.context=$r(u):(u=sr(t)?oc:Ni.current,c.context=qu(n,u)),c.state=n.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Z0(n,t,u,i),c.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&ow.enqueueReplaceState(c,c.state,null),nv(n,i,c,o),c.state=n.memoizedState),typeof c.componentDidMount=="function"&&(n.flags|=4194308)}function Eh(n,t,i){if(n=i.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Le(309));var o=i.stateNode}if(!o)throw Error(Le(147,n));var c=o,u=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(h){var b=c.refs;b===wP&&(b=c.refs={}),h===null?delete b[u]:b[u]=h},t._stringRef=u,t)}if(typeof n!="string")throw Error(Le(284));if(!i._owner)throw Error(Le(290,n))}return n}function qg(n,t){throw n=Object.prototype.toString.call(t),Error(Le(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function hL(n){var t=n._init;return t(n._payload)}function bP(n){function t(x,D){if(n){var O=x.deletions;O===null?(x.deletions=[D],x.flags|=16):O.push(D)}}function i(x,D){if(!n)return null;for(;D!==null;)t(x,D),D=D.sibling;return null}function o(x,D){for(x=new Map;D!==null;)D.key!==null?x.set(D.key,D):x.set(D.index,D),D=D.sibling;return x}function c(x,D){return x=za(x,D),x.index=0,x.sibling=null,x}function u(x,D,O){return x.index=O,n?(O=x.alternate,O!==null?(O=O.index,O<D?(x.flags|=2,D):O):(x.flags|=2,D)):(x.flags|=1048576,D)}function h(x){return n&&x.alternate===null&&(x.flags|=2),x}function b(x,D,O,B){return D===null||D.tag!==6?(D=Ey(O,x.mode,B),D.return=x,D):(D=c(D,O),D.return=x,D)}function f(x,D,O,B){var I=O.type;return I===wu?p(x,D,O.props.children,B,O.key):D!==null&&(D.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===va&&hL(I)===D.type)?(B=c(D,O.props),B.ref=Eh(x,D,O),B.return=x,B):(B=Em(O.type,O.key,O.props,null,x.mode,B),B.ref=Eh(x,D,O),B.return=x,B)}function w(x,D,O,B){return D===null||D.tag!==4||D.stateNode.containerInfo!==O.containerInfo||D.stateNode.implementation!==O.implementation?(D=Sy(O,x.mode,B),D.return=x,D):(D=c(D,O.children||[]),D.return=x,D)}function p(x,D,O,B,I){return D===null||D.tag!==7?(D=ec(O,x.mode,B,I),D.return=x,D):(D=c(D,O),D.return=x,D)}function v(x,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Ey(""+D,x.mode,O),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case $g:return O=Em(D.type,D.key,D.props,null,x.mode,O),O.ref=Eh(x,null,D),O.return=x,O;case vu:return D=Sy(D,x.mode,O),D.return=x,D;case va:var B=D._init;return v(x,B(D._payload),O)}if(Nh(D)||bh(D))return D=ec(D,x.mode,O,null),D.return=x,D;qg(x,D)}return null}function g(x,D,O,B){var I=D!==null?D.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return I!==null?null:b(x,D,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case $g:return O.key===I?f(x,D,O,B):null;case vu:return O.key===I?w(x,D,O,B):null;case va:return I=O._init,g(x,D,I(O._payload),B)}if(Nh(O)||bh(O))return I!==null?null:p(x,D,O,B,null);qg(x,O)}return null}function k(x,D,O,B,I){if(typeof B=="string"&&B!==""||typeof B=="number")return x=x.get(O)||null,b(D,x,""+B,I);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case $g:return x=x.get(B.key===null?O:B.key)||null,f(D,x,B,I);case vu:return x=x.get(B.key===null?O:B.key)||null,w(D,x,B,I);case va:var R=B._init;return k(x,D,O,R(B._payload),I)}if(Nh(B)||bh(B))return x=x.get(O)||null,p(D,x,B,I,null);qg(D,B)}return null}function A(x,D,O,B){for(var I=null,R=null,j=D,N=D=0,P=null;j!==null&&N<O.length;N++){j.index>N?(P=j,j=null):P=j.sibling;var F=g(x,j,O[N],B);if(F===null){j===null&&(j=P);break}n&&j&&F.alternate===null&&t(x,j),D=u(F,D,N),R===null?I=F:R.sibling=F,R=F,j=P}if(N===O.length)return i(x,j),dn&&zl(x,N),I;if(j===null){for(;N<O.length;N++)j=v(x,O[N],B),j!==null&&(D=u(j,D,N),R===null?I=j:R.sibling=j,R=j);return dn&&zl(x,N),I}for(j=o(x,j);N<O.length;N++)P=k(j,x,N,O[N],B),P!==null&&(n&&P.alternate!==null&&j.delete(P.key===null?N:P.key),D=u(P,D,N),R===null?I=P:R.sibling=P,R=P);return n&&j.forEach(function(T){return t(x,T)}),dn&&zl(x,N),I}function _(x,D,O,B){var I=bh(O);if(typeof I!="function")throw Error(Le(150));if(O=I.call(O),O==null)throw Error(Le(151));for(var R=I=null,j=D,N=D=0,P=null,F=O.next();j!==null&&!F.done;N++,F=O.next()){j.index>N?(P=j,j=null):P=j.sibling;var T=g(x,j,F.value,B);if(T===null){j===null&&(j=P);break}n&&j&&T.alternate===null&&t(x,j),D=u(T,D,N),R===null?I=T:R.sibling=T,R=T,j=P}if(F.done)return i(x,j),dn&&zl(x,N),I;if(j===null){for(;!F.done;N++,F=O.next())F=v(x,F.value,B),F!==null&&(D=u(F,D,N),R===null?I=F:R.sibling=F,R=F);return dn&&zl(x,N),I}for(j=o(x,j);!F.done;N++,F=O.next())F=k(j,x,N,F.value,B),F!==null&&(n&&F.alternate!==null&&j.delete(F.key===null?N:F.key),D=u(F,D,N),R===null?I=F:R.sibling=F,R=F);return n&&j.forEach(function(L){return t(x,L)}),dn&&zl(x,N),I}function E(x,D,O,B){if(typeof O=="object"&&O!==null&&O.type===wu&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case $g:e:{for(var I=O.key,R=D;R!==null;){if(R.key===I){if(I=O.type,I===wu){if(R.tag===7){i(x,R.sibling),D=c(R,O.props.children),D.return=x,x=D;break e}}else if(R.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===va&&hL(I)===R.type){i(x,R.sibling),D=c(R,O.props),D.ref=Eh(x,R,O),D.return=x,x=D;break e}i(x,R);break}else t(x,R);R=R.sibling}O.type===wu?(D=ec(O.props.children,x.mode,B,O.key),D.return=x,x=D):(B=Em(O.type,O.key,O.props,null,x.mode,B),B.ref=Eh(x,D,O),B.return=x,x=B)}return h(x);case vu:e:{for(R=O.key;D!==null;){if(D.key===R)if(D.tag===4&&D.stateNode.containerInfo===O.containerInfo&&D.stateNode.implementation===O.implementation){i(x,D.sibling),D=c(D,O.children||[]),D.return=x,x=D;break e}else{i(x,D);break}else t(x,D);D=D.sibling}D=Sy(O,x.mode,B),D.return=x,x=D}return h(x);case va:return R=O._init,E(x,D,R(O._payload),B)}if(Nh(O))return A(x,D,O,B);if(bh(O))return _(x,D,O,B);qg(x,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,D!==null&&D.tag===6?(i(x,D.sibling),D=c(D,O),D.return=x,x=D):(i(x,D),D=Ey(O,x.mode,B),D.return=x,x=D),h(x)):i(x,D)}return E}var Yu=bP(!0),yP=bP(!1),Zf={},Zo=Ja(Zf),bf=Ja(Zf),yf=Ja(Zf);function ql(n){if(n===Zf)throw Error(Le(174));return n}function z_(n,t){switch(nn(yf,t),nn(bf,n),nn(Zo,Zf),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:I0(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=I0(t,n)}an(Zo),nn(Zo,t)}function Zu(){an(Zo),an(bf),an(yf)}function AP(n){ql(yf.current);var t=ql(Zo.current),i=I0(t,n.type);t!==i&&(nn(bf,n),nn(Zo,i))}function j_(n){bf.current===n&&(an(Zo),an(bf))}var gn=Ja(0);function iv(n){for(var t=n;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ky=[];function V_(){for(var n=0;n<ky.length;n++)ky[n]._workInProgressVersionPrimary=null;ky.length=0}var bm=Vs.ReactCurrentDispatcher,by=Vs.ReactCurrentBatchConfig,ac=0,mn=null,Hn=null,ti=null,rv=!1,Qh=!1,Af=0,U8=0;function _i(){throw Error(Le(321))}function U_(n,t){if(t===null)return!1;for(var i=0;i<t.length&&i<n.length;i++)if(!lo(n[i],t[i]))return!1;return!0}function H_(n,t,i,o,c,u){if(ac=u,mn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bm.current=n===null||n.memoizedState===null?K8:q8,n=i(o,c),Qh){u=0;do{if(Qh=!1,Af=0,25<=u)throw Error(Le(301));u+=1,ti=Hn=null,t.updateQueue=null,bm.current=Q8,n=i(o,c)}while(Qh)}if(bm.current=ov,t=Hn!==null&&Hn.next!==null,ac=0,ti=Hn=mn=null,rv=!1,t)throw Error(Le(300));return n}function W_(){var n=Af!==0;return Af=0,n}function Vo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?mn.memoizedState=ti=n:ti=ti.next=n,ti}function Br(){if(Hn===null){var n=mn.alternate;n=n!==null?n.memoizedState:null}else n=Hn.next;var t=ti===null?mn.memoizedState:ti.next;if(t!==null)ti=t,Hn=n;else{if(n===null)throw Error(Le(310));Hn=n,n={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},ti===null?mn.memoizedState=ti=n:ti=ti.next=n}return ti}function _f(n,t){return typeof t=="function"?t(n):t}function yy(n){var t=Br(),i=t.queue;if(i===null)throw Error(Le(311));i.lastRenderedReducer=n;var o=Hn,c=o.baseQueue,u=i.pending;if(u!==null){if(c!==null){var h=c.next;c.next=u.next,u.next=h}o.baseQueue=c=u,i.pending=null}if(c!==null){u=c.next,o=o.baseState;var b=h=null,f=null,w=u;do{var p=w.lane;if((ac&p)===p)f!==null&&(f=f.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),o=w.hasEagerState?w.eagerState:n(o,w.action);else{var v={lane:p,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};f===null?(b=f=v,h=o):f=f.next=v,mn.lanes|=p,lc|=p}w=w.next}while(w!==null&&w!==u);f===null?h=o:f.next=b,lo(o,t.memoizedState)||(rr=!0),t.memoizedState=o,t.baseState=h,t.baseQueue=f,i.lastRenderedState=o}if(n=i.interleaved,n!==null){c=n;do u=c.lane,mn.lanes|=u,lc|=u,c=c.next;while(c!==n)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ay(n){var t=Br(),i=t.queue;if(i===null)throw Error(Le(311));i.lastRenderedReducer=n;var o=i.dispatch,c=i.pending,u=t.memoizedState;if(c!==null){i.pending=null;var h=c=c.next;do u=n(u,h.action),h=h.next;while(h!==c);lo(u,t.memoizedState)||(rr=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,o]}function _P(){}function CP(n,t){var i=mn,o=Br(),c=t(),u=!lo(o.memoizedState,c);if(u&&(o.memoizedState=c,rr=!0),o=o.queue,G_(xP.bind(null,i,o,n),[n]),o.getSnapshot!==t||u||ti!==null&&ti.memoizedState.tag&1){if(i.flags|=2048,Cf(9,SP.bind(null,i,o,c,t),void 0,null),ni===null)throw Error(Le(349));ac&30||EP(i,t,c)}return c}function EP(n,t,i){n.flags|=16384,n={getSnapshot:t,value:i},t=mn.updateQueue,t===null?(t={lastEffect:null,stores:null},mn.updateQueue=t,t.stores=[n]):(i=t.stores,i===null?t.stores=[n]:i.push(n))}function SP(n,t,i,o){t.value=i,t.getSnapshot=o,TP(t)&&DP(n)}function xP(n,t,i){return i(function(){TP(t)&&DP(n)})}function TP(n){var t=n.getSnapshot;n=n.value;try{var i=t();return!lo(n,i)}catch{return!0}}function DP(n){var t=Os(n,1);t!==null&&so(t,n,1,-1)}function fL(n){var t=Vo();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_f,lastRenderedState:n},t.queue=n,n=n.dispatch=G8.bind(null,mn,n),[t.memoizedState,n]}function Cf(n,t,i,o){return n={tag:n,create:t,destroy:i,deps:o,next:null},t=mn.updateQueue,t===null?(t={lastEffect:null,stores:null},mn.updateQueue=t,t.lastEffect=n.next=n):(i=t.lastEffect,i===null?t.lastEffect=n.next=n:(o=i.next,i.next=n,n.next=o,t.lastEffect=n)),n}function IP(){return Br().memoizedState}function ym(n,t,i,o){var c=Vo();mn.flags|=n,c.memoizedState=Cf(1|t,i,void 0,o===void 0?null:o)}function sw(n,t,i,o){var c=Br();o=o===void 0?null:o;var u=void 0;if(Hn!==null){var h=Hn.memoizedState;if(u=h.destroy,o!==null&&U_(o,h.deps)){c.memoizedState=Cf(t,i,u,o);return}}mn.flags|=n,c.memoizedState=Cf(1|t,i,u,o)}function pL(n,t){return ym(8390656,8,n,t)}function G_(n,t){return sw(2048,8,n,t)}function MP(n,t){return sw(4,2,n,t)}function LP(n,t){return sw(4,4,n,t)}function RP(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function NP(n,t,i){return i=i!=null?i.concat([n]):null,sw(4,4,RP.bind(null,t,n),i)}function K_(){}function OP(n,t){var i=Br();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&U_(t,o[1])?o[0]:(i.memoizedState=[n,t],n)}function PP(n,t){var i=Br();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&U_(t,o[1])?o[0]:(n=n(),i.memoizedState=[n,t],n)}function $P(n,t,i){return ac&21?(lo(i,t)||(i=zO(),mn.lanes|=i,lc|=i,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,rr=!0),n.memoizedState=i)}function H8(n,t){var i=Gt;Gt=i!==0&&4>i?i:4,n(!0);var o=by.transition;by.transition={};try{n(!1),t()}finally{Gt=i,by.transition=o}}function BP(){return Br().memoizedState}function W8(n,t,i){var o=Fa(n);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},FP(n))zP(t,i);else if(i=mP(n,t,i,o),i!==null){var c=Wi();so(i,n,o,c),jP(i,t,o)}}function G8(n,t,i){var o=Fa(n),c={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(FP(n))zP(t,c);else{var u=n.alternate;if(n.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,b=u(h,i);if(c.hasEagerState=!0,c.eagerState=b,lo(b,h)){var f=t.interleaved;f===null?(c.next=c,B_(t)):(c.next=f.next,f.next=c),t.interleaved=c;return}}catch{}finally{}i=mP(n,t,c,o),i!==null&&(c=Wi(),so(i,n,o,c),jP(i,t,o))}}function FP(n){var t=n.alternate;return n===mn||t!==null&&t===mn}function zP(n,t){Qh=rv=!0;var i=n.pending;i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t}function jP(n,t,i){if(i&4194240){var o=t.lanes;o&=n.pendingLanes,i|=o,t.lanes=i,C_(n,i)}}var ov={readContext:$r,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useInsertionEffect:_i,useLayoutEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useMutableSource:_i,useSyncExternalStore:_i,useId:_i,unstable_isNewReconciler:!1},K8={readContext:$r,useCallback:function(n,t){return Vo().memoizedState=[n,t===void 0?null:t],n},useContext:$r,useEffect:pL,useImperativeHandle:function(n,t,i){return i=i!=null?i.concat([n]):null,ym(4194308,4,RP.bind(null,t,n),i)},useLayoutEffect:function(n,t){return ym(4194308,4,n,t)},useInsertionEffect:function(n,t){return ym(4,2,n,t)},useMemo:function(n,t){var i=Vo();return t=t===void 0?null:t,n=n(),i.memoizedState=[n,t],n},useReducer:function(n,t,i){var o=Vo();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},o.queue=n,n=n.dispatch=W8.bind(null,mn,n),[o.memoizedState,n]},useRef:function(n){var t=Vo();return n={current:n},t.memoizedState=n},useState:fL,useDebugValue:K_,useDeferredValue:function(n){return Vo().memoizedState=n},useTransition:function(){var n=fL(!1),t=n[0];return n=H8.bind(null,n[1]),Vo().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,i){var o=mn,c=Vo();if(dn){if(i===void 0)throw Error(Le(407));i=i()}else{if(i=t(),ni===null)throw Error(Le(349));ac&30||EP(o,t,i)}c.memoizedState=i;var u={value:i,getSnapshot:t};return c.queue=u,pL(xP.bind(null,o,u,n),[n]),o.flags|=2048,Cf(9,SP.bind(null,o,u,i,t),void 0,null),i},useId:function(){var n=Vo(),t=ni.identifierPrefix;if(dn){var i=Cs,o=_s;i=(o&~(1<<32-oo(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=Af++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=U8++,t=":"+t+"r"+i.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},q8={readContext:$r,useCallback:OP,useContext:$r,useEffect:G_,useImperativeHandle:NP,useInsertionEffect:MP,useLayoutEffect:LP,useMemo:PP,useReducer:yy,useRef:IP,useState:function(){return yy(_f)},useDebugValue:K_,useDeferredValue:function(n){var t=Br();return $P(t,Hn.memoizedState,n)},useTransition:function(){var n=yy(_f)[0],t=Br().memoizedState;return[n,t]},useMutableSource:_P,useSyncExternalStore:CP,useId:BP,unstable_isNewReconciler:!1},Q8={readContext:$r,useCallback:OP,useContext:$r,useEffect:G_,useImperativeHandle:NP,useInsertionEffect:MP,useLayoutEffect:LP,useMemo:PP,useReducer:Ay,useRef:IP,useState:function(){return Ay(_f)},useDebugValue:K_,useDeferredValue:function(n){var t=Br();return Hn===null?t.memoizedState=n:$P(t,Hn.memoizedState,n)},useTransition:function(){var n=Ay(_f)[0],t=Br().memoizedState;return[n,t]},useMutableSource:_P,useSyncExternalStore:CP,useId:BP,unstable_isNewReconciler:!1};function Ju(n,t){try{var i="",o=t;do i+=_W(o),o=o.return;while(o);var c=i}catch(u){c=`
Error generating stack: `+u.message+`
`+u.stack}return{value:n,source:t,stack:c,digest:null}}function _y(n,t,i){return{value:n,source:null,stack:i??null,digest:t??null}}function X0(n,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Y8=typeof WeakMap=="function"?WeakMap:Map;function VP(n,t,i){i=Is(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){av||(av=!0,cA=o),X0(n,t)},i}function UP(n,t,i){i=Is(-1,i),i.tag=3;var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var c=t.value;i.payload=function(){return o(c)},i.callback=function(){X0(n,t)}}var u=n.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(i.callback=function(){X0(n,t),typeof o!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),i}function gL(n,t,i){var o=n.pingCache;if(o===null){o=n.pingCache=new Y8;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(i)||(c.add(i),n=uG.bind(null,n,t,i),t.then(n,n))}function mL(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function vL(n,t,i,o,c){return n.mode&1?(n.flags|=65536,n.lanes=c,n):(n===t?n.flags|=65536:(n.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Is(-1,1),t.tag=2,$a(i,t,1))),i.lanes|=1),n)}var Z8=Vs.ReactCurrentOwner,rr=!1;function Vi(n,t,i,o){t.child=n===null?yP(t,null,i,o):Yu(t,n.child,i,o)}function wL(n,t,i,o,c){i=i.render;var u=t.ref;return Pu(t,c),o=H_(n,t,i,o,u,c),i=W_(),n!==null&&!rr?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~c,Ps(n,t,c)):(dn&&i&&L_(t),t.flags|=1,Vi(n,t,o,c),t.child)}function kL(n,t,i,o,c){if(n===null){var u=i.type;return typeof u=="function"&&!tC(u)&&u.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=u,HP(n,t,u,o,c)):(n=Em(i.type,null,o,t,t.mode,c),n.ref=t.ref,n.return=t,t.child=n)}if(u=n.child,!(n.lanes&c)){var h=u.memoizedProps;if(i=i.compare,i=i!==null?i:mf,i(h,o)&&n.ref===t.ref)return Ps(n,t,c)}return t.flags|=1,n=za(u,o),n.ref=t.ref,n.return=t,t.child=n}function HP(n,t,i,o,c){if(n!==null){var u=n.memoizedProps;if(mf(u,o)&&n.ref===t.ref)if(rr=!1,t.pendingProps=o=u,(n.lanes&c)!==0)n.flags&131072&&(rr=!0);else return t.lanes=n.lanes,Ps(n,t,c)}return eA(n,t,i,o,c)}function WP(n,t,i){var o=t.pendingProps,c=o.children,u=n!==null?n.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nn(Tu,pr),pr|=i;else{if(!(i&1073741824))return n=u!==null?u.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,nn(Tu,pr),pr|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=u!==null?u.baseLanes:i,nn(Tu,pr),pr|=o}else u!==null?(o=u.baseLanes|i,t.memoizedState=null):o=i,nn(Tu,pr),pr|=o;return Vi(n,t,c,i),t.child}function GP(n,t){var i=t.ref;(n===null&&i!==null||n!==null&&n.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function eA(n,t,i,o,c){var u=sr(i)?oc:Ni.current;return u=qu(t,u),Pu(t,c),i=H_(n,t,i,o,u,c),o=W_(),n!==null&&!rr?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~c,Ps(n,t,c)):(dn&&o&&L_(t),t.flags|=1,Vi(n,t,i,c),t.child)}function bL(n,t,i,o,c){if(sr(i)){var u=!0;Zm(t)}else u=!1;if(Pu(t,c),t.stateNode===null)Am(n,t),kP(t,i,o),J0(t,i,o,c),o=!0;else if(n===null){var h=t.stateNode,b=t.memoizedProps;h.props=b;var f=h.context,w=i.contextType;typeof w=="object"&&w!==null?w=$r(w):(w=sr(i)?oc:Ni.current,w=qu(t,w));var p=i.getDerivedStateFromProps,v=typeof p=="function"||typeof h.getSnapshotBeforeUpdate=="function";v||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==o||f!==w)&&dL(t,h,o,w),wa=!1;var g=t.memoizedState;h.state=g,nv(t,o,h,c),f=t.memoizedState,b!==o||g!==f||or.current||wa?(typeof p=="function"&&(Z0(t,i,p,o),f=t.memoizedState),(b=wa||uL(t,i,b,o,g,f,w))?(v||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=f),h.props=o,h.state=f,h.context=w,o=b):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{h=t.stateNode,vP(n,t),b=t.memoizedProps,w=t.type===t.elementType?b:eo(t.type,b),h.props=w,v=t.pendingProps,g=h.context,f=i.contextType,typeof f=="object"&&f!==null?f=$r(f):(f=sr(i)?oc:Ni.current,f=qu(t,f));var k=i.getDerivedStateFromProps;(p=typeof k=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==v||g!==f)&&dL(t,h,o,f),wa=!1,g=t.memoizedState,h.state=g,nv(t,o,h,c);var A=t.memoizedState;b!==v||g!==A||or.current||wa?(typeof k=="function"&&(Z0(t,i,k,o),A=t.memoizedState),(w=wa||uL(t,i,w,o,g,A,f)||!1)?(p||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,A,f),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,A,f)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===n.memoizedProps&&g===n.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&g===n.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=A),h.props=o,h.state=A,h.context=f,o=w):(typeof h.componentDidUpdate!="function"||b===n.memoizedProps&&g===n.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&g===n.memoizedState||(t.flags|=1024),o=!1)}return tA(n,t,i,o,u,c)}function tA(n,t,i,o,c,u){GP(n,t);var h=(t.flags&128)!==0;if(!o&&!h)return c&&oL(t,i,!1),Ps(n,t,u);o=t.stateNode,Z8.current=t;var b=h&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,n!==null&&h?(t.child=Yu(t,n.child,null,u),t.child=Yu(t,null,b,u)):Vi(n,t,b,u),t.memoizedState=o.state,c&&oL(t,i,!0),t.child}function KP(n){var t=n.stateNode;t.pendingContext?rL(n,t.pendingContext,t.pendingContext!==t.context):t.context&&rL(n,t.context,!1),z_(n,t.containerInfo)}function yL(n,t,i,o,c){return Qu(),N_(c),t.flags|=256,Vi(n,t,i,o),t.child}var nA={dehydrated:null,treeContext:null,retryLane:0};function iA(n){return{baseLanes:n,cachePool:null,transitions:null}}function qP(n,t,i){var o=t.pendingProps,c=gn.current,u=!1,h=(t.flags&128)!==0,b;if((b=h)||(b=n!==null&&n.memoizedState===null?!1:(c&2)!==0),b?(u=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(c|=1),nn(gn,c&1),n===null)return Q0(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=o.children,n=o.fallback,u?(o=t.mode,u=t.child,h={mode:"hidden",children:h},!(o&1)&&u!==null?(u.childLanes=0,u.pendingProps=h):u=cw(h,o,0,null),n=ec(n,o,i,null),u.return=t,n.return=t,u.sibling=n,t.child=u,t.child.memoizedState=iA(i),t.memoizedState=nA,n):q_(t,h));if(c=n.memoizedState,c!==null&&(b=c.dehydrated,b!==null))return J8(n,t,h,o,b,c,i);if(u){u=o.fallback,h=t.mode,c=n.child,b=c.sibling;var f={mode:"hidden",children:o.children};return!(h&1)&&t.child!==c?(o=t.child,o.childLanes=0,o.pendingProps=f,t.deletions=null):(o=za(c,f),o.subtreeFlags=c.subtreeFlags&14680064),b!==null?u=za(b,u):(u=ec(u,h,i,null),u.flags|=2),u.return=t,o.return=t,o.sibling=u,t.child=o,o=u,u=t.child,h=n.child.memoizedState,h=h===null?iA(i):{baseLanes:h.baseLanes|i,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=n.childLanes&~i,t.memoizedState=nA,o}return u=n.child,n=u.sibling,o=za(u,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,n!==null&&(i=t.deletions,i===null?(t.deletions=[n],t.flags|=16):i.push(n)),t.child=o,t.memoizedState=null,o}function q_(n,t){return t=cw({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function Qg(n,t,i,o){return o!==null&&N_(o),Yu(t,n.child,null,i),n=q_(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function J8(n,t,i,o,c,u,h){if(i)return t.flags&256?(t.flags&=-257,o=_y(Error(Le(422))),Qg(n,t,h,o)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(u=o.fallback,c=t.mode,o=cw({mode:"visible",children:o.children},c,0,null),u=ec(u,c,h,null),u.flags|=2,o.return=t,u.return=t,o.sibling=u,t.child=o,t.mode&1&&Yu(t,n.child,null,h),t.child.memoizedState=iA(h),t.memoizedState=nA,u);if(!(t.mode&1))return Qg(n,t,h,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var b=o.dgst;return o=b,u=Error(Le(419)),o=_y(u,o,void 0),Qg(n,t,h,o)}if(b=(h&n.childLanes)!==0,rr||b){if(o=ni,o!==null){switch(h&-h){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(o.suspendedLanes|h)?0:c,c!==0&&c!==u.retryLane&&(u.retryLane=c,Os(n,c),so(o,n,c,-1))}return eC(),o=_y(Error(Le(421))),Qg(n,t,h,o)}return c.data==="$?"?(t.flags|=128,t.child=n.child,t=dG.bind(null,n),c._reactRetry=t,null):(n=u.treeContext,gr=Pa(c.nextSibling),vr=t,dn=!0,no=null,n!==null&&(Mr[Lr++]=_s,Mr[Lr++]=Cs,Mr[Lr++]=sc,_s=n.id,Cs=n.overflow,sc=t),t=q_(t,o.children),t.flags|=4096,t)}function AL(n,t,i){n.lanes|=t;var o=n.alternate;o!==null&&(o.lanes|=t),Y0(n.return,t,i)}function Cy(n,t,i,o,c){var u=n.memoizedState;u===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:c}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=i,u.tailMode=c)}function QP(n,t,i){var o=t.pendingProps,c=o.revealOrder,u=o.tail;if(Vi(n,t,o.children,i),o=gn.current,o&2)o=o&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&AL(n,i,t);else if(n.tag===19)AL(n,i,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}if(nn(gn,o),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)n=i.alternate,n!==null&&iv(n)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Cy(t,!1,c,i,u);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(n=c.alternate,n!==null&&iv(n)===null){t.child=c;break}n=c.sibling,c.sibling=i,i=c,c=n}Cy(t,!0,i,null,u);break;case"together":Cy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Am(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Ps(n,t,i){if(n!==null&&(t.dependencies=n.dependencies),lc|=t.lanes,!(i&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(Le(153));if(t.child!==null){for(n=t.child,i=za(n,n.pendingProps),t.child=i,i.return=t;n.sibling!==null;)n=n.sibling,i=i.sibling=za(n,n.pendingProps),i.return=t;i.sibling=null}return t.child}function X8(n,t,i){switch(t.tag){case 3:KP(t),Qu();break;case 5:AP(t);break;case 1:sr(t.type)&&Zm(t);break;case 4:z_(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,c=t.memoizedProps.value;nn(ev,o._currentValue),o._currentValue=c;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(nn(gn,gn.current&1),t.flags|=128,null):i&t.child.childLanes?qP(n,t,i):(nn(gn,gn.current&1),n=Ps(n,t,i),n!==null?n.sibling:null);nn(gn,gn.current&1);break;case 19:if(o=(i&t.childLanes)!==0,n.flags&128){if(o)return QP(n,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nn(gn,gn.current),o)break;return null;case 22:case 23:return t.lanes=0,WP(n,t,i)}return Ps(n,t,i)}var YP,rA,ZP,JP;YP=function(n,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)n.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};rA=function(){};ZP=function(n,t,i,o){var c=n.memoizedProps;if(c!==o){n=t.stateNode,ql(Zo.current);var u=null;switch(i){case"input":c=S0(n,c),o=S0(n,o),u=[];break;case"select":c=vn({},c,{value:void 0}),o=vn({},o,{value:void 0}),u=[];break;case"textarea":c=D0(n,c),o=D0(n,o),u=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(n.onclick=Qm)}M0(i,o);var h;i=null;for(w in c)if(!o.hasOwnProperty(w)&&c.hasOwnProperty(w)&&c[w]!=null)if(w==="style"){var b=c[w];for(h in b)b.hasOwnProperty(h)&&(i||(i={}),i[h]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(cf.hasOwnProperty(w)?u||(u=[]):(u=u||[]).push(w,null));for(w in o){var f=o[w];if(b=c!=null?c[w]:void 0,o.hasOwnProperty(w)&&f!==b&&(f!=null||b!=null))if(w==="style")if(b){for(h in b)!b.hasOwnProperty(h)||f&&f.hasOwnProperty(h)||(i||(i={}),i[h]="");for(h in f)f.hasOwnProperty(h)&&b[h]!==f[h]&&(i||(i={}),i[h]=f[h])}else i||(u||(u=[]),u.push(w,i)),i=f;else w==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,b=b?b.__html:void 0,f!=null&&b!==f&&(u=u||[]).push(w,f)):w==="children"?typeof f!="string"&&typeof f!="number"||(u=u||[]).push(w,""+f):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(cf.hasOwnProperty(w)?(f!=null&&w==="onScroll"&&on("scroll",n),u||b===f||(u=[])):(u=u||[]).push(w,f))}i&&(u=u||[]).push("style",i);var w=u;(t.updateQueue=w)&&(t.flags|=4)}};JP=function(n,t,i,o){i!==o&&(t.flags|=4)};function Sh(n,t){if(!dn)switch(n.tailMode){case"hidden":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?n.tail=null:i.sibling=null;break;case"collapsed":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function Ci(n){var t=n.alternate!==null&&n.alternate.child===n.child,i=0,o=0;if(t)for(var c=n.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=n,c=c.sibling;else for(c=n.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=n,c=c.sibling;return n.subtreeFlags|=o,n.childLanes=i,t}function eG(n,t,i){var o=t.pendingProps;switch(R_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(t),null;case 1:return sr(t.type)&&Ym(),Ci(t),null;case 3:return o=t.stateNode,Zu(),an(or),an(Ni),V_(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Kg(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,no!==null&&(hA(no),no=null))),rA(n,t),Ci(t),null;case 5:j_(t);var c=ql(yf.current);if(i=t.type,n!==null&&t.stateNode!=null)ZP(n,t,i,o,c),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(Le(166));return Ci(t),null}if(n=ql(Zo.current),Kg(t)){o=t.stateNode,i=t.type;var u=t.memoizedProps;switch(o[Wo]=t,o[kf]=u,n=(t.mode&1)!==0,i){case"dialog":on("cancel",o),on("close",o);break;case"iframe":case"object":case"embed":on("load",o);break;case"video":case"audio":for(c=0;c<Ph.length;c++)on(Ph[c],o);break;case"source":on("error",o);break;case"img":case"image":case"link":on("error",o),on("load",o);break;case"details":on("toggle",o);break;case"input":M2(o,u),on("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},on("invalid",o);break;case"textarea":R2(o,u),on("invalid",o)}M0(i,u),c=null;for(var h in u)if(u.hasOwnProperty(h)){var b=u[h];h==="children"?typeof b=="string"?o.textContent!==b&&(u.suppressHydrationWarning!==!0&&Gg(o.textContent,b,n),c=["children",b]):typeof b=="number"&&o.textContent!==""+b&&(u.suppressHydrationWarning!==!0&&Gg(o.textContent,b,n),c=["children",""+b]):cf.hasOwnProperty(h)&&b!=null&&h==="onScroll"&&on("scroll",o)}switch(i){case"input":Bg(o),L2(o,u,!0);break;case"textarea":Bg(o),N2(o);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(o.onclick=Qm)}o=c,t.updateQueue=o,o!==null&&(t.flags|=4)}else{h=c.nodeType===9?c:c.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=EO(i)),n==="http://www.w3.org/1999/xhtml"?i==="script"?(n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof o.is=="string"?n=h.createElement(i,{is:o.is}):(n=h.createElement(i),i==="select"&&(h=n,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):n=h.createElementNS(n,i),n[Wo]=t,n[kf]=o,YP(n,t,!1,!1),t.stateNode=n;e:{switch(h=L0(i,o),i){case"dialog":on("cancel",n),on("close",n),c=o;break;case"iframe":case"object":case"embed":on("load",n),c=o;break;case"video":case"audio":for(c=0;c<Ph.length;c++)on(Ph[c],n);c=o;break;case"source":on("error",n),c=o;break;case"img":case"image":case"link":on("error",n),on("load",n),c=o;break;case"details":on("toggle",n),c=o;break;case"input":M2(n,o),c=S0(n,o),on("invalid",n);break;case"option":c=o;break;case"select":n._wrapperState={wasMultiple:!!o.multiple},c=vn({},o,{value:void 0}),on("invalid",n);break;case"textarea":R2(n,o),c=D0(n,o),on("invalid",n);break;default:c=o}M0(i,c),b=c;for(u in b)if(b.hasOwnProperty(u)){var f=b[u];u==="style"?TO(n,f):u==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&SO(n,f)):u==="children"?typeof f=="string"?(i!=="textarea"||f!=="")&&uf(n,f):typeof f=="number"&&uf(n,""+f):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cf.hasOwnProperty(u)?f!=null&&u==="onScroll"&&on("scroll",n):f!=null&&w_(n,u,f,h))}switch(i){case"input":Bg(n),L2(n,o,!1);break;case"textarea":Bg(n),N2(n);break;case"option":o.value!=null&&n.setAttribute("value",""+Ga(o.value));break;case"select":n.multiple=!!o.multiple,u=o.value,u!=null?Lu(n,!!o.multiple,u,!1):o.defaultValue!=null&&Lu(n,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(n.onclick=Qm)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ci(t),null;case 6:if(n&&t.stateNode!=null)JP(n,t,n.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(Le(166));if(i=ql(yf.current),ql(Zo.current),Kg(t)){if(o=t.stateNode,i=t.memoizedProps,o[Wo]=t,(u=o.nodeValue!==i)&&(n=vr,n!==null))switch(n.tag){case 3:Gg(o.nodeValue,i,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Gg(o.nodeValue,i,(n.mode&1)!==0)}u&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Wo]=t,t.stateNode=o}return Ci(t),null;case 13:if(an(gn),o=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(dn&&gr!==null&&t.mode&1&&!(t.flags&128))gP(),Qu(),t.flags|=98560,u=!1;else if(u=Kg(t),o!==null&&o.dehydrated!==null){if(n===null){if(!u)throw Error(Le(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(Le(317));u[Wo]=t}else Qu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ci(t),u=!1}else no!==null&&(hA(no),no=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(n===null||gn.current&1?Wn===0&&(Wn=3):eC())),t.updateQueue!==null&&(t.flags|=4),Ci(t),null);case 4:return Zu(),rA(n,t),n===null&&vf(t.stateNode.containerInfo),Ci(t),null;case 10:return $_(t.type._context),Ci(t),null;case 17:return sr(t.type)&&Ym(),Ci(t),null;case 19:if(an(gn),u=t.memoizedState,u===null)return Ci(t),null;if(o=(t.flags&128)!==0,h=u.rendering,h===null)if(o)Sh(u,!1);else{if(Wn!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(h=iv(n),h!==null){for(t.flags|=128,Sh(u,!1),o=h.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)u=i,n=o,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=n,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,n=h.dependencies,u.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i=i.sibling;return nn(gn,gn.current&1|2),t.child}n=n.sibling}u.tail!==null&&In()>Xu&&(t.flags|=128,o=!0,Sh(u,!1),t.lanes=4194304)}else{if(!o)if(n=iv(h),n!==null){if(t.flags|=128,o=!0,i=n.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Sh(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!dn)return Ci(t),null}else 2*In()-u.renderingStartTime>Xu&&i!==1073741824&&(t.flags|=128,o=!0,Sh(u,!1),t.lanes=4194304);u.isBackwards?(h.sibling=t.child,t.child=h):(i=u.last,i!==null?i.sibling=h:t.child=h,u.last=h)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=In(),t.sibling=null,i=gn.current,nn(gn,o?i&1|2:i&1),t):(Ci(t),null);case 22:case 23:return X_(),o=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?pr&1073741824&&(Ci(t),t.subtreeFlags&6&&(t.flags|=8192)):Ci(t),null;case 24:return null;case 25:return null}throw Error(Le(156,t.tag))}function tG(n,t){switch(R_(t),t.tag){case 1:return sr(t.type)&&Ym(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return Zu(),an(or),an(Ni),V_(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return j_(t),null;case 13:if(an(gn),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(Le(340));Qu()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return an(gn),null;case 4:return Zu(),null;case 10:return $_(t.type._context),null;case 22:case 23:return X_(),null;case 24:return null;default:return null}}var Yg=!1,Ti=!1,nG=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function xu(n,t){var i=n.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Cn(n,t,o)}else i.current=null}function oA(n,t,i){try{i()}catch(o){Cn(n,t,o)}}var _L=!1;function iG(n,t){if(V0=Gm,n=nP(),M_(n)){if("selectionStart"in n)var i={start:n.selectionStart,end:n.selectionEnd};else e:{i=(i=n.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var c=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var h=0,b=-1,f=-1,w=0,p=0,v=n,g=null;t:for(;;){for(var k;v!==i||c!==0&&v.nodeType!==3||(b=h+c),v!==u||o!==0&&v.nodeType!==3||(f=h+o),v.nodeType===3&&(h+=v.nodeValue.length),(k=v.firstChild)!==null;)g=v,v=k;for(;;){if(v===n)break t;if(g===i&&++w===c&&(b=h),g===u&&++p===o&&(f=h),(k=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=k}i=b===-1||f===-1?null:{start:b,end:f}}else i=null}i=i||{start:0,end:0}}else i=null;for(U0={focusedElem:n,selectionRange:i},Gm=!1,Ue=t;Ue!==null;)if(t=Ue,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,Ue=n;else for(;Ue!==null;){t=Ue;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var _=A.memoizedProps,E=A.memoizedState,x=t.stateNode,D=x.getSnapshotBeforeUpdate(t.elementType===t.type?_:eo(t.type,_),E);x.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(B){Cn(t,t.return,B)}if(n=t.sibling,n!==null){n.return=t.return,Ue=n;break}Ue=t.return}return A=_L,_L=!1,A}function Yh(n,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&n)===n){var u=c.destroy;c.destroy=void 0,u!==void 0&&oA(t,i,u)}c=c.next}while(c!==o)}}function aw(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&n)===n){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function sA(n){var t=n.ref;if(t!==null){var i=n.stateNode;switch(n.tag){case 5:n=i;break;default:n=i}typeof t=="function"?t(n):t.current=n}}function XP(n){var t=n.alternate;t!==null&&(n.alternate=null,XP(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[Wo],delete t[kf],delete t[G0],delete t[F8],delete t[z8])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function e$(n){return n.tag===5||n.tag===3||n.tag===4}function CL(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||e$(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function aA(n,t,i){var o=n.tag;if(o===5||o===6)n=n.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(n,t):i.insertBefore(n,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(n,i)):(t=i,t.appendChild(n)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Qm));else if(o!==4&&(n=n.child,n!==null))for(aA(n,t,i),n=n.sibling;n!==null;)aA(n,t,i),n=n.sibling}function lA(n,t,i){var o=n.tag;if(o===5||o===6)n=n.stateNode,t?i.insertBefore(n,t):i.appendChild(n);else if(o!==4&&(n=n.child,n!==null))for(lA(n,t,i),n=n.sibling;n!==null;)lA(n,t,i),n=n.sibling}var hi=null,to=!1;function fa(n,t,i){for(i=i.child;i!==null;)t$(n,t,i),i=i.sibling}function t$(n,t,i){if(Yo&&typeof Yo.onCommitFiberUnmount=="function")try{Yo.onCommitFiberUnmount(Xv,i)}catch{}switch(i.tag){case 5:Ti||xu(i,t);case 6:var o=hi,c=to;hi=null,fa(n,t,i),hi=o,to=c,hi!==null&&(to?(n=hi,i=i.stateNode,n.nodeType===8?n.parentNode.removeChild(i):n.removeChild(i)):hi.removeChild(i.stateNode));break;case 18:hi!==null&&(to?(n=hi,i=i.stateNode,n.nodeType===8?vy(n.parentNode,i):n.nodeType===1&&vy(n,i),pf(n)):vy(hi,i.stateNode));break;case 4:o=hi,c=to,hi=i.stateNode.containerInfo,to=!0,fa(n,t,i),hi=o,to=c;break;case 0:case 11:case 14:case 15:if(!Ti&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var u=c,h=u.destroy;u=u.tag,h!==void 0&&(u&2||u&4)&&oA(i,t,h),c=c.next}while(c!==o)}fa(n,t,i);break;case 1:if(!Ti&&(xu(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(b){Cn(i,t,b)}fa(n,t,i);break;case 21:fa(n,t,i);break;case 22:i.mode&1?(Ti=(o=Ti)||i.memoizedState!==null,fa(n,t,i),Ti=o):fa(n,t,i);break;default:fa(n,t,i)}}function EL(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var i=n.stateNode;i===null&&(i=n.stateNode=new nG),t.forEach(function(o){var c=hG.bind(null,n,o);i.has(o)||(i.add(o),o.then(c,c))})}}function Xr(n,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];try{var u=n,h=t,b=h;e:for(;b!==null;){switch(b.tag){case 5:hi=b.stateNode,to=!1;break e;case 3:hi=b.stateNode.containerInfo,to=!0;break e;case 4:hi=b.stateNode.containerInfo,to=!0;break e}b=b.return}if(hi===null)throw Error(Le(160));t$(u,h,c),hi=null,to=!1;var f=c.alternate;f!==null&&(f.return=null),c.return=null}catch(w){Cn(c,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)n$(t,n),t=t.sibling}function n$(n,t){var i=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Xr(t,n),zo(n),o&4){try{Yh(3,n,n.return),aw(3,n)}catch(_){Cn(n,n.return,_)}try{Yh(5,n,n.return)}catch(_){Cn(n,n.return,_)}}break;case 1:Xr(t,n),zo(n),o&512&&i!==null&&xu(i,i.return);break;case 5:if(Xr(t,n),zo(n),o&512&&i!==null&&xu(i,i.return),n.flags&32){var c=n.stateNode;try{uf(c,"")}catch(_){Cn(n,n.return,_)}}if(o&4&&(c=n.stateNode,c!=null)){var u=n.memoizedProps,h=i!==null?i.memoizedProps:u,b=n.type,f=n.updateQueue;if(n.updateQueue=null,f!==null)try{b==="input"&&u.type==="radio"&&u.name!=null&&_O(c,u),L0(b,h);var w=L0(b,u);for(h=0;h<f.length;h+=2){var p=f[h],v=f[h+1];p==="style"?TO(c,v):p==="dangerouslySetInnerHTML"?SO(c,v):p==="children"?uf(c,v):w_(c,p,v,w)}switch(b){case"input":x0(c,u);break;case"textarea":CO(c,u);break;case"select":var g=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!u.multiple;var k=u.value;k!=null?Lu(c,!!u.multiple,k,!1):g!==!!u.multiple&&(u.defaultValue!=null?Lu(c,!!u.multiple,u.defaultValue,!0):Lu(c,!!u.multiple,u.multiple?[]:"",!1))}c[kf]=u}catch(_){Cn(n,n.return,_)}}break;case 6:if(Xr(t,n),zo(n),o&4){if(n.stateNode===null)throw Error(Le(162));c=n.stateNode,u=n.memoizedProps;try{c.nodeValue=u}catch(_){Cn(n,n.return,_)}}break;case 3:if(Xr(t,n),zo(n),o&4&&i!==null&&i.memoizedState.isDehydrated)try{pf(t.containerInfo)}catch(_){Cn(n,n.return,_)}break;case 4:Xr(t,n),zo(n);break;case 13:Xr(t,n),zo(n),c=n.child,c.flags&8192&&(u=c.memoizedState!==null,c.stateNode.isHidden=u,!u||c.alternate!==null&&c.alternate.memoizedState!==null||(Z_=In())),o&4&&EL(n);break;case 22:if(p=i!==null&&i.memoizedState!==null,n.mode&1?(Ti=(w=Ti)||p,Xr(t,n),Ti=w):Xr(t,n),zo(n),o&8192){if(w=n.memoizedState!==null,(n.stateNode.isHidden=w)&&!p&&n.mode&1)for(Ue=n,p=n.child;p!==null;){for(v=Ue=p;Ue!==null;){switch(g=Ue,k=g.child,g.tag){case 0:case 11:case 14:case 15:Yh(4,g,g.return);break;case 1:xu(g,g.return);var A=g.stateNode;if(typeof A.componentWillUnmount=="function"){o=g,i=g.return;try{t=o,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(_){Cn(o,i,_)}}break;case 5:xu(g,g.return);break;case 22:if(g.memoizedState!==null){xL(v);continue}}k!==null?(k.return=g,Ue=k):xL(v)}p=p.sibling}e:for(p=null,v=n;;){if(v.tag===5){if(p===null){p=v;try{c=v.stateNode,w?(u=c.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(b=v.stateNode,f=v.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null,b.style.display=xO("display",h))}catch(_){Cn(n,n.return,_)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=w?"":v.memoizedProps}catch(_){Cn(n,n.return,_)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===n)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Xr(t,n),zo(n),o&4&&EL(n);break;case 21:break;default:Xr(t,n),zo(n)}}function zo(n){var t=n.flags;if(t&2){try{e:{for(var i=n.return;i!==null;){if(e$(i)){var o=i;break e}i=i.return}throw Error(Le(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(uf(c,""),o.flags&=-33);var u=CL(n);lA(n,u,c);break;case 3:case 4:var h=o.stateNode.containerInfo,b=CL(n);aA(n,b,h);break;default:throw Error(Le(161))}}catch(f){Cn(n,n.return,f)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function rG(n,t,i){Ue=n,i$(n)}function i$(n,t,i){for(var o=(n.mode&1)!==0;Ue!==null;){var c=Ue,u=c.child;if(c.tag===22&&o){var h=c.memoizedState!==null||Yg;if(!h){var b=c.alternate,f=b!==null&&b.memoizedState!==null||Ti;b=Yg;var w=Ti;if(Yg=h,(Ti=f)&&!w)for(Ue=c;Ue!==null;)h=Ue,f=h.child,h.tag===22&&h.memoizedState!==null?TL(c):f!==null?(f.return=h,Ue=f):TL(c);for(;u!==null;)Ue=u,i$(u),u=u.sibling;Ue=c,Yg=b,Ti=w}SL(n)}else c.subtreeFlags&8772&&u!==null?(u.return=c,Ue=u):SL(n)}}function SL(n){for(;Ue!==null;){var t=Ue;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ti||aw(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ti)if(i===null)o.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:eo(t.type,i.memoizedProps);o.componentDidUpdate(c,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&cL(t,u,o);break;case 3:var h=t.updateQueue;if(h!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}cL(t,h,i)}break;case 5:var b=t.stateNode;if(i===null&&t.flags&4){i=b;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&i.focus();break;case"img":f.src&&(i.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var p=w.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&pf(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Ti||t.flags&512&&sA(t)}catch(g){Cn(t,t.return,g)}}if(t===n){Ue=null;break}if(i=t.sibling,i!==null){i.return=t.return,Ue=i;break}Ue=t.return}}function xL(n){for(;Ue!==null;){var t=Ue;if(t===n){Ue=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Ue=i;break}Ue=t.return}}function TL(n){for(;Ue!==null;){var t=Ue;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{aw(4,t)}catch(f){Cn(t,i,f)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var c=t.return;try{o.componentDidMount()}catch(f){Cn(t,c,f)}}var u=t.return;try{sA(t)}catch(f){Cn(t,u,f)}break;case 5:var h=t.return;try{sA(t)}catch(f){Cn(t,h,f)}}}catch(f){Cn(t,t.return,f)}if(t===n){Ue=null;break}var b=t.sibling;if(b!==null){b.return=t.return,Ue=b;break}Ue=t.return}}var oG=Math.ceil,sv=Vs.ReactCurrentDispatcher,Q_=Vs.ReactCurrentOwner,Or=Vs.ReactCurrentBatchConfig,Lt=0,ni=null,Fn=null,mi=0,pr=0,Tu=Ja(0),Wn=0,Ef=null,lc=0,lw=0,Y_=0,Zh=null,nr=null,Z_=0,Xu=1/0,bs=null,av=!1,cA=null,Ba=null,Zg=!1,Ta=null,lv=0,Jh=0,uA=null,_m=-1,Cm=0;function Wi(){return Lt&6?In():_m!==-1?_m:_m=In()}function Fa(n){return n.mode&1?Lt&2&&mi!==0?mi&-mi:V8.transition!==null?(Cm===0&&(Cm=zO()),Cm):(n=Gt,n!==0||(n=window.event,n=n===void 0?16:KO(n.type)),n):1}function so(n,t,i,o){if(50<Jh)throw Jh=0,uA=null,Error(Le(185));qf(n,i,o),(!(Lt&2)||n!==ni)&&(n===ni&&(!(Lt&2)&&(lw|=i),Wn===4&&ya(n,mi)),ar(n,o),i===1&&Lt===0&&!(t.mode&1)&&(Xu=In()+500,rw&&Xa()))}function ar(n,t){var i=n.callbackNode;VW(n,t);var o=Wm(n,n===ni?mi:0);if(o===0)i!==null&&$2(i),n.callbackNode=null,n.callbackPriority=0;else if(t=o&-o,n.callbackPriority!==t){if(i!=null&&$2(i),t===1)n.tag===0?j8(DL.bind(null,n)):hP(DL.bind(null,n)),$8(function(){!(Lt&6)&&Xa()}),i=null;else{switch(jO(o)){case 1:i=__;break;case 4:i=BO;break;case 16:i=Hm;break;case 536870912:i=FO;break;default:i=Hm}i=d$(i,r$.bind(null,n))}n.callbackPriority=t,n.callbackNode=i}}function r$(n,t){if(_m=-1,Cm=0,Lt&6)throw Error(Le(327));var i=n.callbackNode;if($u()&&n.callbackNode!==i)return null;var o=Wm(n,n===ni?mi:0);if(o===0)return null;if(o&30||o&n.expiredLanes||t)t=cv(n,o);else{t=o;var c=Lt;Lt|=2;var u=s$();(ni!==n||mi!==t)&&(bs=null,Xu=In()+500,Xl(n,t));do try{lG();break}catch(b){o$(n,b)}while(1);P_(),sv.current=u,Lt=c,Fn!==null?t=0:(ni=null,mi=0,t=Wn)}if(t!==0){if(t===2&&(c=$0(n),c!==0&&(o=c,t=dA(n,c))),t===1)throw i=Ef,Xl(n,0),ya(n,o),ar(n,In()),i;if(t===6)ya(n,o);else{if(c=n.current.alternate,!(o&30)&&!sG(c)&&(t=cv(n,o),t===2&&(u=$0(n),u!==0&&(o=u,t=dA(n,u))),t===1))throw i=Ef,Xl(n,0),ya(n,o),ar(n,In()),i;switch(n.finishedWork=c,n.finishedLanes=o,t){case 0:case 1:throw Error(Le(345));case 2:jl(n,nr,bs);break;case 3:if(ya(n,o),(o&130023424)===o&&(t=Z_+500-In(),10<t)){if(Wm(n,0)!==0)break;if(c=n.suspendedLanes,(c&o)!==o){Wi(),n.pingedLanes|=n.suspendedLanes&c;break}n.timeoutHandle=W0(jl.bind(null,n,nr,bs),t);break}jl(n,nr,bs);break;case 4:if(ya(n,o),(o&4194240)===o)break;for(t=n.eventTimes,c=-1;0<o;){var h=31-oo(o);u=1<<h,h=t[h],h>c&&(c=h),o&=~u}if(o=c,o=In()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*oG(o/1960))-o,10<o){n.timeoutHandle=W0(jl.bind(null,n,nr,bs),o);break}jl(n,nr,bs);break;case 5:jl(n,nr,bs);break;default:throw Error(Le(329))}}}return ar(n,In()),n.callbackNode===i?r$.bind(null,n):null}function dA(n,t){var i=Zh;return n.current.memoizedState.isDehydrated&&(Xl(n,t).flags|=256),n=cv(n,t),n!==2&&(t=nr,nr=i,t!==null&&hA(t)),n}function hA(n){nr===null?nr=n:nr.push.apply(nr,n)}function sG(n){for(var t=n;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var c=i[o],u=c.getSnapshot;c=c.value;try{if(!lo(u(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ya(n,t){for(t&=~Y_,t&=~lw,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var i=31-oo(t),o=1<<i;n[i]=-1,t&=~o}}function DL(n){if(Lt&6)throw Error(Le(327));$u();var t=Wm(n,0);if(!(t&1))return ar(n,In()),null;var i=cv(n,t);if(n.tag!==0&&i===2){var o=$0(n);o!==0&&(t=o,i=dA(n,o))}if(i===1)throw i=Ef,Xl(n,0),ya(n,t),ar(n,In()),i;if(i===6)throw Error(Le(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,jl(n,nr,bs),ar(n,In()),null}function J_(n,t){var i=Lt;Lt|=1;try{return n(t)}finally{Lt=i,Lt===0&&(Xu=In()+500,rw&&Xa())}}function cc(n){Ta!==null&&Ta.tag===0&&!(Lt&6)&&$u();var t=Lt;Lt|=1;var i=Or.transition,o=Gt;try{if(Or.transition=null,Gt=1,n)return n()}finally{Gt=o,Or.transition=i,Lt=t,!(Lt&6)&&Xa()}}function X_(){pr=Tu.current,an(Tu)}function Xl(n,t){n.finishedWork=null,n.finishedLanes=0;var i=n.timeoutHandle;if(i!==-1&&(n.timeoutHandle=-1,P8(i)),Fn!==null)for(i=Fn.return;i!==null;){var o=i;switch(R_(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ym();break;case 3:Zu(),an(or),an(Ni),V_();break;case 5:j_(o);break;case 4:Zu();break;case 13:an(gn);break;case 19:an(gn);break;case 10:$_(o.type._context);break;case 22:case 23:X_()}i=i.return}if(ni=n,Fn=n=za(n.current,null),mi=pr=t,Wn=0,Ef=null,Y_=lw=lc=0,nr=Zh=null,Kl!==null){for(t=0;t<Kl.length;t++)if(i=Kl[t],o=i.interleaved,o!==null){i.interleaved=null;var c=o.next,u=i.pending;if(u!==null){var h=u.next;u.next=c,o.next=h}i.pending=o}Kl=null}return n}function o$(n,t){do{var i=Fn;try{if(P_(),bm.current=ov,rv){for(var o=mn.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}rv=!1}if(ac=0,ti=Hn=mn=null,Qh=!1,Af=0,Q_.current=null,i===null||i.return===null){Wn=1,Ef=t,Fn=null;break}e:{var u=n,h=i.return,b=i,f=t;if(t=mi,b.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var w=f,p=b,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var k=mL(h);if(k!==null){k.flags&=-257,vL(k,h,b,u,t),k.mode&1&&gL(u,w,t),t=k,f=w;var A=t.updateQueue;if(A===null){var _=new Set;_.add(f),t.updateQueue=_}else A.add(f);break e}else{if(!(t&1)){gL(u,w,t),eC();break e}f=Error(Le(426))}}else if(dn&&b.mode&1){var E=mL(h);if(E!==null){!(E.flags&65536)&&(E.flags|=256),vL(E,h,b,u,t),N_(Ju(f,b));break e}}u=f=Ju(f,b),Wn!==4&&(Wn=2),Zh===null?Zh=[u]:Zh.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var x=VP(u,f,t);lL(u,x);break e;case 1:b=f;var D=u.type,O=u.stateNode;if(!(u.flags&128)&&(typeof D.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ba===null||!Ba.has(O)))){u.flags|=65536,t&=-t,u.lanes|=t;var B=UP(u,b,t);lL(u,B);break e}}u=u.return}while(u!==null)}l$(i)}catch(I){t=I,Fn===i&&i!==null&&(Fn=i=i.return);continue}break}while(1)}function s$(){var n=sv.current;return sv.current=ov,n===null?ov:n}function eC(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),ni===null||!(lc&268435455)&&!(lw&268435455)||ya(ni,mi)}function cv(n,t){var i=Lt;Lt|=2;var o=s$();(ni!==n||mi!==t)&&(bs=null,Xl(n,t));do try{aG();break}catch(c){o$(n,c)}while(1);if(P_(),Lt=i,sv.current=o,Fn!==null)throw Error(Le(261));return ni=null,mi=0,Wn}function aG(){for(;Fn!==null;)a$(Fn)}function lG(){for(;Fn!==null&&!RW();)a$(Fn)}function a$(n){var t=u$(n.alternate,n,pr);n.memoizedProps=n.pendingProps,t===null?l$(n):Fn=t,Q_.current=null}function l$(n){var t=n;do{var i=t.alternate;if(n=t.return,t.flags&32768){if(i=tG(i,t),i!==null){i.flags&=32767,Fn=i;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Wn=6,Fn=null;return}}else if(i=eG(i,t,pr),i!==null){Fn=i;return}if(t=t.sibling,t!==null){Fn=t;return}Fn=t=n}while(t!==null);Wn===0&&(Wn=5)}function jl(n,t,i){var o=Gt,c=Or.transition;try{Or.transition=null,Gt=1,cG(n,t,i,o)}finally{Or.transition=c,Gt=o}return null}function cG(n,t,i,o){do $u();while(Ta!==null);if(Lt&6)throw Error(Le(327));i=n.finishedWork;var c=n.finishedLanes;if(i===null)return null;if(n.finishedWork=null,n.finishedLanes=0,i===n.current)throw Error(Le(177));n.callbackNode=null,n.callbackPriority=0;var u=i.lanes|i.childLanes;if(UW(n,u),n===ni&&(Fn=ni=null,mi=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Zg||(Zg=!0,d$(Hm,function(){return $u(),null})),u=(i.flags&15990)!==0,i.subtreeFlags&15990||u){u=Or.transition,Or.transition=null;var h=Gt;Gt=1;var b=Lt;Lt|=4,Q_.current=null,iG(n,i),n$(i,n),D8(U0),Gm=!!V0,U0=V0=null,n.current=i,rG(i),NW(),Lt=b,Gt=h,Or.transition=u}else n.current=i;if(Zg&&(Zg=!1,Ta=n,lv=c),u=n.pendingLanes,u===0&&(Ba=null),$W(i.stateNode),ar(n,In()),t!==null)for(o=n.onRecoverableError,i=0;i<t.length;i++)c=t[i],o(c.value,{componentStack:c.stack,digest:c.digest});if(av)throw av=!1,n=cA,cA=null,n;return lv&1&&n.tag!==0&&$u(),u=n.pendingLanes,u&1?n===uA?Jh++:(Jh=0,uA=n):Jh=0,Xa(),null}function $u(){if(Ta!==null){var n=jO(lv),t=Or.transition,i=Gt;try{if(Or.transition=null,Gt=16>n?16:n,Ta===null)var o=!1;else{if(n=Ta,Ta=null,lv=0,Lt&6)throw Error(Le(331));var c=Lt;for(Lt|=4,Ue=n.current;Ue!==null;){var u=Ue,h=u.child;if(Ue.flags&16){var b=u.deletions;if(b!==null){for(var f=0;f<b.length;f++){var w=b[f];for(Ue=w;Ue!==null;){var p=Ue;switch(p.tag){case 0:case 11:case 15:Yh(8,p,u)}var v=p.child;if(v!==null)v.return=p,Ue=v;else for(;Ue!==null;){p=Ue;var g=p.sibling,k=p.return;if(XP(p),p===w){Ue=null;break}if(g!==null){g.return=k,Ue=g;break}Ue=k}}}var A=u.alternate;if(A!==null){var _=A.child;if(_!==null){A.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}Ue=u}}if(u.subtreeFlags&2064&&h!==null)h.return=u,Ue=h;else e:for(;Ue!==null;){if(u=Ue,u.flags&2048)switch(u.tag){case 0:case 11:case 15:Yh(9,u,u.return)}var x=u.sibling;if(x!==null){x.return=u.return,Ue=x;break e}Ue=u.return}}var D=n.current;for(Ue=D;Ue!==null;){h=Ue;var O=h.child;if(h.subtreeFlags&2064&&O!==null)O.return=h,Ue=O;else e:for(h=D;Ue!==null;){if(b=Ue,b.flags&2048)try{switch(b.tag){case 0:case 11:case 15:aw(9,b)}}catch(I){Cn(b,b.return,I)}if(b===h){Ue=null;break e}var B=b.sibling;if(B!==null){B.return=b.return,Ue=B;break e}Ue=b.return}}if(Lt=c,Xa(),Yo&&typeof Yo.onPostCommitFiberRoot=="function")try{Yo.onPostCommitFiberRoot(Xv,n)}catch{}o=!0}return o}finally{Gt=i,Or.transition=t}}return!1}function IL(n,t,i){t=Ju(i,t),t=VP(n,t,1),n=$a(n,t,1),t=Wi(),n!==null&&(qf(n,1,t),ar(n,t))}function Cn(n,t,i){if(n.tag===3)IL(n,n,i);else for(;t!==null;){if(t.tag===3){IL(t,n,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ba===null||!Ba.has(o))){n=Ju(i,n),n=UP(t,n,1),t=$a(t,n,1),n=Wi(),t!==null&&(qf(t,1,n),ar(t,n));break}}t=t.return}}function uG(n,t,i){var o=n.pingCache;o!==null&&o.delete(t),t=Wi(),n.pingedLanes|=n.suspendedLanes&i,ni===n&&(mi&i)===i&&(Wn===4||Wn===3&&(mi&130023424)===mi&&500>In()-Z_?Xl(n,0):Y_|=i),ar(n,t)}function c$(n,t){t===0&&(n.mode&1?(t=jg,jg<<=1,!(jg&130023424)&&(jg=4194304)):t=1);var i=Wi();n=Os(n,t),n!==null&&(qf(n,t,i),ar(n,i))}function dG(n){var t=n.memoizedState,i=0;t!==null&&(i=t.retryLane),c$(n,i)}function hG(n,t){var i=0;switch(n.tag){case 13:var o=n.stateNode,c=n.memoizedState;c!==null&&(i=c.retryLane);break;case 19:o=n.stateNode;break;default:throw Error(Le(314))}o!==null&&o.delete(t),c$(n,i)}var u$;u$=function(n,t,i){if(n!==null)if(n.memoizedProps!==t.pendingProps||or.current)rr=!0;else{if(!(n.lanes&i)&&!(t.flags&128))return rr=!1,X8(n,t,i);rr=!!(n.flags&131072)}else rr=!1,dn&&t.flags&1048576&&fP(t,Xm,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Am(n,t),n=t.pendingProps;var c=qu(t,Ni.current);Pu(t,i),c=H_(null,t,o,n,c,i);var u=W_();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(o)?(u=!0,Zm(t)):u=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,F_(t),c.updater=ow,t.stateNode=c,c._reactInternals=t,J0(t,o,n,i),t=tA(null,t,o,!0,u,i)):(t.tag=0,dn&&u&&L_(t),Vi(null,t,c,i),t=t.child),t;case 16:o=t.elementType;e:{switch(Am(n,t),n=t.pendingProps,c=o._init,o=c(o._payload),t.type=o,c=t.tag=pG(o),n=eo(o,n),c){case 0:t=eA(null,t,o,n,i);break e;case 1:t=bL(null,t,o,n,i);break e;case 11:t=wL(null,t,o,n,i);break e;case 14:t=kL(null,t,o,eo(o.type,n),i);break e}throw Error(Le(306,o,""))}return t;case 0:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:eo(o,c),eA(n,t,o,c,i);case 1:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:eo(o,c),bL(n,t,o,c,i);case 3:e:{if(KP(t),n===null)throw Error(Le(387));o=t.pendingProps,u=t.memoizedState,c=u.element,vP(n,t),nv(t,o,null,i);var h=t.memoizedState;if(o=h.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){c=Ju(Error(Le(423)),t),t=yL(n,t,o,i,c);break e}else if(o!==c){c=Ju(Error(Le(424)),t),t=yL(n,t,o,i,c);break e}else for(gr=Pa(t.stateNode.containerInfo.firstChild),vr=t,dn=!0,no=null,i=yP(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Qu(),o===c){t=Ps(n,t,i);break e}Vi(n,t,o,i)}t=t.child}return t;case 5:return AP(t),n===null&&Q0(t),o=t.type,c=t.pendingProps,u=n!==null?n.memoizedProps:null,h=c.children,H0(o,c)?h=null:u!==null&&H0(o,u)&&(t.flags|=32),GP(n,t),Vi(n,t,h,i),t.child;case 6:return n===null&&Q0(t),null;case 13:return qP(n,t,i);case 4:return z_(t,t.stateNode.containerInfo),o=t.pendingProps,n===null?t.child=Yu(t,null,o,i):Vi(n,t,o,i),t.child;case 11:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:eo(o,c),wL(n,t,o,c,i);case 7:return Vi(n,t,t.pendingProps,i),t.child;case 8:return Vi(n,t,t.pendingProps.children,i),t.child;case 12:return Vi(n,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,c=t.pendingProps,u=t.memoizedProps,h=c.value,nn(ev,o._currentValue),o._currentValue=h,u!==null)if(lo(u.value,h)){if(u.children===c.children&&!or.current){t=Ps(n,t,i);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var b=u.dependencies;if(b!==null){h=u.child;for(var f=b.firstContext;f!==null;){if(f.context===o){if(u.tag===1){f=Is(-1,i&-i),f.tag=2;var w=u.updateQueue;if(w!==null){w=w.shared;var p=w.pending;p===null?f.next=f:(f.next=p.next,p.next=f),w.pending=f}}u.lanes|=i,f=u.alternate,f!==null&&(f.lanes|=i),Y0(u.return,i,t),b.lanes|=i;break}f=f.next}}else if(u.tag===10)h=u.type===t.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error(Le(341));h.lanes|=i,b=h.alternate,b!==null&&(b.lanes|=i),Y0(h,i,t),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===t){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}Vi(n,t,c.children,i),t=t.child}return t;case 9:return c=t.type,o=t.pendingProps.children,Pu(t,i),c=$r(c),o=o(c),t.flags|=1,Vi(n,t,o,i),t.child;case 14:return o=t.type,c=eo(o,t.pendingProps),c=eo(o.type,c),kL(n,t,o,c,i);case 15:return HP(n,t,t.type,t.pendingProps,i);case 17:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:eo(o,c),Am(n,t),t.tag=1,sr(o)?(n=!0,Zm(t)):n=!1,Pu(t,i),kP(t,o,c),J0(t,o,c,i),tA(null,t,o,!0,n,i);case 19:return QP(n,t,i);case 22:return WP(n,t,i)}throw Error(Le(156,t.tag))};function d$(n,t){return $O(n,t)}function fG(n,t,i,o){this.tag=n,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(n,t,i,o){return new fG(n,t,i,o)}function tC(n){return n=n.prototype,!(!n||!n.isReactComponent)}function pG(n){if(typeof n=="function")return tC(n)?1:0;if(n!=null){if(n=n.$$typeof,n===b_)return 11;if(n===y_)return 14}return 2}function za(n,t){var i=n.alternate;return i===null?(i=Nr(n.tag,t,n.key,n.mode),i.elementType=n.elementType,i.type=n.type,i.stateNode=n.stateNode,i.alternate=n,n.alternate=i):(i.pendingProps=t,i.type=n.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=n.flags&14680064,i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,t=n.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=n.sibling,i.index=n.index,i.ref=n.ref,i}function Em(n,t,i,o,c,u){var h=2;if(o=n,typeof n=="function")tC(n)&&(h=1);else if(typeof n=="string")h=5;else e:switch(n){case wu:return ec(i.children,c,u,t);case k_:h=8,c|=8;break;case A0:return n=Nr(12,i,t,c|2),n.elementType=A0,n.lanes=u,n;case _0:return n=Nr(13,i,t,c),n.elementType=_0,n.lanes=u,n;case C0:return n=Nr(19,i,t,c),n.elementType=C0,n.lanes=u,n;case bO:return cw(i,c,u,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case wO:h=10;break e;case kO:h=9;break e;case b_:h=11;break e;case y_:h=14;break e;case va:h=16,o=null;break e}throw Error(Le(130,n==null?n:typeof n,""))}return t=Nr(h,i,t,c),t.elementType=n,t.type=o,t.lanes=u,t}function ec(n,t,i,o){return n=Nr(7,n,o,t),n.lanes=i,n}function cw(n,t,i,o){return n=Nr(22,n,o,t),n.elementType=bO,n.lanes=i,n.stateNode={isHidden:!1},n}function Ey(n,t,i){return n=Nr(6,n,null,t),n.lanes=i,n}function Sy(n,t,i){return t=Nr(4,n.children!==null?n.children:[],n.key,t),t.lanes=i,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function gG(n,t,i,o,c){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sy(0),this.expirationTimes=sy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sy(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function nC(n,t,i,o,c,u,h,b,f){return n=new gG(n,t,i,b,f),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Nr(3,null,null,t),n.current=u,u.stateNode=n,u.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},F_(u),n}function mG(n,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vu,key:o==null?null:""+o,children:n,containerInfo:t,implementation:i}}function h$(n){if(!n)return Ka;n=n._reactInternals;e:{if(kc(n)!==n||n.tag!==1)throw Error(Le(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Le(171))}if(n.tag===1){var i=n.type;if(sr(i))return dP(n,i,t)}return t}function f$(n,t,i,o,c,u,h,b,f){return n=nC(i,o,!0,n,c,u,h,b,f),n.context=h$(null),i=n.current,o=Wi(),c=Fa(i),u=Is(o,c),u.callback=t??null,$a(i,u,c),n.current.lanes=c,qf(n,c,o),ar(n,o),n}function uw(n,t,i,o){var c=t.current,u=Wi(),h=Fa(c);return i=h$(i),t.context===null?t.context=i:t.pendingContext=i,t=Is(u,h),t.payload={element:n},o=o===void 0?null:o,o!==null&&(t.callback=o),n=$a(c,t,h),n!==null&&(so(n,c,h,u),km(n,c,h)),h}function uv(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ML(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var i=n.retryLane;n.retryLane=i!==0&&i<t?i:t}}function iC(n,t){ML(n,t),(n=n.alternate)&&ML(n,t)}function vG(){return null}var p$=typeof reportError=="function"?reportError:function(n){console.error(n)};function rC(n){this._internalRoot=n}dw.prototype.render=rC.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(Le(409));uw(n,t,null,null)};dw.prototype.unmount=rC.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;cc(function(){uw(null,n,null,null)}),t[Ns]=null}};function dw(n){this._internalRoot=n}dw.prototype.unstable_scheduleHydration=function(n){if(n){var t=HO();n={blockedOn:null,target:n,priority:t};for(var i=0;i<ba.length&&t!==0&&t<ba[i].priority;i++);ba.splice(i,0,n),i===0&&GO(n)}};function oC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function hw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function LL(){}function wG(n,t,i,o,c){if(c){if(typeof o=="function"){var u=o;o=function(){var w=uv(h);u.call(w)}}var h=f$(t,o,n,0,null,!1,!1,"",LL);return n._reactRootContainer=h,n[Ns]=h.current,vf(n.nodeType===8?n.parentNode:n),cc(),h}for(;c=n.lastChild;)n.removeChild(c);if(typeof o=="function"){var b=o;o=function(){var w=uv(f);b.call(w)}}var f=nC(n,0,!1,null,null,!1,!1,"",LL);return n._reactRootContainer=f,n[Ns]=f.current,vf(n.nodeType===8?n.parentNode:n),cc(function(){uw(t,f,i,o)}),f}function fw(n,t,i,o,c){var u=i._reactRootContainer;if(u){var h=u;if(typeof c=="function"){var b=c;c=function(){var f=uv(h);b.call(f)}}uw(t,h,n,c)}else h=wG(i,t,n,c,o);return uv(h)}VO=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var i=Oh(t.pendingLanes);i!==0&&(C_(t,i|1),ar(t,In()),!(Lt&6)&&(Xu=In()+500,Xa()))}break;case 13:cc(function(){var o=Os(n,1);if(o!==null){var c=Wi();so(o,n,1,c)}}),iC(n,1)}};E_=function(n){if(n.tag===13){var t=Os(n,134217728);if(t!==null){var i=Wi();so(t,n,134217728,i)}iC(n,134217728)}};UO=function(n){if(n.tag===13){var t=Fa(n),i=Os(n,t);if(i!==null){var o=Wi();so(i,n,t,o)}iC(n,t)}};HO=function(){return Gt};WO=function(n,t){var i=Gt;try{return Gt=n,t()}finally{Gt=i}};N0=function(n,t,i){switch(t){case"input":if(x0(n,i),t=i.name,i.type==="radio"&&t!=null){for(i=n;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==n&&o.form===n.form){var c=iw(o);if(!c)throw Error(Le(90));AO(o),x0(o,c)}}}break;case"textarea":CO(n,i);break;case"select":t=i.value,t!=null&&Lu(n,!!i.multiple,t,!1)}};MO=J_;LO=cc;var kG={usingClientEntryPoint:!1,Events:[Yf,Au,iw,DO,IO,J_]},xh={findFiberByHostInstance:Gl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},bG={bundleType:xh.bundleType,version:xh.version,rendererPackageName:xh.rendererPackageName,rendererConfig:xh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=OO(n),n===null?null:n.stateNode},findFiberByHostInstance:xh.findFiberByHostInstance||vG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jg.isDisabled&&Jg.supportsFiber)try{Xv=Jg.inject(bG),Yo=Jg}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kG;br.createPortal=function(n,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oC(t))throw Error(Le(200));return mG(n,t,null,i)};br.createRoot=function(n,t){if(!oC(n))throw Error(Le(299));var i=!1,o="",c=p$;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=nC(n,1,!1,null,null,i,!1,o,c),n[Ns]=t.current,vf(n.nodeType===8?n.parentNode:n),new rC(t)};br.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(Le(188)):(n=Object.keys(n).join(","),Error(Le(268,n)));return n=OO(t),n=n===null?null:n.stateNode,n};br.flushSync=function(n){return cc(n)};br.hydrate=function(n,t,i){if(!hw(t))throw Error(Le(200));return fw(null,n,t,!0,i)};br.hydrateRoot=function(n,t,i){if(!oC(n))throw Error(Le(405));var o=i!=null&&i.hydratedSources||null,c=!1,u="",h=p$;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),t=f$(t,null,n,1,i??null,c,!1,u,h),n[Ns]=t.current,vf(n),o)for(n=0;n<o.length;n++)i=o[n],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new dw(t)};br.render=function(n,t,i){if(!hw(t))throw Error(Le(200));return fw(null,n,t,!1,i)};br.unmountComponentAtNode=function(n){if(!hw(n))throw Error(Le(40));return n._reactRootContainer?(cc(function(){fw(null,null,n,!1,function(){n._reactRootContainer=null,n[Ns]=null})}),!0):!1};br.unstable_batchedUpdates=J_;br.unstable_renderSubtreeIntoContainer=function(n,t,i,o){if(!hw(i))throw Error(Le(200));if(n==null||n._reactInternals===void 0)throw Error(Le(38));return fw(n,t,i,!1,o)};br.version="18.2.0-next-9e3b772b8-20220608";function g$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g$)}catch(n){console.error(n)}}g$(),fO.exports=br;var yG=fO.exports,RL=yG;b0.createRoot=RL.createRoot,b0.hydrateRoot=RL.hydrateRoot;/**
 * @remix-run/router v1.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sf(){return Sf=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},Sf.apply(this,arguments)}var Da;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Da||(Da={}));const NL="popstate";function AG(n){n===void 0&&(n={});function t(o,c){let{pathname:u,search:h,hash:b}=o.location;return fA("",{pathname:u,search:h,hash:b},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){return typeof c=="string"?c:dv(c)}return CG(t,i,null,n)}function Mn(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function sC(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _G(){return Math.random().toString(36).substr(2,8)}function OL(n,t){return{usr:n.state,key:n.key,idx:t}}function fA(n,t,i,o){return i===void 0&&(i=null),Sf({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?vd(t):t,{state:i,key:t&&t.key||o||_G()})}function dv(n){let{pathname:t="/",search:i="",hash:o=""}=n;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function vd(n){let t={};if(n){let i=n.indexOf("#");i>=0&&(t.hash=n.substr(i),n=n.substr(0,i));let o=n.indexOf("?");o>=0&&(t.search=n.substr(o),n=n.substr(0,o)),n&&(t.pathname=n)}return t}function CG(n,t,i,o){o===void 0&&(o={});let{window:c=document.defaultView,v5Compat:u=!1}=o,h=c.history,b=Da.Pop,f=null,w=p();w==null&&(w=0,h.replaceState(Sf({},h.state,{idx:w}),""));function p(){return(h.state||{idx:null}).idx}function v(){b=Da.Pop;let E=p(),x=E==null?null:E-w;w=E,f&&f({action:b,location:_.location,delta:x})}function g(E,x){b=Da.Push;let D=fA(_.location,E,x);i&&i(D,E),w=p()+1;let O=OL(D,w),B=_.createHref(D);try{h.pushState(O,"",B)}catch{c.location.assign(B)}u&&f&&f({action:b,location:_.location,delta:1})}function k(E,x){b=Da.Replace;let D=fA(_.location,E,x);i&&i(D,E),w=p();let O=OL(D,w),B=_.createHref(D);h.replaceState(O,"",B),u&&f&&f({action:b,location:_.location,delta:0})}function A(E){let x=c.location.origin!=="null"?c.location.origin:c.location.href,D=typeof E=="string"?E:dv(E);return Mn(x,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,x)}let _={get action(){return b},get location(){return n(c,h)},listen(E){if(f)throw new Error("A history only accepts one active listener");return c.addEventListener(NL,v),f=E,()=>{c.removeEventListener(NL,v),f=null}},createHref(E){return t(c,E)},createURL:A,encodeLocation(E){let x=A(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:k,go(E){return h.go(E)}};return _}var PL;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(PL||(PL={}));function EG(n,t,i){i===void 0&&(i="/");let o=typeof t=="string"?vd(t):t,c=aC(o.pathname||"/",i);if(c==null)return null;let u=m$(n);SG(u);let h=null;for(let b=0;h==null&&b<u.length;++b)h=OG(u[b],BG(c));return h}function m$(n,t,i,o){t===void 0&&(t=[]),i===void 0&&(i=[]),o===void 0&&(o="");let c=(u,h,b)=>{let f={relativePath:b===void 0?u.path||"":b,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};f.relativePath.startsWith("/")&&(Mn(f.relativePath.startsWith(o),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(o.length));let w=ja([o,f.relativePath]),p=i.concat(f);u.children&&u.children.length>0&&(Mn(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),m$(u.children,t,p,w)),!(u.path==null&&!u.index)&&t.push({path:w,score:RG(w,u.index),routesMeta:p})};return n.forEach((u,h)=>{var b;if(u.path===""||!((b=u.path)!=null&&b.includes("?")))c(u,h);else for(let f of v$(u.path))c(u,h,f)}),t}function v$(n){let t=n.split("/");if(t.length===0)return[];let[i,...o]=t,c=i.endsWith("?"),u=i.replace(/\?$/,"");if(o.length===0)return c?[u,""]:[u];let h=v$(o.join("/")),b=[];return b.push(...h.map(f=>f===""?u:[u,f].join("/"))),c&&b.push(...h),b.map(f=>n.startsWith("/")&&f===""?"/":f)}function SG(n){n.sort((t,i)=>t.score!==i.score?i.score-t.score:NG(t.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}const xG=/^:\w+$/,TG=3,DG=2,IG=1,MG=10,LG=-2,$L=n=>n==="*";function RG(n,t){let i=n.split("/"),o=i.length;return i.some($L)&&(o+=LG),t&&(o+=DG),i.filter(c=>!$L(c)).reduce((c,u)=>c+(xG.test(u)?TG:u===""?IG:MG),o)}function NG(n,t){return n.length===t.length&&n.slice(0,-1).every((o,c)=>o===t[c])?n[n.length-1]-t[t.length-1]:0}function OG(n,t){let{routesMeta:i}=n,o={},c="/",u=[];for(let h=0;h<i.length;++h){let b=i[h],f=h===i.length-1,w=c==="/"?t:t.slice(c.length)||"/",p=PG({path:b.relativePath,caseSensitive:b.caseSensitive,end:f},w);if(!p)return null;Object.assign(o,p.params);let v=b.route;u.push({params:o,pathname:ja([c,p.pathname]),pathnameBase:VG(ja([c,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(c=ja([c,p.pathnameBase]))}return u}function PG(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,o]=$G(n.path,n.caseSensitive,n.end),c=t.match(i);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),b=c.slice(1);return{params:o.reduce((w,p,v)=>{if(p==="*"){let g=b[v]||"";h=u.slice(0,u.length-g.length).replace(/(.)\/+$/,"$1")}return w[p]=FG(b[v]||"",p),w},{}),pathname:u,pathnameBase:h,pattern:n}}function $G(n,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0),sC(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let o=[],c="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(h,b)=>(o.push(b),"/([^\\/]+)"));return n.endsWith("*")?(o.push("*"),c+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":n!==""&&n!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),o]}function BG(n){try{return decodeURI(n)}catch(t){return sC(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function FG(n,t){try{return decodeURIComponent(n)}catch(i){return sC(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+i+").")),n}}function aC(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,o=n.charAt(i);return o&&o!=="/"?null:n.slice(i)||"/"}function zG(n,t){t===void 0&&(t="/");let{pathname:i,search:o="",hash:c=""}=typeof n=="string"?vd(n):n;return{pathname:i?i.startsWith("/")?i:jG(i,t):t,search:UG(o),hash:HG(c)}}function jG(n,t){let i=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function xy(n,t,i,o){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w$(n){return n.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function k$(n,t,i,o){o===void 0&&(o=!1);let c;typeof n=="string"?c=vd(n):(c=Sf({},n),Mn(!c.pathname||!c.pathname.includes("?"),xy("?","pathname","search",c)),Mn(!c.pathname||!c.pathname.includes("#"),xy("#","pathname","hash",c)),Mn(!c.search||!c.search.includes("#"),xy("#","search","hash",c)));let u=n===""||c.pathname==="",h=u?"/":c.pathname,b;if(o||h==null)b=i;else{let v=t.length-1;if(h.startsWith("..")){let g=h.split("/");for(;g[0]==="..";)g.shift(),v-=1;c.pathname=g.join("/")}b=v>=0?t[v]:"/"}let f=zG(c,b),w=h&&h!=="/"&&h.endsWith("/"),p=(u||h===".")&&i.endsWith("/");return!f.pathname.endsWith("/")&&(w||p)&&(f.pathname+="/"),f}const ja=n=>n.join("/").replace(/\/\/+/g,"/"),VG=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),UG=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HG=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function WG(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}/**
 * React Router v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hv(){return hv=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},hv.apply(this,arguments)}const lC=Te.createContext(null),b$=Te.createContext(null),wd=Te.createContext(null),pw=Te.createContext(null),el=Te.createContext({outlet:null,matches:[]}),y$=Te.createContext(null);function GG(n,t){let{relative:i}=t===void 0?{}:t;kd()||Mn(!1);let{basename:o,navigator:c}=Te.useContext(wd),{hash:u,pathname:h,search:b}=_$(n,{relative:i}),f=h;return o!=="/"&&(f=h==="/"?o:ja([o,h])),c.createHref({pathname:f,search:b,hash:u})}function kd(){return Te.useContext(pw)!=null}function gw(){return kd()||Mn(!1),Te.useContext(pw).location}function A$(n){Te.useContext(wd).static||Te.useLayoutEffect(n)}function Jf(){return Te.useContext(lC)!=null?lK():KG()}function KG(){kd()||Mn(!1);let{basename:n,navigator:t}=Te.useContext(wd),{matches:i}=Te.useContext(el),{pathname:o}=gw(),c=JSON.stringify(w$(i).map(b=>b.pathnameBase)),u=Te.useRef(!1);return A$(()=>{u.current=!0}),Te.useCallback(function(b,f){if(f===void 0&&(f={}),!u.current)return;if(typeof b=="number"){t.go(b);return}let w=k$(b,JSON.parse(c),o,f.relative==="path");n!=="/"&&(w.pathname=w.pathname==="/"?n:ja([n,w.pathname])),(f.replace?t.replace:t.push)(w,f.state,f)},[n,t,c,o])}const qG=Te.createContext(null);function QG(n){let t=Te.useContext(el).outlet;return t&&Te.createElement(qG.Provider,{value:n},t)}function YG(){let{matches:n}=Te.useContext(el),t=n[n.length-1];return t?t.params:{}}function _$(n,t){let{relative:i}=t===void 0?{}:t,{matches:o}=Te.useContext(el),{pathname:c}=gw(),u=JSON.stringify(w$(o).map(h=>h.pathnameBase));return Te.useMemo(()=>k$(n,JSON.parse(u),c,i==="path"),[n,u,c,i])}function ZG(n,t){return JG(n,t)}function JG(n,t,i){kd()||Mn(!1);let{navigator:o}=Te.useContext(wd),{matches:c}=Te.useContext(el),u=c[c.length-1],h=u?u.params:{};u&&u.pathname;let b=u?u.pathnameBase:"/";u&&u.route;let f=gw(),w;if(t){var p;let _=typeof t=="string"?vd(t):t;b==="/"||(p=_.pathname)!=null&&p.startsWith(b)||Mn(!1),w=_}else w=f;let v=w.pathname||"/",g=b==="/"?v:v.slice(b.length)||"/",k=EG(n,{pathname:g}),A=iK(k&&k.map(_=>Object.assign({},_,{params:Object.assign({},h,_.params),pathname:ja([b,o.encodeLocation?o.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?b:ja([b,o.encodeLocation?o.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),c,i);return t&&A?Te.createElement(pw.Provider,{value:{location:hv({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Da.Pop}},A):A}function XG(){let n=aK(),t=WG(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},u=null;return Te.createElement(Te.Fragment,null,Te.createElement("h2",null,"Unexpected Application Error!"),Te.createElement("h3",{style:{fontStyle:"italic"}},t),i?Te.createElement("pre",{style:c},i):null,u)}const eK=Te.createElement(XG,null);class tK extends Te.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error?Te.createElement(el.Provider,{value:this.props.routeContext},Te.createElement(y$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nK(n){let{routeContext:t,match:i,children:o}=n,c=Te.useContext(lC);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),Te.createElement(el.Provider,{value:t},o)}function iK(n,t,i){var o;if(t===void 0&&(t=[]),i===void 0&&(i=null),n==null){var c;if((c=i)!=null&&c.errors)n=i.matches;else return null}let u=n,h=(o=i)==null?void 0:o.errors;if(h!=null){let b=u.findIndex(f=>f.route.id&&(h==null?void 0:h[f.route.id]));b>=0||Mn(!1),u=u.slice(0,Math.min(u.length,b+1))}return u.reduceRight((b,f,w)=>{let p=f.route.id?h==null?void 0:h[f.route.id]:null,v=null;i&&(v=f.route.errorElement||eK);let g=t.concat(u.slice(0,w+1)),k=()=>{let A;return p?A=v:f.route.element?A=f.route.element:A=b,Te.createElement(nK,{match:f,routeContext:{outlet:b,matches:g},children:A})};return i&&(f.route.ErrorBoundary||f.route.errorElement||w===0)?Te.createElement(tK,{location:i.location,revalidation:i.revalidation,component:v,error:p,children:k(),routeContext:{outlet:null,matches:g}}):k()},null)}var pA;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate"})(pA||(pA={}));var xf;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId"})(xf||(xf={}));function rK(n){let t=Te.useContext(lC);return t||Mn(!1),t}function oK(n){let t=Te.useContext(b$);return t||Mn(!1),t}function sK(n){let t=Te.useContext(el);return t||Mn(!1),t}function C$(n){let t=sK(),i=t.matches[t.matches.length-1];return i.route.id||Mn(!1),i.route.id}function aK(){var n;let t=Te.useContext(y$),i=oK(xf.UseRouteError),o=C$(xf.UseRouteError);return t||((n=i.errors)==null?void 0:n[o])}function lK(){let{router:n}=rK(pA.UseNavigateStable),t=C$(xf.UseNavigateStable),i=Te.useRef(!1);return A$(()=>{i.current=!0}),Te.useCallback(function(c,u){u===void 0&&(u={}),i.current&&(typeof c=="number"?n.navigate(c):n.navigate(c,hv({fromRouteId:t},u)))},[n,t])}function cK(n){let{to:t,replace:i,state:o,relative:c}=n;kd()||Mn(!1);let u=Te.useContext(b$),h=Jf();return Te.useEffect(()=>{u&&u.navigation.state!=="idle"||h(t,{replace:i,state:o,relative:c})}),null}function uK(n){return QG(n.context)}function ma(n){Mn(!1)}function dK(n){let{basename:t="/",children:i=null,location:o,navigationType:c=Da.Pop,navigator:u,static:h=!1}=n;kd()&&Mn(!1);let b=t.replace(/^\/*/,"/"),f=Te.useMemo(()=>({basename:b,navigator:u,static:h}),[b,u,h]);typeof o=="string"&&(o=vd(o));let{pathname:w="/",search:p="",hash:v="",state:g=null,key:k="default"}=o,A=Te.useMemo(()=>{let _=aC(w,b);return _==null?null:{location:{pathname:_,search:p,hash:v,state:g,key:k},navigationType:c}},[b,w,p,v,g,k,c]);return A==null?null:Te.createElement(wd.Provider,{value:f},Te.createElement(pw.Provider,{children:i,value:A}))}function hK(n){let{children:t,location:i}=n;return ZG(gA(t),i)}var BL;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(BL||(BL={}));new Promise(()=>{});function gA(n,t){t===void 0&&(t=[]);let i=[];return Te.Children.forEach(n,(o,c)=>{if(!Te.isValidElement(o))return;let u=[...t,c];if(o.type===Te.Fragment){i.push.apply(i,gA(o.props.children,u));return}o.type!==ma&&Mn(!1),!o.props.index||!o.props.children||Mn(!1);let h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=gA(o.props.children,u)),i.push(h)}),i}/**
 * React Router DOM v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mA(){return mA=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},mA.apply(this,arguments)}function fK(n,t){if(n==null)return{};var i={},o=Object.keys(n),c,u;for(u=0;u<o.length;u++)c=o[u],!(t.indexOf(c)>=0)&&(i[c]=n[c]);return i}function pK(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gK(n,t){return n.button===0&&(!t||t==="_self")&&!pK(n)}const mK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function vK(n){let{basename:t,children:i,window:o}=n,c=Te.useRef();c.current==null&&(c.current=AG({window:o,v5Compat:!0}));let u=c.current,[h,b]=Te.useState({action:u.action,location:u.location});return Te.useLayoutEffect(()=>u.listen(b),[u]),Te.createElement(dK,{basename:t,children:i,location:h.location,navigationType:h.action,navigator:u})}const wK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mw=Te.forwardRef(function(t,i){let{onClick:o,relative:c,reloadDocument:u,replace:h,state:b,target:f,to:w,preventScrollReset:p}=t,v=fK(t,mK),{basename:g}=Te.useContext(wd),k,A=!1;if(typeof w=="string"&&kK.test(w)&&(k=w,wK))try{let D=new URL(window.location.href),O=w.startsWith("//")?new URL(D.protocol+w):new URL(w),B=aC(O.pathname,g);O.origin===D.origin&&B!=null?w=B+O.search+O.hash:A=!0}catch{}let _=GG(w,{relative:c}),E=bK(w,{replace:h,state:b,target:f,preventScrollReset:p,relative:c});function x(D){o&&o(D),D.defaultPrevented||E(D)}return Te.createElement("a",mA({},v,{href:k||_,onClick:A||u?o:x,ref:i,target:f}))});var FL;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(FL||(FL={}));var zL;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(zL||(zL={}));function bK(n,t){let{target:i,replace:o,state:c,preventScrollReset:u,relative:h}=t===void 0?{}:t,b=Jf(),f=gw(),w=_$(n,{relative:h});return Te.useCallback(p=>{if(gK(p,i)){p.preventDefault();let v=o!==void 0?o:dv(f)===dv(w);b(n,{replace:v,state:c,preventScrollReset:u,relative:h})}},[f,b,w,o,c,i,n,u,h])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$=function(n){const t=[];let i=0;for(let o=0;o<n.length;o++){let c=n.charCodeAt(o);c<128?t[i++]=c:c<2048?(t[i++]=c>>6|192,t[i++]=c&63|128):(c&64512)===55296&&o+1<n.length&&(n.charCodeAt(o+1)&64512)===56320?(c=65536+((c&1023)<<10)+(n.charCodeAt(++o)&1023),t[i++]=c>>18|240,t[i++]=c>>12&63|128,t[i++]=c>>6&63|128,t[i++]=c&63|128):(t[i++]=c>>12|224,t[i++]=c>>6&63|128,t[i++]=c&63|128)}return t},yK=function(n){const t=[];let i=0,o=0;for(;i<n.length;){const c=n[i++];if(c<128)t[o++]=String.fromCharCode(c);else if(c>191&&c<224){const u=n[i++];t[o++]=String.fromCharCode((c&31)<<6|u&63)}else if(c>239&&c<365){const u=n[i++],h=n[i++],b=n[i++],f=((c&7)<<18|(u&63)<<12|(h&63)<<6|b&63)-65536;t[o++]=String.fromCharCode(55296+(f>>10)),t[o++]=String.fromCharCode(56320+(f&1023))}else{const u=n[i++],h=n[i++];t[o++]=String.fromCharCode((c&15)<<12|(u&63)<<6|h&63)}}return t.join("")},S$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let c=0;c<n.length;c+=3){const u=n[c],h=c+1<n.length,b=h?n[c+1]:0,f=c+2<n.length,w=f?n[c+2]:0,p=u>>2,v=(u&3)<<4|b>>4;let g=(b&15)<<2|w>>6,k=w&63;f||(k=64,h||(g=64)),o.push(i[p],i[v],i[g],i[k])}return o.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(E$(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):yK(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let c=0;c<n.length;){const u=i[n.charAt(c++)],b=c<n.length?i[n.charAt(c)]:0;++c;const w=c<n.length?i[n.charAt(c)]:64;++c;const v=c<n.length?i[n.charAt(c)]:64;if(++c,u==null||b==null||w==null||v==null)throw new AK;const g=u<<2|b>>4;if(o.push(g),w!==64){const k=b<<4&240|w>>2;if(o.push(k),v!==64){const A=w<<6&192|v;o.push(A)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class AK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _K=function(n){const t=E$(n);return S$.encodeByteArray(t,!0)},fv=function(n){return _K(n).replace(/\./g,"")},x$=function(n){try{return S$.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EK=()=>CK().__FIREBASE_DEFAULTS__,SK=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xK=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&x$(n[1]);return t&&JSON.parse(t)},cC=()=>{try{return EK()||SK()||xK()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},T$=n=>{var t,i;return(i=(t=cC())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[n]},TK=n=>{const t=T$(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),o]:[t.substring(0,i),o]},DK=()=>{var n;return(n=cC())===null||n===void 0?void 0:n.config},D$=n=>{var t;return(t=cC())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MK(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=t||"demo-project",c=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:c,exp:c+3600,auth_time:c,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n),b="";return[fv(JSON.stringify(i)),fv(JSON.stringify(h)),b].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oi())}function RK(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OK(){const n=Oi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function PK(){try{return typeof indexedDB=="object"}catch{return!1}}function $K(){return new Promise((n,t)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(o);c.onsuccess=()=>{c.result.close(),i||self.indexedDB.deleteDatabase(o),n(!0)},c.onupgradeneeded=()=>{i=!1},c.onerror=()=>{var u;t(((u=c.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BK="FirebaseError";class Us extends Error{constructor(t,i,o){super(i),this.code=t,this.customData=o,this.name=BK,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xf.prototype.create)}}class Xf{constructor(t,i,o){this.service=t,this.serviceName=i,this.errors=o}create(t,...i){const o=i[0]||{},c=`${this.service}/${t}`,u=this.errors[t],h=u?FK(u,o):"Error",b=`${this.serviceName}: ${h} (${c}).`;return new Us(c,b,o)}}function FK(n,t){return n.replace(zK,(i,o)=>{const c=t[o];return c!=null?String(c):`<${o}?>`})}const zK=/\{\$([^}]+)}/g;function jK(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function pv(n,t){if(n===t)return!0;const i=Object.keys(n),o=Object.keys(t);for(const c of i){if(!o.includes(c))return!1;const u=n[c],h=t[c];if(jL(u)&&jL(h)){if(!pv(u,h))return!1}else if(u!==h)return!1}for(const c of o)if(!i.includes(c))return!1;return!0}function jL(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(n){const t=[];for(const[i,o]of Object.entries(n))Array.isArray(o)?o.forEach(c=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(c))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function $h(n){const t={};return n.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[c,u]=o.split("=");t[decodeURIComponent(c)]=decodeURIComponent(u)}}),t}function Bh(n){const t=n.indexOf("?");if(!t)return"";const i=n.indexOf("#",t);return n.substring(t,i>0?i:void 0)}function VK(n,t){const i=new UK(n,t);return i.subscribe.bind(i)}class UK{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(o=>{this.error(o)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,o){let c;if(t===void 0&&i===void 0&&o===void 0)throw new Error("Missing Observer.");HK(t,["next","error","complete"])?c=t:c={next:t,error:i,complete:o},c.next===void 0&&(c.next=Ty),c.error===void 0&&(c.error=Ty),c.complete===void 0&&(c.complete=Ty);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HK(n,t){if(typeof n!="object"||n===null)return!1;for(const i of t)if(i in n&&typeof n[i]=="function")return!0;return!1}function Ty(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(n){return n&&n._delegate?n._delegate:n}class uc{constructor(t,i,o){this.name=t,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WK=class{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const o=new IK;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:i});c&&o.resolve(c)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),c=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(c)return null;throw u}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(KK(t))try{this.getOrInitializeService({instanceIdentifier:Vl})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:c});o.resolve(u)}catch{}}}}clearInstance(t=Vl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vl){return this.instances.has(t)}getOptions(t=Vl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[u,h]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(u);o===b&&h.resolve(c)}return c}onInit(t,i){var o;const c=this.normalizeInstanceIdentifier(i),u=(o=this.onInitCallbacks.get(c))!==null&&o!==void 0?o:new Set;u.add(t),this.onInitCallbacks.set(c,u);const h=this.instances.get(c);return h&&t(h,c),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const o=this.onInitCallbacks.get(i);if(o)for(const c of o)try{c(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:GK(t),options:i}),this.instances.set(t,o),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Vl){return this.component?this.component.multipleInstances?t:Vl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function GK(n){return n===Vl?void 0:n}function KK(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new WK(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Nt||(Nt={}));const QK={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},YK=Nt.INFO,ZK={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},JK=(n,t,...i)=>{if(t<n.logLevel)return;const o=new Date().toISOString(),c=ZK[t];if(c)console[c](`[${o}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class uC{constructor(t){this.name=t,this._logLevel=YK,this._logHandler=JK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?QK[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const XK=(n,t)=>t.some(i=>n instanceof i);let VL,UL;function eq(){return VL||(VL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tq(){return UL||(UL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I$=new WeakMap,vA=new WeakMap,M$=new WeakMap,Dy=new WeakMap,dC=new WeakMap;function nq(n){const t=new Promise((i,o)=>{const c=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{i(Va(n.result)),c()},h=()=>{o(n.error),c()};n.addEventListener("success",u),n.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&I$.set(i,n)}).catch(()=>{}),dC.set(t,n),t}function iq(n){if(vA.has(n))return;const t=new Promise((i,o)=>{const c=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{i(),c()},h=()=>{o(n.error||new DOMException("AbortError","AbortError")),c()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});vA.set(n,t)}let wA={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return vA.get(n);if(t==="objectStoreNames")return n.objectStoreNames||M$.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Va(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function rq(n){wA=n(wA)}function oq(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const o=n.call(Iy(this),t,...i);return M$.set(o,t.sort?t.sort():[t]),Va(o)}:tq().includes(n)?function(...t){return n.apply(Iy(this),t),Va(I$.get(this))}:function(...t){return Va(n.apply(Iy(this),t))}}function sq(n){return typeof n=="function"?oq(n):(n instanceof IDBTransaction&&iq(n),XK(n,eq())?new Proxy(n,wA):n)}function Va(n){if(n instanceof IDBRequest)return nq(n);if(Dy.has(n))return Dy.get(n);const t=sq(n);return t!==n&&(Dy.set(n,t),dC.set(t,n)),t}const Iy=n=>dC.get(n);function aq(n,t,{blocked:i,upgrade:o,blocking:c,terminated:u}={}){const h=indexedDB.open(n,t),b=Va(h);return o&&h.addEventListener("upgradeneeded",f=>{o(Va(h.result),f.oldVersion,f.newVersion,Va(h.transaction),f)}),i&&h.addEventListener("blocked",f=>i(f.oldVersion,f.newVersion,f)),b.then(f=>{u&&f.addEventListener("close",()=>u()),c&&f.addEventListener("versionchange",w=>c(w.oldVersion,w.newVersion,w))}).catch(()=>{}),b}const lq=["get","getKey","getAll","getAllKeys","count"],cq=["put","add","delete","clear"],My=new Map;function HL(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(My.get(t))return My.get(t);const i=t.replace(/FromIndex$/,""),o=t!==i,c=cq.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(c||lq.includes(i)))return;const u=async function(h,...b){const f=this.transaction(h,c?"readwrite":"readonly");let w=f.store;return o&&(w=w.index(b.shift())),(await Promise.all([w[i](...b),c&&f.done]))[0]};return My.set(t,u),u}rq(n=>({...n,get:(t,i,o)=>HL(t,i)||n.get(t,i,o),has:(t,i)=>!!HL(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(dq(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function dq(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const kA="@firebase/app",WL="0.9.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new uC("@firebase/app"),hq="@firebase/app-compat",fq="@firebase/analytics-compat",pq="@firebase/analytics",gq="@firebase/app-check-compat",mq="@firebase/app-check",vq="@firebase/auth",wq="@firebase/auth-compat",kq="@firebase/database",bq="@firebase/database-compat",yq="@firebase/functions",Aq="@firebase/functions-compat",_q="@firebase/installations",Cq="@firebase/installations-compat",Eq="@firebase/messaging",Sq="@firebase/messaging-compat",xq="@firebase/performance",Tq="@firebase/performance-compat",Dq="@firebase/remote-config",Iq="@firebase/remote-config-compat",Mq="@firebase/storage",Lq="@firebase/storage-compat",Rq="@firebase/firestore",Nq="@firebase/firestore-compat",Oq="firebase",Pq="9.21.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="[DEFAULT]",$q={[kA]:"fire-core",[hq]:"fire-core-compat",[pq]:"fire-analytics",[fq]:"fire-analytics-compat",[mq]:"fire-app-check",[gq]:"fire-app-check-compat",[vq]:"fire-auth",[wq]:"fire-auth-compat",[kq]:"fire-rtdb",[bq]:"fire-rtdb-compat",[yq]:"fire-fn",[Aq]:"fire-fn-compat",[_q]:"fire-iid",[Cq]:"fire-iid-compat",[Eq]:"fire-fcm",[Sq]:"fire-fcm-compat",[xq]:"fire-perf",[Tq]:"fire-perf-compat",[Dq]:"fire-rc",[Iq]:"fire-rc-compat",[Mq]:"fire-gcs",[Lq]:"fire-gcs-compat",[Rq]:"fire-fst",[Nq]:"fire-fst-compat","fire-js":"fire-js",[Oq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map,yA=new Map;function Bq(n,t){try{n.container.addComponent(t)}catch(i){dc.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function ed(n){const t=n.name;if(yA.has(t))return dc.debug(`There were multiple attempts to register component ${t}.`),!1;yA.set(t,n);for(const i of gv.values())Bq(i,n);return!0}function hC(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ua=new Xf("app","Firebase",Fq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(t,i,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new uc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=Pq;function L$(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const o=Object.assign({name:bA,automaticDataCollectionEnabled:!1},t),c=o.name;if(typeof c!="string"||!c)throw Ua.create("bad-app-name",{appName:String(c)});if(i||(i=DK()),!i)throw Ua.create("no-options");const u=gv.get(c);if(u){if(pv(i,u.options)&&pv(o,u.config))return u;throw Ua.create("duplicate-app",{appName:c})}const h=new qK(c);for(const f of yA.values())h.addComponent(f);const b=new zq(i,o,h);return gv.set(c,b),b}function R$(n=bA){const t=gv.get(n);if(!t&&n===bA)return L$();if(!t)throw Ua.create("no-app",{appName:n});return t}function Ha(n,t,i){var o;let c=(o=$q[n])!==null&&o!==void 0?o:n;i&&(c+=`-${i}`);const u=c.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const b=[`Unable to register library "${c}" with version "${t}":`];u&&b.push(`library name "${c}" contains illegal characters (whitespace or "/")`),u&&h&&b.push("and"),h&&b.push(`version name "${t}" contains illegal characters (whitespace or "/")`),dc.warn(b.join(" "));return}ed(new uc(`${c}-version`,()=>({library:c,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq="firebase-heartbeat-database",Vq=1,Tf="firebase-heartbeat-store";let Ly=null;function N$(){return Ly||(Ly=aq(jq,Vq,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Tf)}}}).catch(n=>{throw Ua.create("idb-open",{originalErrorMessage:n.message})})),Ly}async function Uq(n){try{return(await N$()).transaction(Tf).objectStore(Tf).get(O$(n))}catch(t){if(t instanceof Us)dc.warn(t.message);else{const i=Ua.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});dc.warn(i.message)}}}async function GL(n,t){try{const o=(await N$()).transaction(Tf,"readwrite");return await o.objectStore(Tf).put(t,O$(n)),o.done}catch(i){if(i instanceof Us)dc.warn(i.message);else{const o=Ua.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});dc.warn(o.message)}}}function O$(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq=1024,Wq=30*24*60*60*1e3;class Gq{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qq(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=KL();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const u=new Date(c.date).valueOf();return Date.now()-u<=Wq}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=KL(),{heartbeatsToSend:i,unsentEntries:o}=Kq(this._heartbeatsCache.heartbeats),c=fv(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}}function KL(){return new Date().toISOString().substring(0,10)}function Kq(n,t=Hq){const i=[];let o=n.slice();for(const c of n){const u=i.find(h=>h.agent===c.agent);if(u){if(u.dates.push(c.date),qL(i)>t){u.dates.pop();break}}else if(i.push({agent:c.agent,dates:[c.date]}),qL(i)>t){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class qq{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PK()?$K().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Uq(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const c=await this.read();return GL(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:c.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const c=await this.read();return GL(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...t.heartbeats]})}else return}}function qL(n){return fv(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(n){ed(new uc("platform-logger",t=>new uq(t),"PRIVATE")),ed(new uc("heartbeat",t=>new Gq(t),"PRIVATE")),Ha(kA,WL,n),Ha(kA,WL,"esm2017"),Ha("fire-js","")}Qq("");var Yq="firebase",Zq="9.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ha(Yq,Zq,"app");function fC(n,t){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&t.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(n);c<o.length;c++)t.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(n,o[c])&&(i[o[c]]=n[o[c]]);return i}function P$(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jq=P$,$$=new Xf("auth","Firebase",P$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new uC("@firebase/auth");function Xq(n,...t){mv.logLevel<=Nt.WARN&&mv.warn(`Auth (${bd}): ${n}`,...t)}function Sm(n,...t){mv.logLevel<=Nt.ERROR&&mv.error(`Auth (${bd}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(n,...t){throw pC(n,...t)}function Jo(n,...t){return pC(n,...t)}function eQ(n,t,i){const o=Object.assign(Object.assign({},Jq()),{[t]:i});return new Xf("auth","Firebase",o).create(t,{appName:n.name})}function pC(n,...t){if(typeof n!="string"){const i=t[0],o=[...t.slice(1)];return o[0]&&(o[0].appName=n.name),n._errorFactory.create(i,...o)}return $$.create(n,...t)}function rt(n,t,...i){if(!n)throw pC(t,...i)}function Es(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Sm(t),new Error(t)}function $s(n,t){n||Es(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function tQ(){return QL()==="http:"||QL()==="https:"}function QL(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tQ()||RK()||"connection"in navigator)?navigator.onLine:!0}function iQ(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t,i){this.shortDelay=t,this.longDelay=i,$s(i>t,"Short delay should be less than long delay!"),this.isMobile=LK()||NK()}get(){return nQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(n,t){$s(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${static initialize(t,i,o){this.fetchImpl=t,i&&(this.headersImpl=i),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ=new tp(3e4,6e4);function yd(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Ad(n,t,i,o,c={}){return F$(n,c,async()=>{let u={},h={};o&&(t==="GET"?h=o:u={body:JSON.stringify(o)});const b=ep(Object.assign({key:n.config.apiKey},h)).slice(1),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode),B$.fetch()(z$(n,n.config.apiHost,i,b),Object.assign({method:t,headers:f,referrerPolicy:"no-referrer"},u))})}async function F$(n,t,i){n._canInitEmulator=!1;const o=Object.assign(Object.assign({},rQ),t);try{const c=new sQ(n),u=await Promise.race([i(),c.promise]);c.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Xg(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const b=u.ok?h.errorMessage:h.error.message,[f,w]=b.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xg(n,"credential-already-in-use",h);if(f==="EMAIL_EXISTS")throw Xg(n,"email-already-in-use",h);if(f==="USER_DISABLED")throw Xg(n,"user-disabled",h);const p=o[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw eQ(n,p,w);co(n,p)}}catch(c){if(c instanceof Us)throw c;co(n,"network-request-failed",{message:String(c)})}}async function np(n,t,i,o,c={}){const u=await Ad(n,t,i,o,c);return"mfaPendingCredential"in u&&co(n,"multi-factor-auth-required",{_serverResponse:u}),u}function z$(n,t,i,o){const c=`${t}${i}?${o}`;return n.config.emulator?gC(n.config,c):`${n.config.apiScheme}://${c}`}class sQ{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,o)=>{this.timer=setTimeout(()=>o(Jo(this.auth,"network-request-failed")),oQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xg(n,t,i){const o={appName:n.name};i.email&&(o.email=i.email),i.phoneNumber&&(o.phoneNumber=i.phoneNumber);const c=Jo(n,t,o);return c.customData._tokenResponse=i,c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aQ(n,t){return Ad(n,"POST","/v1/accounts:delete",t)}async function lQ(n,t){return Ad(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cQ(n,t=!1){const i=ii(n),o=await i.getIdToken(t),c=mC(o);rt(c&&c.exp&&c.auth_time&&c.iat,i.auth,"internal-error");const u=typeof c.firebase=="object"?c.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:c,token:o,authTime:Xh(Ry(c.auth_time)),issuedAtTime:Xh(Ry(c.iat)),expirationTime:Xh(Ry(c.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Ry(n){return Number(n)*1e3}function mC(n){const[t,i,o]=n.split(".");if(t===void 0||i===void 0||o===void 0)return Sm("JWT malformed, contained fewer than 3 sections"),null;try{const c=x$(i);return c?JSON.parse(c):(Sm("Failed to decode base64 JWT payload"),null)}catch(c){return Sm("Caught error parsing JWT payload as JSON",c==null?void 0:c.toString()),null}}function uQ(n){const t=mC(n);return rt(t,"internal-error"),rt(typeof t.exp<"u","internal-error"),rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Df(n,t,i=!1){if(i)return t;try{return await t}catch(o){throw o instanceof Us&&dQ(o)&&n.auth.currentUser===n&&await n.auth.signOut(),o}}function dQ({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const c=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xh(this.lastLoginAt),this.creationTime=Xh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vv(n){var t;const i=n.auth,o=await n.getIdToken(),c=await Df(n,lQ(i,{idToken:o}));rt(c==null?void 0:c.users.length,i,"internal-error");const u=c.users[0];n._notifyReloadListener(u);const h=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?gQ(u.providerUserInfo):[],b=pQ(n.providerData,h),f=n.isAnonymous,w=!(n.email&&u.passwordHash)&&!(b!=null&&b.length),p=f?w:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:b,metadata:new j$(u.createdAt,u.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function fQ(n){const t=ii(n);await vv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pQ(n,t){return[...n.filter(o=>!t.some(c=>c.providerId===o.providerId)),...t]}function gQ(n){return n.map(t=>{var{providerId:i}=t,o=fC(t,["providerId"]);return{providerId:i,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mQ(n,t){const i=await F$(n,{},async()=>{const o=ep({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:c,apiKey:u}=n.config,h=z$(n,c,"/v1/token",`key=${u}`),b=await n._getAdditionalHeaders();return b["Content-Type"]="application/x-www-form-urlencoded",B$.fetch()(h,{method:"POST",headers:b,body:o})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){rt(t.idToken,"internal-error"),rt(typeof t.idToken<"u","internal-error"),rt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):uQ(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}async getToken(t,i=!1){return rt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!i&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:o,refreshToken:c,expiresIn:u}=await mQ(t,i);this.updateTokensAndExpiration(o,c,Number(u))}updateTokensAndExpiration(t,i,o){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(t,i){const{refreshToken:o,accessToken:c,expirationTime:u}=i,h=new If;return o&&(rt(typeof o=="string","internal-error",{appName:t}),h.refreshToken=o),c&&(rt(typeof c=="string","internal-error",{appName:t}),h.accessToken=c),u&&(rt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new If,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(n,t){rt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class tc{constructor(t){var{uid:i,auth:o,stsTokenManager:c}=t,u=fC(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=o,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new j$(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const i=await Df(this,this.stsTokenManager.getToken(this.auth,t));return rt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return cQ(this,t)}reload(){return fQ(this)}_assign(t){this!==t&&(rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new tc(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let o=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),o=!0),i&&await vv(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Df(this,aQ(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var o,c,u,h,b,f,w,p;const v=(o=i.displayName)!==null&&o!==void 0?o:void 0,g=(c=i.email)!==null&&c!==void 0?c:void 0,k=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,A=(h=i.photoURL)!==null&&h!==void 0?h:void 0,_=(b=i.tenantId)!==null&&b!==void 0?b:void 0,E=(f=i._redirectEventId)!==null&&f!==void 0?f:void 0,x=(w=i.createdAt)!==null&&w!==void 0?w:void 0,D=(p=i.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:O,emailVerified:B,isAnonymous:I,providerData:R,stsTokenManager:j}=i;rt(O&&j,t,"internal-error");const N=If.fromJSON(this.name,j);rt(typeof O=="string",t,"internal-error"),pa(v,t.name),pa(g,t.name),rt(typeof B=="boolean",t,"internal-error"),rt(typeof I=="boolean",t,"internal-error"),pa(k,t.name),pa(A,t.name),pa(_,t.name),pa(E,t.name),pa(x,t.name),pa(D,t.name);const P=new tc({uid:O,auth:t,email:g,emailVerified:B,displayName:v,isAnonymous:I,photoURL:A,phoneNumber:k,tenantId:_,stsTokenManager:N,createdAt:x,lastLoginAt:D});return R&&Array.isArray(R)&&(P.providerData=R.map(F=>Object.assign({},F))),E&&(P._redirectEventId=E),P}static async _fromIdTokenResponse(t,i,o=!1){const c=new If;c.updateFromServerResponse(i);const u=new tc({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:o});return await vv(u),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=new Map;function Ss(n){$s(n instanceof Function,"Expected a class definition");let t=YL.get(n);return t?($s(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,YL.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}V$.type="NONE";const ZL=V$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(n,t,i){return`firebase:${n}:${t}:${i}`}class Bu{constructor(t,i,o){this.persistence=t,this.auth=i,this.userKey=o;const{config:c,name:u}=this.auth;this.fullUserKey=xm(this.userKey,c.apiKey,u),this.fullPersistenceKey=xm("persistence",c.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?tc._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,o="authUser"){if(!i.length)return new Bu(Ss(ZL),t,o);const c=(await Promise.all(i.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let u=c[0]||Ss(ZL);const h=xm(o,t.config.apiKey,t.name);let b=null;for(const w of i)try{const p=await w._get(h);if(p){const v=tc._fromJSON(t,p);w!==u&&(b=v),u=w;break}}catch{}const f=c.filter(w=>w._shouldAllowMigration);return!u._shouldAllowMigration||!f.length?new Bu(u,t,o):(u=f[0],b&&await u._set(h,b.toJSON()),await Promise.all(i.map(async w=>{if(w!==u)try{await w._remove(h)}catch{}})),new Bu(u,t,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(W$(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(U$(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(K$(t))return"Blackberry";if(q$(t))return"Webos";if(vC(t))return"Safari";if((t.includes("chrome/")||H$(t))&&!t.includes("edge/"))return"Chrome";if(G$(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=n.match(i);if((o==null?void 0:o.length)===2)return o[1]}return"Other"}function U$(n=Oi()){return/firefox\//i.test(n)}function vC(n=Oi()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function H$(n=Oi()){return/crios\//i.test(n)}function W$(n=Oi()){return/iemobile/i.test(n)}function G$(n=Oi()){return/android/i.test(n)}function K$(n=Oi()){return/blackberry/i.test(n)}function q$(n=Oi()){return/webos/i.test(n)}function vw(n=Oi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vQ(n=Oi()){var t;return vw(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function wQ(){return OK()&&document.documentMode===10}function Q$(n=Oi()){return vw(n)||G$(n)||q$(n)||K$(n)||/windows phone/i.test(n)||W$(n)}function kQ(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(n,t=[]){let i;switch(n){case"Browser":i=JL(Oi());break;case"Worker":i=`${JL(Oi())}-${n}`;break;default:i=n}const o=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${bd}/${o}`}async function Z$(n,t){return Ad(n,"GET","/v2/recaptchaConfig",yd(n,t))}function XL(n){return n!==void 0&&n.enterprise!==void 0}class J${constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(i=>i.provider==="EMAIL_PASSWORD_PROVIDER"&&i.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bQ(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}function X$(n){return new Promise((t,i)=>{const o=document.createElement("script");o.setAttribute("src",n),o.onload=t,o.onerror=c=>{const u=Jo("internal-error");u.customData=c,i(u)},o.type="text/javascript",o.charset="UTF-8",bQ().appendChild(o)})}function yQ(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const AQ="https://www.google.com/recaptcha/enterprise.js?render=",_Q="recaptcha-enterprise",CQ="NO_RECAPTCHA";class eB{constructor(t){this.type=_Q,this.auth=_d(t)}async verify(t="verify",i=!1){async function o(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,b)=>{Z$(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)b(new Error("recaptcha Enterprise site key undefined"));else{const w=new J$(f);return u.tenantId==null?u._agentRecaptchaConfig=w:u._tenantRecaptchaConfigs[u.tenantId]=w,h(w.siteKey)}}).catch(f=>{b(f)})})}function c(u,h,b){const f=window.grecaptcha;XL(f)?f.enterprise.ready(()=>{f.enterprise.execute(u,{action:t}).then(w=>{h(w)}).catch(()=>{h(CQ)})}):b(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,h)=>{o(this.auth).then(b=>{if(!i&&XL(window.grecaptcha))c(b,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}X$(AQ+b).then(()=>{c(b,u,h)}).catch(f=>{h(f)})}}).catch(b=>{h(b)})})}}async function wv(n,t,i,o=!1){const c=new eB(n);let u;try{u=await c.verify(i)}catch{u=await c.verify(i,!0)}const h=Object.assign({},t);return o?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const o=u=>new Promise((h,b)=>{try{const f=t(u);h(f)}catch(f){b(f)}});o.onAbort=i,this.queue.push(o);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const o of this.queue)await o(t),o.onAbort&&i.push(o.onAbort)}catch(o){i.reverse();for(const c of i)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(t,i,o,c){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=o,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eR(this),this.idTokenSubscription=new eR(this),this.beforeStateQueue=new EQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=c.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ss(i)),this._initializationPromise=this.queue(async()=>{var o,c;if(!this._deleted&&(this.persistenceManager=await Bu.create(this,t),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var i;const o=await this.assertedPersistence.getCurrentUser();let c=o,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,b=c==null?void 0:c._redirectEventId,f=await this.tryRedirectSignIn(t);(!h||h===b)&&(f!=null&&f.user)&&(c=f.user,u=!0)}if(!c)return this.directlySetCurrentUser(null);if(!c._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(c)}catch(h){c=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return c?this.reloadAndSetCurrentUserOrClear(c):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===c._redirectEventId?this.directlySetCurrentUser(c):this.reloadAndSetCurrentUserOrClear(c)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await vv(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iQ()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const i=t?ii(t):null;return i&&rt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(t))})}async initializeRecaptchaConfig(){const t=await Z$(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new J$(t);this.tenantId==null?this._agentRecaptchaConfig=i:this._tenantRecaptchaConfigs[this.tenantId]=i,i.emailPasswordEnabled&&new eB(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Xf("auth","Firebase",t())}onAuthStateChanged(t,i,o){return this.registerStateListener(this.authStateSubscription,t,i,o)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,o){return this.registerStateListener(this.idTokenSubscription,t,i,o)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const o=await this.getOrInitRedirectPersistenceManager(i);return t===null?o.removeCurrentUser():o.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ss(t)||this._popupRedirectResolver;rt(i,this,"argument-error"),this.redirectPersistenceManager=await Bu.create(this,[Ss(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,o;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((o=this.redirectUser)===null||o===void 0?void 0:o._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const o=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==o&&(this.lastNotifiedUid=o,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,o,c){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i),h=this._isInitialized?Promise.resolve():this._initializationPromise;return rt(h,this,"internal-error"),h.then(()=>u(this.currentUser)),typeof i=="function"?t.addObserver(i,o,c):t.addObserver(i)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Y$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const o=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());o&&(i["X-Firebase-Client"]=o);const c=await this._getAppCheckToken();return c&&(i["X-Firebase-AppCheck"]=c),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&Xq(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function _d(n){return ii(n)}class eR{constructor(t){this.auth=t,this.observer=null,this.addObserver=VK(i=>this.observer=i)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(n,t){const i=hC(n,"auth");if(i.isInitialized()){const c=i.getImmediate(),u=i.getOptions();if(pv(u,t??{}))return c;co(c,"already-initialized")}return i.initialize({options:t})}function TQ(n,t){const i=(t==null?void 0:t.persistence)||[],o=(Array.isArray(i)?i:[i]).map(Ss);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(o,t==null?void 0:t.popupRedirectResolver)}function DQ(n,t,i){const o=_d(n);rt(o._canInitEmulator,o,"emulator-config-failed"),rt(/^https?:\/\//.test(t),o,"invalid-emulator-scheme");const c=!!(i!=null&&i.disableWarnings),u=tB(t),{host:h,port:b}=IQ(t),f=b===null?"":`:${b}`;o.config.emulator={url:`${u}//${h}${f}/`},o.settings.appVerificationDisabledForTesting=!0,o.emulatorConfig=Object.freeze({host:h,port:b,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:c})}),c||MQ()}function tB(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function IQ(n){const t=tB(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!i)return{host:"",port:null};const o=i[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(o);if(c){const u=c[1];return{host:u,port:tR(o.substr(u.length+1))}}else{const[u,h]=o.split(":");return{host:u,port:tR(h)}}}function tR(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function MQ(){function n(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Es("not implemented")}_getIdTokenResponse(t){return Es("not implemented")}_linkToIdToken(t,i){return Es("not implemented")}_getReauthenticationResolver(t){return Es("not implemented")}}async function LQ(n,t){return Ad(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ny(n,t){return np(n,"POST","/v1/accounts:signInWithPassword",yd(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RQ(n,t){return np(n,"POST","/v1/accounts:signInWithEmailLink",yd(n,t))}async function NQ(n,t){return np(n,"POST","/v1/accounts:signInWithEmailLink",yd(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends wC{constructor(t,i,o,c=null){super("password",o),this._email=t,this._password=i,this._tenantId=c}static _fromEmailAndPassword(t,i){return new Mf(t,i,"password")}static _fromEmailAndCode(t,i,o=null){return new Mf(t,i,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){var i;switch(this.signInMethod){case"password":const o={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const c=await wv(t,o,"signInWithPassword");return Ny(t,c)}else return Ny(t,o).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const u=await wv(t,o,"signInWithPassword");return Ny(t,u)}else return Promise.reject(c)});case"emailLink":return RQ(t,{email:this._email,oobCode:this._password});default:co(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":return LQ(t,{idToken:i,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return NQ(t,{idToken:i,email:this._email,oobCode:this._password});default:co(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(n,t){return np(n,"POST","/v1/accounts:signInWithIdp",yd(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ="http://localhost";class hc extends wC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new hc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):co("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:o,signInMethod:c}=i,u=fC(i,["providerId","signInMethod"]);if(!o||!c)return null;const h=new hc(o,c);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return Fu(t,i)}_linkToIdToken(t,i){const o=this.buildRequest();return o.idToken=i,Fu(t,o)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fu(t,i)}buildRequest(){const t={requestUri:OQ,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ep(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PQ(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $Q(n){const t=$h(Bh(n)).link,i=t?$h(Bh(t)).deep_link_id:null,o=$h(Bh(n)).deep_link_id;return(o?$h(Bh(o)).link:null)||o||i||t||n}class kC{constructor(t){var i,o,c,u,h,b;const f=$h(Bh(t)),w=(i=f.apiKey)!==null&&i!==void 0?i:null,p=(o=f.oobCode)!==null&&o!==void 0?o:null,v=PQ((c=f.mode)!==null&&c!==void 0?c:null);rt(w&&p&&v,"argument-error"),this.apiKey=w,this.operation=v,this.code=p,this.continueUrl=(u=f.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=f.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(b=f.tenantId)!==null&&b!==void 0?b:null}static parseLink(t){const i=$Q(t);try{return new kC(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.providerId=Cd.PROVIDER_ID}static credential(t,i){return Mf._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const o=kC.parseLink(i);return rt(o,"argument-error"),Mf._fromEmailAndCode(t,o.code,o.tenantId)}}Cd.PROVIDER_ID="password";Cd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends nB{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends ip{constructor(){super("facebook.com")}static credential(t){return hc._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Aa.credentialFromTaggedObject(t)}static credentialFromError(t){return Aa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Aa.credential(t.oauthAccessToken)}catch{return null}}}Aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends ip{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return hc._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return _a.credentialFromTaggedObject(t)}static credentialFromError(t){return _a.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:o}=t;if(!i&&!o)return null;try{return _a.credential(i,o)}catch{return null}}}_a.GOOGLE_SIGN_IN_METHOD="google.com";_a.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends ip{constructor(){super("github.com")}static credential(t){return hc._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ca.credentialFromTaggedObject(t)}static credentialFromError(t){return Ca.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ca.credential(t.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends ip{constructor(){super("twitter.com")}static credential(t,i){return hc._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ea.credentialFromTaggedObject(t)}static credentialFromError(t){return Ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:o}=t;if(!i||!o)return null;try{return Ea.credential(i,o)}catch{return null}}}Ea.TWITTER_SIGN_IN_METHOD="twitter.com";Ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oy(n,t){return np(n,"POST","/v1/accounts:signUp",yd(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,o,c=!1){const u=await tc._fromIdTokenResponse(t,o,c),h=nR(o);return new fc({user:u,providerId:h,_tokenResponse:o,operationType:i})}static async _forOperation(t,i,o){await t._updateTokensIfNecessary(o,!0);const c=nR(o);return new fc({user:t,providerId:c,_tokenResponse:o,operationType:i})}}function nR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends Us{constructor(t,i,o,c){var u;super(i.code,i.message),this.operationType=o,this.user=c,Object.setPrototypeOf(this,kv.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(t,i,o,c){return new kv(t,i,o,c)}}function iB(n,t,i,o){return(t==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?kv._fromErrorAndOperation(n,u,t,o):u})}async function BQ(n,t,i=!1){const o=await Df(n,t._linkToIdToken(n.auth,await n.getIdToken()),i);return fc._forOperation(n,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FQ(n,t,i=!1){const{auth:o}=n,c="reauthenticate";try{const u=await Df(n,iB(o,c,t,n),i);rt(u.idToken,o,"internal-error");const h=mC(u.idToken);rt(h,o,"internal-error");const{sub:b}=h;return rt(n.uid===b,o,"user-mismatch"),fc._forOperation(n,c,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&co(o,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rB(n,t,i=!1){const o="signIn",c=await iB(n,o,t),u=await fc._fromIdTokenResponse(n,o,c);return i||await n._updateCurrentUser(u.user),u}async function zQ(n,t){return rB(_d(n),t)}async function jQ(n,t,i){var o;const c=_d(n),u={returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"};let h;if(!((o=c._getRecaptchaConfig())===null||o===void 0)&&o.emailPasswordEnabled){const w=await wv(c,u,"signUpPassword");h=Oy(c,w)}else h=Oy(c,u).catch(async w=>{if(w.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const p=await wv(c,u,"signUpPassword");return Oy(c,p)}else return Promise.reject(w)});const b=await h.catch(w=>Promise.reject(w)),f=await fc._fromIdTokenResponse(c,"signIn",b);return await c._updateCurrentUser(f.user),f}function VQ(n,t,i){return zQ(ii(n),Cd.credential(t,i))}function UQ(n,t,i,o){return ii(n).onIdTokenChanged(t,i,o)}function HQ(n,t,i){return ii(n).beforeAuthStateChanged(t,i)}function WQ(n,t,i,o){return ii(n).onAuthStateChanged(t,i,o)}function GQ(n){return ii(n).signOut()}const bv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(bv,"1"),this.storage.removeItem(bv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KQ(){const n=Oi();return vC(n)||vw(n)}const qQ=1e3,QQ=10;class sB extends oB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=KQ()&&kQ(),this.fallbackToPolling=Q$(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const o=this.storage.getItem(i),c=this.localCache[i];o!==c&&t(i,c,o)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,b,f)=>{this.notifyListeners(h,f)});return}const o=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(o);if(t.newValue!==h)t.newValue!==null?this.storage.setItem(o,t.newValue):this.storage.removeItem(o);else if(this.localCache[o]===t.newValue&&!i)return}const c=()=>{const h=this.storage.getItem(o);!i&&this.localCache[o]===h||this.notifyListeners(o,h)},u=this.storage.getItem(o);wQ()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(c,QQ):c()}notifyListeners(t,i){this.localCache[t]=i;const o=this.listeners[t];if(o)for(const c of Array.from(o))c(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:o}),!0)})},qQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}sB.type="LOCAL";const YQ=sB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB extends oB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}aB.type="SESSION";const lB=aB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZQ(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(c=>c.isListeningto(t));if(i)return i;const o=new ww(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:o,eventType:c,data:u}=i.data,h=this.handlersMap[c];if(!(h!=null&&h.size))return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:c});const b=Array.from(h).map(async w=>w(i.origin,u)),f=await ZQ(b);i.ports[0].postMessage({status:"done",eventId:o,eventType:c,response:f})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ww.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n="",t=10){let i="";for(let o=0;o<t;o++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,o=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let u,h;return new Promise((b,f)=>{const w=bC("",20);c.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},o);h={messageChannel:c,onMessage(v){const g=v;if(g.data.eventId===w)switch(g.data.status){case"ack":clearTimeout(p),u=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),b(g.data.response);break;default:clearTimeout(p),clearTimeout(u),f(new Error("invalid_response"));break}}},this.handlers.add(h),c.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:w,data:i},[c.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(){return window}function XQ(n){Xo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(){return typeof Xo().WorkerGlobalScope<"u"&&typeof Xo().importScripts=="function"}async function eY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tY(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nY(){return cB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB="firebaseLocalStorageDb",iY=1,yv="firebaseLocalStorage",dB="fbase_key";class rp{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function kw(n,t){return n.transaction([yv],t?"readwrite":"readonly").objectStore(yv)}function rY(){const n=indexedDB.deleteDatabase(uB);return new rp(n).toPromise()}function _A(){const n=indexedDB.open(uB,iY);return new Promise((t,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const o=n.result;try{o.createObjectStore(yv,{keyPath:dB})}catch(c){i(c)}}),n.addEventListener("success",async()=>{const o=n.result;o.objectStoreNames.contains(yv)?t(o):(o.close(),await rY(),t(await _A()))})})}async function iR(n,t,i){const o=kw(n,!0).put({[dB]:t,value:i});return new rp(o).toPromise()}async function oY(n,t){const i=kw(n,!1).get(t),o=await new rp(i).toPromise();return o===void 0?null:o.value}function rR(n,t){const i=kw(n,!0).delete(t);return new rp(i).toPromise()}const sY=800,aY=3;class hB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _A(),this.db)}async _withRetries(t){let i=0;for(;;)try{const o=await this._openDb();return await t(o)}catch(o){if(i++>aY)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ww._getInstance(nY()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await eY(),!this.activeServiceWorker)return;this.sender=new JQ(this.activeServiceWorker);const o=await this.sender._send("ping",{},800);o&&!((t=o[0])===null||t===void 0)&&t.fulfilled&&!((i=o[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _A();return await iR(t,bv,"1"),await rR(t,bv),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(o=>iR(o,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(o=>oY(o,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rR(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(c=>{const u=kw(c,!1).getAll();return new rp(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],o=new Set;for(const{fbase_key:c,value:u}of t)o.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(u)&&(this.notifyListeners(c,u),i.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!o.has(c)&&(this.notifyListeners(c,null),i.push(c));return i}notifyListeners(t,i){this.localCache[t]=i;const o=this.listeners[t];if(o)for(const c of Array.from(o))c(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hB.type="LOCAL";const lY=hB;new tp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(n,t){return t?Ss(t):(rt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC extends wC{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fu(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fu(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fu(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function uY(n){return rB(n.auth,new yC(n),n.bypassAuthState)}function dY(n){const{auth:t,user:i}=n;return rt(i,t,"internal-error"),FQ(i,new yC(n),n.bypassAuthState)}async function hY(n){const{auth:t,user:i}=n;return rt(i,t,"internal-error"),BQ(i,new yC(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(t,i,o,c,u=!1){this.auth=t,this.resolver=o,this.user=c,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:o,postBody:c,tenantId:u,error:h,type:b}=t;if(h){this.reject(h);return}const f={auth:this.auth,requestUri:i,sessionId:o,tenantId:u||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(f))}catch(w){this.reject(w)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uY;case"linkViaPopup":case"linkViaRedirect":return hY;case"reauthViaPopup":case"reauthViaRedirect":return dY;default:co(this.auth,"internal-error")}}resolve(t){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY=new tp(2e3,1e4);class Du extends fB{constructor(t,i,o,c,u){super(t,i,c,u),this.provider=o,this.authWindow=null,this.pollId=null,Du.currentPopupAction&&Du.currentPopupAction.cancel(),Du.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return rt(t,this.auth,"internal-error"),t}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const t=bC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Jo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Jo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Du.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,o;if(!((o=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||o===void 0)&&o.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,fY.get())};t()}}Du.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pY="pendingRedirect",Tm=new Map;class gY extends fB{constructor(t,i,o=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,o),this.eventId=null}async execute(){let t=Tm.get(this.auth._key());if(!t){try{const o=await mY(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(o)}catch(i){t=()=>Promise.reject(i)}Tm.set(this.auth._key(),t)}return this.bypassAuthState||Tm.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mY(n,t){const i=kY(t),o=wY(n);if(!await o._isAvailable())return!1;const c=await o._get(i)==="true";return await o._remove(i),c}function vY(n,t){Tm.set(n._key(),t)}function wY(n){return Ss(n._redirectPersistence)}function kY(n){return xm(pY,n.config.apiKey,n.name)}async function bY(n,t,i=!1){const o=_d(n),c=cY(o,t),h=await new gY(o,c,i).execute();return h&&!i&&(delete h.user._redirectEventId,await o._persistUserIfCurrent(h.user),await o._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yY=10*60*1e3;class AY{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(t,o)&&(i=!0,this.sendToConsumer(t,o),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_Y(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var o;if(t.error&&!pB(t)){const c=((o=t.error.code)===null||o===void 0?void 0:o.split("auth/")[1])||"internal-error";i.onError(Jo(this.auth,c))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const o=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&o}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yY&&this.cachedEventUids.clear(),this.cachedEventUids.has(oR(t))}saveEventToCache(t){this.cachedEventUids.add(oR(t)),this.lastProcessedEventTime=Date.now()}}function oR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function pB({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function _Y(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pB(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CY(n,t={}){return Ad(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SY=/^https?/;async function xY(n){if(n.config.emulator)return;const{authorizedDomains:t}=await CY(n);for(const i of t)try{if(TY(i))return}catch{}co(n,"unauthorized-domain")}function TY(n){const t=AA(),{protocol:i,hostname:o}=new URL(t);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&o===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===o}if(!SY.test(i))return!1;if(EY.test(n))return o===n;const c=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DY=new tp(3e4,6e4);function sR(){const n=Xo().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function IY(n){return new Promise((t,i)=>{var o,c,u;function h(){sR(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sR(),i(Jo(n,"network-request-failed"))},timeout:DY.get()})}if(!((c=(o=Xo().gapi)===null||o===void 0?void 0:o.iframes)===null||c===void 0)&&c.Iframe)t(gapi.iframes.getContext());else if(!((u=Xo().gapi)===null||u===void 0)&&u.load)h();else{const b=yQ("iframefcb");return Xo()[b]=()=>{gapi.load?h():i(Jo(n,"network-request-failed"))},X$(`https://apis.google.com/js/api.js?onload=${b}`).catch(f=>i(f))}}).catch(t=>{throw Dm=null,t})}let Dm=null;function MY(n){return Dm=Dm||IY(n),Dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY=new tp(5e3,15e3),RY="__/auth/iframe",NY="emulator/auth/iframe",OY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $Y(n){const t=n.config;rt(t.authDomain,n,"auth-domain-config-required");const i=t.emulator?gC(t,NY):`https://${n.config.authDomain}/${RY}`,o={apiKey:t.apiKey,appName:n.name,v:bd},c=PY.get(n.config.apiHost);c&&(o.eid=c);const u=n._getFrameworks();return u.length&&(o.fw=u.join(",")),`${i}?${ep(o).slice(1)}`}async function BY(n){const t=await MY(n),i=Xo().gapi;return rt(i,n,"internal-error"),t.open({where:document.body,url:$Y(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OY,dontclear:!0},o=>new Promise(async(c,u)=>{await o.restyle({setHideOnLeave:!1});const h=Jo(n,"network-request-failed"),b=Xo().setTimeout(()=>{u(h)},LY.get());function f(){Xo().clearTimeout(b),c(o)}o.ping(f).then(f,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zY=500,jY=600,VY="_blank",UY="http://localhost";class aR{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HY(n,t,i,o=zY,c=jY){const u=Math.max((window.screen.availHeight-c)/2,0).toString(),h=Math.max((window.screen.availWidth-o)/2,0).toString();let b="";const f=Object.assign(Object.assign({},FY),{width:o.toString(),height:c.toString(),top:u,left:h}),w=Oi().toLowerCase();i&&(b=H$(w)?VY:i),U$(w)&&(t=t||UY,f.scrollbars="yes");const p=Object.entries(f).reduce((g,[k,A])=>`${g}${k}=${A},`,"");if(vQ(w)&&b!=="_self")return WY(t||"",b),new aR(null);const v=window.open(t||"",b,p);rt(v,n,"popup-blocked");try{v.focus()}catch{}return new aR(v)}function WY(n,t){const i=document.createElement("a");i.href=n,i.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GY="__/auth/handler",KY="emulator/auth/handler",qY=encodeURIComponent("fac");async function lR(n,t,i,o,c,u){rt(n.config.authDomain,n,"auth-domain-config-required"),rt(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:o,v:bd,eventId:c};if(t instanceof nB){t.setDefaultLanguage(n.languageCode),h.providerId=t.providerId||"",jK(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,v]of Object.entries(u||{}))h[p]=v}if(t instanceof ip){const p=t.getScopes().filter(v=>v!=="");p.length>0&&(h.scopes=p.join(","))}n.tenantId&&(h.tid=n.tenantId);const b=h;for(const p of Object.keys(b))b[p]===void 0&&delete b[p];const f=await n._getAppCheckToken(),w=f?`#${qY}=${encodeURIComponent(f)}`:"";return`${QY(n)}?${ep(b).slice(1)}${w}`}function QY({config:n}){return n.emulator?gC(n,KY):`https://${n.authDomain}/${GY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="webStorageSupport";class YY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lB,this._completeRedirectFn=bY,this._overrideRedirectResult=vY}async _openPopup(t,i,o,c){var u;$s((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await lR(t,i,o,AA(),c);return HY(t,h,bC())}async _openRedirect(t,i,o,c){await this._originValidation(t);const u=await lR(t,i,o,AA(),c);return XQ(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:c,promise:u}=this.eventManagers[i];return c?Promise.resolve(c):($s(u,"If manager is not set, promise should be"),u)}const o=this.initAndGetManager(t);return this.eventManagers[i]={promise:o},o.catch(()=>{delete this.eventManagers[i]}),o}async initAndGetManager(t){const i=await BY(t),o=new AY(t);return i.register("authEvent",c=>(rt(c==null?void 0:c.authEvent,t,"invalid-auth-event"),{status:o.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:o},this.iframes[t._key()]=i,o}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Py,{type:Py},c=>{var u;const h=(u=c==null?void 0:c[0])===null||u===void 0?void 0:u[Py];h!==void 0&&i(!!h),co(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=xY(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Q$()||vC()||vw()}}const ZY=YY;var cR="@firebase/auth",uR="0.23.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(o=>{t((o==null?void 0:o.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XY(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function eZ(n){ed(new uc("auth",(t,{options:i})=>{const o=t.getProvider("app").getImmediate(),c=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:b}=o.options;rt(h&&!h.includes(":"),"invalid-api-key",{appName:o.name}),rt(!(b!=null&&b.includes(":")),"argument-error",{appName:o.name});const f={apiKey:h,authDomain:b,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y$(n)},w=new SQ(o,c,u,f);return TQ(w,i),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,o)=>{t.getProvider("auth-internal").initialize()})),ed(new uc("auth-internal",t=>{const i=_d(t.getProvider("auth").getImmediate());return(o=>new JY(o))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ha(cR,uR,XY(n)),Ha(cR,uR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ=5*60,nZ=D$("authIdTokenMaxAge")||tZ;let dR=null;const iZ=n=>async t=>{const i=t&&await t.getIdTokenResult(),o=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(o&&o>nZ)return;const c=i==null?void 0:i.token;dR!==c&&(dR=c,await fetch(n,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function rZ(n=R$()){const t=hC(n,"auth");if(t.isInitialized())return t.getImmediate();const i=xQ(n,{popupRedirectResolver:ZY,persistence:[lY,YQ,lB]}),o=D$("authTokenSyncURL");if(o){const u=iZ(o);HQ(i,u,()=>u(i.currentUser)),UQ(i,h=>u(h))}const c=T$("auth");return c&&DQ(i,`http://${c}`),i}eZ("Browser");var oZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},je,AC=AC||{},lt=oZ||self;function Av(){}function bw(n){var t=typeof n;return t=t!="object"?t:n?Array.isArray(n)?"array":t:"null",t=="array"||t=="object"&&typeof n.length=="number"}function op(n){var t=typeof n;return t=="object"&&n!=null||t=="function"}function sZ(n){return Object.prototype.hasOwnProperty.call(n,$y)&&n[$y]||(n[$y]=++aZ)}var $y="closure_uid_"+(1e9*Math.random()>>>0),aZ=0;function lZ(n,t,i){return n.call.apply(n.bind,arguments)}function cZ(n,t,i){if(!n)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),n.apply(t,c)}}return function(){return n.apply(t,arguments)}}function Mi(n,t,i){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Mi=lZ:Mi=cZ,Mi.apply(null,arguments)}function em(n,t){var i=Array.prototype.slice.call(arguments,1);return function(){var o=i.slice();return o.push.apply(o,arguments),n.apply(this,o)}}function oi(n,t){function i(){}i.prototype=t.prototype,n.$=t.prototype,n.prototype=new i,n.prototype.constructor=n,n.ac=function(o,c,u){for(var h=Array(arguments.length-2),b=2;b<arguments.length;b++)h[b-2]=arguments[b];return t.prototype[c].apply(o,h)}}function tl(){this.s=this.s,this.o=this.o}var uZ=0;tl.prototype.s=!1;tl.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),uZ!=0)&&sZ(this)};tl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gB=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if(typeof n=="string")return typeof t!="string"||t.length!=1?-1:n.indexOf(t,0);for(let i=0;i<n.length;i++)if(i in n&&n[i]===t)return i;return-1};function _C(n){const t=n.length;if(0<t){const i=Array(t);for(let o=0;o<t;o++)i[o]=n[o];return i}return[]}function hR(n,t){for(let i=1;i<arguments.length;i++){const o=arguments[i];if(bw(o)){const c=n.length||0,u=o.length||0;n.length=c+u;for(let h=0;h<u;h++)n[c+h]=o[h]}else n.push(o)}}function Li(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Li.prototype.h=function(){this.defaultPrevented=!0};var dZ=function(){if(!lt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{lt.addEventListener("test",Av,t),lt.removeEventListener("test",Av,t)}catch{}return n}();function _v(n){return/^[\s\xa0]*$/.test(n)}var fR=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function By(n,t){return n<t?-1:n>t?1:0}function yw(){var n=lt.navigator;return n&&(n=n.userAgent)?n:""}function Go(n){return yw().indexOf(n)!=-1}function CC(n){return CC[" "](n),n}CC[" "]=Av;function mB(n,t,i){return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=i(t)}var hZ=Go("Opera"),td=Go("Trident")||Go("MSIE"),vB=Go("Edge"),CA=vB||td,wB=Go("Gecko")&&!(yw().toLowerCase().indexOf("webkit")!=-1&&!Go("Edge"))&&!(Go("Trident")||Go("MSIE"))&&!Go("Edge"),fZ=yw().toLowerCase().indexOf("webkit")!=-1&&!Go("Edge");function kB(){var n=lt.document;return n?n.documentMode:void 0}var Cv;e:{var Fy="",zy=function(){var n=yw();if(wB)return/rv:([^\);]+)(\)|;)/.exec(n);if(vB)return/Edge\/([\d\.]+)/.exec(n);if(td)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(fZ)return/WebKit\/(\S+)/.exec(n);if(hZ)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(zy&&(Fy=zy?zy[1]:""),td){var jy=kB();if(jy!=null&&jy>parseFloat(Fy)){Cv=String(jy);break e}}Cv=Fy}var pZ={};function gZ(){return mB(pZ,9,function(){let n=0;const t=fR(String(Cv)).split("."),i=fR("9").split("."),o=Math.max(t.length,i.length);for(let h=0;n==0&&h<o;h++){var c=t[h]||"",u=i[h]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],c[0].length==0&&u[0].length==0)break;n=By(c[1].length==0?0:parseInt(c[1],10),u[1].length==0?0:parseInt(u[1],10))||By(c[2].length==0,u[2].length==0)||By(c[2],u[2]),c=c[3],u=u[3]}while(n==0)}return 0<=n})}var EA;if(lt.document&&td){var pR=kB();EA=pR||parseInt(Cv,10)||void 0}else EA=void 0;var mZ=EA;function Lf(n,t){if(Li.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var i=this.type=n.type,o=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(wB){e:{try{CC(t.nodeName);var c=!0;break e}catch{}c=!1}c||(t=null)}}else i=="mouseover"?t=n.fromElement:i=="mouseout"&&(t=n.toElement);this.relatedTarget=t,o?(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:vZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Lf.$.h.call(this)}}oi(Lf,Li);var vZ={2:"touch",3:"pen",4:"mouse"};Lf.prototype.h=function(){Lf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sp="closure_listenable_"+(1e6*Math.random()|0),wZ=0;function kZ(n,t,i,o,c){this.listener=n,this.proxy=null,this.src=t,this.type=i,this.capture=!!o,this.la=c,this.key=++wZ,this.fa=this.ia=!1}function Aw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function EC(n,t,i){for(const o in n)t.call(i,n[o],o,n)}function bB(n){const t={};for(const i in n)t[i]=n[i];return t}const gR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yB(n,t){let i,o;for(let c=1;c<arguments.length;c++){o=arguments[c];for(i in o)n[i]=o[i];for(let u=0;u<gR.length;u++)i=gR[u],Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}}function _w(n){this.src=n,this.g={},this.h=0}_w.prototype.add=function(n,t,i,o,c){var u=n.toString();n=this.g[u],n||(n=this.g[u]=[],this.h++);var h=xA(n,t,o,c);return-1<h?(t=n[h],i||(t.ia=!1)):(t=new kZ(t,this.src,u,!!o,c),t.ia=i,n.push(t)),t};function SA(n,t){var i=t.type;if(i in n.g){var o=n.g[i],c=gB(o,t),u;(u=0<=c)&&Array.prototype.splice.call(o,c,1),u&&(Aw(t),n.g[i].length==0&&(delete n.g[i],n.h--))}}function xA(n,t,i,o){for(var c=0;c<n.length;++c){var u=n[c];if(!u.fa&&u.listener==t&&u.capture==!!i&&u.la==o)return c}return-1}var SC="closure_lm_"+(1e6*Math.random()|0),Vy={};function AB(n,t,i,o,c){if(o&&o.once)return CB(n,t,i,o,c);if(Array.isArray(t)){for(var u=0;u<t.length;u++)AB(n,t[u],i,o,c);return null}return i=DC(i),n&&n[sp]?n.O(t,i,op(o)?!!o.capture:!!o,c):_B(n,t,i,!1,o,c)}function _B(n,t,i,o,c,u){if(!t)throw Error("Invalid event type");var h=op(c)?!!c.capture:!!c,b=TC(n);if(b||(n[SC]=b=new _w(n)),i=b.add(t,i,o,h,u),i.proxy)return i;if(o=bZ(),i.proxy=o,o.src=n,o.listener=i,n.addEventListener)dZ||(c=h),c===void 0&&(c=!1),n.addEventListener(t.toString(),o,c);else if(n.attachEvent)n.attachEvent(SB(t.toString()),o);else if(n.addListener&&n.removeListener)n.addListener(o);else throw Error("addEventListener and attachEvent are unavailable.");return i}function bZ(){function n(i){return t.call(n.src,n.listener,i)}const t=yZ;return n}function CB(n,t,i,o,c){if(Array.isArray(t)){for(var u=0;u<t.length;u++)CB(n,t[u],i,o,c);return null}return i=DC(i),n&&n[sp]?n.P(t,i,op(o)?!!o.capture:!!o,c):_B(n,t,i,!0,o,c)}function EB(n,t,i,o,c){if(Array.isArray(t))for(var u=0;u<t.length;u++)EB(n,t[u],i,o,c);else o=op(o)?!!o.capture:!!o,i=DC(i),n&&n[sp]?(n=n.i,t=String(t).toString(),t in n.g&&(u=n.g[t],i=xA(u,i,o,c),-1<i&&(Aw(u[i]),Array.prototype.splice.call(u,i,1),u.length==0&&(delete n.g[t],n.h--)))):n&&(n=TC(n))&&(t=n.g[t.toString()],n=-1,t&&(n=xA(t,i,o,c)),(i=-1<n?t[n]:null)&&xC(i))}function xC(n){if(typeof n!="number"&&n&&!n.fa){var t=n.src;if(t&&t[sp])SA(t.i,n);else{var i=n.type,o=n.proxy;t.removeEventListener?t.removeEventListener(i,o,n.capture):t.detachEvent?t.detachEvent(SB(i),o):t.addListener&&t.removeListener&&t.removeListener(o),(i=TC(t))?(SA(i,n),i.h==0&&(i.src=null,t[SC]=null)):Aw(n)}}}function SB(n){return n in Vy?Vy[n]:Vy[n]="on"+n}function yZ(n,t){if(n.fa)n=!0;else{t=new Lf(t,this);var i=n.listener,o=n.la||n.src;n.ia&&xC(n),n=i.call(o,t)}return n}function TC(n){return n=n[SC],n instanceof _w?n:null}var Uy="__closure_events_fn_"+(1e9*Math.random()>>>0);function DC(n){return typeof n=="function"?n:(n[Uy]||(n[Uy]=function(t){return n.handleEvent(t)}),n[Uy])}function ri(){tl.call(this),this.i=new _w(this),this.S=this,this.J=null}oi(ri,tl);ri.prototype[sp]=!0;ri.prototype.removeEventListener=function(n,t,i,o){EB(this,n,t,i,o)};function vi(n,t){var i,o=n.J;if(o)for(i=[];o;o=o.J)i.push(o);if(n=n.S,o=t.type||t,typeof t=="string")t=new Li(t,n);else if(t instanceof Li)t.target=t.target||n;else{var c=t;t=new Li(o,n),yB(t,c)}if(c=!0,i)for(var u=i.length-1;0<=u;u--){var h=t.g=i[u];c=tm(h,o,!0,t)&&c}if(h=t.g=n,c=tm(h,o,!0,t)&&c,c=tm(h,o,!1,t)&&c,i)for(u=0;u<i.length;u++)h=t.g=i[u],c=tm(h,o,!1,t)&&c}ri.prototype.N=function(){if(ri.$.N.call(this),this.i){var n=this.i,t;for(t in n.g){for(var i=n.g[t],o=0;o<i.length;o++)Aw(i[o]);delete n.g[t],n.h--}}this.J=null};ri.prototype.O=function(n,t,i,o){return this.i.add(String(n),t,!1,i,o)};ri.prototype.P=function(n,t,i,o){return this.i.add(String(n),t,!0,i,o)};function tm(n,t,i,o){if(t=n.i.g[String(t)],!t)return!0;t=t.concat();for(var c=!0,u=0;u<t.length;++u){var h=t[u];if(h&&!h.fa&&h.capture==i){var b=h.listener,f=h.la||h.src;h.ia&&SA(n.i,h),c=b.call(f,o)!==!1&&c}}return c&&!o.defaultPrevented}var IC=lt.JSON.stringify;function AZ(){var n=DB;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}class _Z{constructor(){this.h=this.g=null}add(t,i){const o=xB.get();o.set(t,i),this.h?this.h.next=o:this.g=o,this.h=o}}var xB=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new CZ,n=>n.reset());class CZ{constructor(){this.next=this.g=this.h=null}set(t,i){this.h=t,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function EZ(n){lt.setTimeout(()=>{throw n},0)}function TB(n,t){TA||SZ(),DA||(TA(),DA=!0),DB.add(n,t)}var TA;function SZ(){var n=lt.Promise.resolve(void 0);TA=function(){n.then(xZ)}}var DA=!1,DB=new _Z;function xZ(){for(var n;n=AZ();){try{n.h.call(n.g)}catch(i){EZ(i)}var t=xB;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}DA=!1}function Cw(n,t){ri.call(this),this.h=n||1,this.g=t||lt,this.j=Mi(this.qb,this),this.l=Date.now()}oi(Cw,ri);je=Cw.prototype;je.ga=!1;je.T=null;je.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vi(this,"tick"),this.ga&&(MC(this),this.start()))}};je.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function MC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}je.N=function(){Cw.$.N.call(this),MC(this),delete this.g};function LC(n,t,i){if(typeof n=="function")i&&(n=Mi(n,i));else if(n&&typeof n.handleEvent=="function")n=Mi(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:lt.setTimeout(n,t||0)}function IB(n){n.g=LC(()=>{n.g=null,n.i&&(n.i=!1,IB(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}class TZ extends tl{constructor(t,i){super(),this.m=t,this.j=i,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:IB(this)}N(){super.N(),this.g&&(lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rf(n){tl.call(this),this.h=n,this.g={}}oi(Rf,tl);var mR=[];function MB(n,t,i,o){Array.isArray(i)||(i&&(mR[0]=i.toString()),i=mR);for(var c=0;c<i.length;c++){var u=AB(t,i[c],o||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function LB(n){EC(n.g,function(t,i){this.g.hasOwnProperty(i)&&xC(t)},n),n.g={}}Rf.prototype.N=function(){Rf.$.N.call(this),LB(this)};Rf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ew(){this.g=!0}Ew.prototype.Ea=function(){this.g=!1};function DZ(n,t,i,o,c,u){n.info(function(){if(n.g)if(u)for(var h="",b=u.split("&"),f=0;f<b.length;f++){var w=b[f].split("=");if(1<w.length){var p=w[0];w=w[1];var v=p.split("_");h=2<=v.length&&v[1]=="type"?h+(p+"="+w+"&"):h+(p+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+t+`
`+i+`
`+h})}function IZ(n,t,i,o,c,u,h){n.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+t+`
`+i+`
`+u+" "+h})}function Iu(n,t,i,o){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+LZ(n,i)+(o?" "+o:"")})}function MZ(n,t){n.info(function(){return"TIMEOUT: "+t})}Ew.prototype.info=function(){};function LZ(n,t){if(!n.g)return t;if(!t)return null;try{var i=JSON.parse(t);if(i){for(n=0;n<i.length;n++)if(Array.isArray(i[n])){var o=i[n];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var u=c[0];if(u!="noop"&&u!="stop"&&u!="close")for(var h=1;h<c.length;h++)c[h]=""}}}}return IC(i)}catch{return t}}var bc={},vR=null;function Sw(){return vR=vR||new ri}bc.Ta="serverreachability";function RB(n){Li.call(this,bc.Ta,n)}oi(RB,Li);function Nf(n){const t=Sw();vi(t,new RB(t))}bc.STAT_EVENT="statevent";function NB(n,t){Li.call(this,bc.STAT_EVENT,n),this.stat=t}oi(NB,Li);function Hi(n){const t=Sw();vi(t,new NB(t,n))}bc.Ua="timingevent";function OB(n,t){Li.call(this,bc.Ua,n),this.size=t}oi(OB,Li);function ap(n,t){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return lt.setTimeout(function(){n()},t)}var xw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},PB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function RC(){}RC.prototype.h=null;function wR(n){return n.h||(n.h=n.i())}function $B(){}var lp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function NC(){Li.call(this,"d")}oi(NC,Li);function OC(){Li.call(this,"c")}oi(OC,Li);var IA;function Tw(){}oi(Tw,RC);Tw.prototype.g=function(){return new XMLHttpRequest};Tw.prototype.i=function(){return{}};IA=new Tw;function cp(n,t,i,o){this.l=n,this.j=t,this.m=i,this.W=o||1,this.U=new Rf(this),this.P=RZ,n=CA?125:void 0,this.V=new Cw(n),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new BB}function BB(){this.i=null,this.g="",this.h=!1}var RZ=45e3,MA={},Ev={};je=cp.prototype;je.setTimeout=function(n){this.P=n};function LA(n,t,i){n.L=1,n.v=Iw(Bs(t)),n.s=i,n.S=!0,FB(n,null)}function FB(n,t){n.G=Date.now(),up(n),n.A=Bs(n.v);var i=n.A,o=n.W;Array.isArray(o)||(o=[String(o)]),KB(i.i,"t",o),n.C=0,i=n.l.I,n.h=new BB,n.g=p5(n.l,i?t:null,!n.s),0<n.O&&(n.M=new TZ(Mi(n.Pa,n,n.g),n.O)),MB(n.U,n.g,"readystatechange",n.nb),t=n.I?bB(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Nf(),DZ(n.j,n.u,n.A,n.m,n.W,n.s)}je.nb=function(n){n=n.target;const t=this.M;t&&xs(n)==3?t.l():this.Pa(n)};je.Pa=function(n){try{if(n==this.g)e:{const p=xs(this.g);var t=this.g.Ia();const v=this.g.da();if(!(3>p)&&(p!=3||CA||this.g&&(this.h.h||this.g.ja()||AR(this.g)))){this.J||p!=4||t==7||(t==8||0>=v?Nf(3):Nf(2)),Dw(this);var i=this.g.da();this.aa=i;t:if(zB(this)){var o=AR(this.g);n="";var c=o.length,u=xs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ql(this),ef(this);var h="";break t}this.h.i=new lt.TextDecoder}for(t=0;t<c;t++)this.h.h=!0,n+=this.h.i.decode(o[t],{stream:u&&t==c-1});o.splice(0,c),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ja();if(this.i=i==200,IZ(this.j,this.u,this.A,this.m,this.W,p,i),this.i){if(this.ba&&!this.K){t:{if(this.g){var b,f=this.g;if((b=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_v(b)){var w=b;break t}}w=null}if(i=w)Iu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,RA(this,i);else{this.i=!1,this.o=3,Hi(12),Ql(this),ef(this);break e}}this.S?(jB(this,p,h),CA&&this.i&&p==3&&(MB(this.U,this.V,"tick",this.mb),this.V.start())):(Iu(this.j,this.m,h,null),RA(this,h)),p==4&&Ql(this),this.i&&!this.J&&(p==4?u5(this.l,this):(this.i=!1,up(this)))}else i==400&&0<h.indexOf("Unknown SID")?(this.o=3,Hi(12)):(this.o=0,Hi(13)),Ql(this),ef(this)}}}catch{}finally{}};function zB(n){return n.g?n.u=="GET"&&n.L!=2&&n.l.Ha:!1}function jB(n,t,i){let o=!0,c;for(;!n.J&&n.C<i.length;)if(c=NZ(n,i),c==Ev){t==4&&(n.o=4,Hi(14),o=!1),Iu(n.j,n.m,null,"[Incomplete Response]");break}else if(c==MA){n.o=4,Hi(15),Iu(n.j,n.m,i,"[Invalid Chunk]"),o=!1;break}else Iu(n.j,n.m,c,null),RA(n,c);zB(n)&&c!=Ev&&c!=MA&&(n.h.g="",n.C=0),t!=4||i.length!=0||n.h.h||(n.o=1,Hi(16),o=!1),n.i=n.i&&o,o?0<i.length&&!n.ca&&(n.ca=!0,t=n.l,t.g==n&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),VC(t),t.L=!0,Hi(11))):(Iu(n.j,n.m,i,"[Invalid Chunked Response]"),Ql(n),ef(n))}je.mb=function(){if(this.g){var n=xs(this.g),t=this.g.ja();this.C<t.length&&(Dw(this),jB(this,n,t),this.i&&n!=4&&up(this))}};function NZ(n,t){var i=n.C,o=t.indexOf(`
`,i);return o==-1?Ev:(i=Number(t.substring(i,o)),isNaN(i)?MA:(o+=1,o+i>t.length?Ev:(t=t.substr(o,i),n.C=o+i,t)))}je.cancel=function(){this.J=!0,Ql(this)};function up(n){n.Y=Date.now()+n.P,VB(n,n.P)}function VB(n,t){if(n.B!=null)throw Error("WatchDog timer not null");n.B=ap(Mi(n.lb,n),t)}function Dw(n){n.B&&(lt.clearTimeout(n.B),n.B=null)}je.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(MZ(this.j,this.A),this.L!=2&&(Nf(),Hi(17)),Ql(this),this.o=2,ef(this)):VB(this,this.Y-n)};function ef(n){n.l.H==0||n.J||u5(n.l,n)}function Ql(n){Dw(n);var t=n.M;t&&typeof t.ra=="function"&&t.ra(),n.M=null,MC(n.V),LB(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.ra())}function RA(n,t){try{var i=n.l;if(i.H!=0&&(i.g==n||NA(i.h,n))){if(!n.K&&NA(i.h,n)&&i.H==3){try{var o=i.Ja.g.parse(t)}catch{o=null}if(Array.isArray(o)&&o.length==3){var c=o;if(c[0]==0){e:if(!i.u){if(i.g)if(i.g.G+3e3<n.G)Tv(i),Rw(i);else break e;jC(i),Hi(18)}}else i.Fa=c[1],0<i.Fa-i.V&&37500>c[2]&&i.M&&i.A==0&&!i.v&&(i.v=ap(Mi(i.ib,i),6e3));if(1>=YB(i.h)&&i.na){try{i.na()}catch{}i.na=void 0}}else Yl(i,11)}else if((n.K||i.g==n)&&Tv(i),!_v(t))for(c=i.Ja.g.parse(t),t=0;t<c.length;t++){let w=c[t];if(i.V=w[0],w=w[1],i.H==2)if(w[0]=="c"){i.J=w[1],i.oa=w[2];const p=w[3];p!=null&&(i.qa=p,i.j.info("VER="+i.qa));const v=w[4];v!=null&&(i.Ga=v,i.j.info("SVER="+i.Ga));const g=w[5];g!=null&&typeof g=="number"&&0<g&&(o=1.5*g,i.K=o,i.j.info("backChannelRequestTimeoutMs_="+o)),o=i;const k=n.g;if(k){const A=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var u=o.h;u.g||A.indexOf("spdy")==-1&&A.indexOf("quic")==-1&&A.indexOf("h2")==-1||(u.j=u.l,u.g=new Set,u.h&&(PC(u,u.h),u.h=null))}if(o.F){const _=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(o.Da=_,hn(o.G,o.F,_))}}i.H=3,i.l&&i.l.Ba(),i.ca&&(i.S=Date.now()-n.G,i.j.info("Handshake RTT: "+i.S+"ms")),o=i;var h=n;if(o.wa=f5(o,o.I?o.oa:null,o.Y),h.K){ZB(o.h,h);var b=h,f=o.K;f&&b.setTimeout(f),b.B&&(Dw(b),up(b)),o.g=h}else l5(o);0<i.i.length&&Nw(i)}else w[0]!="stop"&&w[0]!="close"||Yl(i,7);else i.H==3&&(w[0]=="stop"||w[0]=="close"?w[0]=="stop"?Yl(i,7):zC(i):w[0]!="noop"&&i.l&&i.l.Aa(w),i.A=0)}}Nf(4)}catch{}}function OZ(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(bw(n)){for(var t=[],i=n.length,o=0;o<i;o++)t.push(n[o]);return t}t=[],i=0;for(o in n)t[i++]=n[o];return t}function PZ(n){if(n.sa&&typeof n.sa=="function")return n.sa();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(bw(n)||typeof n=="string"){var t=[];n=n.length;for(var i=0;i<n;i++)t.push(i);return t}t=[],i=0;for(const o in n)t[i++]=o;return t}}}function UB(n,t){if(n.forEach&&typeof n.forEach=="function")n.forEach(t,void 0);else if(bw(n)||typeof n=="string")Array.prototype.forEach.call(n,t,void 0);else for(var i=PZ(n),o=OZ(n),c=o.length,u=0;u<c;u++)t.call(void 0,o[u],i&&i[u],n)}var HB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $Z(n,t){if(n){n=n.split("&");for(var i=0;i<n.length;i++){var o=n[i].indexOf("="),c=null;if(0<=o){var u=n[i].substring(0,o);c=n[i].substring(o+1)}else u=n[i];t(u,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}function nc(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof nc){this.h=t!==void 0?t:n.h,Sv(this,n.j),this.s=n.s,this.g=n.g,xv(this,n.m),this.l=n.l,t=n.i;var i=new Of;i.i=t.i,t.g&&(i.g=new Map(t.g),i.h=t.h),kR(this,i),this.o=n.o}else n&&(i=String(n).match(HB))?(this.h=!!t,Sv(this,i[1]||"",!0),this.s=Fh(i[2]||""),this.g=Fh(i[3]||"",!0),xv(this,i[4]),this.l=Fh(i[5]||"",!0),kR(this,i[6]||"",!0),this.o=Fh(i[7]||"")):(this.h=!!t,this.i=new Of(null,this.h))}nc.prototype.toString=function(){var n=[],t=this.j;t&&n.push(zh(t,bR,!0),":");var i=this.g;return(i||t=="file")&&(n.push("//"),(t=this.s)&&n.push(zh(t,bR,!0),"@"),n.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.m,i!=null&&n.push(":",String(i))),(i=this.l)&&(this.g&&i.charAt(0)!="/"&&n.push("/"),n.push(zh(i,i.charAt(0)=="/"?zZ:FZ,!0))),(i=this.i.toString())&&n.push("?",i),(i=this.o)&&n.push("#",zh(i,VZ)),n.join("")};function Bs(n){return new nc(n)}function Sv(n,t,i){n.j=i?Fh(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function xv(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function kR(n,t,i){t instanceof Of?(n.i=t,UZ(n.i,n.h)):(i||(t=zh(t,jZ)),n.i=new Of(t,n.h))}function hn(n,t,i){n.i.set(t,i)}function Iw(n){return hn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Fh(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function zh(n,t,i){return typeof n=="string"?(n=encodeURI(n).replace(t,BZ),i&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function BZ(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var bR=/[#\/\?@]/g,FZ=/[#\?:]/g,zZ=/[#\?]/g,jZ=/[#\?@]/g,VZ=/#/g;function Of(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function nl(n){n.g||(n.g=new Map,n.h=0,n.i&&$Z(n.i,function(t,i){n.add(decodeURIComponent(t.replace(/\+/g," ")),i)}))}je=Of.prototype;je.add=function(n,t){nl(this),this.i=null,n=Ed(this,n);var i=this.g.get(n);return i||this.g.set(n,i=[]),i.push(t),this.h+=1,this};function WB(n,t){nl(n),t=Ed(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function GB(n,t){return nl(n),t=Ed(n,t),n.g.has(t)}je.forEach=function(n,t){nl(this),this.g.forEach(function(i,o){i.forEach(function(c){n.call(t,c,o,this)},this)},this)};je.sa=function(){nl(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),i=[];for(let o=0;o<t.length;o++){const c=n[o];for(let u=0;u<c.length;u++)i.push(t[o])}return i};je.Z=function(n){nl(this);let t=[];if(typeof n=="string")GB(this,n)&&(t=t.concat(this.g.get(Ed(this,n))));else{n=Array.from(this.g.values());for(let i=0;i<n.length;i++)t=t.concat(n[i])}return t};je.set=function(n,t){return nl(this),this.i=null,n=Ed(this,n),GB(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this};je.get=function(n,t){return n?(n=this.Z(n),0<n.length?String(n[0]):t):t};function KB(n,t,i){WB(n,t),0<i.length&&(n.i=null,n.g.set(Ed(n,t),_C(i)),n.h+=i.length)}je.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var i=0;i<t.length;i++){var o=t[i];const u=encodeURIComponent(String(o)),h=this.Z(o);for(o=0;o<h.length;o++){var c=u;h[o]!==""&&(c+="="+encodeURIComponent(String(h[o]))),n.push(c)}}return this.i=n.join("&")};function Ed(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function UZ(n,t){t&&!n.j&&(nl(n),n.i=null,n.g.forEach(function(i,o){var c=o.toLowerCase();o!=c&&(WB(this,o),KB(this,c,i))},n)),n.j=t}var HZ=class{constructor(n,t){this.h=n,this.g=t}};function qB(n){this.l=n||WZ,lt.PerformanceNavigationTiming?(n=lt.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(lt.g&&lt.g.Ka&&lt.g.Ka()&&lt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var WZ=10;function QB(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function YB(n){return n.h?1:n.g?n.g.size:0}function NA(n,t){return n.h?n.h==t:n.g?n.g.has(t):!1}function PC(n,t){n.g?n.g.add(t):n.h=t}function ZB(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}qB.prototype.cancel=function(){if(this.i=JB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function JB(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let t=n.i;for(const i of n.g.values())t=t.concat(i.F);return t}return _C(n.i)}function $C(){}$C.prototype.stringify=function(n){return lt.JSON.stringify(n,void 0)};$C.prototype.parse=function(n){return lt.JSON.parse(n,void 0)};function GZ(){this.g=new $C}function KZ(n,t,i){const o=i||"";try{UB(n,function(c,u){let h=c;op(c)&&(h=IC(c)),t.push(o+u+"="+encodeURIComponent(h))})}catch(c){throw t.push(o+"type="+encodeURIComponent("_badmap")),c}}function qZ(n,t){const i=new Ew;if(lt.Image){const o=new Image;o.onload=em(nm,i,o,"TestLoadImage: loaded",!0,t),o.onerror=em(nm,i,o,"TestLoadImage: error",!1,t),o.onabort=em(nm,i,o,"TestLoadImage: abort",!1,t),o.ontimeout=em(nm,i,o,"TestLoadImage: timeout",!1,t),lt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=n}else t(!1)}function nm(n,t,i,o,c){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,c(o)}catch{}}function dp(n){this.l=n.fc||null,this.j=n.ob||!1}oi(dp,RC);dp.prototype.g=function(){return new Mw(this.l,this.j)};dp.prototype.i=function(n){return function(){return n}}({});function Mw(n,t){ri.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=BC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oi(Mw,ri);var BC=0;je=Mw.prototype;je.open=function(n,t){if(this.readyState!=BC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Pf(this)};je.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||lt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hp(this)),this.readyState=BC};je.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Pf(this)),this.g&&(this.readyState=3,Pf(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof lt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XB(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function XB(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}je.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?hp(this):Pf(this),this.readyState==3&&XB(this)}};je.Za=function(n){this.g&&(this.response=this.responseText=n,hp(this))};je.Ya=function(n){this.g&&(this.response=n,hp(this))};je.ka=function(){this.g&&hp(this)};function hp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Pf(n)}je.setRequestHeader=function(n,t){this.v.append(n,t)};je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};je.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var i=t.next();!i.done;)i=i.value,n.push(i[0]+": "+i[1]),i=t.next();return n.join(`\r
`)};function Pf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(Mw.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var QZ=lt.JSON.parse;function En(n){ri.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=e5,this.L=this.M=!1}oi(En,ri);var e5="",YZ=/^https?$/i,ZZ=["POST","PUT"];je=En.prototype;je.Oa=function(n){this.M=n};je.ha=function(n,t,i,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():IA.g(),this.C=this.u?wR(this.u):wR(IA),this.g.onreadystatechange=Mi(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(u){yR(this,u);return}if(n=i||"",i=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var c in o)i.set(c,o[c]);else if(typeof o.keys=="function"&&typeof o.get=="function")for(const u of o.keys())i.set(u,o.get(u));else throw Error("Unknown input type for opt_headers: "+String(o));o=Array.from(i.keys()).find(u=>u.toLowerCase()=="content-type"),c=lt.FormData&&n instanceof lt.FormData,!(0<=gB(ZZ,t))||o||c||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,h]of i)this.g.setRequestHeader(u,h);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{i5(this),0<this.B&&((this.L=JZ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mi(this.ua,this)):this.A=LC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){yR(this,u)}};function JZ(n){return td&&gZ()&&typeof n.timeout=="number"&&n.ontimeout!==void 0}je.ua=function(){typeof AC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vi(this,"timeout"),this.abort(8))};function yR(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,t5(n),Lw(n)}function t5(n){n.F||(n.F=!0,vi(n,"complete"),vi(n,"error"))}je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vi(this,"complete"),vi(this,"abort"),Lw(this))};je.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lw(this,!0)),En.$.N.call(this)};je.La=function(){this.s||(this.G||this.v||this.l?n5(this):this.kb())};je.kb=function(){n5(this)};function n5(n){if(n.h&&typeof AC<"u"&&(!n.C[1]||xs(n)!=4||n.da()!=2)){if(n.v&&xs(n)==4)LC(n.La,0,n);else if(vi(n,"readystatechange"),xs(n)==4){n.h=!1;try{const b=n.da();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var i;if(!(i=t)){var o;if(o=b===0){var c=String(n.I).match(HB)[1]||null;if(!c&&lt.self&&lt.self.location){var u=lt.self.location.protocol;c=u.substr(0,u.length-1)}o=!YZ.test(c?c.toLowerCase():"")}i=o}if(i)vi(n,"complete"),vi(n,"success");else{n.m=6;try{var h=2<xs(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.da()+"]",t5(n)}}finally{Lw(n)}}}}function Lw(n,t){if(n.g){i5(n);const i=n.g,o=n.C[0]?Av:null;n.g=null,n.C=null,t||vi(n,"ready");try{i.onreadystatechange=o}catch{}}}function i5(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(lt.clearTimeout(n.A),n.A=null)}function xs(n){return n.g?n.g.readyState:0}je.da=function(){try{return 2<xs(this)?this.g.status:-1}catch{return-1}};je.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};je.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&t.indexOf(n)==0&&(t=t.substring(n.length)),QZ(t)}};function AR(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case e5:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}je.Ia=function(){return this.m};je.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function r5(n){let t="";return EC(n,function(i,o){t+=o,t+=":",t+=i,t+=`\r
`}),t}function FC(n,t,i){e:{for(o in i){var o=!1;break e}o=!0}o||(i=r5(i),typeof n=="string"?i!=null&&encodeURIComponent(String(i)):hn(n,t,i))}function Th(n,t,i){return i&&i.internalChannelParams&&i.internalChannelParams[n]||t}function o5(n){this.Ga=0,this.i=[],this.j=new Ew,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Th("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Th("baseRetryDelayMs",5e3,n),this.hb=Th("retryDelaySeedMs",1e4,n),this.eb=Th("forwardChannelMaxRetries",2,n),this.xa=Th("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new qB(n&&n.concurrentRequestLimit),this.Ja=new GZ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}je=o5.prototype;je.qa=8;je.H=1;function zC(n){if(s5(n),n.H==3){var t=n.W++,i=Bs(n.G);hn(i,"SID",n.J),hn(i,"RID",t),hn(i,"TYPE","terminate"),fp(n,i),t=new cp(n,n.j,t,void 0),t.L=2,t.v=Iw(Bs(i)),i=!1,lt.navigator&&lt.navigator.sendBeacon&&(i=lt.navigator.sendBeacon(t.v.toString(),"")),!i&&lt.Image&&(new Image().src=t.v,i=!0),i||(t.g=p5(t.l,null),t.g.ha(t.v)),t.G=Date.now(),up(t)}h5(n)}function Rw(n){n.g&&(VC(n),n.g.cancel(),n.g=null)}function s5(n){Rw(n),n.u&&(lt.clearTimeout(n.u),n.u=null),Tv(n),n.h.cancel(),n.m&&(typeof n.m=="number"&&lt.clearTimeout(n.m),n.m=null)}function Nw(n){QB(n.h)||n.m||(n.m=!0,TB(n.Na,n),n.C=0)}function XZ(n,t){return YB(n.h)>=n.h.j-(n.m?1:0)?!1:n.m?(n.i=t.F.concat(n.i),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=ap(Mi(n.Na,n,t),d5(n,n.C)),n.C++,!0)}je.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const c=new cp(this,this.j,n,void 0);let u=this.s;if(this.U&&(u?(u=bB(u),yB(u,this.U)):u=this.U),this.o!==null||this.O||(c.I=u,u=null),this.P)e:{for(var t=0,i=0;i<this.i.length;i++){t:{var o=this.i[i];if("__data__"in o.g&&(o=o.g.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(t+=o,4096<t){t=i;break e}if(t===4096||i===this.i.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=a5(this,c,t),i=Bs(this.G),hn(i,"RID",n),hn(i,"CVER",22),this.F&&hn(i,"X-HTTP-Session-Id",this.F),fp(this,i),u&&(this.O?t="headers="+encodeURIComponent(String(r5(u)))+"&"+t:this.o&&FC(i,this.o,u)),PC(this.h,c),this.bb&&hn(i,"TYPE","init"),this.P?(hn(i,"$req",t),hn(i,"SID","null"),c.ba=!0,LA(c,i,null)):LA(c,i,t),this.H=2}}else this.H==3&&(n?_R(this,n):this.i.length==0||QB(this.h)||_R(this))};function _R(n,t){var i;t?i=t.m:i=n.W++;const o=Bs(n.G);hn(o,"SID",n.J),hn(o,"RID",i),hn(o,"AID",n.V),fp(n,o),n.o&&n.s&&FC(o,n.o,n.s),i=new cp(n,n.j,i,n.C+1),n.o===null&&(i.I=n.s),t&&(n.i=t.F.concat(n.i)),t=a5(n,i,1e3),i.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),PC(n.h,i),LA(i,o,t)}function fp(n,t){n.ma&&EC(n.ma,function(i,o){hn(t,o,i)}),n.l&&UB({},function(i,o){hn(t,o,i)})}function a5(n,t,i){i=Math.min(n.i.length,i);var o=n.l?Mi(n.l.Va,n.l,n):null;e:{var c=n.i;let u=-1;for(;;){const h=["count="+i];u==-1?0<i?(u=c[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let b=!0;for(let f=0;f<i;f++){let w=c[f].h;const p=c[f].g;if(w-=u,0>w)u=Math.max(0,c[f].h-100),b=!1;else try{KZ(p,h,"req"+w+"_")}catch{o&&o(p)}}if(b){o=h.join("&");break e}}}return n=n.i.splice(0,i),t.F=n,o}function l5(n){n.g||n.u||(n.ba=1,TB(n.Ma,n),n.A=0)}function jC(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=ap(Mi(n.Ma,n),d5(n,n.A)),n.A++,!0)}je.Ma=function(){if(this.u=null,c5(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=ap(Mi(this.jb,this),n)}};je.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Hi(10),Rw(this),c5(this))};function VC(n){n.B!=null&&(lt.clearTimeout(n.B),n.B=null)}function c5(n){n.g=new cp(n,n.j,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var t=Bs(n.wa);hn(t,"RID","rpc"),hn(t,"SID",n.J),hn(t,"CI",n.M?"0":"1"),hn(t,"AID",n.V),hn(t,"TYPE","xmlhttp"),fp(n,t),n.o&&n.s&&FC(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var i=n.g;n=n.oa,i.L=1,i.v=Iw(Bs(t)),i.s=null,i.S=!0,FB(i,n)}je.ib=function(){this.v!=null&&(this.v=null,Rw(this),jC(this),Hi(19))};function Tv(n){n.v!=null&&(lt.clearTimeout(n.v),n.v=null)}function u5(n,t){var i=null;if(n.g==t){Tv(n),VC(n),n.g=null;var o=2}else if(NA(n.h,t))i=t.F,ZB(n.h,t),o=1;else return;if(n.H!=0){if(n.ta=t.aa,t.i)if(o==1){i=t.s?t.s.length:0,t=Date.now()-t.G;var c=n.C;o=Sw(),vi(o,new OB(o,i)),Nw(n)}else l5(n);else if(c=t.o,c==3||c==0&&0<n.ta||!(o==1&&XZ(n,t)||o==2&&jC(n)))switch(i&&0<i.length&&(t=n.h,t.i=t.i.concat(i)),c){case 1:Yl(n,5);break;case 4:Yl(n,10);break;case 3:Yl(n,6);break;default:Yl(n,2)}}}function d5(n,t){let i=n.ab+Math.floor(Math.random()*n.hb);return n.l||(i*=2),i*t}function Yl(n,t){if(n.j.info("Error code "+t),t==2){var i=null;n.l&&(i=null);var o=Mi(n.pb,n);i||(i=new nc("//www.google.com/images/cleardot.gif"),lt.location&&lt.location.protocol=="http"||Sv(i,"https"),Iw(i)),qZ(i.toString(),o)}else Hi(2);n.H=0,n.l&&n.l.za(t),h5(n),s5(n)}je.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Hi(2)):(this.j.info("Failed to ping google.com"),Hi(1))};function h5(n){if(n.H=0,n.pa=[],n.l){const t=JB(n.h);(t.length!=0||n.i.length!=0)&&(hR(n.pa,t),hR(n.pa,n.i),n.h.i.length=0,_C(n.i),n.i.length=0),n.l.ya()}}function f5(n,t,i){var o=i instanceof nc?Bs(i):new nc(i,void 0);if(o.g!="")t&&(o.g=t+"."+o.g),xv(o,o.m);else{var c=lt.location;o=c.protocol,t=t?t+"."+c.hostname:c.hostname,c=+c.port;var u=new nc(null,void 0);o&&Sv(u,o),t&&(u.g=t),c&&xv(u,c),i&&(u.l=i),o=u}return i=n.F,t=n.Da,i&&t&&hn(o,i,t),hn(o,"VER",n.qa),fp(n,o),o}function p5(n,t,i){if(t&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return t=i&&n.Ha&&!n.va?new En(new dp({ob:!0})):new En(n.va),t.Oa(n.I),t}function g5(){}je=g5.prototype;je.Ba=function(){};je.Aa=function(){};je.za=function(){};je.ya=function(){};je.Va=function(){};function Dv(){if(td&&!(10<=Number(mZ)))throw Error("Environmental error: no available transport.")}Dv.prototype.g=function(n,t){return new kr(n,t)};function kr(n,t){ri.call(this),this.g=new o5(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!_v(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_v(t)&&(this.g.F=t,n=this.h,n!==null&&t in n&&(n=this.h,t in n&&delete n[t])),this.j=new Sd(this)}oi(kr,ri);kr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,t=this.l,i=this.h||void 0;Hi(0),n.Y=t,n.ma=i||{},n.M=n.aa,n.G=f5(n,null,n.Y),Nw(n)};kr.prototype.close=function(){zC(this.g)};kr.prototype.u=function(n){var t=this.g;if(typeof n=="string"){var i={};i.__data__=n,n=i}else this.v&&(i={},i.__data__=IC(n),n=i);t.i.push(new HZ(t.fb++,n)),t.H==3&&Nw(t)};kr.prototype.N=function(){this.g.l=null,delete this.j,zC(this.g),delete this.g,kr.$.N.call(this)};function m5(n){NC.call(this);var t=n.__sm__;if(t){e:{for(const i in t){n=i;break e}n=void 0}(this.i=n)&&(n=this.i,t=t!==null&&n in t?t[n]:void 0),this.data=t}else this.data=n}oi(m5,NC);function v5(){OC.call(this),this.status=1}oi(v5,OC);function Sd(n){this.g=n}oi(Sd,g5);Sd.prototype.Ba=function(){vi(this.g,"a")};Sd.prototype.Aa=function(n){vi(this.g,new m5(n))};Sd.prototype.za=function(n){vi(this.g,new v5)};Sd.prototype.ya=function(){vi(this.g,"b")};function eJ(){this.blockSize=-1}function uo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}oi(uo,eJ);uo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Hy(n,t,i){i||(i=0);var o=Array(16);if(typeof t=="string")for(var c=0;16>c;++c)o[c]=t.charCodeAt(i++)|t.charCodeAt(i++)<<8|t.charCodeAt(i++)<<16|t.charCodeAt(i++)<<24;else for(c=0;16>c;++c)o[c]=t[i++]|t[i++]<<8|t[i++]<<16|t[i++]<<24;t=n.g[0],i=n.g[1],c=n.g[2];var u=n.g[3],h=t+(u^i&(c^u))+o[0]+3614090360&4294967295;t=i+(h<<7&4294967295|h>>>25),h=u+(c^t&(i^c))+o[1]+3905402710&4294967295,u=t+(h<<12&4294967295|h>>>20),h=c+(i^u&(t^i))+o[2]+606105819&4294967295,c=u+(h<<17&4294967295|h>>>15),h=i+(t^c&(u^t))+o[3]+3250441966&4294967295,i=c+(h<<22&4294967295|h>>>10),h=t+(u^i&(c^u))+o[4]+4118548399&4294967295,t=i+(h<<7&4294967295|h>>>25),h=u+(c^t&(i^c))+o[5]+1200080426&4294967295,u=t+(h<<12&4294967295|h>>>20),h=c+(i^u&(t^i))+o[6]+2821735955&4294967295,c=u+(h<<17&4294967295|h>>>15),h=i+(t^c&(u^t))+o[7]+4249261313&4294967295,i=c+(h<<22&4294967295|h>>>10),h=t+(u^i&(c^u))+o[8]+1770035416&4294967295,t=i+(h<<7&4294967295|h>>>25),h=u+(c^t&(i^c))+o[9]+2336552879&4294967295,u=t+(h<<12&4294967295|h>>>20),h=c+(i^u&(t^i))+o[10]+4294925233&4294967295,c=u+(h<<17&4294967295|h>>>15),h=i+(t^c&(u^t))+o[11]+2304563134&4294967295,i=c+(h<<22&4294967295|h>>>10),h=t+(u^i&(c^u))+o[12]+1804603682&4294967295,t=i+(h<<7&4294967295|h>>>25),h=u+(c^t&(i^c))+o[13]+4254626195&4294967295,u=t+(h<<12&4294967295|h>>>20),h=c+(i^u&(t^i))+o[14]+2792965006&4294967295,c=u+(h<<17&4294967295|h>>>15),h=i+(t^c&(u^t))+o[15]+1236535329&4294967295,i=c+(h<<22&4294967295|h>>>10),h=t+(c^u&(i^c))+o[1]+4129170786&4294967295,t=i+(h<<5&4294967295|h>>>27),h=u+(i^c&(t^i))+o[6]+3225465664&4294967295,u=t+(h<<9&4294967295|h>>>23),h=c+(t^i&(u^t))+o[11]+643717713&4294967295,c=u+(h<<14&4294967295|h>>>18),h=i+(u^t&(c^u))+o[0]+3921069994&4294967295,i=c+(h<<20&4294967295|h>>>12),h=t+(c^u&(i^c))+o[5]+3593408605&4294967295,t=i+(h<<5&4294967295|h>>>27),h=u+(i^c&(t^i))+o[10]+38016083&4294967295,u=t+(h<<9&4294967295|h>>>23),h=c+(t^i&(u^t))+o[15]+3634488961&4294967295,c=u+(h<<14&4294967295|h>>>18),h=i+(u^t&(c^u))+o[4]+3889429448&4294967295,i=c+(h<<20&4294967295|h>>>12),h=t+(c^u&(i^c))+o[9]+568446438&4294967295,t=i+(h<<5&4294967295|h>>>27),h=u+(i^c&(t^i))+o[14]+3275163606&4294967295,u=t+(h<<9&4294967295|h>>>23),h=c+(t^i&(u^t))+o[3]+4107603335&4294967295,c=u+(h<<14&4294967295|h>>>18),h=i+(u^t&(c^u))+o[8]+1163531501&4294967295,i=c+(h<<20&4294967295|h>>>12),h=t+(c^u&(i^c))+o[13]+2850285829&4294967295,t=i+(h<<5&4294967295|h>>>27),h=u+(i^c&(t^i))+o[2]+4243563512&4294967295,u=t+(h<<9&4294967295|h>>>23),h=c+(t^i&(u^t))+o[7]+1735328473&4294967295,c=u+(h<<14&4294967295|h>>>18),h=i+(u^t&(c^u))+o[12]+2368359562&4294967295,i=c+(h<<20&4294967295|h>>>12),h=t+(i^c^u)+o[5]+4294588738&4294967295,t=i+(h<<4&4294967295|h>>>28),h=u+(t^i^c)+o[8]+2272392833&4294967295,u=t+(h<<11&4294967295|h>>>21),h=c+(u^t^i)+o[11]+1839030562&4294967295,c=u+(h<<16&4294967295|h>>>16),h=i+(c^u^t)+o[14]+4259657740&4294967295,i=c+(h<<23&4294967295|h>>>9),h=t+(i^c^u)+o[1]+2763975236&4294967295,t=i+(h<<4&4294967295|h>>>28),h=u+(t^i^c)+o[4]+1272893353&4294967295,u=t+(h<<11&4294967295|h>>>21),h=c+(u^t^i)+o[7]+4139469664&4294967295,c=u+(h<<16&4294967295|h>>>16),h=i+(c^u^t)+o[10]+3200236656&4294967295,i=c+(h<<23&4294967295|h>>>9),h=t+(i^c^u)+o[13]+681279174&4294967295,t=i+(h<<4&4294967295|h>>>28),h=u+(t^i^c)+o[0]+3936430074&4294967295,u=t+(h<<11&4294967295|h>>>21),h=c+(u^t^i)+o[3]+3572445317&4294967295,c=u+(h<<16&4294967295|h>>>16),h=i+(c^u^t)+o[6]+76029189&4294967295,i=c+(h<<23&4294967295|h>>>9),h=t+(i^c^u)+o[9]+3654602809&4294967295,t=i+(h<<4&4294967295|h>>>28),h=u+(t^i^c)+o[12]+3873151461&4294967295,u=t+(h<<11&4294967295|h>>>21),h=c+(u^t^i)+o[15]+530742520&4294967295,c=u+(h<<16&4294967295|h>>>16),h=i+(c^u^t)+o[2]+3299628645&4294967295,i=c+(h<<23&4294967295|h>>>9),h=t+(c^(i|~u))+o[0]+4096336452&4294967295,t=i+(h<<6&4294967295|h>>>26),h=u+(i^(t|~c))+o[7]+1126891415&4294967295,u=t+(h<<10&4294967295|h>>>22),h=c+(t^(u|~i))+o[14]+2878612391&4294967295,c=u+(h<<15&4294967295|h>>>17),h=i+(u^(c|~t))+o[5]+4237533241&4294967295,i=c+(h<<21&4294967295|h>>>11),h=t+(c^(i|~u))+o[12]+1700485571&4294967295,t=i+(h<<6&4294967295|h>>>26),h=u+(i^(t|~c))+o[3]+2399980690&4294967295,u=t+(h<<10&4294967295|h>>>22),h=c+(t^(u|~i))+o[10]+4293915773&4294967295,c=u+(h<<15&4294967295|h>>>17),h=i+(u^(c|~t))+o[1]+2240044497&4294967295,i=c+(h<<21&4294967295|h>>>11),h=t+(c^(i|~u))+o[8]+1873313359&4294967295,t=i+(h<<6&4294967295|h>>>26),h=u+(i^(t|~c))+o[15]+4264355552&4294967295,u=t+(h<<10&4294967295|h>>>22),h=c+(t^(u|~i))+o[6]+2734768916&4294967295,c=u+(h<<15&4294967295|h>>>17),h=i+(u^(c|~t))+o[13]+1309151649&4294967295,i=c+(h<<21&4294967295|h>>>11),h=t+(c^(i|~u))+o[4]+4149444226&4294967295,t=i+(h<<6&4294967295|h>>>26),h=u+(i^(t|~c))+o[11]+3174756917&4294967295,u=t+(h<<10&4294967295|h>>>22),h=c+(t^(u|~i))+o[2]+718787259&4294967295,c=u+(h<<15&4294967295|h>>>17),h=i+(u^(c|~t))+o[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(c+(h<<21&4294967295|h>>>11))&4294967295,n.g[2]=n.g[2]+c&4294967295,n.g[3]=n.g[3]+u&4294967295}uo.prototype.j=function(n,t){t===void 0&&(t=n.length);for(var i=t-this.blockSize,o=this.m,c=this.h,u=0;u<t;){if(c==0)for(;u<=i;)Hy(this,n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<t;)if(o[c++]=n.charCodeAt(u++),c==this.blockSize){Hy(this,o),c=0;break}}else for(;u<t;)if(o[c++]=n[u++],c==this.blockSize){Hy(this,o),c=0;break}}this.h=c,this.i+=t};uo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var i=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=i&255,i/=256;for(this.j(n),n=Array(16),t=i=0;4>t;++t)for(var o=0;32>o;o+=8)n[i++]=this.g[t]>>>o&255;return n};function Kt(n,t){this.h=t;for(var i=[],o=!0,c=n.length-1;0<=c;c--){var u=n[c]|0;o&&u==t||(i[c]=u,o=!1)}this.g=i}var tJ={};function UC(n){return-128<=n&&128>n?mB(tJ,n,function(t){return new Kt([t|0],0>t?-1:0)}):new Kt([n|0],0>n?-1:0)}function Ko(n){if(isNaN(n)||!isFinite(n))return zu;if(0>n)return gi(Ko(-n));for(var t=[],i=1,o=0;n>=i;o++)t[o]=n/i|0,i*=OA;return new Kt(t,0)}function w5(n,t){if(n.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(n.charAt(0)=="-")return gi(w5(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=Ko(Math.pow(t,8)),o=zu,c=0;c<n.length;c+=8){var u=Math.min(8,n.length-c),h=parseInt(n.substring(c,c+u),t);8>u?(u=Ko(Math.pow(t,u)),o=o.R(u).add(Ko(h))):(o=o.R(i),o=o.add(Ko(h)))}return o}var OA=4294967296,zu=UC(0),PA=UC(1),CR=UC(16777216);je=Kt.prototype;je.ea=function(){if(Rr(this))return-gi(this).ea();for(var n=0,t=1,i=0;i<this.g.length;i++){var o=this.D(i);n+=(0<=o?o:OA+o)*t,t*=OA}return n};je.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(Ts(this))return"0";if(Rr(this))return"-"+gi(this).toString(n);for(var t=Ko(Math.pow(n,6)),i=this,o="";;){var c=Mv(i,t).g;i=Iv(i,c.R(t));var u=((0<i.g.length?i.g[0]:i.h)>>>0).toString(n);if(i=c,Ts(i))return u+o;for(;6>u.length;)u="0"+u;o=u+o}};je.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function Ts(n){if(n.h!=0)return!1;for(var t=0;t<n.g.length;t++)if(n.g[t]!=0)return!1;return!0}function Rr(n){return n.h==-1}je.X=function(n){return n=Iv(this,n),Rr(n)?-1:Ts(n)?0:1};function gi(n){for(var t=n.g.length,i=[],o=0;o<t;o++)i[o]=~n.g[o];return new Kt(i,~n.h).add(PA)}je.abs=function(){return Rr(this)?gi(this):this};je.add=function(n){for(var t=Math.max(this.g.length,n.g.length),i=[],o=0,c=0;c<=t;c++){var u=o+(this.D(c)&65535)+(n.D(c)&65535),h=(u>>>16)+(this.D(c)>>>16)+(n.D(c)>>>16);o=h>>>16,u&=65535,h&=65535,i[c]=h<<16|u}return new Kt(i,i[i.length-1]&-2147483648?-1:0)};function Iv(n,t){return n.add(gi(t))}je.R=function(n){if(Ts(this)||Ts(n))return zu;if(Rr(this))return Rr(n)?gi(this).R(gi(n)):gi(gi(this).R(n));if(Rr(n))return gi(this.R(gi(n)));if(0>this.X(CR)&&0>n.X(CR))return Ko(this.ea()*n.ea());for(var t=this.g.length+n.g.length,i=[],o=0;o<2*t;o++)i[o]=0;for(o=0;o<this.g.length;o++)for(var c=0;c<n.g.length;c++){var u=this.D(o)>>>16,h=this.D(o)&65535,b=n.D(c)>>>16,f=n.D(c)&65535;i[2*o+2*c]+=h*f,im(i,2*o+2*c),i[2*o+2*c+1]+=u*f,im(i,2*o+2*c+1),i[2*o+2*c+1]+=h*b,im(i,2*o+2*c+1),i[2*o+2*c+2]+=u*b,im(i,2*o+2*c+2)}for(o=0;o<t;o++)i[o]=i[2*o+1]<<16|i[2*o];for(o=t;o<2*t;o++)i[o]=0;return new Kt(i,0)};function im(n,t){for(;(n[t]&65535)!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Dh(n,t){this.g=n,this.h=t}function Mv(n,t){if(Ts(t))throw Error("division by zero");if(Ts(n))return new Dh(zu,zu);if(Rr(n))return t=Mv(gi(n),t),new Dh(gi(t.g),gi(t.h));if(Rr(t))return t=Mv(n,gi(t)),new Dh(gi(t.g),t.h);if(30<n.g.length){if(Rr(n)||Rr(t))throw Error("slowDivide_ only works with positive integers.");for(var i=PA,o=t;0>=o.X(n);)i=ER(i),o=ER(o);var c=uu(i,1),u=uu(o,1);for(o=uu(o,2),i=uu(i,2);!Ts(o);){var h=u.add(o);0>=h.X(n)&&(c=c.add(i),u=h),o=uu(o,1),i=uu(i,1)}return t=Iv(n,c.R(t)),new Dh(c,t)}for(c=zu;0<=n.X(t);){for(i=Math.max(1,Math.floor(n.ea()/t.ea())),o=Math.ceil(Math.log(i)/Math.LN2),o=48>=o?1:Math.pow(2,o-48),u=Ko(i),h=u.R(t);Rr(h)||0<h.X(n);)i-=o,u=Ko(i),h=u.R(t);Ts(u)&&(u=PA),c=c.add(u),n=Iv(n,h)}return new Dh(c,n)}je.gb=function(n){return Mv(this,n).h};je.and=function(n){for(var t=Math.max(this.g.length,n.g.length),i=[],o=0;o<t;o++)i[o]=this.D(o)&n.D(o);return new Kt(i,this.h&n.h)};je.or=function(n){for(var t=Math.max(this.g.length,n.g.length),i=[],o=0;o<t;o++)i[o]=this.D(o)|n.D(o);return new Kt(i,this.h|n.h)};je.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),i=[],o=0;o<t;o++)i[o]=this.D(o)^n.D(o);return new Kt(i,this.h^n.h)};function ER(n){for(var t=n.g.length+1,i=[],o=0;o<t;o++)i[o]=n.D(o)<<1|n.D(o-1)>>>31;return new Kt(i,n.h)}function uu(n,t){var i=t>>5;t%=32;for(var o=n.g.length-i,c=[],u=0;u<o;u++)c[u]=0<t?n.D(u+i)>>>t|n.D(u+i+1)<<32-t:n.D(u+i);return new Kt(c,n.h)}Dv.prototype.createWebChannel=Dv.prototype.g;kr.prototype.send=kr.prototype.u;kr.prototype.open=kr.prototype.m;kr.prototype.close=kr.prototype.close;xw.NO_ERROR=0;xw.TIMEOUT=8;xw.HTTP_ERROR=6;PB.COMPLETE="complete";$B.EventType=lp;lp.OPEN="a";lp.CLOSE="b";lp.ERROR="c";lp.MESSAGE="d";ri.prototype.listen=ri.prototype.O;En.prototype.listenOnce=En.prototype.P;En.prototype.getLastError=En.prototype.Sa;En.prototype.getLastErrorCode=En.prototype.Ia;En.prototype.getStatus=En.prototype.da;En.prototype.getResponseJson=En.prototype.Wa;En.prototype.getResponseText=En.prototype.ja;En.prototype.send=En.prototype.ha;En.prototype.setWithCredentials=En.prototype.Oa;uo.prototype.digest=uo.prototype.l;uo.prototype.reset=uo.prototype.reset;uo.prototype.update=uo.prototype.j;Kt.prototype.add=Kt.prototype.add;Kt.prototype.multiply=Kt.prototype.R;Kt.prototype.modulo=Kt.prototype.gb;Kt.prototype.compare=Kt.prototype.X;Kt.prototype.toNumber=Kt.prototype.ea;Kt.prototype.toString=Kt.prototype.toString;Kt.prototype.getBits=Kt.prototype.D;Kt.fromNumber=Ko;Kt.fromString=w5;var nJ=function(){return new Dv},iJ=function(){return Sw()},Wy=xw,rJ=PB,oJ=bc,SR={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},sJ=dp,rm=$B,aJ=En,lJ=uo,ju=Kt;const xR="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}xi.UNAUTHENTICATED=new xi(null),xi.GOOGLE_CREDENTIALS=new xi("google-credentials-uid"),xi.FIRST_PARTY=new xi("first-party-uid"),xi.MOCK_USER=new xi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd="9.21.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new uC("@firebase/firestore");function TR(){return pc.logLevel}function Ke(n,...t){if(pc.logLevel<=Nt.DEBUG){const i=t.map(HC);pc.debug(`Firestore (${xd}): ${n}`,...i)}}function Fs(n,...t){if(pc.logLevel<=Nt.ERROR){const i=t.map(HC);pc.error(`Firestore (${xd}): ${n}`,...i)}}function nd(n,...t){if(pc.logLevel<=Nt.WARN){const i=t.map(HC);pc.warn(`Firestore (${xd}): ${n}`,...i)}}function HC(n){if(typeof n=="string")return n;try{return t=n,JSON.stringify(t)}catch{return n}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(n="Unexpected state"){const t=`FIRESTORE (${xd}) INTERNAL ASSERTION FAILED: `+n;throw Fs(t),new Error(t)}function ln(n,t){n||at()}function ft(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends Us{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(xi.UNAUTHENTICATED))}shutdown(){}}class uJ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class dJ{constructor(t){this.t=t,this.currentUser=xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){let o=this.i;const c=f=>this.i!==o?(o=this.i,i(f)):Promise.resolve();let u=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ms,t.enqueueRetryable(()=>c(this.currentUser))};const h=()=>{const f=u;t.enqueueRetryable(async()=>{await f.promise,await c(this.currentUser)})},b=f=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(f=>b(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?b(f):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ms)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==t?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(ln(typeof o.accessToken=="string"),new k5(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ln(t===null||typeof t=="string"),new xi(t)}}class hJ{constructor(t,i,o){this.h=t,this.l=i,this.m=o,this.type="FirstParty",this.user=xi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class fJ{constructor(t,i,o){this.h=t,this.l=i,this.m=o}getToken(){return Promise.resolve(new hJ(this.h,this.l,this.m))}start(t,i){t.enqueueRetryable(()=>i(xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pJ{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gJ{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,i){const o=u=>{u.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.T;return this.T=u.token,Ke("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>o(u))};const c=u=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>c(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?c(u):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(ln(typeof i.token=="string"),this.T=i.token,new pJ(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mJ(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let o=0;o<n;o++)i[o]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let o="";for(;o.length<20;){const c=mJ(40);for(let u=0;u<c.length;++u)o.length<20&&c[u]<i&&(o+=t.charAt(c[u]%t.length))}return o}}function $t(n,t){return n<t?-1:n>t?1:0}function id(n,t,i){return n.length===t.length&&n.every((o,c)=>i(o,t[c]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new He(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new He(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new He(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new He(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Gn.fromMillis(Date.now())}static fromDate(t){return Gn.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*i));return new Gn(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ct(t)}static min(){return new ct(new Gn(0,0))}static max(){return new ct(new Gn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,i,o){i===void 0?i=0:i>t.length&&at(),o===void 0?o=t.length-i:o>t.length-i&&at(),this.segments=t,this.offset=i,this.len=o}get length(){return this.len}isEqual(t){return $f.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof $f?t.forEach(o=>{i.push(o)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,o=this.limit();i<o;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const o=Math.min(t.length,i.length);for(let c=0;c<o;c++){const u=t.get(c),h=i.get(c);if(u<h)return-1;if(u>h)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class sn extends $f{construct(t,i,o){return new sn(t,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const i=[];for(const o of t){if(o.indexOf("//")>=0)throw new He(Ce.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(c=>c.length>0))}return new sn(i)}static emptyPath(){return new sn([])}}const vJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends $f{construct(t,i,o){return new Ii(t,i,o)}static isValidIdentifier(t){return vJ.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ii(["__name__"])}static fromServerFormat(t){const i=[];let o="",c=0;const u=()=>{if(o.length===0)throw new He(Ce.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let h=!1;for(;c<t.length;){const b=t[c];if(b==="\\"){if(c+1===t.length)throw new He(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[c+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new He(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=f,c+=2}else b==="`"?(h=!h,c++):b!=="."||h?(o+=b,c++):(u(),c++)}if(u(),h)throw new He(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ii(i)}static emptyPath(){return new Ii([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.path=t}static fromPath(t){return new Qe(sn.fromString(t))}static fromName(t){return new Qe(sn.fromString(t).popFirst(5))}static empty(){return new Qe(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&sn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return sn.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Qe(new sn(t.slice()))}}function wJ(n,t){const i=n.toTimestamp().seconds,o=n.toTimestamp().nanoseconds+1,c=ct.fromTimestamp(o===1e9?new Gn(i+1,0):new Gn(i,o));return new qa(c,Qe.empty(),t)}function kJ(n){return new qa(n.readTime,n.key,-1)}class qa{constructor(t,i,o){this.readTime=t,this.documentKey=i,this.largestBatchId=o}static min(){return new qa(ct.min(),Qe.empty(),-1)}static max(){return new qa(ct.max(),Qe.empty(),-1)}}function bJ(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=Qe.comparator(n.documentKey,t.documentKey),i!==0?i:$t(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==yJ)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Re((o,c)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(o,c)},this.catchCallback=u=>{this.wrapFailure(i,u).next(o,c)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof Re?i:Re.resolve(i)}catch(i){return Re.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):Re.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):Re.reject(i)}static resolve(t){return new Re((i,o)=>{i(t)})}static reject(t){return new Re((i,o)=>{o(t)})}static waitFor(t){return new Re((i,o)=>{let c=0,u=0,h=!1;t.forEach(b=>{++c,b.next(()=>{++u,h&&u===c&&i()},f=>o(f))}),h=!0,u===c&&i()})}static or(t){let i=Re.resolve(!1);for(const o of t)i=i.next(c=>c?Re.resolve(c):o());return i}static forEach(t,i){const o=[];return t.forEach((c,u)=>{o.push(i.call(this,c,u))}),this.waitFor(o)}static mapArray(t,i){return new Re((o,c)=>{const u=t.length,h=new Array(u);let b=0;for(let f=0;f<u;f++){const w=f;i(t[w]).next(p=>{h[w]=p,++b,b===u&&o(h)},p=>c(p))}})}static doWhile(t,i){return new Re((o,c)=>{const u=()=>{t()===!0?i().next(()=>{u()},c):o()};u()})}}function gp(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>i.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}WC.ct=-1;function Ow(n){return n==null}function Lv(n){return n===0&&1/n==-1/0}function _J(n){return typeof n=="number"&&Number.isInteger(n)&&!Lv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function yc(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function y5(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t,i){this.comparator=t,this.root=i||pi.EMPTY}insert(t,i){return new wn(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,pi.BLACK,null,null))}remove(t){return new wn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pi.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(o===0)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(t){let i=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(t,o.key);if(c===0)return i+o.left.size;c<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,o)=>(t(i,o),!1))}toString(){const t=[];return this.inorderTraversal((i,o)=>(t.push(`${i}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new om(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new om(this.root,t,this.comparator,!1)}getReverseIterator(){return new om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new om(this.root,t,this.comparator,!0)}}class om{constructor(t,i,o,c){this.isReverse=c,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?o(t.key,i):1,i&&c&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pi{constructor(t,i,o,c,u){this.key=t,this.value=i,this.color=o??pi.RED,this.left=c??pi.EMPTY,this.right=u??pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,o,c,u){return new pi(t??this.key,i??this.value,o??this.color,c??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,o){let c=this;const u=o(t,c.key);return c=u<0?c.copy(null,null,null,c.left.insert(t,i,o),null):u===0?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(t,i,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return pi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let o,c=this;if(i(t,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(t,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),i(t,c.key)===0){if(c.right.isEmpty())return pi.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(t,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const t=this.left.check();if(t!==this.right.check())throw at();return t+(this.isRed()?0:1)}}pi.EMPTY=null,pi.RED=!0,pi.BLACK=!1;pi.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,t,i,o,c){return this}insert(n,t,i){return new pi(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t){this.comparator=t,this.data=new wn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,o)=>(t(i),!1))}forEachInRange(t,i){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,t[1])>=0)return;i(c.key)}}forEachWhile(t,i){let o;for(o=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new IR(this.data.getIterator())}getIteratorFrom(t){return new IR(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(o=>{i=i.add(o)}),i}isEqual(t){if(!(t instanceof Ri)||this.size!==t.size)return!1;const i=this.data.getIterator(),o=t.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,u=o.getNext().key;if(this.comparator(c,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ri(this.comparator);return i.data=t,i}}class IR{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t){this.fields=t,t.sort(Ii.comparator)}static empty(){return new mr([])}unionWith(t){let i=new Ri(Ii.comparator);for(const o of this.fields)i=i.add(o);for(const o of t)i=i.add(o);return new mr(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return id(this.fields,t.fields,(i,o)=>i.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new A5("Invalid base64 string: "+c):c}}(t);return new Pi(i)}static fromUint8Array(t){const i=function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c}(t);return new Pi(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const CJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(n){if(ln(!!n),typeof n=="string"){let t=0;const i=CJ.exec(n);if(ln(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),t=Number(c)}const o=new Date(n);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:$n(n.seconds),nanos:$n(n.nanos)}}function $n(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function gc(n){return typeof n=="string"?Pi.fromBase64String(n):Pi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function KC(n){const t=n.mapValue.fields.__previous_value__;return GC(t)?KC(t):t}function Bf(n){const t=Qa(n.mapValue.fields.__local_write_time__.timestampValue);return new Gn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(t,i,o,c,u,h,b,f){this.databaseId=t,this.appId=i,this.persistenceKey=o,this.host=c,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=b,this.useFetchStreams=f}}class Ff{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Ff("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ff&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function mc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?GC(n)?4:SJ(n)?9007199254740991:10:at()}function ts(n,t){if(n===t)return!0;const i=mc(n);if(i!==mc(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Bf(n).isEqual(Bf(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Qa(o.timestampValue),h=Qa(c.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(o,c){return gc(o.bytesValue).isEqual(gc(c.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,c){return $n(o.geoPointValue.latitude)===$n(c.geoPointValue.latitude)&&$n(o.geoPointValue.longitude)===$n(c.geoPointValue.longitude)}(n,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return $n(o.integerValue)===$n(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=$n(o.doubleValue),h=$n(c.doubleValue);return u===h?Lv(u)===Lv(h):isNaN(u)&&isNaN(h)}return!1}(n,t);case 9:return id(n.arrayValue.values||[],t.arrayValue.values||[],ts);case 10:return function(o,c){const u=o.mapValue.fields||{},h=c.mapValue.fields||{};if(DR(u)!==DR(h))return!1;for(const b in u)if(u.hasOwnProperty(b)&&(h[b]===void 0||!ts(u[b],h[b])))return!1;return!0}(n,t);default:return at()}}function zf(n,t){return(n.values||[]).find(i=>ts(i,t))!==void 0}function rd(n,t){if(n===t)return 0;const i=mc(n),o=mc(t);if(i!==o)return $t(i,o);switch(i){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,t.booleanValue);case 2:return function(c,u){const h=$n(c.integerValue||c.doubleValue),b=$n(u.integerValue||u.doubleValue);return h<b?-1:h>b?1:h===b?0:isNaN(h)?isNaN(b)?0:-1:1}(n,t);case 3:return MR(n.timestampValue,t.timestampValue);case 4:return MR(Bf(n),Bf(t));case 5:return $t(n.stringValue,t.stringValue);case 6:return function(c,u){const h=gc(c),b=gc(u);return h.compareTo(b)}(n.bytesValue,t.bytesValue);case 7:return function(c,u){const h=c.split("/"),b=u.split("/");for(let f=0;f<h.length&&f<b.length;f++){const w=$t(h[f],b[f]);if(w!==0)return w}return $t(h.length,b.length)}(n.referenceValue,t.referenceValue);case 8:return function(c,u){const h=$t($n(c.latitude),$n(u.latitude));return h!==0?h:$t($n(c.longitude),$n(u.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(c,u){const h=c.values||[],b=u.values||[];for(let f=0;f<h.length&&f<b.length;++f){const w=rd(h[f],b[f]);if(w)return w}return $t(h.length,b.length)}(n.arrayValue,t.arrayValue);case 10:return function(c,u){if(c===sm.mapValue&&u===sm.mapValue)return 0;if(c===sm.mapValue)return 1;if(u===sm.mapValue)return-1;const h=c.fields||{},b=Object.keys(h),f=u.fields||{},w=Object.keys(f);b.sort(),w.sort();for(let p=0;p<b.length&&p<w.length;++p){const v=$t(b[p],w[p]);if(v!==0)return v;const g=rd(h[b[p]],f[w[p]]);if(g!==0)return g}return $t(b.length,w.length)}(n.mapValue,t.mapValue);default:throw at()}}function MR(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return $t(n,t);const i=Qa(n),o=Qa(t),c=$t(i.seconds,o.seconds);return c!==0?c:$t(i.nanos,o.nanos)}function od(n){return $A(n)}function $A(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(o){const c=Qa(o);return`time(${c.seconds},${c.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?gc(n.bytesValue).toBase64():"referenceValue"in n?(i=n.referenceValue,Qe.fromName(i).toString()):"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(o){let c="[",u=!0;for(const h of o.values||[])u?u=!1:c+=",",c+=$A(h);return c+"]"}(n.arrayValue):"mapValue"in n?function(o){const c=Object.keys(o.fields||{}).sort();let u="{",h=!0;for(const b of c)h?h=!1:u+=",",u+=`${b}:${$A(o.fields[b])}`;return u+"}"}(n.mapValue):at();var t,i}function LR(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function BA(n){return!!n&&"integerValue"in n}function qC(n){return!!n&&"arrayValue"in n}function RR(n){return!!n&&"nullValue"in n}function NR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Im(n){return!!n&&"mapValue"in n}function tf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return yc(n.mapValue.fields,(i,o)=>t.mapValue.fields[i]=tf(o)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=tf(n.arrayValue.values[i]);return t}return Object.assign({},n)}function SJ(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t){this.value=t}static empty(){return new ir({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let o=0;o<t.length-1;++o)if(i=(i.mapValue.fields||{})[t.get(o)],!Im(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=tf(i)}setAll(t){let i=Ii.emptyPath(),o={},c=[];t.forEach((h,b)=>{if(!i.isImmediateParentOf(b)){const f=this.getFieldsMap(i);this.applyChanges(f,o,c),o={},c=[],i=b.popLast()}h?o[b.lastSegment()]=tf(h):c.push(b.lastSegment())});const u=this.getFieldsMap(i);this.applyChanges(u,o,c)}delete(t){const i=this.field(t.popLast());Im(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ts(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<t.length;++o){let c=i.mapValue.fields[t.get(o)];Im(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[t.get(o)]=c),i=c}return i.mapValue.fields}applyChanges(t,i,o){yc(i,(c,u)=>t[c]=u);for(const c of o)delete t[c]}clone(){return new ir(tf(this.value))}}function _5(n){const t=[];return yc(n.fields,(i,o)=>{const c=new Ii([i]);if(Im(o)){const u=_5(o.mapValue).fields;if(u.length===0)t.push(c);else for(const h of u)t.push(c.child(h))}else t.push(c)}),new mr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t,i,o,c,u,h,b){this.key=t,this.documentType=i,this.version=o,this.readTime=c,this.createTime=u,this.data=h,this.documentState=b}static newInvalidDocument(t){return new Di(t,0,ct.min(),ct.min(),ct.min(),ir.empty(),0)}static newFoundDocument(t,i,o,c){return new Di(t,1,i,ct.min(),o,c,0)}static newNoDocument(t,i){return new Di(t,2,i,ct.min(),ct.min(),ir.empty(),0)}static newUnknownDocument(t,i){return new Di(t,3,i,ct.min(),ct.min(),ir.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Di&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(t,i){this.position=t,this.inclusive=i}}function OR(n,t,i){let o=0;for(let c=0;c<n.position.length;c++){const u=t[c],h=n.position[c];if(u.field.isKeyField()?o=Qe.comparator(Qe.fromName(h.referenceValue),i.key):o=rd(h,i.data.field(u.field)),u.dir==="desc"&&(o*=-1),o!==0)break}return o}function PR(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!ts(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,i="asc"){this.field=t,this.dir=i}}function xJ(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{}class zn extends C5{constructor(t,i,o){super(),this.field=t,this.op=i,this.value=o}static create(t,i,o){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,o):new DJ(t,i,o):i==="array-contains"?new LJ(t,o):i==="in"?new RJ(t,o):i==="not-in"?new NJ(t,o):i==="array-contains-any"?new OJ(t,o):new zn(t,i,o)}static createKeyFieldInFilter(t,i,o){return i==="in"?new IJ(t,o):new MJ(t,o)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(rd(i,this.value)):i!==null&&mc(this.value)===mc(i)&&this.matchesComparison(rd(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ho extends C5{constructor(t,i){super(),this.filters=t,this.op=i,this.ht=null}static create(t,i){return new ho(t,i)}matches(t){return E5(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(i=>i.isInequality());return t!==null?t.field:null}lt(t){for(const i of this.getFlattenedFilters())if(t(i))return i;return null}}function E5(n){return n.op==="and"}function S5(n){return TJ(n)&&E5(n)}function TJ(n){for(const t of n.filters)if(t instanceof ho)return!1;return!0}function FA(n){if(n instanceof zn)return n.field.canonicalString()+n.op.toString()+od(n.value);if(S5(n))return n.filters.map(t=>FA(t)).join(",");{const t=n.filters.map(i=>FA(i)).join(",");return`${n.op}(${t})`}}function x5(n,t){return n instanceof zn?function(i,o){return o instanceof zn&&i.op===o.op&&i.field.isEqual(o.field)&&ts(i.value,o.value)}(n,t):n instanceof ho?function(i,o){return o instanceof ho&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((c,u,h)=>c&&x5(u,o.filters[h]),!0):!1}(n,t):void at()}function T5(n){return n instanceof zn?function(t){return`${t.field.canonicalString()} ${t.op} ${od(t.value)}`}(n):n instanceof ho?function(t){return t.op.toString()+" {"+t.getFilters().map(T5).join(" ,")+"}"}(n):"Filter"}class DJ extends zn{constructor(t,i,o){super(t,i,o),this.key=Qe.fromName(o.referenceValue)}matches(t){const i=Qe.comparator(t.key,this.key);return this.matchesComparison(i)}}class IJ extends zn{constructor(t,i){super(t,"in",i),this.keys=D5("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class MJ extends zn{constructor(t,i){super(t,"not-in",i),this.keys=D5("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function D5(n,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(o=>Qe.fromName(o.referenceValue))}class LJ extends zn{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return qC(i)&&zf(i.arrayValue,this.value)}}class RJ extends zn{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&zf(this.value.arrayValue,i)}}class NJ extends zn{constructor(t,i){super(t,"not-in",i)}matches(t){if(zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!zf(this.value.arrayValue,i)}}class OJ extends zn{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!qC(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>zf(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(t,i=null,o=[],c=[],u=null,h=null,b=null){this.path=t,this.collectionGroup=i,this.orderBy=o,this.filters=c,this.limit=u,this.startAt=h,this.endAt=b,this.ft=null}}function $R(n,t=null,i=[],o=[],c=null,u=null,h=null){return new PJ(n,t,i,o,c,u,h)}function QC(n){const t=ft(n);if(t.ft===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(o=>FA(o)).join(","),i+="|ob:",i+=t.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),Ow(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>od(o)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>od(o)).join(",")),t.ft=i}return t.ft}function YC(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!xJ(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!x5(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!PR(n.startAt,t.startAt)&&PR(n.endAt,t.endAt)}function zA(n){return Qe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(t,i=null,o=[],c=[],u=null,h="F",b=null,f=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=c,this.limit=u,this.limitType=h,this.startAt=b,this.endAt=f,this.dt=null,this._t=null,this.startAt,this.endAt}}function $J(n,t,i,o,c,u,h,b){return new mp(n,t,i,o,c,u,h,b)}function ZC(n){return new mp(n)}function BR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function I5(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function JC(n){for(const t of n.filters){const i=t.getFirstInequalityField();if(i!==null)return i}return null}function M5(n){return n.collectionGroup!==null}function Vu(n){const t=ft(n);if(t.dt===null){t.dt=[];const i=JC(t),o=I5(t);if(i!==null&&o===null)i.isKeyField()||t.dt.push(new nf(i)),t.dt.push(new nf(Ii.keyField(),"asc"));else{let c=!1;for(const u of t.explicitOrderBy)t.dt.push(u),u.field.isKeyField()&&(c=!0);if(!c){const u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new nf(Ii.keyField(),u))}}}return t.dt}function zs(n){const t=ft(n);if(!t._t)if(t.limitType==="F")t._t=$R(t.path,t.collectionGroup,Vu(t),t.filters,t.limit,t.startAt,t.endAt);else{const i=[];for(const u of Vu(t)){const h=u.dir==="desc"?"asc":"desc";i.push(new nf(u.field,h))}const o=t.endAt?new Rv(t.endAt.position,t.endAt.inclusive):null,c=t.startAt?new Rv(t.startAt.position,t.startAt.inclusive):null;t._t=$R(t.path,t.collectionGroup,i,t.filters,t.limit,o,c)}return t._t}function jA(n,t){t.getFirstInequalityField(),JC(n);const i=n.filters.concat([t]);return new mp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function VA(n,t,i){return new mp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Pw(n,t){return YC(zs(n),zs(t))&&n.limitType===t.limitType}function L5(n){return`${QC(zs(n))}|lt:${n.limitType}`}function UA(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>T5(o)).join(", ")}]`),Ow(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>od(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>od(o)).join(",")),`Target(${i})`}(zs(n))}; limitType=${n.limitType})`}function $w(n,t){return t.isFoundDocument()&&function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Qe.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(n,t)&&function(i,o){for(const c of Vu(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(n,t)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(n,t)&&function(i,o){return!(i.startAt&&!function(c,u,h){const b=OR(c,u,h);return c.inclusive?b<=0:b<0}(i.startAt,Vu(i),o)||i.endAt&&!function(c,u,h){const b=OR(c,u,h);return c.inclusive?b>=0:b>0}(i.endAt,Vu(i),o))}(n,t)}function BJ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function R5(n){return(t,i)=>{let o=!1;for(const c of Vu(n)){const u=FJ(c,t,i);if(u!==0)return u;o=o||c.field.isKeyField()}return 0}}function FJ(n,t,i){const o=n.field.isKeyField()?Qe.comparator(t.key,i.key):function(c,u,h){const b=u.data.field(c),f=h.data.field(c);return b!==null&&f!==null?rd(b,f):at()}(n.field,t,i);switch(n.dir){case"asc":return o;case"desc":return-1*o;default:return at()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(const[c,u]of o)if(this.equalsFn(c,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const o=this.mapKeyFn(t),c=this.inner[o];if(c===void 0)return this.inner[o]=[[t,i]],void this.innerSize++;for(let u=0;u<c.length;u++)if(this.equalsFn(c[u][0],t))return void(c[u]=[t,i]);c.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),o=this.inner[i];if(o===void 0)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return o.length===1?delete this.inner[i]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(t){yc(this.inner,(i,o)=>{for(const[c,u]of o)t(c,u)})}isEmpty(){return y5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ=new wn(Qe.comparator);function js(){return zJ}const N5=new wn(Qe.comparator);function jh(...n){let t=N5;for(const i of n)t=t.insert(i.key,i);return t}function O5(n){let t=N5;return n.forEach((i,o)=>t=t.insert(i,o.overlayedDocument)),t}function Zl(){return rf()}function P5(){return rf()}function rf(){return new Td(n=>n.toString(),(n,t)=>n.isEqual(t))}const jJ=new wn(Qe.comparator),VJ=new Ri(Qe.comparator);function _t(...n){let t=VJ;for(const i of n)t=t.add(i);return t}const UJ=new Ri($t);function HJ(){return UJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lv(t)?"-0":t}}function B5(n){return{integerValue:""+n}}function WJ(n,t){return _J(t)?B5(t):$5(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this._=void 0}}function GJ(n,t,i){return n instanceof Nv?function(o,c){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&GC(c)&&(c=KC(c)),c&&(u.fields.__previous_value__=c),{mapValue:u}}(i,t):n instanceof jf?z5(n,t):n instanceof Vf?j5(n,t):function(o,c){const u=F5(o,c),h=FR(u)+FR(o.wt);return BA(u)&&BA(o.wt)?B5(h):$5(o.serializer,h)}(n,t)}function KJ(n,t,i){return n instanceof jf?z5(n,t):n instanceof Vf?j5(n,t):i}function F5(n,t){return n instanceof Ov?BA(i=t)||function(o){return!!o&&"doubleValue"in o}(i)?t:{integerValue:0}:null;var i}class Nv extends Bw{}class jf extends Bw{constructor(t){super(),this.elements=t}}function z5(n,t){const i=V5(t);for(const o of n.elements)i.some(c=>ts(c,o))||i.push(o);return{arrayValue:{values:i}}}class Vf extends Bw{constructor(t){super(),this.elements=t}}function j5(n,t){let i=V5(t);for(const o of n.elements)i=i.filter(c=>!ts(c,o));return{arrayValue:{values:i}}}class Ov extends Bw{constructor(t,i){super(),this.serializer=t,this.wt=i}}function FR(n){return $n(n.integerValue||n.doubleValue)}function V5(n){return qC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function qJ(n,t){return n.field.isEqual(t.field)&&function(i,o){return i instanceof jf&&o instanceof jf||i instanceof Vf&&o instanceof Vf?id(i.elements,o.elements,ts):i instanceof Ov&&o instanceof Ov?ts(i.wt,o.wt):i instanceof Nv&&o instanceof Nv}(n.transform,t.transform)}class QJ{constructor(t,i){this.version=t,this.transformResults=i}}class ao{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ao}static exists(t){return new ao(void 0,t)}static updateTime(t){return new ao(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mm(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Fw{}function U5(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new W5(n.key,ao.none()):new vp(n.key,n.data,ao.none());{const i=n.data,o=ir.empty();let c=new Ri(Ii.comparator);for(let u of t.fields)if(!c.has(u)){let h=i.field(u);h===null&&u.length>1&&(u=u.popLast(),h=i.field(u)),h===null?o.delete(u):o.set(u,h),c=c.add(u)}return new il(n.key,o,new mr(c.toArray()),ao.none())}}function YJ(n,t,i){n instanceof vp?function(o,c,u){const h=o.value.clone(),b=jR(o.fieldTransforms,c,u.transformResults);h.setAll(b),c.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,t,i):n instanceof il?function(o,c,u){if(!Mm(o.precondition,c))return void c.convertToUnknownDocument(u.version);const h=jR(o.fieldTransforms,c,u.transformResults),b=c.data;b.setAll(H5(o)),b.setAll(h),c.convertToFoundDocument(u.version,b).setHasCommittedMutations()}(n,t,i):function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,i)}function of(n,t,i,o){return n instanceof vp?function(c,u,h,b){if(!Mm(c.precondition,u))return h;const f=c.value.clone(),w=VR(c.fieldTransforms,b,u);return f.setAll(w),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null}(n,t,i,o):n instanceof il?function(c,u,h,b){if(!Mm(c.precondition,u))return h;const f=VR(c.fieldTransforms,b,u),w=u.data;return w.setAll(H5(c)),w.setAll(f),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),h===null?null:h.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(p=>p.field))}(n,t,i,o):function(c,u,h){return Mm(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,t,i)}function ZJ(n,t){let i=null;for(const o of n.fieldTransforms){const c=t.data.field(o.field),u=F5(o.transform,c||null);u!=null&&(i===null&&(i=ir.empty()),i.set(o.field,u))}return i||null}function zR(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&id(i,o,(c,u)=>qJ(c,u))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class vp extends Fw{constructor(t,i,o,c=[]){super(),this.key=t,this.value=i,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class il extends Fw{constructor(t,i,o,c,u=[]){super(),this.key=t,this.data=i,this.fieldMask=o,this.precondition=c,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function H5(n){const t=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=n.data.field(i);t.set(i,o)}}),t}function jR(n,t,i){const o=new Map;ln(n.length===i.length);for(let c=0;c<i.length;c++){const u=n[c],h=u.transform,b=t.data.field(u.field);o.set(u.field,KJ(h,b,i[c]))}return o}function VR(n,t,i){const o=new Map;for(const c of n){const u=c.transform,h=i.data.field(c.field);o.set(c.field,GJ(u,h,t))}return o}class W5 extends Fw{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JJ extends Fw{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(t,i,o,c){this.batchId=t,this.localWriteTime=i,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(t,i){const o=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const u=this.mutations[c];u.key.isEqual(t.key)&&YJ(u,t,o[c])}}applyToLocalView(t,i){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(i=of(o,t,i,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(i=of(o,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const o=P5();return this.mutations.forEach(c=>{const u=t.get(c.key),h=u.overlayedDocument;let b=this.applyToLocalView(h,u.mutatedFields);b=i.has(c.key)?null:b;const f=U5(h,b);f!==null&&o.set(c.key,f),h.isValidDocument()||h.convertToNoDocument(ct.min())}),o}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),_t())}isEqual(t){return this.batchId===t.batchId&&id(this.mutations,t.mutations,(i,o)=>zR(i,o))&&id(this.baseMutations,t.baseMutations,(i,o)=>zR(i,o))}}class XC{constructor(t,i,o,c){this.batch=t,this.commitVersion=i,this.mutationResults=o,this.docVersions=c}static from(t,i,o){ln(t.mutations.length===o.length);let c=jJ;const u=t.mutations;for(let h=0;h<u.length;h++)c=c.insert(u[h].key,o[h].version);return new XC(t,i,o,c)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,Tt;function nX(n){switch(n){default:return at();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function G5(n){if(n===void 0)return Fs("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case Pn.OK:return Ce.OK;case Pn.CANCELLED:return Ce.CANCELLED;case Pn.UNKNOWN:return Ce.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return Ce.INTERNAL;case Pn.UNAVAILABLE:return Ce.UNAVAILABLE;case Pn.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case Pn.NOT_FOUND:return Ce.NOT_FOUND;case Pn.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case Pn.ABORTED:return Ce.ABORTED;case Pn.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case Pn.DATA_LOSS:return Ce.DATA_LOSS;default:return at()}}(Tt=Pn||(Pn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return am}static getOrCreateInstance(){return am===null&&(am=new e1),am}onExistenceFilterMismatch(t){const i=Symbol();return this.onExistenceFilterMismatchCallbacks.set(i,t),()=>this.onExistenceFilterMismatchCallbacks.delete(i)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(i=>i(t))}}let am=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iX(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=new ju([4294967295,4294967295],0);function UR(n){const t=iX().encode(n),i=new lJ;return i.update(t),new Uint8Array(i.digest())}function HR(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),o=t.getUint32(4,!0),c=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ju([i,o],0),new ju([c,u],0)]}class t1{constructor(t,i,o){if(this.bitmap=t,this.padding=i,this.hashCount=o,i<0||i>=8)throw new Vh(`Invalid padding: ${i}`);if(o<0)throw new Vh(`Invalid hash count: ${o}`);if(t.length>0&&this.hashCount===0)throw new Vh(`Invalid hash count: ${o}`);if(t.length===0&&i!==0)throw new Vh(`Invalid padding when bitmap length is 0: ${i}`);this.yt=8*t.length-i,this.It=ju.fromNumber(this.yt)}Tt(t,i,o){let c=t.add(i.multiply(ju.fromNumber(o)));return c.compare(rX)===1&&(c=new ju([c.getBits(0),c.getBits(1)],0)),c.modulo(this.It).toNumber()}Et(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}At(t){if(this.yt===0)return!1;const i=UR(t),[o,c]=HR(i);for(let u=0;u<this.hashCount;u++){const h=this.Tt(o,c,u);if(!this.Et(h))return!1}return!0}static create(t,i,o){const c=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new t1(u,c,i);return o.forEach(b=>h.insert(b)),h}insert(t){if(this.yt===0)return;const i=UR(t),[o,c]=HR(i);for(let u=0;u<this.hashCount;u++){const h=this.Tt(o,c,u);this.Rt(h)}}Rt(t){const i=Math.floor(t/8),o=t%8;this.bitmap[i]|=1<<o}}class Vh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t,i,o,c,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,o){const c=new Map;return c.set(t,wp.createSynthesizedTargetChangeForCurrentChange(t,i,o)),new zw(ct.min(),c,new wn($t),js(),_t())}}class wp{constructor(t,i,o,c,u){this.resumeToken=t,this.current=i,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,o){return new wp(o,i,_t(),_t(),_t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,i,o,c){this.vt=t,this.removedTargetIds=i,this.key=o,this.Pt=c}}class K5{constructor(t,i){this.targetId=t,this.bt=i}}class q5{constructor(t,i,o=Pi.EMPTY_BYTE_STRING,c=null){this.state=t,this.targetIds=i,this.resumeToken=o,this.cause=c}}class WR{constructor(){this.Vt=0,this.St=KR(),this.Dt=Pi.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return this.Vt!==0}get kt(){return this.xt}Mt(t){t.approximateByteSize()>0&&(this.xt=!0,this.Dt=t)}Ot(){let t=_t(),i=_t(),o=_t();return this.St.forEach((c,u)=>{switch(u){case 0:t=t.add(c);break;case 2:i=i.add(c);break;case 1:o=o.add(c);break;default:at()}}),new wp(this.Dt,this.Ct,t,i,o)}$t(){this.xt=!1,this.St=KR()}Ft(t,i){this.xt=!0,this.St=this.St.insert(t,i)}Bt(t){this.xt=!0,this.St=this.St.remove(t)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class oX{constructor(t){this.Kt=t,this.Gt=new Map,this.Qt=js(),this.jt=GR(),this.zt=new wn($t)}Wt(t){for(const i of t.vt)t.Pt&&t.Pt.isFoundDocument()?this.Ht(i,t.Pt):this.Jt(i,t.key,t.Pt);for(const i of t.removedTargetIds)this.Jt(i,t.key,t.Pt)}Yt(t){this.forEachTarget(t,i=>{const o=this.Xt(i);switch(t.state){case 0:this.Zt(i)&&o.Mt(t.resumeToken);break;case 1:o.qt(),o.Nt||o.$t(),o.Mt(t.resumeToken);break;case 2:o.qt(),o.Nt||this.removeTarget(i);break;case 3:this.Zt(i)&&(o.Ut(),o.Mt(t.resumeToken));break;case 4:this.Zt(i)&&(this.te(i),o.Mt(t.resumeToken));break;default:at()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Gt.forEach((o,c)=>{this.Zt(c)&&i(c)})}ee(t){var i;const o=t.targetId,c=t.bt.count,u=this.ne(o);if(u){const h=u.target;if(zA(h))if(c===0){const b=new Qe(h.path);this.Jt(o,b,Di.newNoDocument(b,ct.min()))}else ln(c===1);else{const b=this.se(o);if(b!==c){const f=this.ie(t,b);if(f!==0){this.te(o);const w=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(o,w)}(i=e1.instance)===null||i===void 0||i.notifyOnExistenceFilterMismatch(function(w,p,v){var g,k,A,_,E,x;const D={localCacheCount:p,existenceFilterCount:v.count},O=v.unchangedNames;return O&&(D.bloomFilter={applied:w===0,hashCount:(g=O==null?void 0:O.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(_=(A=(k=O==null?void 0:O.bits)===null||k===void 0?void 0:k.bitmap)===null||A===void 0?void 0:A.length)!==null&&_!==void 0?_:0,padding:(x=(E=O==null?void 0:O.bits)===null||E===void 0?void 0:E.padding)!==null&&x!==void 0?x:0}),D}(f,b,t.bt))}}}}ie(t,i){const{unchangedNames:o,count:c}=t.bt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:h=0},hashCount:b=0}=o;let f,w;try{f=gc(u).toUint8Array()}catch(p){if(p instanceof A5)return nd("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw p}try{w=new t1(f,h,b)}catch(p){return nd(p instanceof Vh?"BloomFilter error: ":"Applying bloom filter failed: ",p),1}return w.yt===0?1:c!==i-this.re(t.targetId,w)?2:0}re(t,i){const o=this.Kt.getRemoteKeysForTarget(t);let c=0;return o.forEach(u=>{const h=this.Kt.oe(),b=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;i.At(b)||(this.Jt(t,u,null),c++)}),c}ue(t){const i=new Map;this.Gt.forEach((u,h)=>{const b=this.ne(h);if(b){if(u.current&&zA(b.target)){const f=new Qe(b.target.path);this.Qt.get(f)!==null||this.ce(h,f)||this.Jt(h,f,Di.newNoDocument(f,t))}u.kt&&(i.set(h,u.Ot()),u.$t())}});let o=_t();this.jt.forEach((u,h)=>{let b=!0;h.forEachWhile(f=>{const w=this.ne(f);return!w||w.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)}),b&&(o=o.add(u))}),this.Qt.forEach((u,h)=>h.setReadTime(t));const c=new zw(t,i,this.zt,this.Qt,o);return this.Qt=js(),this.jt=GR(),this.zt=new wn($t),c}Ht(t,i){if(!this.Zt(t))return;const o=this.ce(t,i.key)?2:0;this.Xt(t).Ft(i.key,o),this.Qt=this.Qt.insert(i.key,i),this.jt=this.jt.insert(i.key,this.ae(i.key).add(t))}Jt(t,i,o){if(!this.Zt(t))return;const c=this.Xt(t);this.ce(t,i)?c.Ft(i,1):c.Bt(i),this.jt=this.jt.insert(i,this.ae(i).delete(t)),o&&(this.Qt=this.Qt.insert(i,o))}removeTarget(t){this.Gt.delete(t)}se(t){const i=this.Xt(t).Ot();return this.Kt.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Lt(t){this.Xt(t).Lt()}Xt(t){let i=this.Gt.get(t);return i||(i=new WR,this.Gt.set(t,i)),i}ae(t){let i=this.jt.get(t);return i||(i=new Ri($t),this.jt=this.jt.insert(t,i)),i}Zt(t){const i=this.ne(t)!==null;return i||Ke("WatchChangeAggregator","Detected inactive target",t),i}ne(t){const i=this.Gt.get(t);return i&&i.Nt?null:this.Kt.he(t)}te(t){this.Gt.set(t,new WR),this.Kt.getRemoteKeysForTarget(t).forEach(i=>{this.Jt(t,i,null)})}ce(t,i){return this.Kt.getRemoteKeysForTarget(t).has(i)}}function GR(){return new wn(Qe.comparator)}function KR(){return new wn(Qe.comparator)}const sX=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),aX=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),lX=(()=>({and:"AND",or:"OR"}))();class cX{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function HA(n,t){return n.useProto3Json||Ow(t)?t:{value:t}}function Pv(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Q5(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function uX(n,t){return Pv(n,t.toTimestamp())}function es(n){return ln(!!n),ct.fromTimestamp(function(t){const i=Qa(t);return new Gn(i.seconds,i.nanos)}(n))}function n1(n,t){return function(i){return new sn(["projects",i.projectId,"databases",i.database])}(n).child("documents").child(t).canonicalString()}function Y5(n){const t=sn.fromString(n);return ln(e4(t)),t}function WA(n,t){return n1(n.databaseId,t.path)}function Gy(n,t){const i=Y5(t);if(i.get(1)!==n.databaseId.projectId)throw new He(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new He(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new Qe(Z5(i))}function GA(n,t){return n1(n.databaseId,t)}function dX(n){const t=Y5(n);return t.length===4?sn.emptyPath():Z5(t)}function KA(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Z5(n){return ln(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function qR(n,t,i){return{name:WA(n,t),fields:i.value.mapValue.fields}}function hX(n,t){let i;if("targetChange"in t){t.targetChange;const o=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:at()}(t.targetChange.targetChangeType||"NO_CHANGE"),c=t.targetChange.targetIds||[],u=function(f,w){return f.useProto3Json?(ln(w===void 0||typeof w=="string"),Pi.fromBase64String(w||"")):(ln(w===void 0||w instanceof Uint8Array),Pi.fromUint8Array(w||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,b=h&&function(f){const w=f.code===void 0?Ce.UNKNOWN:G5(f.code);return new He(w,f.message||"")}(h);i=new q5(o,c,u,b||null)}else if("documentChange"in t){t.documentChange;const o=t.documentChange;o.document,o.document.name,o.document.updateTime;const c=Gy(n,o.document.name),u=es(o.document.updateTime),h=o.document.createTime?es(o.document.createTime):ct.min(),b=new ir({mapValue:{fields:o.document.fields}}),f=Di.newFoundDocument(c,u,h,b),w=o.targetIds||[],p=o.removedTargetIds||[];i=new Lm(w,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;const o=t.documentDelete;o.document;const c=Gy(n,o.document),u=o.readTime?es(o.readTime):ct.min(),h=Di.newNoDocument(c,u),b=o.removedTargetIds||[];i=new Lm([],b,h.key,h)}else if("documentRemove"in t){t.documentRemove;const o=t.documentRemove;o.document;const c=Gy(n,o.document),u=o.removedTargetIds||[];i=new Lm([],u,c,null)}else{if(!("filter"in t))return at();{t.filter;const o=t.filter;o.targetId;const{count:c=0,unchangedNames:u}=o,h=new tX(c,u),b=o.targetId;i=new K5(b,h)}}return i}function fX(n,t){let i;if(t instanceof vp)i={update:qR(n,t.key,t.value)};else if(t instanceof W5)i={delete:WA(n,t.key)};else if(t instanceof il)i={update:qR(n,t.key,t.data),updateMask:AX(t.fieldMask)};else{if(!(t instanceof JJ))return at();i={verify:WA(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(o=>function(c,u){const h=u.transform;if(h instanceof Nv)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof jf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Vf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ov)return{fieldPath:u.field.canonicalString(),increment:h.wt};throw at()}(0,o))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:uX(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:at()}(n,t.precondition)),i}function pX(n,t){return n&&n.length>0?(ln(t!==void 0),n.map(i=>function(o,c){let u=o.updateTime?es(o.updateTime):es(c);return u.isEqual(ct.min())&&(u=es(c)),new QJ(u,o.transformResults||[])}(i,t))):[]}function gX(n,t){return{documents:[GA(n,t.path)]}}function mX(n,t){const i={structuredQuery:{}},o=t.path;t.collectionGroup!==null?(i.parent=GA(n,o),i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i.parent=GA(n,o.popLast()),i.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function(f){if(f.length!==0)return X5(ho.create(f,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const u=function(f){if(f.length!==0)return f.map(w=>function(p){return{field:fu(p.field),direction:kX(p.dir)}}(w))}(t.orderBy);u&&(i.structuredQuery.orderBy=u);const h=HA(n,t.limit);var b;return h!==null&&(i.structuredQuery.limit=h),t.startAt&&(i.structuredQuery.startAt={before:(b=t.startAt).inclusive,values:b.position}),t.endAt&&(i.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),i}function vX(n){let t=dX(n.parent);const i=n.structuredQuery,o=i.from?i.from.length:0;let c=null;if(o>0){ln(o===1);const p=i.from[0];p.allDescendants?c=p.collectionId:t=t.child(p.collectionId)}let u=[];i.where&&(u=function(p){const v=J5(p);return v instanceof ho&&S5(v)?v.getFilters():[v]}(i.where));let h=[];i.orderBy&&(h=i.orderBy.map(p=>function(v){return new nf(pu(v.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p)));let b=null;i.limit&&(b=function(p){let v;return v=typeof p=="object"?p.value:p,Ow(v)?null:v}(i.limit));let f=null;i.startAt&&(f=function(p){const v=!!p.before,g=p.values||[];return new Rv(g,v)}(i.startAt));let w=null;return i.endAt&&(w=function(p){const v=!p.before,g=p.values||[];return new Rv(g,v)}(i.endAt)),$J(t,c,h,u,b,"F",f,w)}function wX(n,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function J5(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=pu(t.unaryFilter.field);return zn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=pu(t.unaryFilter.field);return zn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=pu(t.unaryFilter.field);return zn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=pu(t.unaryFilter.field);return zn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):n.fieldFilter!==void 0?function(t){return zn.create(pu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ho.create(t.compositeFilter.filters.map(i=>J5(i)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return at()}}(t.compositeFilter.op))}(n):at()}function kX(n){return sX[n]}function bX(n){return aX[n]}function yX(n){return lX[n]}function fu(n){return{fieldPath:n.canonicalString()}}function pu(n){return Ii.fromServerFormat(n.fieldPath)}function X5(n){return n instanceof zn?function(t){if(t.op==="=="){if(NR(t.value))return{unaryFilter:{field:fu(t.field),op:"IS_NAN"}};if(RR(t.value))return{unaryFilter:{field:fu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NR(t.value))return{unaryFilter:{field:fu(t.field),op:"IS_NOT_NAN"}};if(RR(t.value))return{unaryFilter:{field:fu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(t.field),op:bX(t.op),value:t.value}}}(n):n instanceof ho?function(t){const i=t.getFilters().map(o=>X5(o));return i.length===1?i[0]:{compositeFilter:{op:yX(t.op),filters:i}}}(n):at()}function AX(n){const t=[];return n.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function e4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,i,o,c,u=ct.min(),h=ct.min(),b=Pi.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=i,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=b,this.expectedCount=f}withSequenceNumber(t){return new Ia(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{constructor(t){this.le=t}}function CX(n){const t=vX({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?VA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(){this.sn=new SX}addToCollectionParentIndex(t,i){return this.sn.add(i),Re.resolve()}getCollectionParents(t,i){return Re.resolve(this.sn.getEntries(i))}addFieldIndex(t,i){return Re.resolve()}deleteFieldIndex(t,i){return Re.resolve()}getDocumentsMatchingTarget(t,i){return Re.resolve(null)}getIndexType(t,i){return Re.resolve(0)}getFieldIndexes(t,i){return Re.resolve([])}getNextCollectionGroupToUpdate(t){return Re.resolve(null)}getMinOffset(t,i){return Re.resolve(qa.min())}getMinOffsetFromCollectionGroup(t,i){return Re.resolve(qa.min())}updateCollectionGroup(t,i,o){return Re.resolve()}updateIndexEntries(t,i){return Re.resolve()}}class SX{constructor(){this.index={}}add(t){const i=t.lastSegment(),o=t.popLast(),c=this.index[i]||new Ri(sn.comparator),u=!c.has(o);return this.index[i]=c.add(o),u}has(t){const i=t.lastSegment(),o=t.popLast(),c=this.index[i];return c&&c.has(o)}getEntries(t){return(this.index[t]||new Ri(sn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static Nn(){return new sd(0)}static kn(){return new sd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(){this.changes=new Td(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Di.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const o=this.changes.get(i);return o!==void 0?Re.resolve(o):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DX{constructor(t,i,o,c){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=o,this.indexManager=c}getDocument(t,i){let o=null;return this.documentOverlayCache.getOverlay(t,i).next(c=>(o=c,this.remoteDocumentCache.getEntry(t,i))).next(c=>(o!==null&&of(o.mutation,c,mr.empty(),Gn.now()),c))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(o=>this.getLocalViewOfDocuments(t,o,_t()).next(()=>o))}getLocalViewOfDocuments(t,i,o=_t()){const c=Zl();return this.populateOverlays(t,c,i).next(()=>this.computeViews(t,i,c,o).next(u=>{let h=jh();return u.forEach((b,f)=>{h=h.insert(b,f.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const o=Zl();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,_t()))}populateOverlays(t,i,o){const c=[];return o.forEach(u=>{i.has(u)||c.push(u)}),this.documentOverlayCache.getOverlays(t,c).next(u=>{u.forEach((h,b)=>{i.set(h,b)})})}computeViews(t,i,o,c){let u=js();const h=rf(),b=rf();return i.forEach((f,w)=>{const p=o.get(w.key);c.has(w.key)&&(p===void 0||p.mutation instanceof il)?u=u.insert(w.key,w):p!==void 0?(h.set(w.key,p.mutation.getFieldMask()),of(p.mutation,w,p.mutation.getFieldMask(),Gn.now())):h.set(w.key,mr.empty())}),this.recalculateAndSaveOverlays(t,u).next(f=>(f.forEach((w,p)=>h.set(w,p)),i.forEach((w,p)=>{var v;return b.set(w,new TX(p,(v=h.get(w))!==null&&v!==void 0?v:null))}),b))}recalculateAndSaveOverlays(t,i){const o=rf();let c=new wn((h,b)=>h-b),u=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const b of h)b.keys().forEach(f=>{const w=i.get(f);if(w===null)return;let p=o.get(f)||mr.empty();p=b.applyToLocalView(w,p),o.set(f,p);const v=(c.get(b.batchId)||_t()).add(f);c=c.insert(b.batchId,v)})}).next(()=>{const h=[],b=c.getReverseIterator();for(;b.hasNext();){const f=b.getNext(),w=f.key,p=f.value,v=P5();p.forEach(g=>{if(!u.has(g)){const k=U5(i.get(g),o.get(g));k!==null&&v.set(g,k),u=u.add(g)}}),h.push(this.documentOverlayCache.saveOverlays(t,w,v))}return Re.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,i,o){return function(c){return Qe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):M5(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,o):this.getDocumentsMatchingCollectionQuery(t,i,o)}getNextDocuments(t,i,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,o,c).next(u=>{const h=c-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,o.largestBatchId,c-u.size):Re.resolve(Zl());let b=-1,f=u;return h.next(w=>Re.forEach(w,(p,v)=>(b<v.largestBatchId&&(b=v.largestBatchId),u.get(p)?Re.resolve():this.remoteDocumentCache.getEntry(t,p).next(g=>{f=f.insert(p,g)}))).next(()=>this.populateOverlays(t,w,u)).next(()=>this.computeViews(t,f,w,_t())).next(p=>({batchId:b,changes:O5(p)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Qe(i)).next(o=>{let c=jh();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(t,i,o){const c=i.collectionGroup;let u=jh();return this.indexManager.getCollectionParents(t,c).next(h=>Re.forEach(h,b=>{const f=function(w,p){return new mp(p,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(i,b.child(c));return this.getDocumentsMatchingCollectionQuery(t,f,o).next(w=>{w.forEach((p,v)=>{u=u.insert(p,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,o.largestBatchId).next(u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,o,c))).next(u=>{c.forEach((b,f)=>{const w=f.getKey();u.get(w)===null&&(u=u.insert(w,Di.newInvalidDocument(w)))});let h=jh();return u.forEach((b,f)=>{const w=c.get(b);w!==void 0&&of(w.mutation,f,mr.empty(),Gn.now()),$w(i,f)&&(h=h.insert(b,f))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(t){this.serializer=t,this.us=new Map,this.cs=new Map}getBundleMetadata(t,i){return Re.resolve(this.us.get(i))}saveBundleMetadata(t,i){var o;return this.us.set(i.id,{id:(o=i).id,version:o.version,createTime:es(o.createTime)}),Re.resolve()}getNamedQuery(t,i){return Re.resolve(this.cs.get(i))}saveNamedQuery(t,i){return this.cs.set(i.name,function(o){return{name:o.name,query:CX(o.bundledQuery),readTime:es(o.readTime)}}(i)),Re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(){this.overlays=new wn(Qe.comparator),this.hs=new Map}getOverlay(t,i){return Re.resolve(this.overlays.get(i))}getOverlays(t,i){const o=Zl();return Re.forEach(i,c=>this.getOverlay(t,c).next(u=>{u!==null&&o.set(c,u)})).next(()=>o)}saveOverlays(t,i,o){return o.forEach((c,u)=>{this.de(t,i,u)}),Re.resolve()}removeOverlaysForBatchId(t,i,o){const c=this.hs.get(o);return c!==void 0&&(c.forEach(u=>this.overlays=this.overlays.remove(u)),this.hs.delete(o)),Re.resolve()}getOverlaysForCollection(t,i,o){const c=Zl(),u=i.length+1,h=new Qe(i.child("")),b=this.overlays.getIteratorFrom(h);for(;b.hasNext();){const f=b.getNext().value,w=f.getKey();if(!i.isPrefixOf(w.path))break;w.path.length===u&&f.largestBatchId>o&&c.set(f.getKey(),f)}return Re.resolve(c)}getOverlaysForCollectionGroup(t,i,o,c){let u=new wn((w,p)=>w-p);const h=this.overlays.getIterator();for(;h.hasNext();){const w=h.getNext().value;if(w.getKey().getCollectionGroup()===i&&w.largestBatchId>o){let p=u.get(w.largestBatchId);p===null&&(p=Zl(),u=u.insert(w.largestBatchId,p)),p.set(w.getKey(),w)}}const b=Zl(),f=u.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((w,p)=>b.set(w,p)),!(b.size()>=c)););return Re.resolve(b)}de(t,i,o){const c=this.overlays.get(o.key);if(c!==null){const h=this.hs.get(c.largestBatchId).delete(o.key);this.hs.set(c.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new eX(i,o));let u=this.hs.get(i);u===void 0&&(u=_t(),this.hs.set(i,u)),this.hs.set(i,u.add(o.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.ls=new Ri(ei.fs),this.ds=new Ri(ei._s)}isEmpty(){return this.ls.isEmpty()}addReference(t,i){const o=new ei(t,i);this.ls=this.ls.add(o),this.ds=this.ds.add(o)}ws(t,i){t.forEach(o=>this.addReference(o,i))}removeReference(t,i){this.gs(new ei(t,i))}ys(t,i){t.forEach(o=>this.removeReference(o,i))}ps(t){const i=new Qe(new sn([])),o=new ei(i,t),c=new ei(i,t+1),u=[];return this.ds.forEachInRange([o,c],h=>{this.gs(h),u.push(h.key)}),u}Is(){this.ls.forEach(t=>this.gs(t))}gs(t){this.ls=this.ls.delete(t),this.ds=this.ds.delete(t)}Ts(t){const i=new Qe(new sn([])),o=new ei(i,t),c=new ei(i,t+1);let u=_t();return this.ds.forEachInRange([o,c],h=>{u=u.add(h.key)}),u}containsKey(t){const i=new ei(t,0),o=this.ls.firstAfterOrEqual(i);return o!==null&&t.isEqual(o.key)}}class ei{constructor(t,i){this.key=t,this.Es=i}static fs(t,i){return Qe.comparator(t.key,i.key)||$t(t.Es,i.Es)}static _s(t,i){return $t(t.Es,i.Es)||Qe.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LX{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.As=1,this.Rs=new Ri(ei.fs)}checkEmpty(t){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,o,c){const u=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new XJ(u,i,o,c);this.mutationQueue.push(h);for(const b of c)this.Rs=this.Rs.add(new ei(b.key,u)),this.indexManager.addToCollectionParentIndex(t,b.key.path.popLast());return Re.resolve(h)}lookupMutationBatch(t,i){return Re.resolve(this.vs(i))}getNextMutationBatchAfterBatchId(t,i){const o=i+1,c=this.Ps(o),u=c<0?0:c;return Re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?-1:this.As-1)}getAllMutationBatches(t){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const o=new ei(i,0),c=new ei(i,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,c],h=>{const b=this.vs(h.Es);u.push(b)}),Re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let o=new Ri($t);return i.forEach(c=>{const u=new ei(c,0),h=new ei(c,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,h],b=>{o=o.add(b.Es)})}),Re.resolve(this.bs(o))}getAllMutationBatchesAffectingQuery(t,i){const o=i.path,c=o.length+1;let u=o;Qe.isDocumentKey(u)||(u=u.child(""));const h=new ei(new Qe(u),0);let b=new Ri($t);return this.Rs.forEachWhile(f=>{const w=f.key.path;return!!o.isPrefixOf(w)&&(w.length===c&&(b=b.add(f.Es)),!0)},h),Re.resolve(this.bs(b))}bs(t){const i=[];return t.forEach(o=>{const c=this.vs(o);c!==null&&i.push(c)}),i}removeMutationBatch(t,i){ln(this.Vs(i.batchId,"removed")===0),this.mutationQueue.shift();let o=this.Rs;return Re.forEach(i.mutations,c=>{const u=new ei(c.key,i.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,c.key)}).next(()=>{this.Rs=o})}Dn(t){}containsKey(t,i){const o=new ei(i,0),c=this.Rs.firstAfterOrEqual(o);return Re.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(t){return this.mutationQueue.length,Re.resolve()}Vs(t,i){return this.Ps(t)}Ps(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}vs(t){const i=this.Ps(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RX{constructor(t){this.Ss=t,this.docs=new wn(Qe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const o=i.key,c=this.docs.get(o),u=c?c.size:0,h=this.Ss(i);return this.docs=this.docs.insert(o,{document:i.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const o=this.docs.get(i);return Re.resolve(o?o.document.mutableCopy():Di.newInvalidDocument(i))}getEntries(t,i){let o=js();return i.forEach(c=>{const u=this.docs.get(c);o=o.insert(c,u?u.document.mutableCopy():Di.newInvalidDocument(c))}),Re.resolve(o)}getDocumentsMatchingQuery(t,i,o,c){let u=js();const h=i.path,b=new Qe(h.child("")),f=this.docs.getIteratorFrom(b);for(;f.hasNext();){const{key:w,value:{document:p}}=f.getNext();if(!h.isPrefixOf(w.path))break;w.path.length>h.length+1||bJ(kJ(p),o)<=0||(c.has(p.key)||$w(i,p))&&(u=u.insert(p.key,p.mutableCopy()))}return Re.resolve(u)}getAllFromCollectionGroup(t,i,o,c){at()}Ds(t,i){return Re.forEach(this.docs,o=>i(o))}newChangeBuffer(t){return new NX(this)}getSize(t){return Re.resolve(this.size)}}class NX extends xX{constructor(t){super(),this.rs=t}applyChanges(t){const i=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?i.push(this.rs.addEntry(t,c)):this.rs.removeEntry(o)}),Re.waitFor(i)}getFromCache(t,i){return this.rs.getEntry(t,i)}getAllFromCache(t,i){return this.rs.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(t){this.persistence=t,this.Cs=new Td(i=>QC(i),YC),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.xs=0,this.Ns=new i1,this.targetCount=0,this.ks=sd.Nn()}forEachTarget(t,i){return this.Cs.forEach((o,c)=>i(c)),Re.resolve()}getLastRemoteSnapshotVersion(t){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Re.resolve(this.xs)}allocateTargetId(t){return this.highestTargetId=this.ks.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(t,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.xs&&(this.xs=i),Re.resolve()}$n(t){this.Cs.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ks=new sd(i),this.highestTargetId=i),t.sequenceNumber>this.xs&&(this.xs=t.sequenceNumber)}addTargetData(t,i){return this.$n(i),this.targetCount+=1,Re.resolve()}updateTargetData(t,i){return this.$n(i),Re.resolve()}removeTargetData(t,i){return this.Cs.delete(i.target),this.Ns.ps(i.targetId),this.targetCount-=1,Re.resolve()}removeTargets(t,i,o){let c=0;const u=[];return this.Cs.forEach((h,b)=>{b.sequenceNumber<=i&&o.get(b.targetId)===null&&(this.Cs.delete(h),u.push(this.removeMatchingKeysForTargetId(t,b.targetId)),c++)}),Re.waitFor(u).next(()=>c)}getTargetCount(t){return Re.resolve(this.targetCount)}getTargetData(t,i){const o=this.Cs.get(i)||null;return Re.resolve(o)}addMatchingKeys(t,i,o){return this.Ns.ws(i,o),Re.resolve()}removeMatchingKeys(t,i,o){this.Ns.ys(i,o);const c=this.persistence.referenceDelegate,u=[];return c&&i.forEach(h=>{u.push(c.markPotentiallyOrphaned(t,h))}),Re.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.Ns.ps(i),Re.resolve()}getMatchingKeysForTargetId(t,i){const o=this.Ns.Ts(i);return Re.resolve(o)}containsKey(t,i){return Re.resolve(this.Ns.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{constructor(t,i){this.Ms={},this.overlays={},this.Os=new WC(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new OX(this),this.indexManager=new EX,this.remoteDocumentCache=function(o){return new RX(o)}(o=>this.referenceDelegate.Bs(o)),this.serializer=new _X(i),this.Ls=new IX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new MX,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let o=this.Ms[t.toKey()];return o||(o=new LX(i,this.referenceDelegate),this.Ms[t.toKey()]=o),o}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(t,i,o){Ke("MemoryPersistence","Starting transaction:",t);const c=new $X(this.Os.next());return this.referenceDelegate.qs(),o(c).next(u=>this.referenceDelegate.Us(c).next(()=>u)).toPromise().then(u=>(c.raiseOnCommittedEvent(),u))}Ks(t,i){return Re.or(Object.values(this.Ms).map(o=>()=>o.containsKey(t,i)))}}class $X extends AJ{constructor(t){super(),this.currentSequenceNumber=t}}class r1{constructor(t){this.persistence=t,this.Gs=new i1,this.Qs=null}static js(t){return new r1(t)}get zs(){if(this.Qs)return this.Qs;throw at()}addReference(t,i,o){return this.Gs.addReference(o,i),this.zs.delete(o.toString()),Re.resolve()}removeReference(t,i,o){return this.Gs.removeReference(o,i),this.zs.add(o.toString()),Re.resolve()}markPotentiallyOrphaned(t,i){return this.zs.add(i.toString()),Re.resolve()}removeTarget(t,i){this.Gs.ps(i.targetId).forEach(c=>this.zs.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,i.targetId).next(c=>{c.forEach(u=>this.zs.add(u.toString()))}).next(()=>o.removeTargetData(t,i))}qs(){this.Qs=new Set}Us(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.zs,o=>{const c=Qe.fromPath(o);return this.Ws(t,c).next(u=>{u||i.removeEntry(c,ct.min())})}).next(()=>(this.Qs=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ws(t,i).next(o=>{o?this.zs.delete(i.toString()):this.zs.add(i.toString())})}Bs(t){return 0}Ws(t,i){return Re.or([()=>Re.resolve(this.Gs.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ks(t,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,i,o,c){this.targetId=t,this.fromCache=i,this.$i=o,this.Fi=c}static Bi(t,i){let o=_t(),c=_t();for(const u of i.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:c=c.add(u.doc.key)}return new o1(t,i.fromCache,o,c)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(){this.Li=!1}initialize(t,i){this.qi=t,this.indexManager=i,this.Li=!0}getDocumentsMatchingQuery(t,i,o,c){return this.Ui(t,i).next(u=>u||this.Ki(t,i,c,o)).next(u=>u||this.Gi(t,i))}Ui(t,i){if(BR(i))return Re.resolve(null);let o=zs(i);return this.indexManager.getIndexType(t,o).next(c=>c===0?null:(i.limit!==null&&c===1&&(i=VA(i,null,"F"),o=zs(i)),this.indexManager.getDocumentsMatchingTarget(t,o).next(u=>{const h=_t(...u);return this.qi.getDocuments(t,h).next(b=>this.indexManager.getMinOffset(t,o).next(f=>{const w=this.Qi(i,b);return this.ji(i,w,h,f.readTime)?this.Ui(t,VA(i,null,"F")):this.zi(t,w,i,f)}))})))}Ki(t,i,o,c){return BR(i)||c.isEqual(ct.min())?this.Gi(t,i):this.qi.getDocuments(t,o).next(u=>{const h=this.Qi(i,u);return this.ji(i,h,o,c)?this.Gi(t,i):(TR()<=Nt.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),UA(i)),this.zi(t,h,i,wJ(c,-1)))})}Qi(t,i){let o=new Ri(R5(t));return i.forEach((c,u)=>{$w(t,u)&&(o=o.add(u))}),o}ji(t,i,o,c){if(t.limit===null)return!1;if(o.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(c)>0)}Gi(t,i){return TR()<=Nt.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",UA(i)),this.qi.getDocumentsMatchingQuery(t,i,qa.min())}zi(t,i,o,c){return this.qi.getDocumentsMatchingQuery(t,o,c).next(u=>(i.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{constructor(t,i,o,c){this.persistence=t,this.Wi=i,this.serializer=c,this.Hi=new wn($t),this.Ji=new Td(u=>QC(u),YC),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(o)}Zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DX(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Hi))}}function zX(n,t,i,o){return new FX(n,t,i,o)}async function t4(n,t){const i=ft(n);return await i.persistence.runTransaction("Handle user change","readonly",o=>{let c;return i.mutationQueue.getAllMutationBatches(o).next(u=>(c=u,i.Zi(t),i.mutationQueue.getAllMutationBatches(o))).next(u=>{const h=[],b=[];let f=_t();for(const w of c){h.push(w.batchId);for(const p of w.mutations)f=f.add(p.key)}for(const w of u){b.push(w.batchId);for(const p of w.mutations)f=f.add(p.key)}return i.localDocuments.getDocuments(o,f).next(w=>({tr:w,removedBatchIds:h,addedBatchIds:b}))})})}function jX(n,t){const i=ft(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=t.batch.keys(),u=i.Xi.newChangeBuffer({trackRemovals:!0});return function(h,b,f,w){const p=f.batch,v=p.keys();let g=Re.resolve();return v.forEach(k=>{g=g.next(()=>w.getEntry(b,k)).next(A=>{const _=f.docVersions.get(k);ln(_!==null),A.version.compareTo(_)<0&&(p.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),w.addEntry(A)))})}),g.next(()=>h.mutationQueue.removeMutationBatch(b,p))}(i,o,t,u).next(()=>u.apply(o)).next(()=>i.mutationQueue.performConsistencyCheck(o)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(o,c,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(h){let b=_t();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(b=b.add(h.batch.mutations[f].key));return b}(t))).next(()=>i.localDocuments.getDocuments(o,c))})}function n4(n){const t=ft(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Fs.getLastRemoteSnapshotVersion(i))}function VX(n,t){const i=ft(n),o=t.snapshotVersion;let c=i.Hi;return i.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=i.Xi.newChangeBuffer({trackRemovals:!0});c=i.Hi;const b=[];t.targetChanges.forEach((p,v)=>{const g=c.get(v);if(!g)return;b.push(i.Fs.removeMatchingKeys(u,p.removedDocuments,v).next(()=>i.Fs.addMatchingKeys(u,p.addedDocuments,v)));let k=g.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(v)!==null?k=k.withResumeToken(Pi.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):p.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(p.resumeToken,o)),c=c.insert(v,k),function(A,_,E){return A.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,k,p)&&b.push(i.Fs.updateTargetData(u,k))});let f=js(),w=_t();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&b.push(i.persistence.referenceDelegate.updateLimboDocument(u,p))}),b.push(UX(u,h,t.documentUpdates).next(p=>{f=p.er,w=p.nr})),!o.isEqual(ct.min())){const p=i.Fs.getLastRemoteSnapshotVersion(u).next(v=>i.Fs.setTargetsMetadata(u,u.currentSequenceNumber,o));b.push(p)}return Re.waitFor(b).next(()=>h.apply(u)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,f,w)).next(()=>f)}).then(u=>(i.Hi=c,u))}function UX(n,t,i){let o=_t(),c=_t();return i.forEach(u=>o=o.add(u)),t.getEntries(n,o).next(u=>{let h=js();return i.forEach((b,f)=>{const w=u.get(b);f.isFoundDocument()!==w.isFoundDocument()&&(c=c.add(b)),f.isNoDocument()&&f.version.isEqual(ct.min())?(t.removeEntry(b,f.readTime),h=h.insert(b,f)):!w.isValidDocument()||f.version.compareTo(w.version)>0||f.version.compareTo(w.version)===0&&w.hasPendingWrites?(t.addEntry(f),h=h.insert(b,f)):Ke("LocalStore","Ignoring outdated watch update for ",b,". Current version:",w.version," Watch version:",f.version)}),{er:h,nr:c}})}function HX(n,t){const i=ft(n);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(o,t)))}function WX(n,t){const i=ft(n);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return i.Fs.getTargetData(o,t).next(u=>u?(c=u,Re.resolve(c)):i.Fs.allocateTargetId(o).next(h=>(c=new Ia(t,h,"TargetPurposeListen",o.currentSequenceNumber),i.Fs.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=i.Hi.get(o.targetId);return(c===null||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Hi=i.Hi.insert(o.targetId,o),i.Ji.set(t,o.targetId)),o})}async function qA(n,t,i){const o=ft(n),c=o.Hi.get(t),u=i?"readwrite":"readwrite-primary";try{i||await o.persistence.runTransaction("Release target",u,h=>o.persistence.referenceDelegate.removeTarget(h,c))}catch(h){if(!gp(h))throw h;Ke("LocalStore",`Failed to update sequence numbers for target ${t}: ${h}`)}o.Hi=o.Hi.remove(t),o.Ji.delete(c.target)}function QR(n,t,i){const o=ft(n);let c=ct.min(),u=_t();return o.persistence.runTransaction("Execute query","readonly",h=>function(b,f,w){const p=ft(b),v=p.Ji.get(w);return v!==void 0?Re.resolve(p.Hi.get(v)):p.Fs.getTargetData(f,w)}(o,h,zs(t)).next(b=>{if(b)return c=b.lastLimboFreeSnapshotVersion,o.Fs.getMatchingKeysForTargetId(h,b.targetId).next(f=>{u=f})}).next(()=>o.Wi.getDocumentsMatchingQuery(h,t,i?c:ct.min(),i?u:_t())).next(b=>(GX(o,BJ(t),b),{documents:b,sr:u})))}function GX(n,t,i){let o=n.Yi.get(t)||ct.min();i.forEach((c,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),n.Yi.set(t,o)}class YR{constructor(){this.activeTargetIds=HJ()}hr(t){this.activeTargetIds=this.activeTargetIds.add(t)}lr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ar(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KX{constructor(){this.Wr=new YR,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,o){}addLocalQueryTarget(t){return this.Wr.hr(t),this.Hr[t]||"not-current"}updateQueryState(t,i,o){this.Hr[t]=i}removeLocalQueryTarget(t){this.Wr.lr(t)}isLocalQueryTarget(t){return this.Wr.activeTargetIds.has(t)}clearQueryState(t){delete this.Hr[t]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(t){return this.Wr.activeTargetIds.has(t)}start(){return this.Wr=new YR,Promise.resolve()}handleUserChange(t,i,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qX{Jr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(t){this.no.push(t)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.no)t(0)}eo(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.no)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm=null;function Ky(){return lm===null?lm=268435456+Math.round(2147483648*Math.random()):lm++,"0x"+lm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(t){this.io=t.io,this.ro=t.ro}oo(t){this.uo=t}co(t){this.ao=t}onMessage(t){this.ho=t}close(){this.ro()}send(t){this.io(t)}lo(){this.uo()}fo(t){this.ao(t)}_o(t){this.ho(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="WebChannelConnection";class ZX extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http";this.wo=i+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(t,i,o,c,u){const h=Ky(),b=this.Io(t,i);Ke("RestConnection",`Sending RPC '${t}' ${h}:`,b,o);const f={};return this.To(f,c,u),this.Eo(t,b,f,o).then(w=>(Ke("RestConnection",`Received RPC '${t}' ${h}: `,w),w),w=>{throw nd("RestConnection",`RPC '${t}' ${h} failed with error: `,w,"url: ",b,"request:",o),w})}Ao(t,i,o,c,u,h){return this.po(t,i,o,c,u)}To(t,i,o){t["X-Goog-Api-Client"]="gl-js/ fire/"+xd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((c,u)=>t[u]=c),o&&o.headers.forEach((c,u)=>t[u]=c)}Io(t,i){const o=QX[t];return`${this.wo}/v1/${i}:${o}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Eo(t,i,o,c){const u=Ky();return new Promise((h,b)=>{const f=new aJ;f.setWithCredentials(!0),f.listenOnce(rJ.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Wy.NO_ERROR:const p=f.getResponseJson();Ke(Ei,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(p)),h(p);break;case Wy.TIMEOUT:Ke(Ei,`RPC '${t}' ${u} timed out`),b(new He(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Wy.HTTP_ERROR:const v=f.getStatus();if(Ke(Ei,`RPC '${t}' ${u} failed with status:`,v,"response text:",f.getResponseText()),v>0){let g=f.getResponseJson();Array.isArray(g)&&(g=g[0]);const k=g==null?void 0:g.error;if(k&&k.status&&k.message){const A=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(E)>=0?E:Ce.UNKNOWN}(k.status);b(new He(A,k.message))}else b(new He(Ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else b(new He(Ce.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Ke(Ei,`RPC '${t}' ${u} completed.`)}});const w=JSON.stringify(c);Ke(Ei,`RPC '${t}' ${u} sending request:`,c),f.send(i,"POST",w,o,15)})}Ro(t,i,o){const c=Ky(),u=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=nJ(),b=iJ(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new sJ({})),this.To(f.initMessageHeaders,i,o),f.encodeInitMessageHeaders=!0;const w=u.join("");Ke(Ei,`Creating RPC '${t}' stream ${c}: ${w}`,f);const p=h.createWebChannel(w,f);let v=!1,g=!1;const k=new YX({io:_=>{g?Ke(Ei,`Not sending because RPC '${t}' stream ${c} is closed:`,_):(v||(Ke(Ei,`Opening RPC '${t}' stream ${c} transport.`),p.open(),v=!0),Ke(Ei,`RPC '${t}' stream ${c} sending:`,_),p.send(_))},ro:()=>p.close()}),A=(_,E,x)=>{_.listen(E,D=>{try{x(D)}catch(O){setTimeout(()=>{throw O},0)}})};return A(p,rm.EventType.OPEN,()=>{g||Ke(Ei,`RPC '${t}' stream ${c} transport opened.`)}),A(p,rm.EventType.CLOSE,()=>{g||(g=!0,Ke(Ei,`RPC '${t}' stream ${c} transport closed`),k.fo())}),A(p,rm.EventType.ERROR,_=>{g||(g=!0,nd(Ei,`RPC '${t}' stream ${c} transport errored:`,_),k.fo(new He(Ce.UNAVAILABLE,"The operation could not be completed")))}),A(p,rm.EventType.MESSAGE,_=>{var E;if(!g){const x=_.data[0];ln(!!x);const D=x,O=D.error||((E=D[0])===null||E===void 0?void 0:E.error);if(O){Ke(Ei,`RPC '${t}' stream ${c} received error:`,O);const B=O.status;let I=function(j){const N=Pn[j];if(N!==void 0)return G5(N)}(B),R=O.message;I===void 0&&(I=Ce.INTERNAL,R="Unknown error status: "+B+" with message "+O.message),g=!0,k.fo(new He(I,R)),p.close()}else Ke(Ei,`RPC '${t}' stream ${c} received:`,x),k._o(x)}}),A(b,oJ.STAT_EVENT,_=>{_.stat===SR.PROXY?Ke(Ei,`RPC '${t}' stream ${c} detected buffering proxy`):_.stat===SR.NOPROXY&&Ke(Ei,`RPC '${t}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{k.lo()},0),k}}function qy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n){return new cX(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(t,i,o=1e3,c=1.5,u=6e4){this.si=t,this.timerId=i,this.vo=o,this.Po=c,this.bo=u,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(t){this.cancel();const i=Math.floor(this.Vo+this.No()),o=Math.max(0,Date.now()-this.Do),c=Math.max(0,i-o);c>0&&Ke("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Vo} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,c,()=>(this.Do=Date.now(),t())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){this.So!==null&&(this.So.skipDelay(),this.So=null)}cancel(){this.So!==null&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(t,i,o,c,u,h,b,f){this.si=t,this.Mo=o,this.Oo=c,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=b,this.listener=f,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new i4(t,i)}qo(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Ko()}async stop(){this.qo()&&await this.close(0)}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&this.Fo===null&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(t){this.Wo(),this.stream.send(t)}async jo(){if(this.Uo())return this.close(0)}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}async close(t,i){this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,t!==4?this.Lo.reset():i&&i.code===Ce.RESOURCE_EXHAUSTED?(Fs(i.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):i&&i.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Jo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.co(i)}Jo(){}auth(){this.state=1;const t=this.Yo(this.$o),i=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.$o===i&&this.Xo(o,c)},o=>{t(()=>{const c=new He(Ce.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Zo(c)})})}Xo(t,i){const o=this.Yo(this.$o);this.stream=this.tu(t,i),this.stream.oo(()=>{o(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(c=>{o(()=>this.Zo(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}Ko(){this.state=5,this.Lo.xo(async()=>{this.state=0,this.start()})}Zo(t){return Ke("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Yo(t){return i=>{this.si.enqueueAndForget(()=>this.$o===t?i():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JX extends r4{constructor(t,i,o,c,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,o,c,h),this.serializer=u}tu(t,i){return this.connection.Ro("Listen",t,i)}onMessage(t){this.Lo.reset();const i=hX(this.serializer,t),o=function(c){if(!("targetChange"in c))return ct.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?ct.min():u.readTime?es(u.readTime):ct.min()}(t);return this.listener.eu(i,o)}nu(t){const i={};i.database=KA(this.serializer),i.addTarget=function(c,u){let h;const b=u.target;if(h=zA(b)?{documents:gX(c,b)}:{query:mX(c,b)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Q5(c,u.resumeToken);const f=HA(c,u.expectedCount);f!==null&&(h.expectedCount=f)}else if(u.snapshotVersion.compareTo(ct.min())>0){h.readTime=Pv(c,u.snapshotVersion.toTimestamp());const f=HA(c,u.expectedCount);f!==null&&(h.expectedCount=f)}return h}(this.serializer,t);const o=wX(this.serializer,t);o&&(i.labels=o),this.zo(i)}su(t){const i={};i.database=KA(this.serializer),i.removeTarget=t,this.zo(i)}}class XX extends r4{constructor(t,i,o,c,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,o,c,h),this.serializer=u,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(t,i){return this.connection.Ro("Write",t,i)}onMessage(t){if(ln(!!t.streamToken),this.lastStreamToken=t.streamToken,this.iu){this.Lo.reset();const i=pX(t.writeResults,t.commitTime),o=es(t.commitTime);return this.listener.uu(o,i)}return ln(!t.writeResults||t.writeResults.length===0),this.iu=!0,this.listener.cu()}au(){const t={};t.database=KA(this.serializer),this.zo(t)}ou(t){const i={streamToken:this.lastStreamToken,writes:t.map(o=>fX(this.serializer,o))};this.zo(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee extends class{}{constructor(t,i,o,c){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=o,this.serializer=c,this.hu=!1}lu(){if(this.hu)throw new He(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}po(t,i,o){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.po(t,i,o,c,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new He(Ce.UNKNOWN,c.toString())})}Ao(t,i,o,c){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Ao(t,i,o,u,h,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new He(Ce.UNKNOWN,u.toString())})}terminate(){this.hu=!0}}class tee{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){this.du===0&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(t){this.state==="Online"?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.gu("Offline")))}set(t){this.Iu(),this.du=0,t==="Online"&&(this.wu=!1),this.gu(t)}gu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}yu(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Fs(i),this.wu=!1):Ke("OnlineStateTracker",i)}Iu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(t,i,o,c,u){this.localStore=t,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=u,this.vu.Jr(h=>{o.enqueueAndForget(async()=>{Ac(this)&&(Ke("RemoteStore","Restarting streams for network reachability change."),await async function(b){const f=ft(b);f.Au.add(4),await kp(f),f.Pu.set("Unknown"),f.Au.delete(4),await Vw(f)}(this))})}),this.Pu=new tee(o,c)}}async function Vw(n){if(Ac(n))for(const t of n.Ru)await t(!0)}async function kp(n){for(const t of n.Ru)await t(!1)}function o4(n,t){const i=ft(n);i.Eu.has(t.targetId)||(i.Eu.set(t.targetId,t),l1(i)?a1(i):Dd(i).Uo()&&s1(i,t))}function s4(n,t){const i=ft(n),o=Dd(i);i.Eu.delete(t),o.Uo()&&a4(i,t),i.Eu.size===0&&(o.Uo()?o.Qo():Ac(i)&&i.Pu.set("Unknown"))}function s1(n,t){if(n.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ct.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Dd(n).nu(t)}function a4(n,t){n.bu.Lt(t),Dd(n).su(t)}function a1(n){n.bu=new oX({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),he:t=>n.Eu.get(t)||null,oe:()=>n.datastore.serializer.databaseId}),Dd(n).start(),n.Pu.mu()}function l1(n){return Ac(n)&&!Dd(n).qo()&&n.Eu.size>0}function Ac(n){return ft(n).Au.size===0}function l4(n){n.bu=void 0}async function iee(n){n.Eu.forEach((t,i)=>{s1(n,t)})}async function ree(n,t){l4(n),l1(n)?(n.Pu.pu(t),a1(n)):n.Pu.set("Unknown")}async function oee(n,t,i){if(n.Pu.set("Online"),t instanceof q5&&t.state===2&&t.cause)try{await async function(o,c){const u=c.cause;for(const h of c.targetIds)o.Eu.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Eu.delete(h),o.bu.removeTarget(h))}(n,t)}catch(o){Ke("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),await $v(n,o)}else if(t instanceof Lm?n.bu.Wt(t):t instanceof K5?n.bu.ee(t):n.bu.Yt(t),!i.isEqual(ct.min()))try{const o=await n4(n.localStore);i.compareTo(o)>=0&&await function(c,u){const h=c.bu.ue(u);return h.targetChanges.forEach((b,f)=>{if(b.resumeToken.approximateByteSize()>0){const w=c.Eu.get(f);w&&c.Eu.set(f,w.withResumeToken(b.resumeToken,u))}}),h.targetMismatches.forEach((b,f)=>{const w=c.Eu.get(b);if(!w)return;c.Eu.set(b,w.withResumeToken(Pi.EMPTY_BYTE_STRING,w.snapshotVersion)),a4(c,b);const p=new Ia(w.target,b,f,w.sequenceNumber);s1(c,p)}),c.remoteSyncer.applyRemoteEvent(h)}(n,i)}catch(o){Ke("RemoteStore","Failed to raise snapshot:",o),await $v(n,o)}}async function $v(n,t,i){if(!gp(t))throw t;n.Au.add(1),await kp(n),n.Pu.set("Offline"),i||(i=()=>n4(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ke("RemoteStore","Retrying IndexedDB access"),await i(),n.Au.delete(1),await Vw(n)})}function c4(n,t){return t().catch(i=>$v(n,i,t))}async function Uw(n){const t=ft(n),i=Ya(t);let o=t.Tu.length>0?t.Tu[t.Tu.length-1].batchId:-1;for(;see(t);)try{const c=await HX(t.localStore,o);if(c===null){t.Tu.length===0&&i.Qo();break}o=c.batchId,aee(t,c)}catch(c){await $v(t,c)}u4(t)&&d4(t)}function see(n){return Ac(n)&&n.Tu.length<10}function aee(n,t){n.Tu.push(t);const i=Ya(n);i.Uo()&&i.ru&&i.ou(t.mutations)}function u4(n){return Ac(n)&&!Ya(n).qo()&&n.Tu.length>0}function d4(n){Ya(n).start()}async function lee(n){Ya(n).au()}async function cee(n){const t=Ya(n);for(const i of n.Tu)t.ou(i.mutations)}async function uee(n,t,i){const o=n.Tu.shift(),c=XC.from(o,t,i);await c4(n,()=>n.remoteSyncer.applySuccessfulWrite(c)),await Uw(n)}async function dee(n,t){t&&Ya(n).ru&&await async function(i,o){if(c=o.code,nX(c)&&c!==Ce.ABORTED){const u=i.Tu.shift();Ya(i).Go(),await c4(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Uw(i)}var c}(n,t),u4(n)&&d4(n)}async function JR(n,t){const i=ft(n);i.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const o=Ac(i);i.Au.add(3),await kp(i),o&&i.Pu.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Au.delete(3),await Vw(i)}async function hee(n,t){const i=ft(n);t?(i.Au.delete(2),await Vw(i)):t||(i.Au.add(2),await kp(i),i.Pu.set("Unknown"))}function Dd(n){return n.Vu||(n.Vu=function(t,i,o){const c=ft(t);return c.lu(),new JX(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{oo:iee.bind(null,n),co:ree.bind(null,n),eu:oee.bind(null,n)}),n.Ru.push(async t=>{t?(n.Vu.Go(),l1(n)?a1(n):n.Pu.set("Unknown")):(await n.Vu.stop(),l4(n))})),n.Vu}function Ya(n){return n.Su||(n.Su=function(t,i,o){const c=ft(t);return c.lu(),new XX(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{oo:lee.bind(null,n),co:dee.bind(null,n),cu:cee.bind(null,n),uu:uee.bind(null,n)}),n.Ru.push(async t=>{t?(n.Su.Go(),await Uw(n)):(await n.Su.stop(),n.Tu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))})),n.Su}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,i,o,c,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=o,this.op=c,this.removalCallback=u,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(t,i,o,c,u){const h=Date.now()+o,b=new c1(t,i,h,c,u);return b.start(o),b}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(Ce.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u1(n,t){if(Fs("AsyncQueue",`${t}: ${n}`),gp(n))return new He(Ce.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t){this.comparator=t?(i,o)=>t(i,o)||Qe.comparator(i.key,o.key):(i,o)=>Qe.comparator(i.key,o.key),this.keyedMap=jh(),this.sortedSet=new wn(this.comparator)}static emptySet(t){return new Uu(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,o)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Uu)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,u=o.getNext().key;if(!c.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const o=new Uu;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=i,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.Du=new wn(Qe.comparator)}track(t){const i=t.doc.key,o=this.Du.get(i);o?t.type!==0&&o.type===3?this.Du=this.Du.insert(i,t):t.type===3&&o.type!==1?this.Du=this.Du.insert(i,{type:o.type,doc:t.doc}):t.type===2&&o.type===2?this.Du=this.Du.insert(i,{type:2,doc:t.doc}):t.type===2&&o.type===0?this.Du=this.Du.insert(i,{type:0,doc:t.doc}):t.type===1&&o.type===0?this.Du=this.Du.remove(i):t.type===1&&o.type===2?this.Du=this.Du.insert(i,{type:1,doc:o.doc}):t.type===0&&o.type===1?this.Du=this.Du.insert(i,{type:2,doc:t.doc}):at():this.Du=this.Du.insert(i,t)}Cu(){const t=[];return this.Du.inorderTraversal((i,o)=>{t.push(o)}),t}}class ad{constructor(t,i,o,c,u,h,b,f,w){this.query=t,this.docs=i,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=b,this.excludesMetadataChanges=f,this.hasCachedResults=w}static fromInitialDocuments(t,i,o,c,u){const h=[];return i.forEach(b=>{h.push({type:0,doc:b})}),new ad(t,i,Uu.emptySet(i),h,o,c,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,o=t.docChanges;if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==o[c].type||!i[c].doc.isEqual(o[c].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(){this.xu=void 0,this.listeners=[]}}class pee{constructor(){this.queries=new Td(t=>L5(t),Pw),this.onlineState="Unknown",this.Nu=new Set}}async function h4(n,t){const i=ft(n),o=t.query;let c=!1,u=i.queries.get(o);if(u||(c=!0,u=new fee),c)try{u.xu=await i.onListen(o)}catch(h){const b=u1(h,`Initialization of query '${UA(t.query)}' failed`);return void t.onError(b)}i.queries.set(o,u),u.listeners.push(t),t.ku(i.onlineState),u.xu&&t.Mu(u.xu)&&d1(i)}async function f4(n,t){const i=ft(n),o=t.query;let c=!1;const u=i.queries.get(o);if(u){const h=u.listeners.indexOf(t);h>=0&&(u.listeners.splice(h,1),c=u.listeners.length===0)}if(c)return i.queries.delete(o),i.onUnlisten(o)}function gee(n,t){const i=ft(n);let o=!1;for(const c of t){const u=c.query,h=i.queries.get(u);if(h){for(const b of h.listeners)b.Mu(c)&&(o=!0);h.xu=c}}o&&d1(i)}function mee(n,t,i){const o=ft(n),c=o.queries.get(t);if(c)for(const u of c.listeners)u.onError(i);o.queries.delete(t)}function d1(n){n.Nu.forEach(t=>{t.next()})}class p4{constructor(t,i,o){this.query=t,this.Ou=i,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=o||{}}Mu(t){if(!this.options.includeMetadataChanges){const o=[];for(const c of t.docChanges)c.type!==3&&o.push(c);t=new ad(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.$u?this.Bu(t)&&(this.Ou.next(t),i=!0):this.Lu(t,this.onlineState)&&(this.qu(t),i=!0),this.Fu=t,i}onError(t){this.Ou.error(t)}ku(t){this.onlineState=t;let i=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,t)&&(this.qu(this.Fu),i=!0),i}Lu(t,i){if(!t.fromCache)return!0;const o=i!=="Offline";return(!this.options.Uu||!o)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Bu(t){if(t.docChanges.length>0)return!0;const i=this.Fu&&this.Fu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qu(t){t=ad.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.$u=!0,this.Ou.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(t){this.key=t}}class m4{constructor(t){this.key=t}}class vee{constructor(t,i){this.query=t,this.Ju=i,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=_t(),this.mutatedKeys=_t(),this.Zu=R5(t),this.tc=new Uu(this.Zu)}get ec(){return this.Ju}nc(t,i){const o=i?i.sc:new XR,c=i?i.tc:this.tc;let u=i?i.mutatedKeys:this.mutatedKeys,h=c,b=!1;const f=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,w=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(t.inorderTraversal((p,v)=>{const g=c.get(p),k=$w(this.query,v)?v:null,A=!!g&&this.mutatedKeys.has(g.key),_=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let E=!1;g&&k?g.data.isEqual(k.data)?A!==_&&(o.track({type:3,doc:k}),E=!0):this.ic(g,k)||(o.track({type:2,doc:k}),E=!0,(f&&this.Zu(k,f)>0||w&&this.Zu(k,w)<0)&&(b=!0)):!g&&k?(o.track({type:0,doc:k}),E=!0):g&&!k&&(o.track({type:1,doc:g}),E=!0,(f||w)&&(b=!0)),E&&(k?(h=h.add(k),u=_?u.add(p):u.delete(p)):(h=h.delete(p),u=u.delete(p)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const p=this.query.limitType==="F"?h.last():h.first();h=h.delete(p.key),u=u.delete(p.key),o.track({type:1,doc:p})}return{tc:h,sc:o,ji:b,mutatedKeys:u}}ic(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,o){const c=this.tc;this.tc=t.tc,this.mutatedKeys=t.mutatedKeys;const u=t.sc.Cu();u.sort((w,p)=>function(v,g){const k=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return k(v)-k(g)}(w.type,p.type)||this.Zu(w.doc,p.doc)),this.rc(o);const h=i?this.oc():[],b=this.Xu.size===0&&this.current?1:0,f=b!==this.Yu;return this.Yu=b,u.length!==0||f?{snapshot:new ad(this.query,t.tc,c,u,t.mutatedKeys,b===0,f,!1,!!o&&o.resumeToken.approximateByteSize()>0),uc:h}:{uc:h}}ku(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tc:this.tc,sc:new XR,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(t){return!this.Ju.has(t)&&!!this.tc.has(t)&&!this.tc.get(t).hasLocalMutations}rc(t){t&&(t.addedDocuments.forEach(i=>this.Ju=this.Ju.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ju=this.Ju.delete(i)),this.current=t.current)}oc(){if(!this.current)return[];const t=this.Xu;this.Xu=_t(),this.tc.forEach(o=>{this.cc(o.key)&&(this.Xu=this.Xu.add(o.key))});const i=[];return t.forEach(o=>{this.Xu.has(o)||i.push(new m4(o))}),this.Xu.forEach(o=>{t.has(o)||i.push(new g4(o))}),i}ac(t){this.Ju=t.sr,this.Xu=_t();const i=this.nc(t.documents);return this.applyChanges(i,!0)}hc(){return ad.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,this.Yu===0,this.hasCachedResults)}}class wee{constructor(t,i,o){this.query=t,this.targetId=i,this.view=o}}class kee{constructor(t){this.key=t,this.lc=!1}}class bee{constructor(t,i,o,c,u,h){this.localStore=t,this.remoteStore=i,this.eventManager=o,this.sharedClientState=c,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.fc={},this.dc=new Td(b=>L5(b),Pw),this._c=new Map,this.wc=new Set,this.mc=new wn(Qe.comparator),this.gc=new Map,this.yc=new i1,this.Ic={},this.Tc=new Map,this.Ec=sd.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return this.Ac===!0}}async function yee(n,t){const i=Mee(n);let o,c;const u=i.dc.get(t);if(u)o=u.targetId,i.sharedClientState.addLocalQueryTarget(o),c=u.view.hc();else{const h=await WX(i.localStore,zs(t)),b=i.sharedClientState.addLocalQueryTarget(h.targetId);o=h.targetId,c=await Aee(i,t,o,b==="current",h.resumeToken),i.isPrimaryClient&&o4(i.remoteStore,h)}return c}async function Aee(n,t,i,o,c){n.Rc=(v,g,k)=>async function(A,_,E,x){let D=_.view.nc(E);D.ji&&(D=await QR(A.localStore,_.query,!1).then(({documents:I})=>_.view.nc(I,D)));const O=x&&x.targetChanges.get(_.targetId),B=_.view.applyChanges(D,A.isPrimaryClient,O);return tN(A,_.targetId,B.uc),B.snapshot}(n,v,g,k);const u=await QR(n.localStore,t,!0),h=new vee(t,u.sr),b=h.nc(u.documents),f=wp.createSynthesizedTargetChangeForCurrentChange(i,o&&n.onlineState!=="Offline",c),w=h.applyChanges(b,n.isPrimaryClient,f);tN(n,i,w.uc);const p=new wee(t,i,h);return n.dc.set(t,p),n._c.has(i)?n._c.get(i).push(t):n._c.set(i,[t]),w.snapshot}async function _ee(n,t){const i=ft(n),o=i.dc.get(t),c=i._c.get(o.targetId);if(c.length>1)return i._c.set(o.targetId,c.filter(u=>!Pw(u,t))),void i.dc.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await qA(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),s4(i.remoteStore,o.targetId),QA(i,o.targetId)}).catch(pp)):(QA(i,o.targetId),await qA(i.localStore,o.targetId,!0))}async function Cee(n,t,i){const o=Lee(n);try{const c=await function(u,h){const b=ft(u),f=Gn.now(),w=h.reduce((g,k)=>g.add(k.key),_t());let p,v;return b.persistence.runTransaction("Locally write mutations","readwrite",g=>{let k=js(),A=_t();return b.Xi.getEntries(g,w).next(_=>{k=_,k.forEach((E,x)=>{x.isValidDocument()||(A=A.add(E))})}).next(()=>b.localDocuments.getOverlayedDocuments(g,k)).next(_=>{p=_;const E=[];for(const x of h){const D=ZJ(x,p.get(x.key).overlayedDocument);D!=null&&E.push(new il(x.key,D,_5(D.value.mapValue),ao.exists(!0)))}return b.mutationQueue.addMutationBatch(g,f,E,h)}).next(_=>{v=_;const E=_.applyToLocalDocumentSet(p,A);return b.documentOverlayCache.saveOverlays(g,_.batchId,E)})}).then(()=>({batchId:v.batchId,changes:O5(p)}))}(o.localStore,t);o.sharedClientState.addPendingMutation(c.batchId),function(u,h,b){let f=u.Ic[u.currentUser.toKey()];f||(f=new wn($t)),f=f.insert(h,b),u.Ic[u.currentUser.toKey()]=f}(o,c.batchId,i),await bp(o,c.changes),await Uw(o.remoteStore)}catch(c){const u=u1(c,"Failed to persist write");i.reject(u)}}async function v4(n,t){const i=ft(n);try{const o=await VX(i.localStore,t);t.targetChanges.forEach((c,u)=>{const h=i.gc.get(u);h&&(ln(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?h.lc=!0:c.modifiedDocuments.size>0?ln(h.lc):c.removedDocuments.size>0&&(ln(h.lc),h.lc=!1))}),await bp(i,o,t)}catch(o){await pp(o)}}function eN(n,t,i){const o=ft(n);if(o.isPrimaryClient&&i===0||!o.isPrimaryClient&&i===1){const c=[];o.dc.forEach((u,h)=>{const b=h.view.ku(t);b.snapshot&&c.push(b.snapshot)}),function(u,h){const b=ft(u);b.onlineState=h;let f=!1;b.queries.forEach((w,p)=>{for(const v of p.listeners)v.ku(h)&&(f=!0)}),f&&d1(b)}(o.eventManager,t),c.length&&o.fc.eu(c),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function Eee(n,t,i){const o=ft(n);o.sharedClientState.updateQueryState(t,"rejected",i);const c=o.gc.get(t),u=c&&c.key;if(u){let h=new wn(Qe.comparator);h=h.insert(u,Di.newNoDocument(u,ct.min()));const b=_t().add(u),f=new zw(ct.min(),new Map,new wn($t),h,b);await v4(o,f),o.mc=o.mc.remove(u),o.gc.delete(t),h1(o)}else await qA(o.localStore,t,!1).then(()=>QA(o,t,i)).catch(pp)}async function See(n,t){const i=ft(n),o=t.batch.batchId;try{const c=await jX(i.localStore,t);k4(i,o,null),w4(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),await bp(i,c)}catch(c){await pp(c)}}async function xee(n,t,i){const o=ft(n);try{const c=await function(u,h){const b=ft(u);return b.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let w;return b.mutationQueue.lookupMutationBatch(f,h).next(p=>(ln(p!==null),w=p.keys(),b.mutationQueue.removeMutationBatch(f,p))).next(()=>b.mutationQueue.performConsistencyCheck(f)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(f,w,h)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,w)).next(()=>b.localDocuments.getDocuments(f,w))})}(o.localStore,t);k4(o,t,i),w4(o,t),o.sharedClientState.updateMutationState(t,"rejected",i),await bp(o,c)}catch(c){await pp(c)}}function w4(n,t){(n.Tc.get(t)||[]).forEach(i=>{i.resolve()}),n.Tc.delete(t)}function k4(n,t,i){const o=ft(n);let c=o.Ic[o.currentUser.toKey()];if(c){const u=c.get(t);u&&(i?u.reject(i):u.resolve(),c=c.remove(t)),o.Ic[o.currentUser.toKey()]=c}}function QA(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const o of n._c.get(t))n.dc.delete(o),i&&n.fc.vc(o,i);n._c.delete(t),n.isPrimaryClient&&n.yc.ps(t).forEach(o=>{n.yc.containsKey(o)||b4(n,o)})}function b4(n,t){n.wc.delete(t.path.canonicalString());const i=n.mc.get(t);i!==null&&(s4(n.remoteStore,i),n.mc=n.mc.remove(t),n.gc.delete(i),h1(n))}function tN(n,t,i){for(const o of i)o instanceof g4?(n.yc.addReference(o.key,t),Tee(n,o)):o instanceof m4?(Ke("SyncEngine","Document no longer in limbo: "+o.key),n.yc.removeReference(o.key,t),n.yc.containsKey(o.key)||b4(n,o.key)):at()}function Tee(n,t){const i=t.key,o=i.path.canonicalString();n.mc.get(i)||n.wc.has(o)||(Ke("SyncEngine","New document in limbo: "+i),n.wc.add(o),h1(n))}function h1(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const t=n.wc.values().next().value;n.wc.delete(t);const i=new Qe(sn.fromString(t)),o=n.Ec.next();n.gc.set(o,new kee(i)),n.mc=n.mc.insert(i,o),o4(n.remoteStore,new Ia(zs(ZC(i.path)),o,"TargetPurposeLimboResolution",WC.ct))}}async function bp(n,t,i){const o=ft(n),c=[],u=[],h=[];o.dc.isEmpty()||(o.dc.forEach((b,f)=>{h.push(o.Rc(f,t,i).then(w=>{if((w||i)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(f.targetId,w!=null&&w.fromCache?"not-current":"current"),w){c.push(w);const p=o1.Bi(f.targetId,w);u.push(p)}}))}),await Promise.all(h),o.fc.eu(c),await async function(b,f){const w=ft(b);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Re.forEach(f,v=>Re.forEach(v.$i,g=>w.persistence.referenceDelegate.addReference(p,v.targetId,g)).next(()=>Re.forEach(v.Fi,g=>w.persistence.referenceDelegate.removeReference(p,v.targetId,g)))))}catch(p){if(!gp(p))throw p;Ke("LocalStore","Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const g=w.Hi.get(v),k=g.snapshotVersion,A=g.withLastLimboFreeSnapshotVersion(k);w.Hi=w.Hi.insert(v,A)}}}(o.localStore,u))}async function Dee(n,t){const i=ft(n);if(!i.currentUser.isEqual(t)){Ke("SyncEngine","User change. New user:",t.toKey());const o=await t4(i.localStore,t);i.currentUser=t,function(c,u){c.Tc.forEach(h=>{h.forEach(b=>{b.reject(new He(Ce.CANCELLED,u))})}),c.Tc.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await bp(i,o.tr)}}function Iee(n,t){const i=ft(n),o=i.gc.get(t);if(o&&o.lc)return _t().add(o.key);{let c=_t();const u=i._c.get(t);if(!u)return c;for(const h of u){const b=i.dc.get(h);c=c.unionWith(b.view.ec)}return c}}function Mee(n){const t=ft(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=v4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iee.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Eee.bind(null,t),t.fc.eu=gee.bind(null,t.eventManager),t.fc.vc=mee.bind(null,t.eventManager),t}function Lee(n){const t=ft(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=See.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xee.bind(null,t),t}class nN{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=jw(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return zX(this.persistence,new BX,t.initialUser,this.serializer)}createPersistence(t){return new PX(r1.js,this.serializer)}createSharedClientState(t){return new KX}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ree{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>eN(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dee.bind(null,this.syncEngine),await hee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new pee}createDatastore(t){const i=jw(t.databaseInfo.databaseId),o=(c=t.databaseInfo,new ZX(c));var c;return function(u,h,b,f){return new eee(u,h,b,f)}(t.authCredentials,t.appCheckCredentials,o,i)}createRemoteStore(t){return i=this.localStore,o=this.datastore,c=t.asyncQueue,u=b=>eN(this.syncEngine,b,0),h=ZR.D()?new ZR:new qX,new nee(i,o,c,u,h);var i,o,c,u,h}createSyncEngine(t,i){return function(o,c,u,h,b,f,w){const p=new bee(o,c,u,h,b,f);return w&&(p.Ac=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return async function(t){const i=ft(t);Ke("RemoteStore","RemoteStore shutting down."),i.Au.add(5),await kp(i),i.vu.shutdown(),i.Pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Vc(this.observer.next,t)}error(t){this.observer.error?this.Vc(this.observer.error,t):Fs("Uncaught Error in snapshot listener:",t.toString())}Sc(){this.muted=!0}Vc(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nee{constructor(t,i,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=o,this.databaseInfo=c,this.user=xi.UNAUTHENTICATED,this.clientId=b5.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,async u=>{Ke("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(o,u=>(Ke("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const o=u1(i,"Failed to shutdown persistence");t.reject(o)}}),t.promise}}async function Qy(n,t){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const i=await n.getConfiguration();await t.initialize(i);let o=i.initialUser;n.setCredentialChangeListener(async c=>{o.isEqual(c)||(await t4(t.localStore,c),o=c)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function iN(n,t){n.asyncQueue.verifyOperationInProgress();const i=await Pee(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const o=await n.getConfiguration();await t.initialize(i,o),n.setCredentialChangeListener(c=>JR(t.remoteStore,c)),n.setAppCheckTokenChangeListener((c,u)=>JR(t.remoteStore,u)),n._onlineComponents=t}function Oee(n){return n.name==="FirebaseError"?n.code===Ce.FAILED_PRECONDITION||n.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function Pee(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qy(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!Oee(i))throw i;nd("Error using user provided cache. Falling back to memory cache: "+i),await Qy(n,new nN)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),await Qy(n,new nN);return n._offlineComponents}async function A4(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),await iN(n,n._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),await iN(n,new Ree))),n._onlineComponents}function $ee(n){return A4(n).then(t=>t.syncEngine)}async function _4(n){const t=await A4(n),i=t.eventManager;return i.onListen=yee.bind(null,t.syncEngine),i.onUnlisten=_ee.bind(null,t.syncEngine),i}function Bee(n,t,i={}){const o=new Ms;return n.asyncQueue.enqueueAndForget(async()=>function(c,u,h,b,f){const w=new y4({next:v=>{u.enqueueAndForget(()=>f4(c,p));const g=v.docs.has(h);!g&&v.fromCache?f.reject(new He(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&v.fromCache&&b&&b.source==="server"?f.reject(new He(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new p4(ZC(h.path),w,{includeMetadataChanges:!0,Uu:!0});return h4(c,p)}(await _4(n),n.asyncQueue,t,i,o)),o.promise}function Fee(n,t,i={}){const o=new Ms;return n.asyncQueue.enqueueAndForget(async()=>function(c,u,h,b,f){const w=new y4({next:v=>{u.enqueueAndForget(()=>f4(c,p)),v.fromCache&&b.source==="server"?f.reject(new He(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new p4(h,w,{includeMetadataChanges:!0,Uu:!0});return h4(c,p)}(await _4(n),n.asyncQueue,t,i,o)),o.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(n,t,i){if(!i)throw new He(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function zee(n,t,i,o){if(t===!0&&o===!0)throw new He(Ce.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function oN(n){if(!Qe.isDocumentKey(n))throw new He(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sN(n){if(Qe.isDocumentKey(n))throw new He(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":at()}function ns(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new He(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hw(n);throw new He(Ce.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t){var i;if(t.host===void 0){if(t.ssl!==void 0)throw new He(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new He(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zee("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,i,o,c){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new He(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new He(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aN(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new cJ;switch(i.type){case"firstParty":return new fJ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new He(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=rN.get(t);i&&(Ke("ComponentProvider","Removing Datastore"),rN.delete(t),i.terminate())}(this),Promise.resolve()}}function jee(n,t,i,o={}){var c;const u=(n=ns(n,Ww))._getSettings();if(u.host!=="firestore.googleapis.com"&&u.host!==t&&nd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${t}:${i}`,ssl:!1})),o.mockUserToken){let h,b;if(typeof o.mockUserToken=="string")h=o.mockUserToken,b=xi.MOCK_USER;else{h=MK(o.mockUserToken,(c=n._app)===null||c===void 0?void 0:c.options.projectId);const f=o.mockUserToken.sub||o.mockUserToken.user_id;if(!f)throw new He(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new xi(f)}n._authCredentials=new uJ(new k5(h,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gi(this.firestore,t,this._key)}}class Id{constructor(t,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new Id(this.firestore,t,this._query)}}class Wa extends Id{constructor(t,i,o){super(t,i,ZC(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gi(this.firestore,null,new Qe(t))}withConverter(t){return new Wa(this.firestore,t,this._path)}}function Gw(n,t,...i){if(n=ii(n),C4("collection","path",t),n instanceof Ww){const o=sn.fromString(t,...i);return sN(o),new Wa(n,null,o)}{if(!(n instanceof Gi||n instanceof Wa))throw new He(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(sn.fromString(t,...i));return sN(o),new Wa(n.firestore,null,o)}}function Hu(n,t,...i){if(n=ii(n),arguments.length===1&&(t=b5.A()),C4("doc","path",t),n instanceof Ww){const o=sn.fromString(t,...i);return oN(o),new Gi(n,null,new Qe(o))}{if(!(n instanceof Gi||n instanceof Wa))throw new He(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(sn.fromString(t,...i));return oN(o),new Gi(n.firestore,n instanceof Wa?n.converter:null,new Qe(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vee{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new i4(this,"async_queue_retry"),this.Yc=()=>{const i=qy();i&&Ke("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Lo.ko()};const t=qy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Xc(),this.Zc(t)}enterRestrictedMode(t){if(!this.Qc){this.Qc=!0,this.Hc=t||!1;const i=qy();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Yc)}}enqueue(t){if(this.Xc(),this.Qc)return new Promise(()=>{});const i=new Ms;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Gc.push(t),this.ta()))}async ta(){if(this.Gc.length!==0){try{await this.Gc[0](),this.Gc.shift(),this.Lo.reset()}catch(t){if(!gp(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}this.Gc.length>0&&this.Lo.xo(()=>this.ta())}}Zc(t){const i=this.Kc.then(()=>(this.Wc=!0,t().catch(o=>{this.zc=o,this.Wc=!1;const c=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(o);throw Fs("INTERNAL UNHANDLED ERROR: ",c),o}).then(o=>(this.Wc=!1,o))));return this.Kc=i,i}enqueueAfterDelay(t,i,o){this.Xc(),this.Jc.indexOf(t)>-1&&(i=0);const c=c1.createAndSchedule(this,t,i,o,u=>this.ea(u));return this.jc.push(c),c}Xc(){this.zc&&at()}verifyOperationInProgress(){}async na(){let t;do t=this.Kc,await t;while(t!==this.Kc)}sa(t){for(const i of this.jc)if(i.timerId===t)return!0;return!1}ia(t){return this.na().then(()=>{this.jc.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this.jc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.na()})}ra(t){this.Jc.push(t)}ea(t){const i=this.jc.indexOf(t);this.jc.splice(i,1)}}class Md extends Ww{constructor(t,i,o,c){super(t,i,o,c),this.type="firestore",this._queue=new Vee,this._persistenceKey=(c==null?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||E4(this),this._firestoreClient.terminate()}}function Uee(n,t){const i=typeof n=="object"?n:R$(),o=typeof n=="string"?n:t||"(default)",c=hC(i,"firestore").getImmediate({identifier:o});if(!c._initialized){const u=TK("firestore");u&&jee(c,...u)}return c}function f1(n){return n._firestoreClient||E4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function E4(n){var t,i,o;const c=n._freezeSettings(),u=function(h,b,f,w){return new EJ(h,b,f,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,c);n._firestoreClient=new Nee(n._authCredentials,n._appCheckCredentials,n._queue,u),!((i=c.cache)===null||i===void 0)&&i._offlineComponentProvider&&(!((o=c.cache)===null||o===void 0)&&o._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.cache.kind,_offline:c.cache._offlineComponentProvider,_online:c.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ld(Pi.fromBase64String(t))}catch(i){throw new He(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ld(Pi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new He(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new He(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new He(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hee=/^__.*__$/;class Wee{constructor(t,i,o){this.data=t,this.fieldMask=i,this.fieldTransforms=o}toMutation(t,i){return this.fieldMask!==null?new il(t,this.data,this.fieldMask,i,this.fieldTransforms):new vp(t,this.data,i,this.fieldTransforms)}}class S4{constructor(t,i,o){this.data=t,this.fieldMask=i,this.fieldTransforms=o}toMutation(t,i){return new il(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function x4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class m1{constructor(t,i,o,c,u,h){this.settings=t,this.databaseId=i,this.serializer=o,this.ignoreUndefinedProperties=c,u===void 0&&this.oa(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(t){return new m1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(t){var i;const o=(i=this.path)===null||i===void 0?void 0:i.child(t),c=this.ca({path:o,ha:!1});return c.la(t),c}fa(t){var i;const o=(i=this.path)===null||i===void 0?void 0:i.child(t),c=this.ca({path:o,ha:!1});return c.oa(),c}da(t){return this.ca({path:void 0,ha:!0})}_a(t){return Bv(t,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}oa(){if(this.path)for(let t=0;t<this.path.length;t++)this.la(this.path.get(t))}la(t){if(t.length===0)throw this._a("Document fields must not be empty");if(x4(this.ua)&&Hee.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Gee{constructor(t,i,o){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=o||jw(t)}ga(t,i,o,c=!1){return new m1({ua:t,methodName:i,ma:o,path:Ii.emptyPath(),ha:!1,wa:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qw(n){const t=n._freezeSettings(),i=jw(n._databaseId);return new Gee(n._databaseId,!!t.ignoreUndefinedProperties,i)}function T4(n,t,i,o,c,u={}){const h=n.ga(u.merge||u.mergeFields?2:0,t,i,c);v1("Data must be an object, but it was:",h,o);const b=D4(o,h);let f,w;if(u.merge)f=new mr(h.fieldMask),w=h.fieldTransforms;else if(u.mergeFields){const p=[];for(const v of u.mergeFields){const g=YA(t,v,i);if(!h.contains(g))throw new He(Ce.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);M4(p,g)||p.push(g)}f=new mr(p),w=h.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,w=h.fieldTransforms;return new Wee(new ir(b),f,w)}class Qw extends p1{_toFieldTransform(t){if(t.ua!==2)throw t.ua===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qw}}function Kee(n,t,i,o){const c=n.ga(1,t,i);v1("Data must be an object, but it was:",c,o);const u=[],h=ir.empty();yc(o,(f,w)=>{const p=w1(t,f,i);w=ii(w);const v=c.fa(p);if(w instanceof Qw)u.push(p);else{const g=yp(w,v);g!=null&&(u.push(p),h.set(p,g))}});const b=new mr(u);return new S4(h,b,c.fieldTransforms)}function qee(n,t,i,o,c,u){const h=n.ga(1,t,i),b=[YA(t,o,i)],f=[c];if(u.length%2!=0)throw new He(Ce.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<u.length;g+=2)b.push(YA(t,u[g])),f.push(u[g+1]);const w=[],p=ir.empty();for(let g=b.length-1;g>=0;--g)if(!M4(w,b[g])){const k=b[g];let A=f[g];A=ii(A);const _=h.fa(k);if(A instanceof Qw)w.push(k);else{const E=yp(A,_);E!=null&&(w.push(k),p.set(k,E))}}const v=new mr(w);return new S4(p,v,h.fieldTransforms)}function Qee(n,t,i,o=!1){return yp(i,n.ga(o?4:3,t))}function yp(n,t){if(I4(n=ii(n)))return v1("Unsupported field value:",t,n),D4(n,t);if(n instanceof p1)return function(i,o){if(!x4(o.ua))throw o._a(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ha&&t.ua!==4)throw t._a("Nested arrays are not supported");return function(i,o){const c=[];let u=0;for(const h of i){let b=yp(h,o.da(u));b==null&&(b={nullValue:"NULL_VALUE"}),c.push(b),u++}return{arrayValue:{values:c}}}(n,t)}return function(i,o){if((i=ii(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return WJ(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Gn.fromDate(i);return{timestampValue:Pv(o.serializer,c)}}if(i instanceof Gn){const c=new Gn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Pv(o.serializer,c)}}if(i instanceof g1)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ld)return{bytesValue:Q5(o.serializer,i._byteString)};if(i instanceof Gi){const c=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(c))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:n1(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o._a(`Unsupported field value: ${Hw(i)}`)}(n,t)}function D4(n,t){const i={};return y5(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yc(n,(o,c)=>{const u=yp(c,t.aa(o));u!=null&&(i[o]=u)}),{mapValue:{fields:i}}}function I4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Gn||n instanceof g1||n instanceof ld||n instanceof Gi||n instanceof p1)}function v1(n,t,i){if(!I4(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const o=Hw(i);throw o==="an object"?t._a(n+" a custom object"):t._a(n+" "+o)}}function YA(n,t,i){if((t=ii(t))instanceof Kw)return t._internalPath;if(typeof t=="string")return w1(n,t);throw Bv("Field path arguments must be of type string or ",n,!1,void 0,i)}const Yee=new RegExp("[~\\*/\\[\\]]");function w1(n,t,i){if(t.search(Yee)>=0)throw Bv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Kw(...t.split("."))._internalPath}catch{throw Bv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function Bv(n,t,i,o,c){const u=o&&!o.isEmpty(),h=c!==void 0;let b=`Function ${t}() called with invalid data`;i&&(b+=" (via `toFirestore()`)"),b+=". ";let f="";return(u||h)&&(f+=" (found",u&&(f+=` in field ${o}`),h&&(f+=` in document ${c}`),f+=")"),new He(Ce.INVALID_ARGUMENT,b+n+f)}function M4(n,t){return n.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(t,i,o,c,u){this._firestore=t,this._userDataWriter=i,this._key=o,this._document=c,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Zee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(k1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Zee extends L4{data(){return super.data()}}function k1(n,t){return typeof t=="string"?w1(n,t):t instanceof Kw?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jee(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new He(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b1{}class Xee extends b1{}function y1(n,t,...i){let o=[];t instanceof b1&&o.push(t),o=o.concat(i),function(c){const u=c.filter(b=>b instanceof A1).length,h=c.filter(b=>b instanceof Yw).length;if(u>1||u>0&&h>0)throw new He(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const c of o)n=c._apply(n);return n}class Yw extends Xee{constructor(t,i,o){super(),this._field=t,this._op=i,this._value=o,this.type="where"}static _create(t,i,o){return new Yw(t,i,o)}_apply(t){const i=this._parse(t);return R4(t._query,i),new Id(t.firestore,t.converter,jA(t._query,i))}_parse(t){const i=qw(t.firestore);return function(c,u,h,b,f,w,p){let v;if(f.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new He(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){cN(p,w);const g=[];for(const k of p)g.push(lN(b,c,k));v={arrayValue:{values:g}}}else v=lN(b,c,p)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||cN(p,w),v=Qee(h,u,p,w==="in"||w==="not-in");return zn.create(f,w,v)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function Fv(n,t,i){const o=t,c=k1("where",n);return Yw._create(c,o,i)}class A1 extends b1{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new A1(t,i)}_parse(t){const i=this._queryConstraints.map(o=>o._parse(t)).filter(o=>o.getFilters().length>0);return i.length===1?i[0]:ho.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(o,c){let u=o;const h=c.getFlattenedFilters();for(const b of h)R4(u,b),u=jA(u,b)}(t._query,i),new Id(t.firestore,t.converter,jA(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lN(n,t,i){if(typeof(i=ii(i))=="string"){if(i==="")throw new He(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M5(t)&&i.indexOf("/")!==-1)throw new He(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=t.path.child(sn.fromString(i));if(!Qe.isDocumentKey(o))throw new He(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return LR(n,new Qe(o))}if(i instanceof Gi)return LR(n,i._key);throw new He(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hw(i)}.`)}function cN(n,t){if(!Array.isArray(n)||n.length===0)throw new He(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function R4(n,t){if(t.isInequality()){const o=JC(n),c=t.field;if(o!==null&&!o.isEqual(c))throw new He(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${c.toString()}'`);const u=I5(n);u!==null&&ete(n,c,u)}const i=function(o,c){for(const u of o)for(const h of u.getFlattenedFilters())if(c.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new He(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new He(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function ete(n,t,i){if(!i.isEqual(t))throw new He(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class tte{convertValue(t,i="none"){switch(mc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $n(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(gc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw at()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const o={};return yc(t,(c,u)=>{o[c]=this.convertValue(u,i)}),o}convertGeoPoint(t){return new g1($n(t.latitude),$n(t.longitude))}convertArray(t,i){return(t.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(t,i){switch(i){case"previous":const o=KC(t);return o==null?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(Bf(t));default:return null}}convertTimestamp(t){const i=Qa(t);return new Gn(i.seconds,i.nanos)}convertDocumentKey(t,i){const o=sn.fromString(t);ln(e4(o));const c=new Ff(o.get(1),o.get(3)),u=new Qe(o.popFirst(5));return c.isEqual(i)||Fs(`Document ${u} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(n,t,i){let o;return o=n?i&&(i.merge||i.mergeFields)?n.toFirestore(t,i):n.toFirestore(t):t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class O4 extends L4{constructor(t,i,o,c,u,h){super(t,i,o,c,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Rm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const o=this._document.data.field(k1("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class Rm extends O4{data(t={}){return super.data(t)}}class nte{constructor(t,i,o,c){this._firestore=t,this._userDataWriter=i,this._snapshot=c,this.metadata=new Uh(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(o=>{t.call(i,new Rm(this._firestore,this._userDataWriter,o.key,o,new Uh(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new He(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const b=new Rm(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Uh(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:b,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>c||h.type!==3).map(h=>{const b=new Rm(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Uh(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let f=-1,w=-1;return h.type!==0&&(f=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),w=u.indexOf(h.doc.key)),{type:ite(h.type),doc:b,oldIndex:f,newIndex:w}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function ite(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rte(n){n=ns(n,Gi);const t=ns(n.firestore,Md);return Bee(f1(t),n._key).then(i=>ate(t,n,i))}class P4 extends tte{constructor(t){super(),this.firestore=t}convertBytes(t){return new ld(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Gi(this.firestore,null,i)}}function _1(n){n=ns(n,Id);const t=ns(n.firestore,Md),i=f1(t),o=new P4(t);return Jee(n._query),Fee(i,n._query).then(c=>new nte(t,o,n,c))}function ZA(n,t,i){n=ns(n,Gi);const o=ns(n.firestore,Md),c=N4(n.converter,t,i);return C1(o,[T4(qw(o),"setDoc",n._key,c,n.converter!==null,i).toMutation(n._key,ao.none())])}function ote(n,t,i,...o){n=ns(n,Gi);const c=ns(n.firestore,Md),u=qw(c);let h;return h=typeof(t=ii(t))=="string"||t instanceof Kw?qee(u,"updateDoc",n._key,t,i,o):Kee(u,"updateDoc",n._key,t),C1(c,[h.toMutation(n._key,ao.exists(!0))])}function ste(n,t){const i=ns(n.firestore,Md),o=Hu(n),c=N4(n.converter,t);return C1(i,[T4(qw(n.firestore),"addDoc",o._key,c,n.converter!==null,{}).toMutation(o._key,ao.exists(!1))]).then(()=>o)}function C1(n,t){return function(i,o){const c=new Ms;return i.asyncQueue.enqueueAndForget(async()=>Cee(await $ee(i),o,c)),c.promise}(f1(n),t)}function ate(n,t,i){const o=i.docs.get(t._key),c=new P4(n);return new O4(n,c,t._key,o,new Uh(i.hasPendingWrites,i.fromCache),t.converter)}(function(n,t=!0){(function(i){xd=i})(bd),ed(new uc("firestore",(i,{instanceIdentifier:o,options:c})=>{const u=i.getProvider("app").getImmediate(),h=new Md(new dJ(i.getProvider("auth-internal")),new gJ(i.getProvider("app-check-internal")),function(b,f){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new He(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ff(b.options.projectId,f)}(u,o),u);return c=Object.assign({useFetchStreams:t},c),h._setSettings(c),h},"PUBLIC").setMultipleInstances(!0)),Ha(xR,"3.11.0",n),Ha(xR,"3.11.0","esm2017")})();const lte={apiKey:"AIzaSyDLbetdNa9-cqQQp1UL3Ic7vOECAztgw3Q",authDomain:"codex-8a76a.firebaseapp.com",projectId:"codex-8a76a",storageBucket:"codex-8a76a.appspot.com",messagingSenderId:"451510871266",appId:"1:451510871266:web:7f3113747e216ac5d5aabb",measurementId:"G-59SZM422MH"},$4=L$(lte),Nm=rZ($4),Ds=Uee($4),Ap=Te.createContext(),cte=Ap.Provider,ute=({children:n})=>{const t={isLoggedIn:!1,email:null,isAdmin:!1},[i,o]=Te.useState(t);return Te.useEffect(()=>{WQ(Nm,c=>{o(c?{...i,isLoggedIn:!0,email:c.email,isAdmin:!0}:t)})},[]),ae.jsx(ae.Fragment,{children:ae.jsx(cte,{value:i,children:n})})};function Yy({children:n}){return Te.useContext(Ap).isLoggedIn?ae.jsx(ae.Fragment,{children:n}):ae.jsx(cK,{to:"/sign-up"})}function uN({children:n}){const t=Te.useContext(Ap),i=Jf();return Te.useEffect(()=>{t.isLoggedIn&&i(-1)}),ae.jsx(ae.Fragment,{children:n})}function B4({header:n,title:t,buttonText:i,to:o}){return ae.jsxs("div",{className:"card border-info mb-3",style:{maxWidth:"18rem"},children:[ae.jsx("div",{className:"card-header",children:n}),ae.jsxs("div",{className:"card-body",children:[ae.jsx("h5",{className:"card-title",children:t}),ae.jsx(mw,{to:o,className:"btn btn-sm btn-primary",children:i})]})]})}function dte({complexity:n}){const[t,i]=Te.useState(null),[o,c]=Te.useState(!0);return Te.useEffect(()=>{n&&(async()=>{c(!0),i(null);const h=y1(Gw(Ds,"problems"),Fv("complexity","==",n)),f=(await _1(h)).docs.map(w=>({...w.data(),id:w.id}));f.length&&i(f),c(!1)})()},[n]),o?ae.jsx("h3",{children:"Loading..."}):t?ae.jsx(ae.Fragment,{children:ae.jsx("div",{className:"row",children:t.map(u=>ae.jsx("div",{className:"col-lg-3 col-md-4 col-sm-6",children:ae.jsx(B4,{header:u.complexity,title:u.title,buttonText:"Solve",to:`problems/${u.id}/solve`})},u.id))})}):ae.jsx("h3",{children:"No Data Found"})}function hte(){const n=Te.useContext(Ap),[t,i]=Te.useState("easy");return ae.jsx(ae.Fragment,{children:ae.jsxs("div",{className:"container mt-2",children:[n.isAdmin&&ae.jsx(B4,{header:"Add Problem",title:"Add problem here",buttonText:"+ Add",to:"/problems/new"}),ae.jsx("hr",{}),ae.jsxs("nav",{className:"nav nav-pills flex-column flex-sm-row mb-2",children:[ae.jsx("span",{type:"button",className:`border border-primary-subtle flex-sm-fill text-sm-center nav-link ${t==="easy"?"active":""}`,onClick:()=>i("easy"),children:"Easy"}),ae.jsx("span",{type:"button",className:`border border-primary-subtle flex-sm-fill text-sm-center nav-link ${t==="mideam"?"active":""}`,onClick:()=>i("mideam"),children:"Mideam"}),ae.jsx("span",{type:"button",className:`border border-primary-subtle flex-sm-fill text-sm-center nav-link ${t==="hard"?"active":""}`,onClick:()=>i("hard"),children:"Hard"})]}),ae.jsx(dte,{complexity:t})]})})}const fi={"authentication-card":"_authentication-card_bezto_1","authentication-form-control":"_authentication-form-control_bezto_6","authentication-form-group":"_authentication-form-group_bezto_11","authentication-error":"_authentication-error_bezto_15"};function E1(){return Jf(),{handleSignUp:o=>{jQ(Nm,o.email,o.password).then(c=>{const u=c.user;ZA(Hu(Ds,"users",u.uid),{email:u.email,isAdmin:!0}).then(h=>{console.log("user created")}).catch(h=>{alert(h.message)})}).catch(c=>{alert(c.message)})},handleSignIn:o=>{VQ(Nm,o.email,o.password).then(c=>{console.log("User signed in")}).catch(c=>{alert(c.message)})},handleSignOut:()=>{GQ(Nm).then(()=>{console.log("Sign-out successful")}).catch(o=>{console.log(o.message)})}}}var _p=n=>n.type==="checkbox",Mu=n=>n instanceof Date,Ui=n=>n==null;const F4=n=>typeof n=="object";var Kn=n=>!Ui(n)&&!Array.isArray(n)&&F4(n)&&!Mu(n),fte=n=>Kn(n)&&n.target?_p(n.target)?n.target.checked:n.target.value:n,pte=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,gte=(n,t)=>n.has(pte(t)),mte=n=>{const t=n.constructor&&n.constructor.prototype;return Kn(t)&&t.hasOwnProperty("isPrototypeOf")},S1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ul(n){let t;const i=Array.isArray(n);if(n instanceof Date)t=new Date(n);else if(n instanceof Set)t=new Set(n);else if(!(S1&&(n instanceof Blob||n instanceof FileList))&&(i||Kn(n)))if(t=i?[]:{},!Array.isArray(n)&&!mte(n))t=n;else for(const o in n)t[o]=Ul(n[o]);else return n;return t}var Cp=n=>Array.isArray(n)?n.filter(Boolean):[],Bn=n=>n===void 0,Ge=(n,t,i)=>{if(!t||!Kn(n))return i;const o=Cp(t.split(/[,[\].]+?/)).reduce((c,u)=>Ui(c)?c:c[u],n);return Bn(o)||o===n?Bn(n[t])?i:n[t]:o};const dN={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},io={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ws={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Sa.createContext(null);var vte=(n,t,i,o=!0)=>{const c={defaultValues:t._defaultValues};for(const u in n)Object.defineProperty(c,u,{get:()=>{const h=u;return t._proxyFormState[h]!==io.all&&(t._proxyFormState[h]=!o||io.all),i&&(i[h]=!0),n[h]}});return c},Ir=n=>Kn(n)&&!Object.keys(n).length,wte=(n,t,i,o)=>{i(n);const{name:c,...u}=n;return Ir(u)||Object.keys(u).length>=Object.keys(t).length||Object.keys(u).find(h=>t[h]===(!o||io.all))},Zy=n=>Array.isArray(n)?n:[n];function kte(n){const t=Sa.useRef(n);t.current=n,Sa.useEffect(()=>{const i=!n.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{i&&i.unsubscribe()}},[n.disabled])}var qo=n=>typeof n=="string",bte=(n,t,i,o,c)=>qo(n)?(o&&t.watch.add(n),Ge(i,n,c)):Array.isArray(n)?n.map(u=>(o&&t.watch.add(u),Ge(i,u))):(o&&(t.watchAll=!0),i),x1=n=>/^\w*$/.test(n),z4=n=>Cp(n.replace(/["|']|\]/g,"").split(/\.|\[/));function un(n,t,i){let o=-1;const c=x1(t)?[t]:z4(t),u=c.length,h=u-1;for(;++o<u;){const b=c[o];let f=i;if(o!==h){const w=n[b];f=Kn(w)||Array.isArray(w)?w:isNaN(+c[o+1])?{}:[]}n[b]=f,n=n[b]}return n}var yte=(n,t,i,o,c)=>t?{...i[n],types:{...i[n]&&i[n].types?i[n].types:{},[o]:c||!0}}:{};const JA=(n,t,i)=>{for(const o of i||Object.keys(n)){const c=Ge(n,o);if(c){const{_f:u,...h}=c;if(u&&t(u.name)){if(u.ref.focus){u.ref.focus();break}else if(u.refs&&u.refs[0].focus){u.refs[0].focus();break}}else Kn(h)&&JA(h,t)}}};var hN=n=>({isOnSubmit:!n||n===io.onSubmit,isOnBlur:n===io.onBlur,isOnChange:n===io.onChange,isOnAll:n===io.all,isOnTouch:n===io.onTouched}),fN=(n,t,i)=>!i&&(t.watchAll||t.watch.has(n)||[...t.watch].some(o=>n.startsWith(o)&&/^\.\w+/.test(n.slice(o.length)))),Ate=(n,t,i)=>{const o=Cp(Ge(n,i));return un(o,"root",t[i]),un(n,i,o),n},Wu=n=>typeof n=="boolean",T1=n=>n.type==="file",Ma=n=>typeof n=="function",zv=n=>{if(!S1)return!1;const t=n?n.ownerDocument:0;return n instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Om=n=>qo(n),D1=n=>n.type==="radio",jv=n=>n instanceof RegExp;const pN={value:!1,isValid:!1},gN={value:!0,isValid:!0};var j4=n=>{if(Array.isArray(n)){if(n.length>1){const t=n.filter(i=>i&&i.checked&&!i.disabled).map(i=>i.value);return{value:t,isValid:!!t.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Bn(n[0].attributes.value)?Bn(n[0].value)||n[0].value===""?gN:{value:n[0].value,isValid:!0}:gN:pN}return pN};const mN={isValid:!1,value:null};var V4=n=>Array.isArray(n)?n.reduce((t,i)=>i&&i.checked&&!i.disabled?{isValid:!0,value:i.value}:t,mN):mN;function vN(n,t,i="validate"){if(Om(n)||Array.isArray(n)&&n.every(Om)||Wu(n)&&!n)return{type:i,message:Om(n)?n:"",ref:t}}var du=n=>Kn(n)&&!jv(n)?n:{value:n,message:""},wN=async(n,t,i,o,c)=>{const{ref:u,refs:h,required:b,maxLength:f,minLength:w,min:p,max:v,pattern:g,validate:k,name:A,valueAsNumber:_,mount:E,disabled:x}=n._f,D=Ge(t,A);if(!E||x)return{};const O=h?h[0]:u,B=L=>{o&&O.reportValidity&&(O.setCustomValidity(Wu(L)?"":L||""),O.reportValidity())},I={},R=D1(u),j=_p(u),N=R||j,P=(_||T1(u))&&Bn(u.value)&&Bn(D)||zv(u)&&u.value===""||D===""||Array.isArray(D)&&!D.length,F=yte.bind(null,A,i,I),T=(L,z,V,H=ws.maxLength,G=ws.minLength)=>{const J=L?z:V;I[A]={type:L?H:G,message:J,ref:u,...F(L?H:G,J)}};if(c?!Array.isArray(D)||!D.length:b&&(!N&&(P||Ui(D))||Wu(D)&&!D||j&&!j4(h).isValid||R&&!V4(h).isValid)){const{value:L,message:z}=Om(b)?{value:!!b,message:b}:du(b);if(L&&(I[A]={type:ws.required,message:z,ref:O,...F(ws.required,z)},!i))return B(z),I}if(!P&&(!Ui(p)||!Ui(v))){let L,z;const V=du(v),H=du(p);if(!Ui(D)&&!isNaN(D)){const G=u.valueAsNumber||D&&+D;Ui(V.value)||(L=G>V.value),Ui(H.value)||(z=G<H.value)}else{const G=u.valueAsDate||new Date(D),J=re=>new Date(new Date().toDateString()+" "+re),Y=u.type=="time",ee=u.type=="week";qo(V.value)&&D&&(L=Y?J(D)>J(V.value):ee?D>V.value:G>new Date(V.value)),qo(H.value)&&D&&(z=Y?J(D)<J(H.value):ee?D<H.value:G<new Date(H.value))}if((L||z)&&(T(!!L,V.message,H.message,ws.max,ws.min),!i))return B(I[A].message),I}if((f||w)&&!P&&(qo(D)||c&&Array.isArray(D))){const L=du(f),z=du(w),V=!Ui(L.value)&&D.length>+L.value,H=!Ui(z.value)&&D.length<+z.value;if((V||H)&&(T(V,L.message,z.message),!i))return B(I[A].message),I}if(g&&!P&&qo(D)){const{value:L,message:z}=du(g);if(jv(L)&&!D.match(L)&&(I[A]={type:ws.pattern,message:z,ref:u,...F(ws.pattern,z)},!i))return B(z),I}if(k){if(Ma(k)){const L=await k(D,t),z=vN(L,O);if(z&&(I[A]={...z,...F(ws.validate,z.message)},!i))return B(z.message),I}else if(Kn(k)){let L={};for(const z in k){if(!Ir(L)&&!i)break;const V=vN(await k[z](D,t),O,z);V&&(L={...V,...F(z,V.message)},B(V.message),i&&(I[A]=L))}if(!Ir(L)&&(I[A]={ref:O,...L},!i))return I}}return B(!0),I};function _te(n,t){const i=t.slice(0,-1).length;let o=0;for(;o<i;)n=Bn(n)?o++:n[t[o++]];return n}function Cte(n){for(const t in n)if(!Bn(n[t]))return!1;return!0}function di(n,t){const i=Array.isArray(t)?t:x1(t)?[t]:z4(t),o=i.length===1?n:_te(n,i),c=i.length-1,u=i[c];return o&&delete o[u],c!==0&&(Kn(o)&&Ir(o)||Array.isArray(o)&&Cte(o))&&di(n,i.slice(0,-1)),n}function Jy(){let n=[];return{get observers(){return n},next:c=>{for(const u of n)u.next&&u.next(c)},subscribe:c=>(n.push(c),{unsubscribe:()=>{n=n.filter(u=>u!==c)}}),unsubscribe:()=>{n=[]}}}var Vv=n=>Ui(n)||!F4(n);function Jl(n,t){if(Vv(n)||Vv(t))return n===t;if(Mu(n)&&Mu(t))return n.getTime()===t.getTime();const i=Object.keys(n),o=Object.keys(t);if(i.length!==o.length)return!1;for(const c of i){const u=n[c];if(!o.includes(c))return!1;if(c!=="ref"){const h=t[c];if(Mu(u)&&Mu(h)||Kn(u)&&Kn(h)||Array.isArray(u)&&Array.isArray(h)?!Jl(u,h):u!==h)return!1}}return!0}var U4=n=>n.type==="select-multiple",Ete=n=>D1(n)||_p(n),Xy=n=>zv(n)&&n.isConnected,H4=n=>{for(const t in n)if(Ma(n[t]))return!0;return!1};function Uv(n,t={}){const i=Array.isArray(n);if(Kn(n)||i)for(const o in n)Array.isArray(n[o])||Kn(n[o])&&!H4(n[o])?(t[o]=Array.isArray(n[o])?[]:{},Uv(n[o],t[o])):Ui(n[o])||(t[o]=!0);return t}function W4(n,t,i){const o=Array.isArray(n);if(Kn(n)||o)for(const c in n)Array.isArray(n[c])||Kn(n[c])&&!H4(n[c])?Bn(t)||Vv(i[c])?i[c]=Array.isArray(n[c])?Uv(n[c],[]):{...Uv(n[c])}:W4(n[c],Ui(t)?{}:t[c],i[c]):i[c]=!Jl(n[c],t[c]);return i}var e0=(n,t)=>W4(n,t,Uv(t)),G4=(n,{valueAsNumber:t,valueAsDate:i,setValueAs:o})=>Bn(n)?n:t?n===""?NaN:n&&+n:i&&qo(n)?new Date(n):o?o(n):n;function t0(n){const t=n.ref;if(!(n.refs?n.refs.every(i=>i.disabled):t.disabled))return T1(t)?t.files:D1(t)?V4(n.refs).value:U4(t)?[...t.selectedOptions].map(({value:i})=>i):_p(t)?j4(n.refs).value:G4(Bn(t.value)?n.ref.value:t.value,n)}var Ste=(n,t,i,o)=>{const c={};for(const u of n){const h=Ge(t,u);h&&un(c,u,h._f)}return{criteriaMode:i,names:[...n],fields:c,shouldUseNativeValidation:o}},Ih=n=>Bn(n)?n:jv(n)?n.source:Kn(n)?jv(n.value)?n.value.source:n.value:n,xte=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function kN(n,t,i){const o=Ge(n,i);if(o||x1(i))return{error:o,name:i};const c=i.split(".");for(;c.length;){const u=c.join("."),h=Ge(t,u),b=Ge(n,u);if(h&&!Array.isArray(h)&&i!==u)return{name:i};if(b&&b.type)return{name:u,error:b};c.pop()}return{name:i}}var Tte=(n,t,i,o,c)=>c.isOnAll?!1:!i&&c.isOnTouch?!(t||n):(i?o.isOnBlur:c.isOnBlur)?!n:(i?o.isOnChange:c.isOnChange)?n:!0,Dte=(n,t)=>!Cp(Ge(n,t)).length&&di(n,t);const Ite={mode:io.onSubmit,reValidateMode:io.onChange,shouldFocusError:!0};function Mte(n={},t){let i={...Ite,...n},o={submitCount:0,isDirty:!1,isLoading:Ma(i.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},c={},u=Kn(i.defaultValues)||Kn(i.values)?Ul(i.defaultValues||i.values)||{}:{},h=i.shouldUnregister?{}:Ul(u),b={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w,p=0;const v={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:Jy(),array:Jy(),state:Jy()},k=n.resetOptions&&n.resetOptions.keepDirtyValues,A=hN(i.mode),_=hN(i.reValidateMode),E=i.criteriaMode===io.all,x=se=>we=>{clearTimeout(p),p=setTimeout(se,we)},D=async se=>{if(v.isValid||se){const we=i.resolver?Ir((await P()).errors):await T(c,!0);we!==o.isValid&&g.state.next({isValid:we})}},O=se=>v.isValidating&&g.state.next({isValidating:se}),B=(se,we=[],ke,Fe,Be=!0,Me=!0)=>{if(Fe&&ke){if(b.action=!0,Me&&Array.isArray(Ge(c,se))){const fe=ke(Ge(c,se),Fe.argA,Fe.argB);Be&&un(c,se,fe)}if(Me&&Array.isArray(Ge(o.errors,se))){const fe=ke(Ge(o.errors,se),Fe.argA,Fe.argB);Be&&un(o.errors,se,fe),Dte(o.errors,se)}if(v.touchedFields&&Me&&Array.isArray(Ge(o.touchedFields,se))){const fe=ke(Ge(o.touchedFields,se),Fe.argA,Fe.argB);Be&&un(o.touchedFields,se,fe)}v.dirtyFields&&(o.dirtyFields=e0(u,h)),g.state.next({name:se,isDirty:z(se,we),dirtyFields:o.dirtyFields,errors:o.errors,isValid:o.isValid})}else un(h,se,we)},I=(se,we)=>{un(o.errors,se,we),g.state.next({errors:o.errors})},R=(se,we,ke,Fe)=>{const Be=Ge(c,se);if(Be){const Me=Ge(h,se,Bn(ke)?Ge(u,se):ke);Bn(Me)||Fe&&Fe.defaultChecked||we?un(h,se,we?Me:t0(Be._f)):G(se,Me),b.mount&&D()}},j=(se,we,ke,Fe,Be)=>{let Me=!1,fe=!1;const Se={name:se};if(!ke||Fe){v.isDirty&&(fe=o.isDirty,o.isDirty=Se.isDirty=z(),Me=fe!==Se.isDirty);const Oe=Jl(Ge(u,se),we);fe=Ge(o.dirtyFields,se),Oe?di(o.dirtyFields,se):un(o.dirtyFields,se,!0),Se.dirtyFields=o.dirtyFields,Me=Me||v.dirtyFields&&fe!==!Oe}if(ke){const Oe=Ge(o.touchedFields,se);Oe||(un(o.touchedFields,se,ke),Se.touchedFields=o.touchedFields,Me=Me||v.touchedFields&&Oe!==ke)}return Me&&Be&&g.state.next(Se),Me?Se:{}},N=(se,we,ke,Fe)=>{const Be=Ge(o.errors,se),Me=v.isValid&&Wu(we)&&o.isValid!==we;if(n.delayError&&ke?(w=x(()=>I(se,ke)),w(n.delayError)):(clearTimeout(p),w=null,ke?un(o.errors,se,ke):di(o.errors,se)),(ke?!Jl(Be,ke):Be)||!Ir(Fe)||Me){const fe={...Fe,...Me&&Wu(we)?{isValid:we}:{},errors:o.errors,name:se};o={...o,...fe},g.state.next(fe)}O(!1)},P=async se=>i.resolver(h,i.context,Ste(se||f.mount,c,i.criteriaMode,i.shouldUseNativeValidation)),F=async se=>{const{errors:we}=await P();if(se)for(const ke of se){const Fe=Ge(we,ke);Fe?un(o.errors,ke,Fe):di(o.errors,ke)}else o.errors=we;return we},T=async(se,we,ke={valid:!0})=>{for(const Fe in se){const Be=se[Fe];if(Be){const{_f:Me,...fe}=Be;if(Me){const Se=f.array.has(Me.name),Oe=await wN(Be,h,E,i.shouldUseNativeValidation&&!we,Se);if(Oe[Me.name]&&(ke.valid=!1,we))break;!we&&(Ge(Oe,Me.name)?Se?Ate(o.errors,Oe,Me.name):un(o.errors,Me.name,Oe[Me.name]):di(o.errors,Me.name))}fe&&await T(fe,we,ke)}}return ke.valid},L=()=>{for(const se of f.unMount){const we=Ge(c,se);we&&(we._f.refs?we._f.refs.every(ke=>!Xy(ke)):!Xy(we._f.ref))&&ge(se)}f.unMount=new Set},z=(se,we)=>(se&&we&&un(h,se,we),!Jl(oe(),u)),V=(se,we,ke)=>bte(se,f,{...b.mount?h:Bn(we)?u:qo(se)?{[se]:we}:we},ke,we),H=se=>Cp(Ge(b.mount?h:u,se,n.shouldUnregister?Ge(u,se,[]):[])),G=(se,we,ke={})=>{const Fe=Ge(c,se);let Be=we;if(Fe){const Me=Fe._f;Me&&(!Me.disabled&&un(h,se,G4(we,Me)),Be=zv(Me.ref)&&Ui(we)?"":we,U4(Me.ref)?[...Me.ref.options].forEach(fe=>fe.selected=Be.includes(fe.value)):Me.refs?_p(Me.ref)?Me.refs.length>1?Me.refs.forEach(fe=>(!fe.defaultChecked||!fe.disabled)&&(fe.checked=Array.isArray(Be)?!!Be.find(Se=>Se===fe.value):Be===fe.value)):Me.refs[0]&&(Me.refs[0].checked=!!Be):Me.refs.forEach(fe=>fe.checked=fe.value===Be):T1(Me.ref)?Me.ref.value="":(Me.ref.value=Be,Me.ref.type||g.values.next({name:se,values:{...h}})))}(ke.shouldDirty||ke.shouldTouch)&&j(se,Be,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&re(se)},J=(se,we,ke)=>{for(const Fe in we){const Be=we[Fe],Me=`${se}.${Fe}`,fe=Ge(c,Me);(f.array.has(se)||!Vv(Be)||fe&&!fe._f)&&!Mu(Be)?J(Me,Be,ke):G(Me,Be,ke)}},Y=(se,we,ke={})=>{const Fe=Ge(c,se),Be=f.array.has(se),Me=Ul(we);un(h,se,Me),Be?(g.array.next({name:se,values:{...h}}),(v.isDirty||v.dirtyFields)&&ke.shouldDirty&&g.state.next({name:se,dirtyFields:e0(u,h),isDirty:z(se,Me)})):Fe&&!Fe._f&&!Ui(Me)?J(se,Me,ke):G(se,Me,ke),fN(se,f)&&g.state.next({...o}),g.values.next({name:se,values:{...h}}),!b.mount&&t()},ee=async se=>{const we=se.target;let ke=we.name,Fe=!0;const Be=Ge(c,ke),Me=()=>we.type?t0(Be._f):fte(se);if(Be){let fe,Se;const Oe=Me(),nt=se.type===dN.BLUR||se.type===dN.FOCUS_OUT,it=!xte(Be._f)&&!i.resolver&&!Ge(o.errors,ke)&&!Be._f.deps||Tte(nt,Ge(o.touchedFields,ke),o.isSubmitted,_,A),ot=fN(ke,f,nt);un(h,ke,Oe),nt?(Be._f.onBlur&&Be._f.onBlur(se),w&&w(0)):Be._f.onChange&&Be._f.onChange(se);const Dt=j(ke,Oe,nt,!1),kt=!Ir(Dt)||ot;if(!nt&&g.values.next({name:ke,type:se.type,values:{...h}}),it)return v.isValid&&D(),kt&&g.state.next({name:ke,...ot?{}:Dt});if(!nt&&ot&&g.state.next({...o}),O(!0),i.resolver){const{errors:ut}=await P([ke]),pt=kN(o.errors,c,ke),Ln=kN(ut,c,pt.name||ke);fe=Ln.error,ke=Ln.name,Se=Ir(ut)}else fe=(await wN(Be,h,E,i.shouldUseNativeValidation))[ke],Fe=isNaN(Oe)||Oe===Ge(h,ke,Oe),Fe&&(fe?Se=!1:v.isValid&&(Se=await T(c,!0)));Fe&&(Be._f.deps&&re(Be._f.deps),N(ke,Se,fe,Dt))}},re=async(se,we={})=>{let ke,Fe;const Be=Zy(se);if(O(!0),i.resolver){const Me=await F(Bn(se)?se:Be);ke=Ir(Me),Fe=se?!Be.some(fe=>Ge(Me,fe)):ke}else se?(Fe=(await Promise.all(Be.map(async Me=>{const fe=Ge(c,Me);return await T(fe&&fe._f?{[Me]:fe}:fe)}))).every(Boolean),!(!Fe&&!o.isValid)&&D()):Fe=ke=await T(c);return g.state.next({...!qo(se)||v.isValid&&ke!==o.isValid?{}:{name:se},...i.resolver||!se?{isValid:ke}:{},errors:o.errors,isValidating:!1}),we.shouldFocus&&!Fe&&JA(c,Me=>Me&&Ge(o.errors,Me),se?Be:f.mount),Fe},oe=se=>{const we={...u,...b.mount?h:{}};return Bn(se)?we:qo(se)?Ge(we,se):se.map(ke=>Ge(we,ke))},pe=(se,we)=>({invalid:!!Ge((we||o).errors,se),isDirty:!!Ge((we||o).dirtyFields,se),isTouched:!!Ge((we||o).touchedFields,se),error:Ge((we||o).errors,se)}),le=se=>{se&&Zy(se).forEach(we=>di(o.errors,we)),g.state.next({errors:se?o.errors:{}})},ce=(se,we,ke)=>{const Fe=(Ge(c,se,{_f:{}})._f||{}).ref;un(o.errors,se,{...we,ref:Fe}),g.state.next({name:se,errors:o.errors,isValid:!1}),ke&&ke.shouldFocus&&Fe&&Fe.focus&&Fe.focus()},ue=(se,we)=>Ma(se)?g.values.subscribe({next:ke=>se(V(void 0,we),ke)}):V(se,we,!0),ge=(se,we={})=>{for(const ke of se?Zy(se):f.mount)f.mount.delete(ke),f.array.delete(ke),we.keepValue||(di(c,ke),di(h,ke)),!we.keepError&&di(o.errors,ke),!we.keepDirty&&di(o.dirtyFields,ke),!we.keepTouched&&di(o.touchedFields,ke),!i.shouldUnregister&&!we.keepDefaultValue&&di(u,ke);g.values.next({values:{...h}}),g.state.next({...o,...we.keepDirty?{isDirty:z()}:{}}),!we.keepIsValid&&D()},ye=(se,we={})=>{let ke=Ge(c,se);const Fe=Wu(we.disabled);return un(c,se,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:se}},name:se,mount:!0,...we}}),f.mount.add(se),ke?Fe&&un(h,se,we.disabled?void 0:Ge(h,se,t0(ke._f))):R(se,!0,we.value),{...Fe?{disabled:we.disabled}:{},...i.shouldUseNativeValidation?{required:!!we.required,min:Ih(we.min),max:Ih(we.max),minLength:Ih(we.minLength),maxLength:Ih(we.maxLength),pattern:Ih(we.pattern)}:{},name:se,onChange:ee,onBlur:ee,ref:Be=>{if(Be){ye(se,we),ke=Ge(c,se);const Me=Bn(Be.value)&&Be.querySelectorAll&&Be.querySelectorAll("input,select,textarea")[0]||Be,fe=Ete(Me),Se=ke._f.refs||[];if(fe?Se.find(Oe=>Oe===Me):Me===ke._f.ref)return;un(c,se,{_f:{...ke._f,...fe?{refs:[...Se.filter(Xy),Me,...Array.isArray(Ge(u,se))?[{}]:[]],ref:{type:Me.type,name:se}}:{ref:Me}}}),R(se,!1,void 0,Me)}else ke=Ge(c,se,{}),ke._f&&(ke._f.mount=!1),(i.shouldUnregister||we.shouldUnregister)&&!(gte(f.array,se)&&b.action)&&f.unMount.add(se)}}},Ie=()=>i.shouldFocusError&&JA(c,se=>se&&Ge(o.errors,se),f.mount),xe=(se,we)=>async ke=>{ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let Fe=Ul(h);if(g.state.next({isSubmitting:!0}),i.resolver){const{errors:Be,values:Me}=await P();o.errors=Be,Fe=Me}else await T(c);di(o.errors,"root"),Ir(o.errors)?(g.state.next({errors:{}}),await se(Fe,ke)):(we&&await we({...o.errors},ke),Ie(),setTimeout(Ie)),g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ir(o.errors),submitCount:o.submitCount+1,errors:o.errors})},$e=(se,we={})=>{Ge(c,se)&&(Bn(we.defaultValue)?Y(se,Ge(u,se)):(Y(se,we.defaultValue),un(u,se,we.defaultValue)),we.keepTouched||di(o.touchedFields,se),we.keepDirty||(di(o.dirtyFields,se),o.isDirty=we.defaultValue?z(se,Ge(u,se)):z()),we.keepError||(di(o.errors,se),v.isValid&&D()),g.state.next({...o}))},qe=(se,we={})=>{const ke=se||u,Fe=Ul(ke),Be=se&&!Ir(se)?Fe:u;if(we.keepDefaultValues||(u=ke),!we.keepValues){if(we.keepDirtyValues||k)for(const Me of f.mount)Ge(o.dirtyFields,Me)?un(Be,Me,Ge(h,Me)):Y(Me,Ge(Be,Me));else{if(S1&&Bn(se))for(const Me of f.mount){const fe=Ge(c,Me);if(fe&&fe._f){const Se=Array.isArray(fe._f.refs)?fe._f.refs[0]:fe._f.ref;if(zv(Se)){const Oe=Se.closest("form");if(Oe){Oe.reset();break}}}}c={}}h=n.shouldUnregister?we.keepDefaultValues?Ul(u):{}:Fe,g.array.next({values:{...Be}}),g.values.next({values:{...Be}})}f={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!b.mount&&t(),b.mount=!v.isValid||!!we.keepIsValid,b.watch=!!n.shouldUnregister,g.state.next({submitCount:we.keepSubmitCount?o.submitCount:0,isDirty:we.keepDirty?o.isDirty:!!(we.keepDefaultValues&&!Jl(se,u)),isSubmitted:we.keepIsSubmitted?o.isSubmitted:!1,dirtyFields:we.keepDirtyValues?o.dirtyFields:we.keepDefaultValues&&se?e0(u,se):{},touchedFields:we.keepTouched?o.touchedFields:{},errors:we.keepErrors?o.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},wt=(se,we)=>qe(Ma(se)?se(h):se,we);return{control:{register:ye,unregister:ge,getFieldState:pe,_executeSchema:P,_getWatch:V,_getDirty:z,_updateValid:D,_removeUnmounted:L,_updateFieldArray:B,_getFieldArray:H,_reset:qe,_resetDefaultValues:()=>Ma(i.defaultValues)&&i.defaultValues().then(se=>{wt(se,i.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:se=>{o={...o,...se}},_subjects:g,_proxyFormState:v,get _fields(){return c},get _formValues(){return h},get _state(){return b},set _state(se){b=se},get _defaultValues(){return u},get _names(){return f},set _names(se){f=se},get _formState(){return o},set _formState(se){o=se},get _options(){return i},set _options(se){i={...i,...se}}},trigger:re,register:ye,handleSubmit:xe,watch:ue,setValue:Y,getValues:oe,reset:wt,resetField:$e,clearErrors:le,unregister:ge,setError:ce,setFocus:(se,we={})=>{const ke=Ge(c,se),Fe=ke&&ke._f;if(Fe){const Be=Fe.refs?Fe.refs[0]:Fe.ref;Be.focus&&(Be.focus(),we.shouldSelect&&Be.select())}},getFieldState:pe}}function I1(n={}){const t=Sa.useRef(),[i,o]=Sa.useState({isDirty:!1,isValidating:!1,isLoading:Ma(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Ma(n.defaultValues)?void 0:n.defaultValues});t.current||(t.current={...Mte(n,()=>o(u=>({...u}))),formState:i});const c=t.current.control;return c._options=n,kte({subject:c._subjects.state,next:u=>{wte(u,c._proxyFormState,c._updateFormState,!0)&&o({...c._formState})}}),Sa.useEffect(()=>{n.values&&!Jl(n.values,c._defaultValues)?c._reset(n.values,c._options.resetOptions):c._resetDefaultValues()},[n.values,c]),Sa.useEffect(()=>{c._state.mount||(c._updateValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),t.current.formState=vte(i,c),t.current}function Lte(){const{register:n,handleSubmit:t,formState:{errors:i}}=I1(),{handleSignIn:o}=E1(),c=u=>{const h=i[u];if(h)switch(h.type){case"required":return`${u} is required.`;case"minLength":return`${u} length must be grater then equal to 6.`;default:return"unkown error."}};return ae.jsx("div",{className:"container",children:ae.jsx("div",{className:"row justify-content-center",children:ae.jsx("div",{className:"col-md-5",children:ae.jsxs("div",{className:`card ${fi["authentication-card"]}`,children:[ae.jsx("h2",{className:"card-title text-center",children:"Sign In"}),ae.jsx("div",{className:"card-body py-md-4",children:ae.jsxs("form",{onSubmit:t(o),children:[ae.jsxs("div",{className:`form-group ${fi["authentication-form-group"]}`,children:[ae.jsx("input",{type:"email",...n("email",{required:!0}),className:`form-control ${fi["authentication-form-control"]}`,placeholder:"Email"}),ae.jsx("span",{className:`${fi["authentication-error"]}`,children:c("email")})]}),ae.jsxs("div",{className:`form-group ${fi["authentication-form-group"]}`,children:[ae.jsx("input",{type:"password",autoComplete:"true",...n("password",{required:!0,minLength:6}),className:`form-control ${fi["authentication-form-control"]}`,placeholder:"Password"}),ae.jsx("span",{className:`${fi["authentication-error"]}`,children:c("password")})]}),ae.jsxs("div",{className:"d-flex flex-row align-items-center justify-content-between",children:[ae.jsx(mw,{to:"/sign-up",children:"Don't have account ?, Sign Up"}),ae.jsx("button",{className:"btn btn-primary",children:"Sign In"})]})]})})]})})})})}function Rte(){const{register:n,handleSubmit:t,watch:i,formState:{errors:o}}=I1(),{handleSignUp:c}=E1(),u=b=>{const f=o[b];if(f)switch(f.type){case"required":return`${b} is required.`;case"minLength":return`${b} length must be grater then equal to 6.`;case"pattern":return`${b} should be valid.`;case"validate":return"password must be same.";default:return"unkown error."}},h=b=>{const f=i("password");return b===f};return ae.jsx("div",{className:"container",children:ae.jsx("div",{className:"row justify-content-center",children:ae.jsx("div",{className:"col-md-5",children:ae.jsxs("div",{className:`card ${fi["authentication-card"]}`,children:[ae.jsx("h2",{className:"card-title text-center",children:"Sign Up"}),ae.jsx("div",{className:"card-body py-md-4",children:ae.jsxs("form",{onSubmit:t(c),children:[ae.jsxs("div",{className:`form-group ${fi["authentication-form-group"]}`,children:[ae.jsx("input",{type:"email",...n("email",{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/}),className:`form-control ${fi["authentication-form-control"]}`,placeholder:"Email"}),ae.jsx("span",{className:`${fi["authentication-error"]}`,children:u("email")})]}),ae.jsxs("div",{className:`form-group ${fi["authentication-form-group"]}`,children:[ae.jsx("input",{type:"password",...n("password",{required:!0,minLength:6}),autoComplete:"true",className:`form-control ${fi["authentication-form-control"]}`,placeholder:"Password"}),ae.jsx("span",{className:`${fi["authentication-error"]}`,children:u("password")})]}),ae.jsxs("div",{className:`form-group ${fi["authentication-form-group"]}`,children:[ae.jsx("input",{type:"password",...n("passwordConfirmation",{required:!0,validate:h}),autoComplete:"true",className:`form-control ${fi["authentication-form-control"]}`,placeholder:"confirm-password"}),ae.jsx("span",{className:`${fi["authentication-error"]}`,children:u("passwordConfirmation")})]}),ae.jsxs("div",{className:"d-flex flex-row align-items-center justify-content-between",children:[ae.jsx(mw,{to:"/sign-in",children:"Have account ?, Sign In"}),ae.jsx("button",{className:"btn btn-primary",children:"Sign Up"})]})]})})]})})})})}var Hv={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */Hv.exports;(function(n,t){(function(i,o){n.exports=o(Te)})(self,i=>(()=>{var o={703:(b,f,w)=>{var p=w(414);function v(){}function g(){}g.resetWarningCache=v,b.exports=function(){function k(E,x,D,O,B,I){if(I!==p){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}function A(){return k}k.isRequired=k;var _={array:k,bigint:k,bool:k,func:k,number:k,object:k,string:k,symbol:k,any:k,arrayOf:A,element:k,elementType:k,instanceOf:A,node:k,objectOf:A,oneOf:A,oneOfType:A,shape:A,exact:A,checkPropTypes:g,resetWarningCache:v};return _.PropTypes=_,_}},697:(b,f,w)=>{b.exports=w(703)()},414:b=>{b.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:b=>{b.exports=i}},c={};function u(b){var f=c[b];if(f!==void 0)return f.exports;var w=c[b]={exports:{}};return o[b](w,w.exports,u),w.exports}u.n=b=>{var f=b&&b.__esModule?()=>b.default:()=>b;return u.d(f,{a:f}),f},u.d=(b,f)=>{for(var w in f)u.o(f,w)&&!u.o(b,w)&&Object.defineProperty(b,w,{enumerable:!0,get:f[w]})},u.o=(b,f)=>Object.prototype.hasOwnProperty.call(b,f),u.r=b=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})};var h={};return(()=>{u.r(h),u.d(h,{CKEditor:()=>ia,CKEditorContext:()=>Jd});var b=u(787),f=u.n(b),w=u(697),p=u.n(w);const v=new Array(256).fill("").map((Q,Z)=>("0"+Z.toString(16)).slice(-2));class g{constructor(Z){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof Z.crashNumberLimit=="number"?Z.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof Z.minimumNonErrorTimePeriod=="number"?Z.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=ie=>{const me="error"in ie?ie.error:ie.reason;me instanceof Error&&this._handleError(me,ie)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(Z,ie){this._listeners[Z]||(this._listeners[Z]=[]),this._listeners[Z].push(ie)}off(Z,ie){this._listeners[Z]=this._listeners[Z].filter(me=>me!==ie)}_fire(Z,...ie){const me=this._listeners[Z]||[];for(const We of me)We.apply(this,[null,...ie])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(Z,ie){if(this._shouldReactToError(Z)){this.crashes.push({message:Z.message,stack:Z.stack,filename:ie instanceof ErrorEvent?ie.filename:void 0,lineno:ie instanceof ErrorEvent?ie.lineno:void 0,colno:ie instanceof ErrorEvent?ie.colno:void 0,date:this._now()});const me=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:Z,causesRestart:me}),me?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(Z){return Z.is&&Z.is("CKEditorError")&&Z.context!==void 0&&Z.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(Z)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function k(Q,Z=new Set){const ie=[Q],me=new Set;let We=0;for(;ie.length>We;){const st=ie[We++];if(!me.has(st)&&A(st)&&!Z.has(st))if(me.add(st),Symbol.iterator in st)try{for(const dt of st)ie.push(dt)}catch{}else for(const dt in st)dt!=="defaultValue"&&ie.push(st[dt])}return me}function A(Q){const Z=Object.prototype.toString.call(Q),ie=typeof Q;return!(ie==="number"||ie==="boolean"||ie==="string"||ie==="symbol"||ie==="function"||Z==="[object Date]"||Z==="[object RegExp]"||Z==="[object Module]"||Q==null||Q._watchdogExcluded||Q instanceof EventTarget||Q instanceof Event)}function _(Q,Z,ie=new Set){if(Q===Z&&typeof(me=Q)=="object"&&me!==null)return!0;var me;const We=k(Q,ie),st=k(Z,ie);for(const dt of We)if(st.has(dt))return!0;return!1}const E=function(Q){var Z=typeof Q;return Q!=null&&(Z=="object"||Z=="function")},x=typeof Zt=="object"&&Zt&&Zt.Object===Object&&Zt;var D=typeof self=="object"&&self&&self.Object===Object&&self;const O=x||D||Function("return this")(),B=function(){return O.Date.now()};var I=/\s/;const R=function(Q){for(var Z=Q.length;Z--&&I.test(Q.charAt(Z)););return Z};var j=/^\s+/;const N=function(Q){return Q&&Q.slice(0,R(Q)+1).replace(j,"")},P=O.Symbol;var F=Object.prototype,T=F.hasOwnProperty,L=F.toString,z=P?P.toStringTag:void 0;const V=function(Q){var Z=T.call(Q,z),ie=Q[z];try{Q[z]=void 0;var me=!0}catch{}var We=L.call(Q);return me&&(Z?Q[z]=ie:delete Q[z]),We};var H=Object.prototype.toString;const G=function(Q){return H.call(Q)};var J=P?P.toStringTag:void 0;const Y=function(Q){return Q==null?Q===void 0?"[object Undefined]":"[object Null]":J&&J in Object(Q)?V(Q):G(Q)},ee=function(Q){return Q!=null&&typeof Q=="object"},re=function(Q){return typeof Q=="symbol"||ee(Q)&&Y(Q)=="[object Symbol]"};var oe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,le=/^0o[0-7]+$/i,ce=parseInt;const ue=function(Q){if(typeof Q=="number")return Q;if(re(Q))return NaN;if(E(Q)){var Z=typeof Q.valueOf=="function"?Q.valueOf():Q;Q=E(Z)?Z+"":Z}if(typeof Q!="string")return Q===0?Q:+Q;Q=N(Q);var ie=pe.test(Q);return ie||le.test(Q)?ce(Q.slice(2),ie?2:8):oe.test(Q)?NaN:+Q};var ge=Math.max,ye=Math.min;const Ie=function(Q,Z,ie){var me,We,st,dt,ht,cn,rn=0,Vc=!1,Eo=!1,Er=!0;if(typeof Q!="function")throw new TypeError("Expected a function");function ds(li){var yi=me,xo=We;return me=We=void 0,rn=li,dt=Q.apply(xo,yi)}function ra(li){var yi=li-cn;return cn===void 0||yi>=Z||yi<0||Eo&&li-rn>=st}function So(){var li=B();if(ra(li))return gt(li);ht=setTimeout(So,function(yi){var xo=Z-(yi-cn);return Eo?ye(xo,st-(yi-rn)):xo}(li))}function gt(li){return ht=void 0,Er&&me?ds(li):(me=We=void 0,dt)}function Ji(){var li=B(),yi=ra(li);if(me=arguments,We=this,cn=li,yi){if(ht===void 0)return function(xo){return rn=xo,ht=setTimeout(So,Z),Vc?ds(xo):dt}(cn);if(Eo)return clearTimeout(ht),ht=setTimeout(So,Z),ds(cn)}return ht===void 0&&(ht=setTimeout(So,Z)),dt}return Z=ue(Z)||0,E(ie)&&(Vc=!!ie.leading,st=(Eo="maxWait"in ie)?ge(ue(ie.maxWait)||0,Z):st,Er="trailing"in ie?!!ie.trailing:Er),Ji.cancel=function(){ht!==void 0&&clearTimeout(ht),rn=0,me=cn=We=ht=void 0},Ji.flush=function(){return ht===void 0?dt:gt(B())},Ji},xe=function(Q,Z,ie){var me=!0,We=!0;if(typeof Q!="function")throw new TypeError("Expected a function");return E(ie)&&(me="leading"in ie?!!ie.leading:me,We="trailing"in ie?!!ie.trailing:We),Ie(Q,Z,{leading:me,maxWait:Z,trailing:We})},$e=function(){this.__data__=[],this.size=0},qe=function(Q,Z){return Q===Z||Q!=Q&&Z!=Z},wt=function(Q,Z){for(var ie=Q.length;ie--;)if(qe(Q[ie][0],Z))return ie;return-1};var Jt=Array.prototype.splice;const Ye=function(Q){var Z=this.__data__,ie=wt(Z,Q);return!(ie<0)&&(ie==Z.length-1?Z.pop():Jt.call(Z,ie,1),--this.size,!0)},Et=function(Q){var Z=this.__data__,ie=wt(Z,Q);return ie<0?void 0:Z[ie][1]},se=function(Q){return wt(this.__data__,Q)>-1},we=function(Q,Z){var ie=this.__data__,me=wt(ie,Q);return me<0?(++this.size,ie.push([Q,Z])):ie[me][1]=Z,this};function ke(Q){var Z=-1,ie=Q==null?0:Q.length;for(this.clear();++Z<ie;){var me=Q[Z];this.set(me[0],me[1])}}ke.prototype.clear=$e,ke.prototype.delete=Ye,ke.prototype.get=Et,ke.prototype.has=se,ke.prototype.set=we;const Fe=ke,Be=function(){this.__data__=new Fe,this.size=0},Me=function(Q){var Z=this.__data__,ie=Z.delete(Q);return this.size=Z.size,ie},fe=function(Q){return this.__data__.get(Q)},Se=function(Q){return this.__data__.has(Q)},Oe=function(Q){if(!E(Q))return!1;var Z=Y(Q);return Z=="[object Function]"||Z=="[object GeneratorFunction]"||Z=="[object AsyncFunction]"||Z=="[object Proxy]"},nt=O["__core-js_shared__"];var it=function(){var Q=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||"");return Q?"Symbol(src)_1."+Q:""}();const ot=function(Q){return!!it&&it in Q};var Dt=Function.prototype.toString;const kt=function(Q){if(Q!=null){try{return Dt.call(Q)}catch{}try{return Q+""}catch{}}return""};var ut=/^\[object .+?Constructor\]$/,pt=Function.prototype,Ln=Object.prototype,fo=pt.toString,rs=Ln.hasOwnProperty,os=RegExp("^"+fo.call(rs).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const lr=function(Q){return!(!E(Q)||ot(Q))&&(Oe(Q)?os:ut).test(kt(Q))},Rn=function(Q,Z){return Q==null?void 0:Q[Z]},kn=function(Q,Z){var ie=Rn(Q,Z);return lr(ie)?ie:void 0},ki=kn(O,"Map"),Fr=kn(Object,"create"),Cc=function(){this.__data__=Fr?Fr(null):{},this.size=0},ol=function(Q){var Z=this.has(Q)&&delete this.__data__[Q];return this.size-=Z?1:0,Z};var sl=Object.prototype.hasOwnProperty;const ss=function(Q){var Z=this.__data__;if(Fr){var ie=Z[Q];return ie==="__lodash_hash_undefined__"?void 0:ie}return sl.call(Z,Q)?Z[Q]:void 0};var Hs=Object.prototype.hasOwnProperty;const al=function(Q){var Z=this.__data__;return Fr?Z[Q]!==void 0:Hs.call(Z,Q)},ll=function(Q,Z){var ie=this.__data__;return this.size+=this.has(Q)?0:1,ie[Q]=Fr&&Z===void 0?"__lodash_hash_undefined__":Z,this};function Xt(Q){var Z=-1,ie=Q==null?0:Q.length;for(this.clear();++Z<ie;){var me=Q[Z];this.set(me[0],me[1])}}Xt.prototype.clear=Cc,Xt.prototype.delete=ol,Xt.prototype.get=ss,Xt.prototype.has=al,Xt.prototype.set=ll;const Ec=Xt,as=function(){this.size=0,this.__data__={hash:new Ec,map:new(ki||Fe),string:new Ec}},Ws=function(Q){var Z=typeof Q;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?Q!=="__proto__":Q===null},Gs=function(Q,Z){var ie=Q.__data__;return Ws(Z)?ie[typeof Z=="string"?"string":"hash"]:ie.map},Od=function(Q){var Z=Gs(this,Q).delete(Q);return this.size-=Z?1:0,Z},Sc=function(Q){return Gs(this,Q).get(Q)},cl=function(Q){return Gs(this,Q).has(Q)},zr=function(Q,Z){var ie=Gs(this,Q),me=ie.size;return ie.set(Q,Z),this.size+=ie.size==me?0:1,this};function Bi(Q){var Z=-1,ie=Q==null?0:Q.length;for(this.clear();++Z<ie;){var me=Q[Z];this.set(me[0],me[1])}}Bi.prototype.clear=as,Bi.prototype.delete=Od,Bi.prototype.get=Sc,Bi.prototype.has=cl,Bi.prototype.set=zr;const Ks=Bi,Pd=function(Q,Z){var ie=this.__data__;if(ie instanceof Fe){var me=ie.__data__;if(!ki||me.length<199)return me.push([Q,Z]),this.size=++ie.size,this;ie=this.__data__=new Ks(me)}return ie.set(Q,Z),this.size=ie.size,this};function po(Q){var Z=this.__data__=new Fe(Q);this.size=Z.size}po.prototype.clear=Be,po.prototype.delete=Me,po.prototype.get=fe,po.prototype.has=Se,po.prototype.set=Pd;const $d=po,cr=function(Q,Z){for(var ie=-1,me=Q==null?0:Q.length;++ie<me&&Z(Q[ie],ie,Q)!==!1;);return Q},Ar=function(){try{var Q=kn(Object,"defineProperty");return Q({},"",{}),Q}catch{}}(),qs=function(Q,Z,ie){Z=="__proto__"&&Ar?Ar(Q,Z,{configurable:!0,enumerable:!0,value:ie,writable:!0}):Q[Z]=ie};var xc=Object.prototype.hasOwnProperty;const Tc=function(Q,Z,ie){var me=Q[Z];xc.call(Q,Z)&&qe(me,ie)&&(ie!==void 0||Z in Q)||qs(Q,Z,ie)},Qs=function(Q,Z,ie,me){var We=!ie;ie||(ie={});for(var st=-1,dt=Z.length;++st<dt;){var ht=Z[st],cn=me?me(ie[ht],Q[ht],ht,ie,Q):void 0;cn===void 0&&(cn=Q[ht]),We?qs(ie,ht,cn):Tc(ie,ht,cn)}return ie},si=function(Q,Z){for(var ie=-1,me=Array(Q);++ie<Q;)me[ie]=Z(ie);return me},Dc=function(Q){return ee(Q)&&Y(Q)=="[object Arguments]"};var Ic=Object.prototype,Bd=Ic.hasOwnProperty,Fd=Ic.propertyIsEnumerable;const zd=Dc(function(){return arguments}())?Dc:function(Q){return ee(Q)&&Bd.call(Q,"callee")&&!Fd.call(Q,"callee")},go=Array.isArray,jd=function(){return!1};var Mc=t&&!t.nodeType&&t,jn=Mc&&!0&&n&&!n.nodeType&&n,mo=jn&&jn.exports===Mc?O.Buffer:void 0;const vo=(mo?mo.isBuffer:void 0)||jd;var Vd=/^(?:0|[1-9]\d*)$/;const Ud=function(Q,Z){var ie=typeof Q;return!!(Z=Z??9007199254740991)&&(ie=="number"||ie!="symbol"&&Vd.test(Q))&&Q>-1&&Q%1==0&&Q<Z},Lc=function(Q){return typeof Q=="number"&&Q>-1&&Q%1==0&&Q<=9007199254740991};var Ft={};Ft["[object Float32Array]"]=Ft["[object Float64Array]"]=Ft["[object Int8Array]"]=Ft["[object Int16Array]"]=Ft["[object Int32Array]"]=Ft["[object Uint8Array]"]=Ft["[object Uint8ClampedArray]"]=Ft["[object Uint16Array]"]=Ft["[object Uint32Array]"]=!0,Ft["[object Arguments]"]=Ft["[object Array]"]=Ft["[object ArrayBuffer]"]=Ft["[object Boolean]"]=Ft["[object DataView]"]=Ft["[object Date]"]=Ft["[object Error]"]=Ft["[object Function]"]=Ft["[object Map]"]=Ft["[object Number]"]=Ft["[object Object]"]=Ft["[object RegExp]"]=Ft["[object Set]"]=Ft["[object String]"]=Ft["[object WeakMap]"]=!1;const Ys=function(Q){return ee(Q)&&Lc(Q.length)&&!!Ft[Y(Q)]},ul=function(Q){return function(Z){return Q(Z)}};var wo=t&&!t.nodeType&&t,Fi=wo&&!0&&n&&!n.nodeType&&n,ls=Fi&&Fi.exports===wo&&x.process;const ko=function(){try{var Q=Fi&&Fi.require&&Fi.require("util").types;return Q||ls&&ls.binding&&ls.binding("util")}catch{}}();var Rc=ko&&ko.isTypedArray;const Zs=Rc?ul(Rc):Ys;var Hd=Object.prototype.hasOwnProperty;const dl=function(Q,Z){var ie=go(Q),me=!ie&&zd(Q),We=!ie&&!me&&vo(Q),st=!ie&&!me&&!We&&Zs(Q),dt=ie||me||We||st,ht=dt?si(Q.length,String):[],cn=ht.length;for(var rn in Q)!Z&&!Hd.call(Q,rn)||dt&&(rn=="length"||We&&(rn=="offset"||rn=="parent")||st&&(rn=="buffer"||rn=="byteLength"||rn=="byteOffset")||Ud(rn,cn))||ht.push(rn);return ht};var Wd=Object.prototype;const hl=function(Q){var Z=Q&&Q.constructor;return Q===(typeof Z=="function"&&Z.prototype||Wd)},_r=function(Q,Z){return function(ie){return Q(Z(ie))}},jr=_r(Object.keys,Object);var bo=Object.prototype.hasOwnProperty;const yo=function(Q){if(!hl(Q))return jr(Q);var Z=[];for(var ie in Object(Q))bo.call(Q,ie)&&ie!="constructor"&&Z.push(ie);return Z},Ao=function(Q){return Q!=null&&Lc(Q.length)&&!Oe(Q)},Qi=function(Q){return Ao(Q)?dl(Q):yo(Q)},Js=function(Q,Z){return Q&&Qs(Z,Qi(Z),Q)},fl=function(Q){var Z=[];if(Q!=null)for(var ie in Object(Q))Z.push(ie);return Z};var Gd=Object.prototype.hasOwnProperty;const pl=function(Q){if(!E(Q))return fl(Q);var Z=hl(Q),ie=[];for(var me in Q)(me!="constructor"||!Z&&Gd.call(Q,me))&&ie.push(me);return ie},Cr=function(Q){return Ao(Q)?dl(Q,!0):pl(Q)},Vr=function(Q,Z){return Q&&Qs(Z,Cr(Z),Q)};var Xs=t&&!t.nodeType&&t,gl=Xs&&!0&&n&&!n.nodeType&&n,cs=gl&&gl.exports===Xs?O.Buffer:void 0,Nc=cs?cs.allocUnsafe:void 0;const us=function(Q,Z){if(Z)return Q.slice();var ie=Q.length,me=Nc?Nc(ie):new Q.constructor(ie);return Q.copy(me),me},Kd=function(Q,Z){var ie=-1,me=Q.length;for(Z||(Z=Array(me));++ie<me;)Z[ie]=Q[ie];return Z},ml=function(Q,Z){for(var ie=-1,me=Q==null?0:Q.length,We=0,st=[];++ie<me;){var dt=Q[ie];Z(dt,ie,Q)&&(st[We++]=dt)}return st},ea=function(){return[]};var vl=Object.prototype.propertyIsEnumerable,Yi=Object.getOwnPropertySymbols;const ta=Yi?function(Q){return Q==null?[]:(Q=Object(Q),ml(Yi(Q),function(Z){return vl.call(Q,Z)}))}:ea,wl=function(Q,Z){return Qs(Q,ta(Q),Z)},kl=function(Q,Z){for(var ie=-1,me=Z.length,We=Q.length;++ie<me;)Q[We+ie]=Z[ie];return Q},Ot=_r(Object.getPrototypeOf,Object),te=Object.getOwnPropertySymbols?function(Q){for(var Z=[];Q;)kl(Z,ta(Q)),Q=Ot(Q);return Z}:ea,he=function(Q,Z){return Qs(Q,te(Q),Z)},_e=function(Q,Z,ie){var me=Z(Q);return go(Q)?me:kl(me,ie(Q))},ze=function(Q){return _e(Q,Qi,ta)},Pt=function(Q){return _e(Q,Cr,te)},Je=kn(O,"DataView"),zt=kn(O,"Promise"),en=kn(O,"Set"),fn=kn(O,"WeakMap");var jt="[object Map]",Qn="[object Promise]",Yn="[object Set]",Sn="[object WeakMap]",ai="[object DataView]",bi=kt(Je),zi=kt(ki),ji=kt(zt),Ur=kt(en),Oc=kt(fn),Zi=Y;(Je&&Zi(new Je(new ArrayBuffer(1)))!=ai||ki&&Zi(new ki)!=jt||zt&&Zi(zt.resolve())!=Qn||en&&Zi(new en)!=Yn||fn&&Zi(new fn)!=Sn)&&(Zi=function(Q){var Z=Y(Q),ie=Z=="[object Object]"?Q.constructor:void 0,me=ie?kt(ie):"";if(me)switch(me){case bi:return ai;case zi:return jt;case ji:return Qn;case Ur:return Yn;case Oc:return Sn}return Z});const _o=Zi;var na=Object.prototype.hasOwnProperty;const sk=function(Q){var Z=Q.length,ie=new Q.constructor(Z);return Z&&typeof Q[0]=="string"&&na.call(Q,"index")&&(ie.index=Q.index,ie.input=Q.input),ie},qd=O.Uint8Array,Pc=function(Q){var Z=new Q.constructor(Q.byteLength);return new qd(Z).set(new qd(Q)),Z},Tp=function(Q,Z){var ie=Z?Pc(Q.buffer):Q.buffer;return new Q.constructor(ie,Q.byteOffset,Q.byteLength)};var Dp=/\w*$/;const Ip=function(Q){var Z=new Q.constructor(Q.source,Dp.exec(Q));return Z.lastIndex=Q.lastIndex,Z};var Qd=P?P.prototype:void 0,Mp=Qd?Qd.valueOf:void 0;const Lp=function(Q){return Mp?Object(Mp.call(Q)):{}},ak=function(Q,Z){var ie=Z?Pc(Q.buffer):Q.buffer;return new Q.constructor(ie,Q.byteOffset,Q.length)},Rp=function(Q,Z,ie){var me=Q.constructor;switch(Z){case"[object ArrayBuffer]":return Pc(Q);case"[object Boolean]":case"[object Date]":return new me(+Q);case"[object DataView]":return Tp(Q,ie);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ak(Q,ie);case"[object Map]":case"[object Set]":return new me;case"[object Number]":case"[object String]":return new me(Q);case"[object RegExp]":return Ip(Q);case"[object Symbol]":return Lp(Q)}};var $c=Object.create;const lk=function(){function Q(){}return function(Z){if(!E(Z))return{};if($c)return $c(Z);Q.prototype=Z;var ie=new Q;return Q.prototype=void 0,ie}}(),Np=function(Q){return typeof Q.constructor!="function"||hl(Q)?{}:lk(Ot(Q))},Op=function(Q){return ee(Q)&&_o(Q)=="[object Map]"};var Pp=ko&&ko.isMap;const $p=Pp?ul(Pp):Op,Yd=function(Q){return ee(Q)&&_o(Q)=="[object Set]"};var Bp=ko&&ko.isSet;const Zd=Bp?ul(Bp):Yd;var Bc="[object Arguments]",Fc="[object Function]",zc="[object Object]",Vt={};Vt[Bc]=Vt["[object Array]"]=Vt["[object ArrayBuffer]"]=Vt["[object DataView]"]=Vt["[object Boolean]"]=Vt["[object Date]"]=Vt["[object Float32Array]"]=Vt["[object Float64Array]"]=Vt["[object Int8Array]"]=Vt["[object Int16Array]"]=Vt["[object Int32Array]"]=Vt["[object Map]"]=Vt["[object Number]"]=Vt[zc]=Vt["[object RegExp]"]=Vt["[object Set]"]=Vt["[object String]"]=Vt["[object Symbol]"]=Vt["[object Uint8Array]"]=Vt["[object Uint8ClampedArray]"]=Vt["[object Uint16Array]"]=Vt["[object Uint32Array]"]=!0,Vt["[object Error]"]=Vt[Fc]=Vt["[object WeakMap]"]=!1;const Fp=function Q(Z,ie,me,We,st,dt){var ht,cn=1&ie,rn=2&ie,Vc=4&ie;if(me&&(ht=st?me(Z,We,st,dt):me(Z)),ht!==void 0)return ht;if(!E(Z))return Z;var Eo=go(Z);if(Eo){if(ht=sk(Z),!cn)return Kd(Z,ht)}else{var Er=_o(Z),ds=Er==Fc||Er=="[object GeneratorFunction]";if(vo(Z))return us(Z,cn);if(Er==zc||Er==Bc||ds&&!st){if(ht=rn||ds?{}:Np(Z),!cn)return rn?he(Z,Vr(ht,Z)):wl(Z,Js(ht,Z))}else{if(!Vt[Er])return st?Z:{};ht=Rp(Z,Er,cn)}}dt||(dt=new $d);var ra=dt.get(Z);if(ra)return ra;dt.set(Z,ht),Zd(Z)?Z.forEach(function(gt){ht.add(Q(gt,ie,me,gt,Z,dt))}):$p(Z)&&Z.forEach(function(gt,Ji){ht.set(Ji,Q(gt,ie,me,Ji,Z,dt))});var So=Eo?void 0:(Vc?rn?Pt:ze:rn?Cr:Qi)(Z);return cr(So||Z,function(gt,Ji){So&&(gt=Z[Ji=gt]),Tc(ht,Ji,Q(gt,ie,me,Ji,Z,dt))}),ht},zp=function(Q,Z){return Fp(Q,5,Z=typeof Z=="function"?Z:void 0)};var jp=Function.prototype,Vp=Object.prototype,Up=jp.toString,ck=Vp.hasOwnProperty,uk=Up.call(Object);const dk=function(Q){if(!ee(Q)||Y(Q)!="[object Object]")return!1;var Z=Ot(Q);if(Z===null)return!0;var ie=ck.call(Z,"constructor")&&Z.constructor;return typeof ie=="function"&&ie instanceof ie&&Up.call(ie)==uk},hk=function(Q){return ee(Q)&&Q.nodeType===1&&!dk(Q)};class Co extends g{constructor(Z,ie={}){super(ie),this._editor=null,this._throttledSave=xe(this._save.bind(this),typeof ie.saveInterval=="number"?ie.saveInterval:5e3),Z&&(this._creator=(me,We)=>Z.create(me,We)),this._destructor=me=>me.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(Z){this._creator=Z}setDestructor(Z){this._destructor=Z}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(Z=>{console.error("An error happened during the editor destroying.",Z)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const Z=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,Z,Z.context)}}).then(()=>{this._fire("restart")})}create(Z=this._elementOrData,ie=this._config,me){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=Z,this._config=this._cloneEditorConfiguration(ie)||{},this._config.context=me,this._creator(Z,this._config))).then(We=>{this._editor=We,We.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=We.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const Z=this._editor;return this._editor=null,Z.model.document.off("change:data",this._throttledSave),this._destructor(Z)})}_save(){const Z=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=Z}catch(ie){console.error(ie,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(Z){this._excludedProps=Z}_getData(){const Z={};for(const ie of this._editor.model.document.getRootNames())Z[ie]=this._editor.data.get({rootName:ie});return Z}_isErrorComingFromThisItem(Z){return _(this._editor,Z.context,this._excludedProps)}_cloneEditorConfiguration(Z){return zp(Z,(ie,me)=>hk(ie)||me==="context"?ie:void 0)}}const Hr=Symbol("MainQueueId");class Hp extends g{constructor(Z,ie={}){super(ie),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new fk,this._watchdogConfig=ie,this._creator=me=>Z.create(me),this._destructor=me=>me.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(Z){this._creator=Z}setDestructor(Z){this._destructor=Z}get context(){return this._context}create(Z={}){return this._actionQueues.enqueue(Hr,()=>(this._contextConfig=Z,this._create()))}getItem(Z){return this._getWatchdog(Z)._item}getItemState(Z){return this._getWatchdog(Z).state}add(Z){const ie=bl(Z);return Promise.all(ie.map(me=>this._actionQueues.enqueue(me.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let We;if(this._watchdogs.has(me.id))throw new Error(`Item with the given id is already added: '${me.id}'.`);if(me.type==="editor")return We=new Co(null,this._watchdogConfig),We.setCreator(me.creator),We._setExcludedProperties(this._contextProps),me.destructor&&We.setDestructor(me.destructor),this._watchdogs.set(me.id,We),We.on("error",(st,{error:dt,causesRestart:ht})=>{this._fire("itemError",{itemId:me.id,error:dt}),ht&&this._actionQueues.enqueue(me.id,()=>new Promise(cn=>{const rn=()=>{We.off("restart",rn),this._fire("itemRestart",{itemId:me.id}),cn()};We.on("restart",rn)}))}),We.create(me.sourceElementOrData,me.config,this._context);throw new Error(`Not supported item type: '${me.type}'.`)})))}remove(Z){const ie=bl(Z);return Promise.all(ie.map(me=>this._actionQueues.enqueue(me,()=>{const We=this._getWatchdog(me);return this._watchdogs.delete(me),We.destroy()})))}destroy(){return this._actionQueues.enqueue(Hr,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Hr,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(Z=>{console.error("An error happened during destroying the context or items.",Z)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(Z=>(this._context=Z,this._contextProps=k(this._context),Promise.all(Array.from(this._watchdogs.values()).map(ie=>(ie._setExcludedProperties(this._contextProps),ie.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const Z=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(ie=>ie.destroy())).then(()=>this._destructor(Z))})}_getWatchdog(Z){const ie=this._watchdogs.get(Z);if(!ie)throw new Error(`Item with the given id was not registered: ${Z}.`);return ie}_isErrorComingFromThisItem(Z){for(const ie of this._watchdogs.values())if(ie._isErrorComingFromThisItem(Z))return!1;return _(this._context,Z.context)}}class fk{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(Z){this._onEmptyCallbacks.push(Z)}enqueue(Z,ie){const me=Z===Hr;this._activeActions++,this._queues.get(Z)||this._queues.set(Z,Promise.resolve());const We=(me?Promise.all(this._queues.values()):Promise.all([this._queues.get(Hr),this._queues.get(Z)])).then(ie),st=We.catch(()=>{});return this._queues.set(Z,st),We.finally(()=>{this._activeActions--,this._queues.get(Z)===st&&this._activeActions===0&&this._onEmptyCallbacks.forEach(dt=>dt())})}}function bl(Q){return Array.isArray(Q)?Q:[Q]}const jc=f().createContext("contextWatchdog");class Jd extends f().Component{constructor(Z,ie){super(Z,ie),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(Z){return this._shouldComponentUpdate(Z)}async _shouldComponentUpdate(Z){return Z.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(Z.config)),Z.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(Z.config),!0):this.props.children!==Z.children}render(){return f().createElement(jc.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(Z){this.contextWatchdog=new Hp(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(ie,me)=>{this.props.onError(me.error,{phase:"runtime",willContextRestart:me.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(Z).catch(ie=>{this.props.onError(ie,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Jd.defaultProps={isLayoutReady:!0,onError:(Q,Z)=>console.error(Q,Z)},Jd.propTypes={id:p().string,isLayoutReady:p().bool,context:p().func,watchdogConfig:p().object,config:p().object,onReady:p().func,onError:p().func};const Xd="Lock from React integration (@ckeditor/ckeditor5-react)";class ia extends f().Component{constructor(Z){super(Z),this.editorDestructionInProgress=null,this.domContainer=f().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:ie}=window;if(ie){const[me]=ie.split(".").map(Number);me<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(Z){return!!this.editor&&(Z.id!==this.props.id||(this._shouldUpdateEditor(Z)&&this.editor.data.set(Z.data),"disabled"in Z&&(Z.disabled?this.editor.enableReadOnlyMode(Xd):this.editor.disableReadOnlyMode(Xd)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return f().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.watchdog||(this.context instanceof Hp?this.watchdog=new Wp(this.context):this.watchdog=new ia._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((Z,ie)=>this._createEditor(Z,ie)),this.watchdog.on("error",(Z,{error:ie,causesRestart:me})=>{(this.props.onError||console.error)(ie,{phase:"runtime",willEditorRestart:me})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(Z=>{(this.props.onError||console.error)(Z,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(Z,ie){return this.props.editor.create(Z,ie).then(me=>{"disabled"in this.props&&this.props.disabled&&me.enableReadOnlyMode(Xd);const We=me.model.document,st=me.editing.view.document;return We.on("change:data",dt=>{this.props.onChange&&this.props.onChange(dt,me)}),st.on("focus",dt=>{this.props.onFocus&&this.props.onFocus(dt,me)}),st.on("blur",dt=>{this.props.onBlur&&this.props.onBlur(dt,me)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(me)}),me})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(Z=>{setTimeout(()=>{this.watchdog?this.watchdog.destroy().then(()=>{this.watchdog=null,Z()}):Z()})})}_shouldUpdateEditor(Z){return this.props.data!==Z.data&&this.editor.data.get()!==Z.data}_getConfig(){const Z=this.props.config||{};return this.props.data&&Z.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...Z,initialData:Z.initialData||this.props.data||""}}}ia.contextType=jc,ia.propTypes={editor:p().func.isRequired,data:p().string,config:p().object,watchdogConfig:p().object,onChange:p().func,onReady:p().func,onFocus:p().func,onBlur:p().func,onError:p().func,disabled:p().bool,id:p().any},ia._EditorWatchdog=Co;class Wp{constructor(Z){this._contextWatchdog=Z,this._id=function(){const ie=4294967296*Math.random()>>>0,me=4294967296*Math.random()>>>0,We=4294967296*Math.random()>>>0,st=4294967296*Math.random()>>>0;return"e"+v[ie>>0&255]+v[ie>>8&255]+v[ie>>16&255]+v[ie>>24&255]+v[me>>0&255]+v[me>>8&255]+v[me>>16&255]+v[me>>24&255]+v[We>>0&255]+v[We>>8&255]+v[We>>16&255]+v[We>>24&255]+v[st>>0&255]+v[st>>8&255]+v[st>>16&255]+v[st>>24&255]}()}setCreator(Z){this._creator=Z}create(Z,ie){return this._contextWatchdog.add({sourceElementOrData:Z,config:ie,creator:this._creator,id:this._id,type:"editor"})}on(Z,ie){this._contextWatchdog.on("itemError",(me,{itemId:We,error:st})=>{We===this._id&&ie(null,{error:st,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),h})())})(Hv,Hv.exports);var Nte=Hv.exports,Wv={exports:{}};Wv.exports;(function(n,t){(function(i){const o=i.en=i.en||{};o.dictionary=Object.assign(o.dictionary||{},{"%0 of %1":"%0 of %1","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(i,o){n.exports=o()}(self,()=>(()=>{var i={8603:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const k=g},3062:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const k=g},903:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	// Horizontal drop target (between blocks).
	& .ck.ck-clipboard-drop-target-position {
		display: block;
		position: relative;
		width: 100%;
		height: 0;
		margin: 0;
		text-align: initial;

		& .ck-clipboard-drop-target__line {
			position: absolute;
			width: 100%;
			height: 0;
			border: 1px solid var(--ck-clipboard-drop-target-color);
			margin-top: -1px;

			&::before {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
				border-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));
				border-style: solid;
			}

			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				right: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
				border-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;
				border-style: solid;
			}
		}
	}
	*/

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}
`],sourceRoot:""}]);const k=g},3143:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=g},4717:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const k=g},9315:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const k=g},8733:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const k=g},3508:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const k=g},2640:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const k=g},3535:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const k=g},1568:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const k=g},6270:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const k=g},5083:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const k=g},4036:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const k=g},3773:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const k=g},3689:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const k=g},1905:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=g},9773:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const k=g},2347:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const k=g},7754:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const k=g},111:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const k=g},4721:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const k=g},5730:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const k=g},4564:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const k=g},6082:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const k=g},2417:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const k=g},1199:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const k=g},4652:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const k=g},7442:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const k=g},9292:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=g},7368:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=g},4070:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const k=g},9247:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const k=g},1613:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const k=g},6306:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const k=g},2128:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,":root{--ck-color-table-caption-background:#f7f7f7;--ck-color-table-caption-text:#333;--ck-color-table-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-table-caption-background);caption-side:top;color:var(--ck-color-table-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-table-caption-highlighted-background)}to{background-color:var(--ck-color-table-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAMC,yDAA0D,CAJ1D,gBAAiB,CAGjB,wCAAyC,CAJzC,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-caption-background: hsl(0, 0%, 97%);
	--ck-color-table-caption-text: hsl(0, 0%, 20%);
	--ck-color-table-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-table-caption-text);
	background-color: var(--ck-color-table-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-table-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-table-caption-background);
	}
}
`],sourceRoot:""}]);const k=g},5087:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const k=g},4101:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,":root{--ck-color-table-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-table-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,iEAAkE,CAClE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAEC,iBACD,CAEA,wDAOC,gBAAiB,CAGjB,iBAAkB,CATlB,iBAAkB,CAOlB,oDAAqD,CAFrD,aAAc,CAKd,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,2DAA4D,CAC5D,WACD,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-table-column-resizer-hover);
	opacity: 0.25;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const k=g},3881:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-table-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const k=g},6237:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=g},7341:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const k=g},6945:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const k=g},4906:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=g},5332:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=g},6781:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-table__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const k=g},5485:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;
			
			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=g},3949:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=g},7686:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=g},7339:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const k=g},9688:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-base-foreground);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-base-foreground);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=g},8847:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const k=g},6574:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const k=g},4879:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=g},3662:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const k=g},2577:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=g},1046:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=g},8793:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=g},4650:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const k=g},7676:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=g},5868:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=g},6764:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const k=g},9695:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const k=g},5542:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=g},3332:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const k=g},4793:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const k=g},3488:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=g},8506:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const k=g},4921:(h,b,f)=>{f.d(b,{Z:()=>k});var w=f(1799),p=f.n(w),v=f(2609),g=f.n(v)()(p());g.push([h.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const k=g},2609:h=>{h.exports=function(b){var f=[];return f.toString=function(){return this.map(function(w){var p=b(w);return w[2]?"@media ".concat(w[2]," {").concat(p,"}"):p}).join("")},f.i=function(w,p,v){typeof w=="string"&&(w=[[null,w,""]]);var g={};if(v)for(var k=0;k<this.length;k++){var A=this[k][0];A!=null&&(g[A]=!0)}for(var _=0;_<w.length;_++){var E=[].concat(w[_]);v&&g[E[0]]||(p&&(E[2]?E[2]="".concat(p," and ").concat(E[2]):E[2]=p),f.push(E))}},f}},1799:h=>{function b(w,p){return function(v){if(Array.isArray(v))return v}(w)||function(v,g){var k=v&&(typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"]);if(k!=null){var A,_,E=[],x=!0,D=!1;try{for(k=k.call(v);!(x=(A=k.next()).done)&&(E.push(A.value),!g||E.length!==g);x=!0);}catch(O){D=!0,_=O}finally{try{x||k.return==null||k.return()}finally{if(D)throw _}}return E}}(w,p)||function(v,g){if(v){if(typeof v=="string")return f(v,g);var k=Object.prototype.toString.call(v).slice(8,-1);if(k==="Object"&&v.constructor&&(k=v.constructor.name),k==="Map"||k==="Set")return Array.from(v);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return f(v,g)}}(w,p)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(w,p){(p==null||p>w.length)&&(p=w.length);for(var v=0,g=new Array(p);v<p;v++)g[v]=w[v];return g}h.exports=function(w){var p=b(w,4),v=p[1],g=p[3];if(!g)return v;if(typeof btoa=="function"){var k=btoa(unescape(encodeURIComponent(JSON.stringify(g)))),A="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(k),_="/*# ".concat(A," */"),E=g.sources.map(function(x){return"/*# sourceURL=".concat(g.sourceRoot||"").concat(x," */")});return[v].concat(E).concat([_]).join(`
`)}return[v].join(`
`)}},6062:(h,b,f)=>{var w,p=function(){return w===void 0&&(w=!!(window&&document&&document.all&&!window.atob)),w},v=function(){var j={};return function(N){if(j[N]===void 0){var P=document.querySelector(N);if(window.HTMLIFrameElement&&P instanceof window.HTMLIFrameElement)try{P=P.contentDocument.head}catch{P=null}j[N]=P}return j[N]}}(),g=[];function k(j){for(var N=-1,P=0;P<g.length;P++)if(g[P].identifier===j){N=P;break}return N}function A(j,N){for(var P={},F=[],T=0;T<j.length;T++){var L=j[T],z=N.base?L[0]+N.base:L[0],V=P[z]||0,H="".concat(z," ").concat(V);P[z]=V+1;var G=k(H),J={css:L[1],media:L[2],sourceMap:L[3]};G!==-1?(g[G].references++,g[G].updater(J)):g.push({identifier:H,updater:R(J,N),references:1}),F.push(H)}return F}function _(j){var N=document.createElement("style"),P=j.attributes||{};if(P.nonce===void 0){var F=f.nc;F&&(P.nonce=F)}if(Object.keys(P).forEach(function(L){N.setAttribute(L,P[L])}),typeof j.insert=="function")j.insert(N);else{var T=v(j.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(N)}return N}var E,x=(E=[],function(j,N){return E[j]=N,E.filter(Boolean).join(`
`)});function D(j,N,P,F){var T=P?"":F.media?"@media ".concat(F.media," {").concat(F.css,"}"):F.css;if(j.styleSheet)j.styleSheet.cssText=x(N,T);else{var L=document.createTextNode(T),z=j.childNodes;z[N]&&j.removeChild(z[N]),z.length?j.insertBefore(L,z[N]):j.appendChild(L)}}function O(j,N,P){var F=P.css,T=P.media,L=P.sourceMap;if(T?j.setAttribute("media",T):j.removeAttribute("media"),L&&typeof btoa<"u"&&(F+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(L))))," */")),j.styleSheet)j.styleSheet.cssText=F;else{for(;j.firstChild;)j.removeChild(j.firstChild);j.appendChild(document.createTextNode(F))}}var B=null,I=0;function R(j,N){var P,F,T;if(N.singleton){var L=I++;P=B||(B=_(N)),F=D.bind(null,P,L,!1),T=D.bind(null,P,L,!0)}else P=_(N),F=O.bind(null,P,N),T=function(){(function(z){if(z.parentNode===null)return!1;z.parentNode.removeChild(z)})(P)};return F(j),function(z){if(z){if(z.css===j.css&&z.media===j.media&&z.sourceMap===j.sourceMap)return;F(j=z)}else T()}}h.exports=function(j,N){(N=N||{}).singleton||typeof N.singleton=="boolean"||(N.singleton=p());var P=A(j=j||[],N);return function(F){if(F=F||[],Object.prototype.toString.call(F)==="[object Array]"){for(var T=0;T<P.length;T++){var L=k(P[T]);g[L].references--}for(var z=A(F,N),V=0;V<P.length;V++){var H=k(P[V]);g[H].references===0&&(g[H].updater(),g.splice(H,1))}P=z}}}}},o={};function c(h){var b=o[h];if(b!==void 0)return b.exports;var f=o[h]={id:h,exports:{}};return i[h](f,f.exports,c),f.exports}c.n=h=>{var b=h&&h.__esModule?()=>h.default:()=>h;return c.d(b,{a:b}),b},c.d=(h,b)=>{for(var f in b)c.o(b,f)&&!c.o(h,f)&&Object.defineProperty(h,f,{enumerable:!0,get:b[f]})},c.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),c.o=(h,b)=>Object.prototype.hasOwnProperty.call(h,b),c.nc=void 0;var u={};return(()=>{function h({emitter:a,activator:e,callback:r,contextElements:s}){a.listenTo(document,"mousedown",(l,d)=>{if(!e())return;const m=typeof d.composedPath=="function"?d.composedPath():[],y=typeof s=="function"?s():s;for(const C of y)if(C.contains(d.target)||m.includes(C))return;r()})}function b(a){return class extends a{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function f({view:a}){a.listenTo(a.element,"submit",(e,r)=>{r.preventDefault(),a.fire("submit")},{useCapture:!0})}c.d(u,{default:()=>ey});const w=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var p;const v={isMac:g(w),isWindows:(p=w,p.indexOf("windows")>-1),isGecko:function(a){return!!a.match(/gecko\/\d+/)}(w),isSafari:function(a){return a.indexOf(" applewebkit/")>-1&&a.indexOf("chrome")===-1}(w),isiOS:function(a){return!!a.match(/iphone|ipad/i)||g(a)&&navigator.maxTouchPoints>0}(w),isAndroid:function(a){return a.indexOf("android")>-1}(w),isBlink:function(a){return a.indexOf("chrome/")>-1&&a.indexOf("edge/")<0}(w),features:{isRegExpUnicodePropertySupported:function(){let a=!1;try{a="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return a}()}};function g(a){return a.indexOf("macintosh")>-1}function k(a,e,r,s){r=r||function(C,S){return C===S};const l=Array.isArray(a)?a:Array.prototype.slice.call(a),d=Array.isArray(e)?e:Array.prototype.slice.call(e),m=function(C,S,M){const $=A(C,S,M);if($===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const U=_(C,$),W=_(S,$),K=A(U,W,M),q=C.length-K,X=S.length-K;return{firstIndex:$,lastIndexOld:q,lastIndexNew:X}}(l,d,r);return s?function(C,S){const{firstIndex:M,lastIndexOld:$,lastIndexNew:U}=C;if(M===-1)return Array(S).fill("equal");let W=[];return M>0&&(W=W.concat(Array(M).fill("equal"))),U-M>0&&(W=W.concat(Array(U-M).fill("insert"))),$-M>0&&(W=W.concat(Array($-M).fill("delete"))),U<S&&(W=W.concat(Array(S-U).fill("equal"))),W}(m,d.length):function(C,S){const M=[],{firstIndex:$,lastIndexOld:U,lastIndexNew:W}=S;return W-$>0&&M.push({index:$,type:"insert",values:C.slice($,W)}),U-$>0&&M.push({index:$+(W-$),type:"delete",howMany:U-$}),M}(d,m)}function A(a,e,r){for(let s=0;s<Math.max(a.length,e.length);s++)if(a[s]===void 0||e[s]===void 0||!r(a[s],e[s]))return s;return-1}function _(a,e){return a.slice(e).reverse()}function E(a,e,r){r=r||function(q,X){return q===X};const s=a.length,l=e.length;if(s>200||l>200||s+l>300)return E.fastDiff(a,e,r,!0);let d,m;if(l<s){const q=a;a=e,e=q,d="delete",m="insert"}else d="insert",m="delete";const y=a.length,C=e.length,S=C-y,M={},$={};function U(q){const X=($[q-1]!==void 0?$[q-1]:-1)+1,ne=$[q+1]!==void 0?$[q+1]:-1,de=X>ne?-1:1;M[q+de]&&(M[q]=M[q+de].slice(0)),M[q]||(M[q]=[]),M[q].push(X>ne?d:m);let be=Math.max(X,ne),Pe=be-q;for(;Pe<y&&be<C&&r(a[Pe],e[be]);)Pe++,be++,M[q].push("equal");return be}let W,K=0;do{for(W=-K;W<S;W++)$[W]=U(W);for(W=S+K;W>S;W--)$[W]=U(W);$[S]=U(S),K++}while($[S]!==C);return M[S].slice(1)}E.fastDiff=k;const x=function(){return function a(){a.called=!0}};class D{constructor(e,r){this.source=e,this.name=r,this.path=[],this.stop=x(),this.off=x()}}const O=new Array(256).fill("").map((a,e)=>("0"+e.toString(16)).slice(-2));function B(){const a=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0;return"e"+O[a>>0&255]+O[a>>8&255]+O[a>>16&255]+O[a>>24&255]+O[e>>0&255]+O[e>>8&255]+O[e>>16&255]+O[e>>24&255]+O[r>>0&255]+O[r>>8&255]+O[r>>16&255]+O[r>>24&255]+O[s>>0&255]+O[s>>8&255]+O[s>>16&255]+O[s>>24&255]}const I={get(a="normal"){return typeof a!="number"?this[a]||this.normal:a},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function R(a,e){const r=I.get(e.priority);for(let s=0;s<a.length;s++)if(I.get(a[s].priority)<r)return void a.splice(s,0,e);a.push(e)}const j="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class N extends Error{constructor(e,r,s){super(function(l,d){const m=new WeakSet,y=(M,$)=>{if(typeof $=="object"&&$!==null){if(m.has($))return`[object ${$.constructor.name}]`;m.add($)}return $},C=d?` ${JSON.stringify(d,y)}`:"",S=T(l);return l+C+S}(e,s)),this.name="CKEditorError",this.context=r,this.data=s}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,r){if(e.is&&e.is("CKEditorError"))throw e;const s=new N(e.message,r);throw s.stack=e.stack,s}}function P(a,e){console.warn(...L(a,e))}function F(a,e){console.error(...L(a,e))}function T(a){return`
Read more: ${j}#error-${a}`}function L(a,e){const r=T(a);return e?[a,e,r]:[a,r]}const z="37.1.0",V=typeof window=="object"?window:c.g;if(V.CKEDITOR_VERSION)throw new N("ckeditor-duplicated-modules",null);V.CKEDITOR_VERSION=z;const H=Symbol("listeningTo"),G=Symbol("emitterId"),J=Symbol("delegations"),Y=ee(Object);function ee(a){return a?class extends a{on(e,r,s){this.listenTo(this,e,r,s)}once(e,r,s){let l=!1;this.listenTo(this,e,(d,...m)=>{l||(l=!0,d.off(),r.call(this,d,...m))},s)}off(e,r){this.stopListening(this,e,r)}listenTo(e,r,s,l={}){let d,m;this[H]||(this[H]={});const y=this[H];oe(e)||re(e);const C=oe(e);(d=y[C])||(d=y[C]={emitter:e,callbacks:{}}),(m=d.callbacks[r])||(m=d.callbacks[r]=[]),m.push(s),function(S,M,$,U,W){M._addEventListener?M._addEventListener($,U,W):S._addEventListener.call(M,$,U,W)}(this,e,r,s,l)}stopListening(e,r,s){const l=this[H];let d=e&&oe(e);const m=l&&d?l[d]:void 0,y=m&&r?m.callbacks[r]:void 0;if(!(!l||e&&!m||r&&!y))if(s)ge(this,e,r,s),y.indexOf(s)!==-1&&(y.length===1?delete m.callbacks[r]:ge(this,e,r,s));else if(y){for(;s=y.pop();)ge(this,e,r,s);delete m.callbacks[r]}else if(m){for(r in m.callbacks)this.stopListening(e,r);delete l[d]}else{for(d in l)this.stopListening(l[d].emitter);delete this[H]}}fire(e,...r){try{const s=e instanceof D?e:new D(this,e),l=s.name;let d=ce(this,l);if(s.path.push(this),d){const y=[s,...r];d=Array.from(d);for(let C=0;C<d.length&&(d[C].callback.apply(this,y),s.off.called&&(delete s.off.called,this._removeEventListener(l,d[C].callback)),!s.stop.called);C++);}const m=this[J];if(m){const y=m.get(l),C=m.get("*");y&&ue(y,s,r),C&&ue(C,s,r)}return s.return}catch(s){N.rethrowUnexpectedError(s,this)}}delegate(...e){return{to:(r,s)=>{this[J]||(this[J]=new Map),e.forEach(l=>{const d=this[J].get(l);d?d.set(r,s):this[J].set(l,new Map([[r,s]]))})}}}stopDelegating(e,r){if(this[J])if(e)if(r){const s=this[J].get(e);s&&s.delete(r)}else this[J].delete(e);else this[J].clear()}_addEventListener(e,r,s){(function(m,y){const C=pe(m);if(C[y])return;let S=y,M=null;const $=[];for(;S!==""&&!C[S];)C[S]={callbacks:[],childEvents:[]},$.push(C[S]),M&&C[S].childEvents.push(M),M=S,S=S.substr(0,S.lastIndexOf(":"));if(S!==""){for(const U of $)U.callbacks=C[S].callbacks.slice();C[S].childEvents.push(M)}})(this,e);const l=le(this,e),d={callback:r,priority:I.get(s.priority)};for(const m of l)R(m,d)}_removeEventListener(e,r){const s=le(this,e);for(const l of s)for(let d=0;d<l.length;d++)l[d].callback==r&&(l.splice(d,1),d--)}}:Y}function re(a,e){a[G]||(a[G]=e||B())}function oe(a){return a[G]}function pe(a){return a._events||Object.defineProperty(a,"_events",{value:{}}),a._events}function le(a,e){const r=pe(a)[e];if(!r)return[];let s=[r.callbacks];for(let l=0;l<r.childEvents.length;l++){const d=le(a,r.childEvents[l]);s=s.concat(d)}return s}function ce(a,e){let r;return a._events&&(r=a._events[e])&&r.callbacks.length?r.callbacks:e.indexOf(":")>-1?ce(a,e.substr(0,e.lastIndexOf(":"))):null}function ue(a,e,r){for(let[s,l]of a){l?typeof l=="function"&&(l=l(e.name)):l=e.name;const d=new D(e.source,l);d.path=[...e.path],s.fire(d,...r)}}function ge(a,e,r,s){e._removeEventListener?e._removeEventListener(r,s):a._removeEventListener.call(e,r,s)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{ee[a]=Y.prototype[a]});const ye=function(a){var e=typeof a;return a!=null&&(e=="object"||e=="function")},Ie=Symbol("observableProperties"),xe=Symbol("boundObservables"),$e=Symbol("boundProperties"),qe=Symbol("decoratedMethods"),wt=Symbol("decoratedOriginal"),Jt=Ye(ee());function Ye(a){return a?class extends a{set(e,r){if(ye(e))return void Object.keys(e).forEach(l=>{this.set(l,e[l])},this);Et(this);const s=this[Ie];if(e in this&&!s.has(e))throw new N("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>s.get(e),set(l){const d=s.get(e);let m=this.fire(`set:${e}`,e,l,d);m===void 0&&(m=l),d===m&&s.has(e)||(s.set(e,m),this.fire(`change:${e}`,e,m,d))}}),this[e]=r}bind(...e){if(!e.length||!ke(e))throw new N("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new N("observable-bind-duplicate-properties",this);Et(this);const r=this[$e];e.forEach(l=>{if(r.has(l))throw new N("observable-bind-rebind",this)});const s=new Map;return e.forEach(l=>{const d={property:l,to:[]};r.set(l,d),s.set(l,d)}),{to:se,toMany:we,_observable:this,_bindProperties:e,_to:[],_bindings:s}}unbind(...e){if(!this[Ie])return;const r=this[$e],s=this[xe];if(e.length){if(!ke(e))throw new N("observable-unbind-wrong-properties",this);e.forEach(l=>{const d=r.get(l);d&&(d.to.forEach(([m,y])=>{const C=s.get(m),S=C[y];S.delete(d),S.size||delete C[y],Object.keys(C).length||(s.delete(m),this.stopListening(m,"change"))}),r.delete(l))})}else s.forEach((l,d)=>{this.stopListening(d,"change")}),s.clear(),r.clear()}decorate(e){Et(this);const r=this[e];if(!r)throw new N("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(s,l)=>{s.return=r.apply(this,l)}),this[e]=function(...s){return this.fire(e,s)},this[e][wt]=r,this[qe]||(this[qe]=[]),this[qe].push(e)}stopListening(e,r,s){if(!e&&this[qe]){for(const l of this[qe])this[l]=this[l][wt];delete this[qe]}super.stopListening(e,r,s)}}:Jt}function Et(a){a[Ie]||(Object.defineProperty(a,Ie,{value:new Map}),Object.defineProperty(a,xe,{value:new Map}),Object.defineProperty(a,$e,{value:new Map}))}function se(...a){const e=function(...d){if(!d.length)throw new N("observable-bind-to-parse-error",null);const m={to:[]};let y;return typeof d[d.length-1]=="function"&&(m.callback=d.pop()),d.forEach(C=>{if(typeof C=="string")y.properties.push(C);else{if(typeof C!="object")throw new N("observable-bind-to-parse-error",null);y={observable:C,properties:[]},m.to.push(y)}}),m}(...a),r=Array.from(this._bindings.keys()),s=r.length;if(!e.callback&&e.to.length>1)throw new N("observable-bind-to-no-callback",this);if(s>1&&e.callback)throw new N("observable-bind-to-extra-callback",this);var l;e.to.forEach(d=>{if(d.properties.length&&d.properties.length!==s)throw new N("observable-bind-to-properties-length",this);d.properties.length||(d.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(r[0]).callback=e.callback),l=this._observable,this._to.forEach(d=>{const m=l[xe];let y;m.get(d.observable)||l.listenTo(d.observable,"change",(C,S)=>{y=m.get(d.observable)[S],y&&y.forEach(M=>{Fe(l,M.property)})})}),function(d){let m;d._bindings.forEach((y,C)=>{d._to.forEach(S=>{m=S.properties[y.callback?0:d._bindProperties.indexOf(C)],y.to.push([S.observable,m]),function(M,$,U,W){const K=M[xe],q=K.get(U),X=q||{};X[W]||(X[W]=new Set),X[W].add($),q||K.set(U,X)}(d._observable,y,S.observable,m)})})}(this),this._bindProperties.forEach(d=>{Fe(this._observable,d)})}function we(a,e,r){if(this._bindings.size>1)throw new N("observable-bind-to-many-not-one-binding",this);this.to(...function(s,l){const d=s.map(m=>[m,l]);return Array.prototype.concat.apply([],d)}(a,e),r)}function ke(a){return a.every(e=>typeof e=="string")}function Fe(a,e){const r=a[$e].get(e);let s;r.callback?s=r.callback.apply(a,r.to.map(l=>l[0][l[1]])):(s=r.to[0],s=s[0][s[1]]),Object.prototype.hasOwnProperty.call(a,e)?a[e]=s:a.set(e,s)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{Ye[a]=Jt.prototype[a]});class Be{constructor(){this._replacedElements=[]}replace(e,r){this._replacedElements.push({element:e,newElement:r}),e.style.display="none",r&&e.parentNode.insertBefore(r,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:r})=>{e.style.display="",r&&r.remove()}),this._replacedElements=[]}}function Me(a){let e=0;for(const r of a)e++;return e}function fe(a,e){const r=Math.min(a.length,e.length);for(let s=0;s<r;s++)if(a[s]!=e[s])return s;return a.length==e.length?"same":a.length<e.length?"prefix":"extension"}function Se(a){return!(!a||!a[Symbol.iterator])}const Oe=typeof Zt=="object"&&Zt&&Zt.Object===Object&&Zt;var nt=typeof self=="object"&&self&&self.Object===Object&&self;const it=Oe||nt||Function("return this")(),ot=it.Symbol;var Dt=Object.prototype,kt=Dt.hasOwnProperty,ut=Dt.toString,pt=ot?ot.toStringTag:void 0;const Ln=function(a){var e=kt.call(a,pt),r=a[pt];try{a[pt]=void 0;var s=!0}catch{}var l=ut.call(a);return s&&(e?a[pt]=r:delete a[pt]),l};var fo=Object.prototype.toString;const rs=function(a){return fo.call(a)};var os=ot?ot.toStringTag:void 0;const lr=function(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":os&&os in Object(a)?Ln(a):rs(a)},Rn=Array.isArray,kn=function(a){return a!=null&&typeof a=="object"},ki=function(a){return typeof a=="string"||!Rn(a)&&kn(a)&&lr(a)=="[object String]"};function Fr(a,e,r={},s=[]){const l=r&&r.xmlns,d=l?a.createElementNS(l,e):a.createElement(e);for(const m in r)d.setAttribute(m,r[m]);!ki(s)&&Se(s)||(s=[s]);for(let m of s)ki(m)&&(m=a.createTextNode(m)),d.appendChild(m);return d}const Cc=function(a,e){return function(r){return a(e(r))}},ol=Cc(Object.getPrototypeOf,Object);var sl=Function.prototype,ss=Object.prototype,Hs=sl.toString,al=ss.hasOwnProperty,ll=Hs.call(Object);const Xt=function(a){if(!kn(a)||lr(a)!="[object Object]")return!1;var e=ol(a);if(e===null)return!0;var r=al.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Hs.call(r)==ll},Ec=function(){this.__data__=[],this.size=0},as=function(a,e){return a===e||a!=a&&e!=e},Ws=function(a,e){for(var r=a.length;r--;)if(as(a[r][0],e))return r;return-1};var Gs=Array.prototype.splice;const Od=function(a){var e=this.__data__,r=Ws(e,a);return!(r<0)&&(r==e.length-1?e.pop():Gs.call(e,r,1),--this.size,!0)},Sc=function(a){var e=this.__data__,r=Ws(e,a);return r<0?void 0:e[r][1]},cl=function(a){return Ws(this.__data__,a)>-1},zr=function(a,e){var r=this.__data__,s=Ws(r,a);return s<0?(++this.size,r.push([a,e])):r[s][1]=e,this};function Bi(a){var e=-1,r=a==null?0:a.length;for(this.clear();++e<r;){var s=a[e];this.set(s[0],s[1])}}Bi.prototype.clear=Ec,Bi.prototype.delete=Od,Bi.prototype.get=Sc,Bi.prototype.has=cl,Bi.prototype.set=zr;const Ks=Bi,Pd=function(){this.__data__=new Ks,this.size=0},po=function(a){var e=this.__data__,r=e.delete(a);return this.size=e.size,r},$d=function(a){return this.__data__.get(a)},cr=function(a){return this.__data__.has(a)},Ar=function(a){if(!ye(a))return!1;var e=lr(a);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},qs=it["__core-js_shared__"];var xc=function(){var a=/[^.]+$/.exec(qs&&qs.keys&&qs.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();const Tc=function(a){return!!xc&&xc in a};var Qs=Function.prototype.toString;const si=function(a){if(a!=null){try{return Qs.call(a)}catch{}try{return a+""}catch{}}return""};var Dc=/^\[object .+?Constructor\]$/,Ic=Function.prototype,Bd=Object.prototype,Fd=Ic.toString,zd=Bd.hasOwnProperty,go=RegExp("^"+Fd.call(zd).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const jd=function(a){return!(!ye(a)||Tc(a))&&(Ar(a)?go:Dc).test(si(a))},Mc=function(a,e){return a==null?void 0:a[e]},jn=function(a,e){var r=Mc(a,e);return jd(r)?r:void 0},mo=jn(it,"Map"),vo=jn(Object,"create"),Vd=function(){this.__data__=vo?vo(null):{},this.size=0},Ud=function(a){var e=this.has(a)&&delete this.__data__[a];return this.size-=e?1:0,e};var Lc=Object.prototype.hasOwnProperty;const Ft=function(a){var e=this.__data__;if(vo){var r=e[a];return r==="__lodash_hash_undefined__"?void 0:r}return Lc.call(e,a)?e[a]:void 0};var Ys=Object.prototype.hasOwnProperty;const ul=function(a){var e=this.__data__;return vo?e[a]!==void 0:Ys.call(e,a)},wo=function(a,e){var r=this.__data__;return this.size+=this.has(a)?0:1,r[a]=vo&&e===void 0?"__lodash_hash_undefined__":e,this};function Fi(a){var e=-1,r=a==null?0:a.length;for(this.clear();++e<r;){var s=a[e];this.set(s[0],s[1])}}Fi.prototype.clear=Vd,Fi.prototype.delete=Ud,Fi.prototype.get=Ft,Fi.prototype.has=ul,Fi.prototype.set=wo;const ls=Fi,ko=function(){this.size=0,this.__data__={hash:new ls,map:new(mo||Ks),string:new ls}},Rc=function(a){var e=typeof a;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?a!=="__proto__":a===null},Zs=function(a,e){var r=a.__data__;return Rc(e)?r[typeof e=="string"?"string":"hash"]:r.map},Hd=function(a){var e=Zs(this,a).delete(a);return this.size-=e?1:0,e},dl=function(a){return Zs(this,a).get(a)},Wd=function(a){return Zs(this,a).has(a)},hl=function(a,e){var r=Zs(this,a),s=r.size;return r.set(a,e),this.size+=r.size==s?0:1,this};function _r(a){var e=-1,r=a==null?0:a.length;for(this.clear();++e<r;){var s=a[e];this.set(s[0],s[1])}}_r.prototype.clear=ko,_r.prototype.delete=Hd,_r.prototype.get=dl,_r.prototype.has=Wd,_r.prototype.set=hl;const jr=_r,bo=function(a,e){var r=this.__data__;if(r instanceof Ks){var s=r.__data__;if(!mo||s.length<199)return s.push([a,e]),this.size=++r.size,this;r=this.__data__=new jr(s)}return r.set(a,e),this.size=r.size,this};function yo(a){var e=this.__data__=new Ks(a);this.size=e.size}yo.prototype.clear=Pd,yo.prototype.delete=po,yo.prototype.get=$d,yo.prototype.has=cr,yo.prototype.set=bo;const Ao=yo,Qi=function(a,e){for(var r=-1,s=a==null?0:a.length;++r<s&&e(a[r],r,a)!==!1;);return a},Js=function(){try{var a=jn(Object,"defineProperty");return a({},"",{}),a}catch{}}(),fl=function(a,e,r){e=="__proto__"&&Js?Js(a,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):a[e]=r};var Gd=Object.prototype.hasOwnProperty;const pl=function(a,e,r){var s=a[e];Gd.call(a,e)&&as(s,r)&&(r!==void 0||e in a)||fl(a,e,r)},Cr=function(a,e,r,s){var l=!r;r||(r={});for(var d=-1,m=e.length;++d<m;){var y=e[d],C=s?s(r[y],a[y],y,r,a):void 0;C===void 0&&(C=a[y]),l?fl(r,y,C):pl(r,y,C)}return r},Vr=function(a,e){for(var r=-1,s=Array(a);++r<a;)s[r]=e(r);return s},Xs=function(a){return kn(a)&&lr(a)=="[object Arguments]"};var gl=Object.prototype,cs=gl.hasOwnProperty,Nc=gl.propertyIsEnumerable;const us=Xs(function(){return arguments}())?Xs:function(a){return kn(a)&&cs.call(a,"callee")&&!Nc.call(a,"callee")},Kd=function(){return!1};var ml=t&&!t.nodeType&&t,ea=ml&&!0&&n&&!n.nodeType&&n,vl=ea&&ea.exports===ml?it.Buffer:void 0;const Yi=(vl?vl.isBuffer:void 0)||Kd;var ta=/^(?:0|[1-9]\d*)$/;const wl=function(a,e){var r=typeof a;return!!(e=e??9007199254740991)&&(r=="number"||r!="symbol"&&ta.test(a))&&a>-1&&a%1==0&&a<e},kl=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991};var Ot={};Ot["[object Float32Array]"]=Ot["[object Float64Array]"]=Ot["[object Int8Array]"]=Ot["[object Int16Array]"]=Ot["[object Int32Array]"]=Ot["[object Uint8Array]"]=Ot["[object Uint8ClampedArray]"]=Ot["[object Uint16Array]"]=Ot["[object Uint32Array]"]=!0,Ot["[object Arguments]"]=Ot["[object Array]"]=Ot["[object ArrayBuffer]"]=Ot["[object Boolean]"]=Ot["[object DataView]"]=Ot["[object Date]"]=Ot["[object Error]"]=Ot["[object Function]"]=Ot["[object Map]"]=Ot["[object Number]"]=Ot["[object Object]"]=Ot["[object RegExp]"]=Ot["[object Set]"]=Ot["[object String]"]=Ot["[object WeakMap]"]=!1;const te=function(a){return kn(a)&&kl(a.length)&&!!Ot[lr(a)]},he=function(a){return function(e){return a(e)}};var _e=t&&!t.nodeType&&t,ze=_e&&!0&&n&&!n.nodeType&&n,Pt=ze&&ze.exports===_e&&Oe.process;const Je=function(){try{var a=ze&&ze.require&&ze.require("util").types;return a||Pt&&Pt.binding&&Pt.binding("util")}catch{}}();var zt=Je&&Je.isTypedArray;const en=zt?he(zt):te;var fn=Object.prototype.hasOwnProperty;const jt=function(a,e){var r=Rn(a),s=!r&&us(a),l=!r&&!s&&Yi(a),d=!r&&!s&&!l&&en(a),m=r||s||l||d,y=m?Vr(a.length,String):[],C=y.length;for(var S in a)!e&&!fn.call(a,S)||m&&(S=="length"||l&&(S=="offset"||S=="parent")||d&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||wl(S,C))||y.push(S);return y};var Qn=Object.prototype;const Yn=function(a){var e=a&&a.constructor;return a===(typeof e=="function"&&e.prototype||Qn)},Sn=Cc(Object.keys,Object);var ai=Object.prototype.hasOwnProperty;const bi=function(a){if(!Yn(a))return Sn(a);var e=[];for(var r in Object(a))ai.call(a,r)&&r!="constructor"&&e.push(r);return e},zi=function(a){return a!=null&&kl(a.length)&&!Ar(a)},ji=function(a){return zi(a)?jt(a):bi(a)},Ur=function(a,e){return a&&Cr(e,ji(e),a)},Oc=function(a){var e=[];if(a!=null)for(var r in Object(a))e.push(r);return e};var Zi=Object.prototype.hasOwnProperty;const _o=function(a){if(!ye(a))return Oc(a);var e=Yn(a),r=[];for(var s in a)(s!="constructor"||!e&&Zi.call(a,s))&&r.push(s);return r},na=function(a){return zi(a)?jt(a,!0):_o(a)},sk=function(a,e){return a&&Cr(e,na(e),a)};var qd=t&&!t.nodeType&&t,Pc=qd&&!0&&n&&!n.nodeType&&n,Tp=Pc&&Pc.exports===qd?it.Buffer:void 0,Dp=Tp?Tp.allocUnsafe:void 0;const Ip=function(a,e){if(e)return a.slice();var r=a.length,s=Dp?Dp(r):new a.constructor(r);return a.copy(s),s},Qd=function(a,e){var r=-1,s=a.length;for(e||(e=Array(s));++r<s;)e[r]=a[r];return e},Mp=function(a,e){for(var r=-1,s=a==null?0:a.length,l=0,d=[];++r<s;){var m=a[r];e(m,r,a)&&(d[l++]=m)}return d},Lp=function(){return[]};var ak=Object.prototype.propertyIsEnumerable,Rp=Object.getOwnPropertySymbols;const $c=Rp?function(a){return a==null?[]:(a=Object(a),Mp(Rp(a),function(e){return ak.call(a,e)}))}:Lp,lk=function(a,e){return Cr(a,$c(a),e)},Np=function(a,e){for(var r=-1,s=e.length,l=a.length;++r<s;)a[l+r]=e[r];return a},Op=Object.getOwnPropertySymbols?function(a){for(var e=[];a;)Np(e,$c(a)),a=ol(a);return e}:Lp,Pp=function(a,e){return Cr(a,Op(a),e)},$p=function(a,e,r){var s=e(a);return Rn(a)?s:Np(s,r(a))},Yd=function(a){return $p(a,ji,$c)},Bp=function(a){return $p(a,na,Op)},Zd=jn(it,"DataView"),Bc=jn(it,"Promise"),Fc=jn(it,"Set"),zc=jn(it,"WeakMap");var Vt="[object Map]",Fp="[object Promise]",zp="[object Set]",jp="[object WeakMap]",Vp="[object DataView]",Up=si(Zd),ck=si(mo),uk=si(Bc),dk=si(Fc),hk=si(zc),Co=lr;(Zd&&Co(new Zd(new ArrayBuffer(1)))!=Vp||mo&&Co(new mo)!=Vt||Bc&&Co(Bc.resolve())!=Fp||Fc&&Co(new Fc)!=zp||zc&&Co(new zc)!=jp)&&(Co=function(a){var e=lr(a),r=e=="[object Object]"?a.constructor:void 0,s=r?si(r):"";if(s)switch(s){case Up:return Vp;case ck:return Vt;case uk:return Fp;case dk:return zp;case hk:return jp}return e});const Hr=Co;var Hp=Object.prototype.hasOwnProperty;const fk=function(a){var e=a.length,r=new a.constructor(e);return e&&typeof a[0]=="string"&&Hp.call(a,"index")&&(r.index=a.index,r.input=a.input),r},bl=it.Uint8Array,jc=function(a){var e=new a.constructor(a.byteLength);return new bl(e).set(new bl(a)),e},Jd=function(a,e){var r=e?jc(a.buffer):a.buffer;return new a.constructor(r,a.byteOffset,a.byteLength)};var Xd=/\w*$/;const ia=function(a){var e=new a.constructor(a.source,Xd.exec(a));return e.lastIndex=a.lastIndex,e};var Wp=ot?ot.prototype:void 0,Q=Wp?Wp.valueOf:void 0;const Z=function(a){return Q?Object(Q.call(a)):{}},ie=function(a,e){var r=e?jc(a.buffer):a.buffer;return new a.constructor(r,a.byteOffset,a.length)},me=function(a,e,r){var s=a.constructor;switch(e){case"[object ArrayBuffer]":return jc(a);case"[object Boolean]":case"[object Date]":return new s(+a);case"[object DataView]":return Jd(a,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ie(a,r);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(a);case"[object RegExp]":return ia(a);case"[object Symbol]":return Z(a)}};var We=Object.create;const st=function(){function a(){}return function(e){if(!ye(e))return{};if(We)return We(e);a.prototype=e;var r=new a;return a.prototype=void 0,r}}(),dt=function(a){return typeof a.constructor!="function"||Yn(a)?{}:st(ol(a))},ht=function(a){return kn(a)&&Hr(a)=="[object Map]"};var cn=Je&&Je.isMap;const rn=cn?he(cn):ht,Vc=function(a){return kn(a)&&Hr(a)=="[object Set]"};var Eo=Je&&Je.isSet;const Er=Eo?he(Eo):Vc;var ds="[object Arguments]",ra="[object Function]",So="[object Object]",gt={};gt[ds]=gt["[object Array]"]=gt["[object ArrayBuffer]"]=gt["[object DataView]"]=gt["[object Boolean]"]=gt["[object Date]"]=gt["[object Float32Array]"]=gt["[object Float64Array]"]=gt["[object Int8Array]"]=gt["[object Int16Array]"]=gt["[object Int32Array]"]=gt["[object Map]"]=gt["[object Number]"]=gt[So]=gt["[object RegExp]"]=gt["[object Set]"]=gt["[object String]"]=gt["[object Symbol]"]=gt["[object Uint8Array]"]=gt["[object Uint8ClampedArray]"]=gt["[object Uint16Array]"]=gt["[object Uint32Array]"]=!0,gt["[object Error]"]=gt[ra]=gt["[object WeakMap]"]=!1;const Ji=function a(e,r,s,l,d,m){var y,C=1&r,S=2&r,M=4&r;if(s&&(y=d?s(e,l,d,m):s(e)),y!==void 0)return y;if(!ye(e))return e;var $=Rn(e);if($){if(y=fk(e),!C)return Qd(e,y)}else{var U=Hr(e),W=U==ra||U=="[object GeneratorFunction]";if(Yi(e))return Ip(e,C);if(U==So||U==ds||W&&!d){if(y=S||W?{}:dt(e),!C)return S?Pp(e,sk(y,e)):lk(e,Ur(y,e))}else{if(!gt[U])return d?e:{};y=me(e,U,C)}}m||(m=new Ao);var K=m.get(e);if(K)return K;m.set(e,y),Er(e)?e.forEach(function(X){y.add(a(X,r,s,X,e,m))}):rn(e)&&e.forEach(function(X,ne){y.set(ne,a(X,r,s,ne,e,m))});var q=$?void 0:(M?S?Bp:Yd:S?na:ji)(e);return Qi(q||e,function(X,ne){q&&(X=e[ne=X]),pl(y,ne,a(X,r,s,ne,e,m))}),y},li=function(a,e){return Ji(a,5,e=typeof e=="function"?e:void 0)},yi=function(a){return kn(a)&&a.nodeType===1&&!Xt(a)};class xo{constructor(e,r){this._config={},r&&this.define(Z1(r)),e&&this._setObjectToTarget(this._config,e)}set(e,r){this._setToTarget(this._config,e,r)}define(e,r){this._setToTarget(this._config,e,r,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,r,s,l=!1){if(Xt(r))return void this._setObjectToTarget(e,r,l);const d=r.split(".");r=d.pop();for(const m of d)Xt(e[m])||(e[m]={}),e=e[m];if(Xt(s))return Xt(e[r])||(e[r]={}),e=e[r],void this._setObjectToTarget(e,s,l);l&&e[r]!==void 0||(e[r]=s)}_getFromSource(e,r){const s=r.split(".");r=s.pop();for(const l of s){if(!Xt(e[l])){e=null;break}e=e[l]}return e?Z1(e[r]):void 0}_setObjectToTarget(e,r,s){Object.keys(r).forEach(l=>{this._setToTarget(e,l,r[l],s)})}}function Z1(a){return li(a,UF)}function UF(a){return yi(a)?a:void 0}function oa(a){if(a){if(a.defaultView)return a instanceof a.defaultView.Document;if(a.ownerDocument&&a.ownerDocument.defaultView)return a instanceof a.ownerDocument.defaultView.Node}return!1}function Gp(a){const e=Object.prototype.toString.apply(a);return e=="[object Window]"||e=="[object global]"}const J1=yl(ee());function yl(a){return a?class extends a{listenTo(e,r,s,l={}){if(oa(e)||Gp(e)){const d={capture:!!l.useCapture,passive:!!l.usePassive},m=this._getProxyEmitter(e,d)||new HF(e,d);this.listenTo(m,r,s,l)}else super.listenTo(e,r,s,l)}stopListening(e,r,s){if(oa(e)||Gp(e)){const l=this._getAllProxyEmitters(e);for(const d of l)this.stopListening(d,r,s)}else super.stopListening(e,r,s)}_getProxyEmitter(e,r){return function(s,l){const d=s[H];return d&&d[l]?d[l].emitter:null}(this,X1(e,r))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(r=>this._getProxyEmitter(e,r)).filter(r=>!!r)}}:J1}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{yl[a]=J1.prototype[a]});class HF extends ee(){constructor(e,r){super(),re(this,X1(e,r)),this._domNode=e,this._options=r}attach(e){if(this._domListeners&&this._domListeners[e])return;const r=this._createDomListener(e);this._domNode.addEventListener(e,r,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=r}detach(e){let r;!this._domListeners[e]||(r=this._events[e])&&r.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,r,s){this.attach(e),ee().prototype._addEventListener.call(this,e,r,s)}_removeEventListener(e,r){ee().prototype._removeEventListener.call(this,e,r),this.detach(e)}_createDomListener(e){const r=s=>{this.fire(e,s)};return r.removeListener=()=>{this._domNode.removeEventListener(e,r,this._options),delete this._domListeners[e]},r}}function X1(a,e){let r=function(s){return s["data-ck-expando"]||(s["data-ck-expando"]=B())}(a);for(const s of Object.keys(e).sort())e[s]&&(r+="-"+s);return r}let pk;try{pk={window,document}}catch{pk={window:{},document:{}}}const vt=pk;function eE(a){const e=[];let r=a;for(;r&&r.nodeType!=Node.DOCUMENT_NODE;)e.unshift(r),r=r.parentNode;return e}function bn(a){return Object.prototype.toString.call(a)=="[object Text]"}function Kp(a){return Object.prototype.toString.apply(a)=="[object Range]"}function tE(a){const e=a.ownerDocument.defaultView.getComputedStyle(a);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const nE=["top","right","bottom","left","width","height"];class yn{constructor(e){const r=Kp(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),rE(e)||r)if(r){const s=yn.getDomRangeRects(e);qp(this,yn.getBoundingRect(s))}else qp(this,e.getBoundingClientRect());else if(Gp(e)){const{innerWidth:s,innerHeight:l}=e;qp(this,{top:0,right:s,bottom:l,left:0,width:s,height:l})}else qp(this,e)}clone(){return new yn(this)}moveTo(e,r){return this.top=r,this.right=e+this.width,this.bottom=r+this.height,this.left=e,this}moveBy(e,r){return this.top+=r,this.right+=e,this.left+=e,this.bottom+=r,this}getIntersection(e){const r={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<0||r.height<0?null:new yn(r)}getIntersectionArea(e){const r=this.getIntersection(e);return r?r.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let r=this.clone();if(!iE(e)){let s=e.parentNode||e.commonAncestorContainer;for(;s&&!iE(s);){const l=new yn(s),d=r.getIntersection(l);if(!d)return null;d.getArea()<r.getArea()&&(r=d),s=s.parentNode}}return r}isEqual(e){for(const r of nE)if(this[r]!==e[r])return!1;return!0}contains(e){const r=this.getIntersection(e);return!(!r||!r.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let r,s,l;if(Gp(e))r=e.innerWidth-e.document.documentElement.clientWidth,s=e.innerHeight-e.document.documentElement.clientHeight,l=e.getComputedStyle(e.document.documentElement).direction;else{const d=tE(e);r=e.offsetWidth-e.clientWidth-d.left-d.right,s=e.offsetHeight-e.clientHeight-d.top-d.bottom,l=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=d.left,this.top+=d.top,this.right-=d.right,this.bottom-=d.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=r,l==="ltr"?this.right-=r:this.left+=r,this.height-=s,this.bottom-=s,this}static getDomRangeRects(e){const r=[],s=Array.from(e.getClientRects());if(s.length)for(const l of s)r.push(new yn(l));else{let l=e.startContainer;bn(l)&&(l=l.parentNode);const d=new yn(l.getBoundingClientRect());d.right=d.left,d.width=0,r.push(d)}return r}static getBoundingRect(e){const r={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let s=0;for(const l of e)s++,r.left=Math.min(r.left,l.left),r.top=Math.min(r.top,l.top),r.right=Math.max(r.right,l.right),r.bottom=Math.max(r.bottom,l.bottom);return s==0?null:(r.width=r.right-r.left,r.height=r.bottom-r.top,new yn(r))}}function qp(a,e){for(const r of nE)a[r]=e[r]}function iE(a){return!!rE(a)&&a===a.ownerDocument.body}function rE(a){return a!==null&&typeof a=="object"&&a.nodeType===1&&typeof a.getBoundingClientRect=="function"}const xn=class{constructor(a,e){xn._observerInstance||xn._createObserver(),this._element=a,this._callback=e,xn._addElementCallback(a,e),xn._observerInstance.observe(a)}destroy(){xn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(a,e){xn._elementCallbacks||(xn._elementCallbacks=new Map);let r=xn._elementCallbacks.get(a);r||(r=new Set,xn._elementCallbacks.set(a,r)),r.add(e)}static _deleteElementCallback(a,e){const r=xn._getElementCallbacks(a);r&&(r.delete(e),r.size||(xn._elementCallbacks.delete(a),xn._observerInstance.unobserve(a))),xn._elementCallbacks&&!xn._elementCallbacks.size&&(xn._observerInstance=null,xn._elementCallbacks=null)}static _getElementCallbacks(a){return xn._elementCallbacks?xn._elementCallbacks.get(a):null}static _createObserver(){xn._observerInstance=new vt.window.ResizeObserver(a=>{for(const e of a){const r=xn._getElementCallbacks(e.target);if(r)for(const s of r)s(e)}})}};let Qp=xn;function WF(a,e){a instanceof HTMLTextAreaElement&&(a.value=e),a.innerHTML=e}function gk(a){return e=>e+a}function Yp(a){let e=0;for(;a.previousSibling;)a=a.previousSibling,e++;return e}function oE(a,e,r){a.insertBefore(r,a.childNodes[e]||null)}function Uc(a){return a&&a.nodeType===Node.COMMENT_NODE}function Al(a){return!!(a&&a.getClientRects&&a.getClientRects().length)}Qp._observerInstance=null,Qp._elementCallbacks=null;var sE=Math.pow;function aE({element:a,target:e,positions:r,limiter:s,fitInViewport:l,viewportOffsetConfig:d}){Ar(e)&&(e=e()),Ar(s)&&(s=s());const m=function(U){return U&&U.parentNode?U.offsetParent===vt.document.body?null:U.offsetParent:null}(a),y=new yn(a),C=new yn(e);let S;const M=l&&function(U){U=Object.assign({top:0,bottom:0,left:0,right:0},U);const W=new yn(vt.window);return W.top+=U.top,W.height-=U.top,W.bottom-=U.bottom,W.height-=U.bottom,W}(d)||null,$={targetRect:C,elementRect:y,positionedElementAncestor:m,viewportRect:M};if(s||l){const U=s&&new yn(s).getVisible();Object.assign($,{limiterRect:U,viewportRect:M}),S=function(W,K){const{elementRect:q}=K,X=q.getArea(),ne=W.map(Pe=>new mk(Pe,K)).filter(Pe=>!!Pe.name);let de=0,be=null;for(const Pe of ne){const{limiterIntersectionArea:Xe,viewportIntersectionArea:Wt}=Pe;if(Xe===X)return Pe;const yt=sE(Wt,2)+sE(Xe,2);yt>de&&(de=yt,be=Pe)}return be}(r,$)||new mk(r[0],$)}else S=new mk(r[0],$);return S}function lE(a){const{scrollX:e,scrollY:r}=vt.window;return a.clone().moveBy(e,r)}class mk{constructor(e,r){const s=e(r.targetRect,r.elementRect,r.viewportRect);if(!s)return;const{left:l,top:d,name:m,config:y}=s;this.name=m,this.config=y,this._positioningFunctionCorrdinates={left:l,top:d},this._options=r}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const r=this._options.viewportRect;if(!r)return e.getIntersectionArea(this._rect);{const s=e.getIntersection(r);if(s)return s.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=lE(this._rect),this._options.positionedElementAncestor&&function(e,r){const s=lE(new yn(r)),l=tE(r);let d=0,m=0;d-=s.left,m-=s.top,d+=r.scrollLeft,m+=r.scrollTop,d-=l.left,m-=l.top,e.moveBy(d,m)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function cE(a){const e=a.parentNode;e&&e.removeChild(a)}function GF({window:a,rect:e,alignToTop:r,forceScroll:s,viewportOffset:l}){const d=e.clone().moveBy(0,l),m=e.clone().moveBy(0,-l),y=new yn(a).excludeScrollbarsAndBorders(),C=r&&s,S=[m,d].every(K=>y.contains(K));let{scrollX:M,scrollY:$}=a;const U=M,W=$;C?$-=y.top-e.top+l:S||(dE(m,y)?$-=y.top-e.top+l:uE(d,y)&&($+=r?e.top-y.top-l:e.bottom-y.bottom+l)),S||(hE(e,y)?M-=y.left-e.left+l:fE(e,y)&&(M+=e.right-y.right+l)),M==U&&$===W||a.scrollTo(M,$)}function KF({parent:a,getRect:e,alignToTop:r,forceScroll:s,ancestorOffset:l=0}){const d=vk(a),m=r&&s;let y,C,S;for(;a!=d.document.body;)C=e(),y=new yn(a).excludeScrollbarsAndBorders(),S=y.contains(C),m?a.scrollTop-=y.top-C.top+l:S||(dE(C,y)?a.scrollTop-=y.top-C.top+l:uE(C,y)&&(a.scrollTop+=r?C.top-y.top-l:C.bottom-y.bottom+l)),S||(hE(C,y)?a.scrollLeft-=y.left-C.left+l:fE(C,y)&&(a.scrollLeft+=C.right-y.right+l)),a=a.parentNode}function uE(a,e){return a.bottom>e.bottom}function dE(a,e){return a.top<e.top}function hE(a,e){return a.left<e.left}function fE(a,e){return a.right>e.right}function vk(a){return Kp(a)?a.startContainer.ownerDocument.defaultView:a.ownerDocument.defaultView}function qF(a){if(Kp(a)){let e=a.commonAncestorContainer;return bn(e)&&(e=e.parentNode),e}return a.parentNode}function pE(a,e){const r=vk(a),s=new yn(a);if(r===e)return s;{let l=r;for(;l!=e;){const d=l.frameElement,m=new yn(d).excludeScrollbarsAndBorders();s.moveBy(m.left,m.top),l=l.parent}}return s}const QF={ctrl:"",cmd:"",alt:"",shift:""},YF={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},St=function(){const a={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)a[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)a[e-48]=e;for(let e=112;e<=123;e++)a["f"+(e-111)]=e;for(const e of"`-=[];',./\\")a[e]=e.charCodeAt(0);return a}(),ZF=Object.fromEntries(Object.entries(St).map(([a,e])=>[e,a.charAt(0).toUpperCase()+a.slice(1)]));function Hc(a){let e;if(typeof a=="string"){if(e=St[a.toLowerCase()],!e)throw new N("keyboard-unknown-key",null,{key:a})}else e=a.keyCode+(a.altKey?St.alt:0)+(a.ctrlKey?St.ctrl:0)+(a.shiftKey?St.shift:0)+(a.metaKey?St.cmd:0);return e}function Zp(a){return typeof a=="string"&&(a=function(e){return e.split("+").map(r=>r.trim())}(a)),a.map(e=>typeof e=="string"?function(r){if(r.endsWith("!"))return Hc(r.slice(0,-1));const s=Hc(r);return v.isMac&&s==St.ctrl?St.cmd:s}(e):e).reduce((e,r)=>r+e,0)}function gE(a){let e=Zp(a);return Object.entries(v.isMac?QF:YF).reduce((r,[s,l])=>(e&St[s]&&(e&=~St[s],r+=l),r),"")+(e?ZF[e]:"")}function wk(a,e){const r=e==="ltr";switch(a){case St.arrowleft:return r?"left":"right";case St.arrowright:return r?"right":"left";case St.arrowup:return"up";case St.arrowdown:return"down"}}function Zn(a){return Array.isArray(a)?a:[a]}function JF(a,e,r=1){if(typeof r!="number")throw new N("translation-service-quantity-not-a-number",null,{quantity:r});const s=Object.keys(vt.window.CKEDITOR_TRANSLATIONS).length;s===1&&(a=Object.keys(vt.window.CKEDITOR_TRANSLATIONS)[0]);const l=e.id||e.string;if(s===0||!function(C,S){return!!vt.window.CKEDITOR_TRANSLATIONS[C]&&!!vt.window.CKEDITOR_TRANSLATIONS[C].dictionary[S]}(a,l))return r!==1?e.plural:e.string;const d=vt.window.CKEDITOR_TRANSLATIONS[a].dictionary,m=vt.window.CKEDITOR_TRANSLATIONS[a].getPluralForm||(C=>C===1?0:1),y=d[l];return typeof y=="string"?y:y[Number(m(r))]}vt.window.CKEDITOR_TRANSLATIONS||(vt.window.CKEDITOR_TRANSLATIONS={});const XF=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function mE(a){return XF.includes(a)?"rtl":"ltr"}class ez{constructor({uiLanguage:e="en",contentLanguage:r}={}){this.uiLanguage=e,this.contentLanguage=r||this.uiLanguage,this.uiLanguageDirection=mE(this.uiLanguage),this.contentLanguageDirection=mE(this.contentLanguage),this.t=(s,l)=>this._t(s,l)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,r=[]){r=Zn(r),typeof e=="string"&&(e={string:e});const s=e.plural?r[0]:1;return function(l,d){return l.replace(/%(\d+)/g,(m,y)=>y<d.length?d[y]:m)}(JF(this.uiLanguage,e,s),r)}}class Wr extends ee(){constructor(e={},r={}){super();const s=Se(e);if(s||(r=e),this._items=[],this._itemMap=new Map,this._idProperty=r.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],s)for(const l of e)this._items.push(l),this._itemMap.set(this._getItemIdBeforeAdding(l),l)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,r){return this.addMany([e],r)}addMany(e,r){if(r===void 0)r=this._items.length;else if(r>this._items.length||r<0)throw new N("collection-add-item-invalid-index",this);let s=0;for(const l of e){const d=this._getItemIdBeforeAdding(l),m=r+s;this._items.splice(m,0,l),this._itemMap.set(d,l),this.fire("add",l,m),s++}return this.fire("change",{added:e,removed:[],index:r}),this}get(e){let r;if(typeof e=="string")r=this._itemMap.get(e);else{if(typeof e!="number")throw new N("collection-get-invalid-arg",this);r=this._items[e]}return r||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const r=e[this._idProperty];return r&&this._itemMap.has(r)}}getIndex(e){let r;return r=typeof e=="string"?this._itemMap.get(e):e,r?this._items.indexOf(r):-1}remove(e){const[r,s]=this._remove(e);return this.fire("change",{added:[],removed:[r],index:s}),r}map(e,r){return this._items.map(e,r)}find(e,r){return this._items.find(e,r)}filter(e,r){return this._items.filter(e,r)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new N("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:r=>{this._setUpBindToBinding(s=>new r(s))},using:r=>{typeof r=="function"?this._setUpBindToBinding(r):this._setUpBindToBinding(s=>s[r])}}}_setUpBindToBinding(e){const r=this._bindToCollection,s=(l,d,m)=>{const y=r._bindToCollection==this,C=r._bindToInternalToExternalMap.get(d);if(y&&C)this._bindToExternalToInternalMap.set(d,C),this._bindToInternalToExternalMap.set(C,d);else{const S=e(d);if(!S)return void this._skippedIndexesFromExternal.push(m);let M=m;for(const $ of this._skippedIndexesFromExternal)m>$&&M--;for(const $ of r._skippedIndexesFromExternal)M>=$&&M++;this._bindToExternalToInternalMap.set(d,S),this._bindToInternalToExternalMap.set(S,d),this.add(S,M);for(let $=0;$<r._skippedIndexesFromExternal.length;$++)M<=r._skippedIndexesFromExternal[$]&&r._skippedIndexesFromExternal[$]++}};for(const l of r)s(0,l,r.getIndex(l));this.listenTo(r,"add",s),this.listenTo(r,"remove",(l,d,m)=>{const y=this._bindToExternalToInternalMap.get(d);y&&this.remove(y),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((C,S)=>(m<S&&C.push(S-1),m>S&&C.push(S),C),[])})}_getItemIdBeforeAdding(e){const r=this._idProperty;let s;if(r in e){if(s=e[r],typeof s!="string")throw new N("collection-add-invalid-id",this);if(this.get(s))throw new N("collection-add-item-already-exists",this)}else e[r]=s=B();return s}_remove(e){let r,s,l,d=!1;const m=this._idProperty;if(typeof e=="string"?(s=e,l=this._itemMap.get(s),d=!l,l&&(r=this._items.indexOf(l))):typeof e=="number"?(r=e,l=this._items[r],d=!l,l&&(s=l[m])):(l=e,s=l[m],r=this._items.indexOf(l),d=r==-1||!this._itemMap.get(s)),d)throw new N("collection-remove-404",this);this._items.splice(r,1),this._itemMap.delete(s);const y=this._bindToInternalToExternalMap.get(l);return this._bindToInternalToExternalMap.delete(l),this._bindToExternalToInternalMap.delete(y),this.fire("remove",l,r),[l,r]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Nn(a){const e=a.next();return e.done?null:e.value}class Sr extends yl(Ye()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new N("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class To{constructor(){this._listener=new(yl())}listenTo(e){this._listener.listenTo(e,"keydown",(r,s)=>{this._listener.fire("_keydown:"+Hc(s),s)})}set(e,r,s={}){const l=Zp(e),d=s.priority;this._listener.listenTo(this._listener,"_keydown:"+l,(m,y)=>{r(y,()=>{y.preventDefault(),y.stopPropagation(),m.stop()}),m.return=!0},{priority:d})}press(e){return!!this._listener.fire("_keydown:"+Hc(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function Do(a){return Se(a)?new Map(a):function(e){const r=new Map;for(const s in e)r.set(s,e[s]);return r}(a)}function kk(a,e){return!!(r=a.charAt(e-1))&&r.length==1&&/[\ud800-\udbff]/.test(r)&&function(s){return!!s&&s.length==1&&/[\udc00-\udfff]/.test(s)}(a.charAt(e));var r}function bk(a,e){return!!(r=a.charAt(e))&&r.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(r);var r}const tz=function(){const a=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,r="(?:"+a.map(s=>s.source).join("|")+")";return new RegExp(`${e}|${r}(?:${r})*`,"ug")}();function vE(a,e){const r=String(a).matchAll(tz);return Array.from(r).some(s=>s.index<e&&e<s.index+s[0].length)}class sa extends Wr{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(r,s,l)=>{this._renderViewIntoCollectionParent(s,l)}),this.on("remove",(r,s)=>{s.element&&this._parentElement&&s.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const r of this)this._renderViewIntoCollectionParent(r)}delegate(...e){if(!e.length||!e.every(r=>typeof r=="string"))throw new N("ui-viewcollection-delegate-wrong-events",this);return{to:r=>{for(const s of this)for(const l of e)s.delegate(l).to(r);this.on("add",(s,l)=>{for(const d of e)l.delegate(d).to(r)}),this.on("remove",(s,l)=>{for(const d of e)l.stopDelegating(d,r)})}}}_renderViewIntoCollectionParent(e,r){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[r])}remove(e){return super.remove(e)}}var nz=c(6062),Ve=c.n(nz),wE=c(4793),iz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(wE.Z,iz),wE.Z.locals;class bt extends yl(Ye()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Wr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(r,s)=>{s.locale=e,s.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Gr.bind(this,this)}createCollection(e){const r=new sa(e);return this._viewCollections.add(r),r}registerChild(e){Se(e)||(e=[e]);for(const r of e)this._unboundChildren.add(r)}deregisterChild(e){Se(e)||(e=[e]);for(const r of e)this._unboundChildren.remove(r)}setTemplate(e){this.template=new Gr(e)}extendTemplate(e){Gr.extend(this.template,e)}render(){if(this.isRendered)throw new N("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class Gr extends ee(){constructor(e){super(),Object.assign(this,AE(yE(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new N("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(r){if(r.children)for(const s of r.children)Xp(s)?yield s:yk(s)&&(yield*e(s))}(this)}static bind(e,r){return{to:(s,l)=>new rz({eventNameOrFunction:s,attribute:s,observable:e,emitter:r,callback:l}),if:(s,l,d)=>new kE({observable:e,emitter:r,attribute:s,valueIfTrue:l,callback:d})}}static extend(e,r){if(e._isRendered)throw new N("template-extend-render",[this,e]);SE(e,AE(yE(r)))}_renderNode(e){let r;if(r=e.node?this.tag&&this.text:this.tag?this.text:!this.text,r)throw new N("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let r=e.node;return r||(r=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),r}_renderText(e){let r=e.node;return r?e.revertData.text=r.textContent:r=e.node=document.createTextNode(""),Jp(this.text)?this._bindToObservable({schema:this.text,updater:oz(r),data:e}):r.textContent=this.text.join(""),r}_renderAttributes(e){if(!this.attributes)return;const r=e.node,s=e.revertData;for(const l in this.attributes){const d=r.getAttribute(l),m=this.attributes[l];s&&(s.attributes[l]=d);const y=xE(m)?m[0].ns:null;if(Jp(m)){const C=xE(m)?m[0].value:m;s&&TE(l)&&C.unshift(d),this._bindToObservable({schema:C,updater:sz(r,l,y),data:e})}else if(l=="style"&&typeof m[0]!="string")this._renderStyleAttribute(m[0],e);else{s&&d&&TE(l)&&m.unshift(d);const C=m.map(S=>S&&S.value||S).reduce((S,M)=>S.concat(M),[]).reduce(CE,"");Wc(C)||r.setAttributeNS(y,l,C)}}}_renderStyleAttribute(e,r){const s=r.node;for(const l in e){const d=e[l];Jp(d)?this._bindToObservable({schema:[d],updater:az(s,l),data:r}):s.style[l]=d}}_renderElementChildren(e){const r=e.node,s=e.intoFragment?document.createDocumentFragment():r,l=e.isApplying;let d=0;for(const m of this.children)if(Ak(m)){if(!l){m.setParent(r);for(const y of m)s.appendChild(y.element)}}else if(Xp(m))l||(m.isRendered||m.render(),s.appendChild(m.element));else if(oa(m))s.appendChild(m);else if(l){const y={children:[],bindings:[],attributes:{}};e.revertData.children.push(y),m._renderNode({intoFragment:!1,node:s.childNodes[d++],isApplying:!0,revertData:y})}else s.appendChild(m.render());e.intoFragment&&r.appendChild(s)}_setUpListeners(e){if(this.eventListeners)for(const r in this.eventListeners){const s=this.eventListeners[r].map(l=>{const[d,m]=r.split("@");return l.activateDomEventListener(d,m,e)});e.revertData&&e.revertData.bindings.push(s)}}_bindToObservable({schema:e,updater:r,data:s}){const l=s.revertData;bE(e,r,s);const d=e.filter(m=>!Wc(m)).filter(m=>m.observable).map(m=>m.activateAttributeListener(e,r,s));l&&l.bindings.push(d)}_revertTemplateFromNode(e,r){for(const l of r.bindings)for(const d of l)d();if(r.text)return void(e.textContent=r.text);const s=e;for(const l in r.attributes){const d=r.attributes[l];d===null?s.removeAttribute(l):s.setAttribute(l,d)}for(let l=0;l<r.children.length;++l)this._revertTemplateFromNode(s.childNodes[l],r.children[l])}}class eh{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const r=this.observable[this.attribute];return this.callback?this.callback(r,e):r}activateAttributeListener(e,r,s){const l=()=>bE(e,r,s);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,l),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,l)}}}class rz extends eh{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,r,s){const l=(d,m)=>{r&&!m.target.matches(r)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(m):this.observable.fire(this.eventNameOrFunction,m))};return this.emitter.listenTo(s.node,e,l),()=>{this.emitter.stopListening(s.node,e,l)}}}class kE extends eh{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!Wc(super.getValue(e))&&(this.valueIfTrue||!0)}}function Jp(a){return!!a&&(a.value&&(a=a.value),Array.isArray(a)?a.some(Jp):a instanceof eh)}function bE(a,e,{node:r}){const s=function(d,m){return d.map(y=>y instanceof eh?y.getValue(m):y)}(a,r);let l;l=a.length==1&&a[0]instanceof kE?s[0]:s.reduce(CE,""),Wc(l)?e.remove():e.set(l)}function oz(a){return{set(e){a.textContent=e},remove(){a.textContent=""}}}function sz(a,e,r){return{set(s){a.setAttributeNS(r,e,s)},remove(){a.removeAttributeNS(r,e)}}}function az(a,e){return{set(r){a.style[e]=r},remove(){a.style[e]=null}}}function yE(a){return li(a,e=>{if(e&&(e instanceof eh||yk(e)||Xp(e)||Ak(e)))return e})}function AE(a){if(typeof a=="string"?a=function(e){return{text:[e]}}(a):a.text&&function(e){e.text=Zn(e.text)}(a),a.on&&(a.eventListeners=function(e){for(const r in e)_E(e,r);return e}(a.on),delete a.on),!a.text){a.attributes&&function(r){for(const s in r)r[s].value&&(r[s].value=Zn(r[s].value)),_E(r,s)}(a.attributes);const e=[];if(a.children)if(Ak(a.children))e.push(a.children);else for(const r of a.children)yk(r)||Xp(r)||oa(r)?e.push(r):e.push(new Gr(r));a.children=e}return a}function _E(a,e){a[e]=Zn(a[e])}function CE(a,e){return Wc(e)?a:Wc(a)?e:`${a} ${e}`}function EE(a,e){for(const r in e)a[r]?a[r].push(...e[r]):a[r]=e[r]}function SE(a,e){if(e.attributes&&(a.attributes||(a.attributes={}),EE(a.attributes,e.attributes)),e.eventListeners&&(a.eventListeners||(a.eventListeners={}),EE(a.eventListeners,e.eventListeners)),e.text&&a.text.push(...e.text),e.children&&e.children.length){if(a.children.length!=e.children.length)throw new N("ui-template-extend-children-mismatch",a);let r=0;for(const s of e.children)SE(a.children[r++],s)}}function Wc(a){return!a&&a!==0}function Xp(a){return a instanceof bt}function yk(a){return a instanceof Gr}function Ak(a){return a instanceof sa}function xE(a){return ye(a[0])&&a[0].ns}function TE(a){return a=="class"||a=="style"}class lz extends sa{constructor(e,r=[]){super(r),this.locale=e}attachToDom(){this._bodyCollectionContainer=new Gr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Fr(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var DE=c(6574),cz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(DE.Z,cz),DE.Z.locals;const IE=class extends bt{constructor(){super();const a=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",a.if("isColorInherited","ck-icon_inherit-color")],viewBox:a.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const a=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=a.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:r,value:s}of Array.from(a.attributes))IE.presentationalAttributeNames.includes(r)&&this.element.setAttribute(r,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;a.childNodes.length>0;)this.element.appendChild(a.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(a=>{a.style.fill=this.fillColor})}};let th=IE;th.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var ME=c(4906),uz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(ME.Z,uz),ME.Z.locals;class tn extends bt{constructor(e){super(e);const r=this.bindTemplate,s=B();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(s),this.iconView=new th,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const l={tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",d=>!d),r.if("isVisible","ck-hidden",d=>!d),r.to("isOn",d=>d?"ck-on":"ck-off"),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],type:r.to("type",d=>d||"button"),tabindex:r.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${s}`,"aria-disabled":r.if("isEnabled",!0,d=>!d),"aria-pressed":r.to("isOn",d=>!!this.isToggleable&&String(!!d)),"data-cke-tooltip-text":r.to("_tooltipString"),"data-cke-tooltip-position":r.to("tooltipPosition")},children:this.children,on:{click:r.to(d=>{this.isEnabled?this.fire("execute"):d.preventDefault()})}};v.isSafari&&(l.on.mousedown=r.to(d=>{this.focus(),d.preventDefault()})),this.setTemplate(l)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(e){const r=new bt,s=this.bindTemplate;return r.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:s.to("labelStyle"),id:`ck-editor__aria-label_${e}`},children:[{text:s.to("label")}]}),r}_createKeystrokeView(){const e=new bt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",r=>gE(r))}]}),e}_getTooltipString(e,r,s){return e?typeof e=="string"?e:(s&&(s=gE(s)),e instanceof Function?e(r,s):`${r}${s?` (${s})`:""}`):""}}var LE=c(5332),dz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(LE.Z,dz),LE.Z.locals;class eg extends tn{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new bt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var RE=c(6781),hz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(RE.Z,hz),RE.Z.locals;class fz{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,r){this._components.set(_k(e),{callback:r,originalName:e})}create(e){if(!this.has(e))throw new N("componentfactory-item-missing",this,{name:e});return this._components.get(_k(e)).callback(this.editor.locale)}has(e){return this._components.has(_k(e))}}function _k(a){return String(a).toLowerCase()}var NE=c(5485),pz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(NE.Z,pz),NE.Z.locals;const Ck=class extends bt{constructor(a,e,r){super(a);const s=this.bindTemplate;this.buttonView=e,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new To,this.focusTracker=new Sr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",l=>!l)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[e,r]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(e,r,s)=>{s&&(this.panelPosition==="auto"?this.panelView.position=Ck._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const a=(e,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(e,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(e,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",a),this.keystrokes.set("esc",a)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:a,north:e,southEast:r,southWest:s,northEast:l,northWest:d,southMiddleEast:m,southMiddleWest:y,northMiddleEast:C,northMiddleWest:S}=Ck.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,s,m,y,a,l,d,C,S,e]:[s,r,y,m,a,d,l,S,C,e]}};let Ek=Ck;Ek.defaultPanelPositions={south:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/2,name:"s"}),southEast:a=>({top:a.bottom,left:a.left,name:"se"}),southWest:(a,e)=>({top:a.bottom,left:a.left-e.width+a.width,name:"sw"}),southMiddleEast:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/4,name:"sme"}),southMiddleWest:(a,e)=>({top:a.bottom,left:a.left-3*(e.width-a.width)/4,name:"smw"}),north:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/2,name:"n"}),northEast:(a,e)=>({top:a.top-e.height,left:a.left,name:"ne"}),northWest:(a,e)=>({top:a.top-e.height,left:a.left-e.width+a.width,name:"nw"}),northMiddleEast:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/4,name:"nme"}),northMiddleWest:(a,e)=>({top:a.top-e.height,left:a.left-3*(e.width-a.width)/4,name:"nmw"})},Ek._getOptimalPosition=aE;class gz extends bt{constructor(e){super(e);const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",r.to("position",s=>`ck-dropdown__panel_${s}`),r.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:r.to(s=>s.preventDefault())}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():P("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}const OE='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class mz extends tn{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new th;return e.content=OE,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}var PE=c(7686),vz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(PE.Z,vz),PE.Z.locals;class Sk extends bt{constructor(e){super(e);const r=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new To,this.focusTracker=new Sr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",r.to("class"),r.if("isVisible","ck-hidden",s=>!s),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,r)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),r())}),this.keystrokes.set("arrowleft",(e,r)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),r())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new tn;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new tn,r=e.bindTemplate;return e.icon=OE,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":r.to("isOn"),"aria-haspopup":!0,"aria-expanded":r.to("isOn",s=>String(s))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}class Gc{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const r in e.actions){let s=e.actions[r];typeof s=="string"&&(s=[s]);for(const l of s)e.keystrokeHandler.set(l,(d,m)=>{this[r](),m()})}}get first(){return this.focusables.find(xk)||null}get last(){return this.focusables.filter(xk).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((r,s)=>{const l=r.element===this.focusTracker.focusedElement;return l&&(e=s),l}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const r=this.current,s=this.focusables.length;if(!s)return null;if(r===null)return this[e===1?"first":"last"];let l=(r+s+e)%s;do{const d=this.focusables.get(l);if(xk(d))return d;l=(l+s+e)%s}while(l!==r);return null}}function xk(a){return!(!a.focus||!Al(a.element))}class $E extends bt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class wz extends bt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function BE(a){return Array.isArray(a)?{items:a,removeItems:[]}:a?Object.assign({items:[],removeItems:[]},a):{items:[],removeItems:[]}}class De extends Ye(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",FE,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",FE),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function FE(a){a.return=!1,a.stop()}class mt extends Ye(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",r=>{this.isEnabled||r.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(r,s,l)=>{l&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",zE,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",zE),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function zE(a){a.return=!1,a.stop()}class jE extends mt{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const r=this._getFirstEnabledCommand();return!!r&&r.execute(e)}registerChildCommand(e,r={}){R(this._childCommandsDefinitions,{command:e,priority:r.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:r})=>r.isEnabled);return e&&e.command}}class VE extends ee(){constructor(e,r=[],s=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const l of r)l.pluginName&&this._availablePlugins.set(l.pluginName,l);this._contextPlugins=new Map;for(const[l,d]of s)this._contextPlugins.set(l,d),this._contextPlugins.set(d,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const r=this._plugins.get(e);if(!r){let s=e;throw typeof e=="function"&&(s=e.pluginName||e.name),new N("plugincollection-plugin-not-loaded",this._context,{plugin:s})}return r}has(e){return this._plugins.has(e)}init(e,r=[],s=[]){const l=this,d=this._context;(function K(q,X=new Set){q.forEach(ne=>{C(ne)&&(X.has(ne)||(X.add(ne),ne.pluginName&&!l._availablePlugins.has(ne.pluginName)&&l._availablePlugins.set(ne.pluginName,ne),ne.requires&&K(ne.requires,X)))})})(e),U(e);const m=[...function K(q,X=new Set){return q.map(ne=>C(ne)?ne:l._availablePlugins.get(ne)).reduce((ne,de)=>X.has(de)?ne:(X.add(de),de.requires&&(U(de.requires,de),K(de.requires,X).forEach(be=>ne.add(be))),ne.add(de)),new Set)}(e.filter(K=>!M(K,r)))];(function(K,q){for(const X of q){if(typeof X!="function")throw new N("plugincollection-replace-plugin-invalid-type",null,{pluginItem:X});const ne=X.pluginName;if(!ne)throw new N("plugincollection-replace-plugin-missing-name",null,{pluginItem:X});if(X.requires&&X.requires.length)throw new N("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:ne});const de=l._availablePlugins.get(ne);if(!de)throw new N("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:ne});const be=K.indexOf(de);if(be===-1){if(l._contextPlugins.has(de))return;throw new N("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:ne})}if(de.requires&&de.requires.length)throw new N("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:ne});K.splice(be,1,X),l._availablePlugins.set(ne,X)}})(m,s);const y=m.map(K=>{let q=l._contextPlugins.get(K);return q=q||new K(d),l._add(K,q),q});return W(y,"init").then(()=>W(y,"afterInit")).then(()=>y);function C(K){return typeof K=="function"}function S(K){return C(K)&&!!K.isContextPlugin}function M(K,q){return q.some(X=>X===K||$(K)===X||$(X)===K)}function $(K){return C(K)?K.pluginName||K.name:K}function U(K,q=null){K.map(X=>C(X)?X:l._availablePlugins.get(X)||X).forEach(X=>{(function(ne,de){if(!C(ne))throw de?new N("plugincollection-soft-required",d,{missingPlugin:ne,requiredBy:$(de)}):new N("plugincollection-plugin-not-found",d,{plugin:ne})})(X,q),function(ne,de){if(S(de)&&!S(ne))throw new N("plugincollection-context-required",d,{plugin:$(ne),requiredBy:$(de)})}(X,q),function(ne,de){if(de&&M(ne,r))throw new N("plugincollection-required",d,{plugin:$(ne),requiredBy:$(de)})}(X,q)})}function W(K,q){return K.reduce((X,ne)=>ne[q]?l._contextPlugins.has(ne)?X:X.then(ne[q].bind(ne)):X,Promise.resolve())}}destroy(){const e=[];for(const[,r]of this)typeof r.destroy!="function"||this._contextPlugins.has(r)||e.push(r.destroy());return Promise.all(e)}_add(e,r){this._plugins.set(e,r);const s=e.pluginName;if(s){if(this._plugins.has(s))throw new N("plugincollection-plugin-name-conflict",null,{pluginName:s,plugin1:this._plugins.get(s).constructor,plugin2:e});this._plugins.set(s,r)}}}class UE{constructor(e){this._contextOwner=null,this.config=new xo(e,this.constructor.defaultConfig);const r=this.constructor.builtinPlugins;this.config.define("plugins",r),this.plugins=new VE(this,r);const s=this.config.get("language")||{};this.locale=new ez({uiLanguage:typeof s=="string"?s:s.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Wr}initPlugins(){const e=this.config.get("plugins")||[],r=this.config.get("substitutePlugins")||[];for(const s of e.concat(r)){if(typeof s!="function")throw new N("context-initplugins-constructor-only",null,{Plugin:s});if(s.isContextPlugin!==!0)throw new N("context-initplugins-invalid-plugin",null,{Plugin:s})}return this.plugins.init(e,[],r)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,r){if(this._contextOwner)throw new N("context-addeditor-private-context");this.editors.add(e),r&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const r of this.config.names())["plugins","removePlugins","extraPlugins"].includes(r)||(e[r]=this.config.get(r));return e}static create(e){return new Promise(r=>{const s=new this(e);r(s.initPlugins().then(()=>s))})}}class tg extends Ye(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class kz extends To{constructor(e){super(),this.editor=e}set(e,r,s={}){if(typeof r=="string"){const l=r;r=(d,m)=>{this.editor.execute(l),m()}}super.set(e,r,s)}}var HE=c(4717),bz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(HE.Z,bz),HE.Z.locals;const ng=new WeakMap;function WE({view:a,element:e,text:r,isDirectHost:s=!0,keepOnFocus:l=!1}){const d=a.document;ng.has(d)||(ng.set(d,new Map),d.registerPostFixer(m=>Tk(d,m)),d.on("change:isComposing",()=>{a.change(m=>Tk(d,m))},{priority:"high"})),ng.get(d).set(e,{text:r,isDirectHost:s,keepOnFocus:l,hostElement:s?e:null}),a.change(m=>Tk(d,m))}function yz(a,e){return!!e.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",e),!0)}function Tk(a,e){const r=ng.get(a),s=[];let l=!1;for(const[d,m]of r)m.isDirectHost&&(s.push(d),GE(e,d,m)&&(l=!0));for(const[d,m]of r){if(m.isDirectHost)continue;const y=Az(d);y&&(s.includes(y)||(m.hostElement=y,GE(e,d,m)&&(l=!0)))}return l}function GE(a,e,r){const{text:s,isDirectHost:l,hostElement:d}=r;let m=!1;return d.getAttribute("data-placeholder")!==s&&(a.setAttribute("data-placeholder",s,d),m=!0),(l||e.childCount==1)&&function(y,C){if(!y.isAttached()||Array.from(y.getChildren()).some($=>!$.is("uiElement")))return!1;const S=y.document,M=S.selection.anchor;return!(S.isComposing&&M&&M.parent===y||!C&&S.isFocused&&(!M||M.parent===y))}(d,r.keepOnFocus)?function(y,C){return!C.hasClass("ck-placeholder")&&(y.addClass("ck-placeholder",C),!0)}(a,d)&&(m=!0):yz(a,d)&&(m=!0),m}function Az(a){if(a.childCount){const e=a.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class _l{is(){throw new Error("is() method is abstract")}}const KE=function(a){return Ji(a,4)};class Cl extends ee(_l){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new N("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let r=this;for(;r.parent;)e.unshift(r.index),r=r.parent;return e}getAncestors(e={}){const r=[];let s=e.includeSelf?this:this.parent;for(;s;)r[e.parentFirst?"push":"unshift"](s),s=s.parent;return r}getCommonAncestor(e,r={}){const s=this.getAncestors(r),l=e.getAncestors(r);let d=0;for(;s[d]==l[d]&&s[d];)d++;return d===0?null:s[d-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const r=this.getPath(),s=e.getPath(),l=fe(r,s);switch(l){case"prefix":return!0;case"extension":return!1;default:return r[l]<s[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,r){this.fire(`change:${e}`,r),this.parent&&this.parent._fireChange(e,r)}toJSON(){const e=KE(this);return delete e.parent,e}}Cl.prototype.is=function(a){return a==="node"||a==="view:node"};class qt extends Cl{constructor(e,r){super(e),this._textData=r}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof qt&&(this===e||this.data===e.data)}_clone(){return new qt(this.document,this.data)}}qt.prototype.is=function(a){return a==="$text"||a==="view:$text"||a==="text"||a==="view:text"||a==="node"||a==="view:node"};class Io extends _l{constructor(e,r,s){if(super(),this.textNode=e,r<0||r>e.data.length)throw new N("view-textproxy-wrong-offsetintext",this);if(s<0||r+s>e.data.length)throw new N("view-textproxy-wrong-length",this);this.data=e.data.substring(r,r+s),this.offsetInText=r}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const r=[];let s=e.includeSelf?this.textNode:this.parent;for(;s!==null;)r[e.parentFirst?"push":"unshift"](s),s=s.parent;return r}}Io.prototype.is=function(a){return a==="$textProxy"||a==="view:$textProxy"||a==="textProxy"||a==="view:textProxy"};class Mo{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let r of e)(typeof r=="string"||r instanceof RegExp)&&(r={name:r}),this._patterns.push(r)}match(...e){for(const r of e)for(const s of this._patterns){const l=qE(r,s);if(l)return{element:r,pattern:s,match:l}}return null}matchAll(...e){const r=[];for(const s of e)for(const l of this._patterns){const d=qE(s,l);d&&r.push({element:s,pattern:l,match:d})}return r.length>0?r:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],r=e.name;return typeof e=="function"||!r||r instanceof RegExp?null:r}}function qE(a,e){if(typeof e=="function")return e(a);const r={};return e.name&&(r.name=function(s,l){return s instanceof RegExp?!!l.match(s):s===l}(e.name,a.name),!r.name)||e.attributes&&(r.attributes=function(s,l){const d=new Set(l.getAttributeKeys());return Xt(s)?(s.style!==void 0&&P("matcher-pattern-deprecated-attributes-style-key",s),s.class!==void 0&&P("matcher-pattern-deprecated-attributes-class-key",s)):(d.delete("style"),d.delete("class")),Dk(s,d,m=>l.getAttribute(m))}(e.attributes,a),!r.attributes)||e.classes&&(r.classes=function(s,l){return Dk(s,l.getClassNames(),()=>{})}(e.classes,a),!r.classes)||e.styles&&(r.styles=function(s,l){return Dk(s,l.getStyleNames(!0),d=>l.getStyle(d))}(e.styles,a),!r.styles)?null:r}function Dk(a,e,r){const s=function(m){return Array.isArray(m)?m.map(y=>Xt(y)?(y.key!==void 0&&y.value!==void 0||P("matcher-pattern-missing-key-or-value",y),[y.key,y.value]):[y,!0]):Xt(m)?Object.entries(m):[[m,!0]]}(a),l=Array.from(e),d=[];if(s.forEach(([m,y])=>{l.forEach(C=>{(function(S,M){return S===!0||S===M||S instanceof RegExp&&M.match(S)})(m,C)&&function(S,M,$){if(S===!0)return!0;const U=$(M);return S===U||S instanceof RegExp&&!!String(U).match(S)}(y,C,r)&&d.push(C)})}),s.length&&!(d.length<s.length))return d}const ig=function(a){return typeof a=="symbol"||kn(a)&&lr(a)=="[object Symbol]"};var _z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cz=/^\w*$/;const Ez=function(a,e){if(Rn(a))return!1;var r=typeof a;return!(r!="number"&&r!="symbol"&&r!="boolean"&&a!=null&&!ig(a))||Cz.test(a)||!_z.test(a)||e!=null&&a in Object(e)};function Ik(a,e){if(typeof a!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var r=function(){var s=arguments,l=e?e.apply(this,s):s[0],d=r.cache;if(d.has(l))return d.get(l);var m=a.apply(this,s);return r.cache=d.set(l,m)||d,m};return r.cache=new(Ik.Cache||jr),r}Ik.Cache=jr;const Sz=Ik;var xz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tz=/\\(\\)?/g,Dz=function(a){var e=Sz(a,function(s){return r.size===500&&r.clear(),s}),r=e.cache;return e}(function(a){var e=[];return a.charCodeAt(0)===46&&e.push(""),a.replace(xz,function(r,s,l,d){e.push(l?d.replace(Tz,"$1"):s||r)}),e});const Iz=Dz,Mz=function(a,e){for(var r=-1,s=a==null?0:a.length,l=Array(s);++r<s;)l[r]=e(a[r],r,a);return l};var QE=ot?ot.prototype:void 0,YE=QE?QE.toString:void 0;const Lz=function a(e){if(typeof e=="string")return e;if(Rn(e))return Mz(e,a)+"";if(ig(e))return YE?YE.call(e):"";var r=e+"";return r=="0"&&1/e==-1/0?"-0":r},Mk=function(a){return a==null?"":Lz(a)},Lk=function(a,e){return Rn(a)?a:Ez(a,e)?[a]:Iz(Mk(a))},Rz=function(a){var e=a==null?0:a.length;return e?a[e-1]:void 0},Rk=function(a){if(typeof a=="string"||ig(a))return a;var e=a+"";return e=="0"&&1/a==-1/0?"-0":e},ZE=function(a,e){for(var r=0,s=(e=Lk(e,a)).length;a!=null&&r<s;)a=a[Rk(e[r++])];return r&&r==s?a:void 0},JE=function(a,e,r){var s=-1,l=a.length;e<0&&(e=-e>l?0:l+e),(r=r>l?l:r)<0&&(r+=l),l=e>r?0:r-e>>>0,e>>>=0;for(var d=Array(l);++s<l;)d[s]=a[s+e];return d},Nz=function(a,e){return e.length<2?a:ZE(a,JE(e,0,-1))},Oz=function(a,e){return e=Lk(e,a),(a=Nz(a,e))==null||delete a[Rk(Rz(e))]},Pz=function(a,e){return a==null||Oz(a,e)},rg=function(a,e,r){var s=a==null?void 0:ZE(a,e);return s===void 0?r:s},Nk=function(a,e,r){(r!==void 0&&!as(a[e],r)||r===void 0&&!(e in a))&&fl(a,e,r)},$z=function(a){return function(e,r,s){for(var l=-1,d=Object(e),m=s(e),y=m.length;y--;){var C=m[a?y:++l];if(r(d[C],C,d)===!1)break}return e}}(),Bz=function(a){return kn(a)&&zi(a)},Ok=function(a,e){if((e!=="constructor"||typeof a[e]!="function")&&e!="__proto__")return a[e]},Fz=function(a){return Cr(a,na(a))},zz=function(a,e,r,s,l,d,m){var y=Ok(a,r),C=Ok(e,r),S=m.get(C);if(S)Nk(a,r,S);else{var M=d?d(y,C,r+"",a,e,m):void 0,$=M===void 0;if($){var U=Rn(C),W=!U&&Yi(C),K=!U&&!W&&en(C);M=C,U||W||K?Rn(y)?M=y:Bz(y)?M=Qd(y):W?($=!1,M=Ip(C,!0)):K?($=!1,M=ie(C,!0)):M=[]:Xt(C)||us(C)?(M=y,us(y)?M=Fz(y):ye(y)&&!Ar(y)||(M=dt(C))):$=!1}$&&(m.set(C,M),l(M,C,s,d,m),m.delete(C)),Nk(a,r,M)}},jz=function a(e,r,s,l,d){e!==r&&$z(r,function(m,y){if(d||(d=new Ao),ye(m))zz(e,r,y,s,a,l,d);else{var C=l?l(Ok(e,y),m,y+"",e,r,d):void 0;C===void 0&&(C=m),Nk(e,y,C)}},na)},El=function(a){return a},Vz=function(a,e,r){switch(r.length){case 0:return a.call(e);case 1:return a.call(e,r[0]);case 2:return a.call(e,r[0],r[1]);case 3:return a.call(e,r[0],r[1],r[2])}return a.apply(e,r)};var XE=Math.max;const Uz=function(a,e,r){return e=XE(e===void 0?a.length-1:e,0),function(){for(var s=arguments,l=-1,d=XE(s.length-e,0),m=Array(d);++l<d;)m[l]=s[e+l];l=-1;for(var y=Array(e+1);++l<e;)y[l]=s[l];return y[e]=r(m),Vz(a,this,y)}},Hz=function(a){return function(){return a}},Wz=Js?function(a,e){return Js(a,"toString",{configurable:!0,enumerable:!1,value:Hz(e),writable:!0})}:El;var Gz=Date.now;const Kz=function(a){var e=0,r=0;return function(){var s=Gz(),l=16-(s-r);if(r=s,l>0){if(++e>=800)return arguments[0]}else e=0;return a.apply(void 0,arguments)}}(Wz),qz=function(a,e){return Kz(Uz(a,e,El),a+"")},Qz=function(a,e,r){if(!ye(r))return!1;var s=typeof e;return!!(s=="number"?zi(r)&&wl(e,r.length):s=="string"&&e in r)&&as(r[e],a)},eS=function(a){return qz(function(e,r){var s=-1,l=r.length,d=l>1?r[l-1]:void 0,m=l>2?r[2]:void 0;for(d=a.length>3&&typeof d=="function"?(l--,d):void 0,m&&Qz(r[0],r[1],m)&&(d=l<3?void 0:d,l=1),e=Object(e);++s<l;){var y=r[s];y&&a(e,y,s,d)}return e})},tS=eS(function(a,e,r){jz(a,e,r)}),Yz=function(a,e,r,s){if(!ye(a))return a;for(var l=-1,d=(e=Lk(e,a)).length,m=d-1,y=a;y!=null&&++l<d;){var C=Rk(e[l]),S=r;if(C==="__proto__"||C==="constructor"||C==="prototype")return a;if(l!=m){var M=y[C];(S=s?s(M,C,y):void 0)===void 0&&(S=ye(M)?M:wl(e[l+1])?[]:{})}pl(y,C,S),y=y[C]}return a},Zz=function(a,e,r){return a==null?a:Yz(a,e,r)};class Jz{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const r=Array.from(function(s){let l=null,d=0,m=0,y=null;const C=new Map;if(s==="")return C;s.charAt(s.length-1)!=";"&&(s+=";");for(let S=0;S<s.length;S++){const M=s.charAt(S);if(l===null)switch(M){case":":y||(y=s.substr(d,S-d),m=S+1);break;case'"':case"'":l=M;break;case";":{const $=s.substr(m,S-m);y&&C.set(y.trim(),$.trim()),y=null,d=S+1;break}}else M===l&&(l=null)}return C}(e).entries());for(const[s,l]of r)this._styleProcessor.toNormalizedForm(s,l,this._styles)}has(e){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(r)}set(e,r){if(ye(e))for(const[s,l]of Object.entries(e))this._styleProcessor.toNormalizedForm(s,l,this._styles);else this._styleProcessor.toNormalizedForm(e,r,this._styles)}remove(e){const r=Pk(e);Pz(this._styles,r),delete this._styles[e],this._cleanEmptyObjectsOnPath(r)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!ye(this._styles[e]))return this._styles[e];const r=this._styleProcessor.getReducedForm(e,this._styles).find(([s])=>s===e);return Array.isArray(r)?r[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([r])=>r)}clear(){this._styles={}}_getStylesEntries(){const e=[],r=Object.keys(this._styles);for(const s of r)e.push(...this._styleProcessor.getReducedForm(s,this._styles));return e}_cleanEmptyObjectsOnPath(e){const r=e.split(".");if(!(r.length>1))return;const s=r.splice(0,r.length-1).join("."),l=rg(this._styles,s);l&&!Array.from(Object.keys(l)).length&&this.remove(s)}}class Xz{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,r,s){if(ye(r))$k(s,Pk(e),r);else if(this._normalizers.has(e)){const l=this._normalizers.get(e),{path:d,value:m}=l(r);$k(s,d,m)}else $k(s,e,r)}getNormalized(e,r){if(!e)return tS({},r);if(r[e]!==void 0)return r[e];if(this._extractors.has(e)){const s=this._extractors.get(e);if(typeof s=="string")return rg(r,s);const l=s(e,r);if(l)return l}return rg(r,Pk(e))}getReducedForm(e,r){const s=this.getNormalized(e,r);return s===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(s):[[e,s]]}getStyleNames(e){const r=Array.from(this._consumables.keys()).filter(l=>{const d=this.getNormalized(l,e);return d&&typeof d=="object"?Object.keys(d).length:d}),s=new Set([...r,...Object.keys(e)]);return Array.from(s.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,r){this._normalizers.set(e,r)}setExtractor(e,r){this._extractors.set(e,r)}setReducer(e,r){this._reducers.set(e,r)}setStyleRelation(e,r){this._mapStyleNames(e,r);for(const s of r)this._mapStyleNames(s,[e])}_mapStyleNames(e,r){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...r)}}function Pk(a){return a.replace("-",".")}function $k(a,e,r){let s=r;ye(r)&&(s=tS({},rg(a,e),r)),Zz(a,e,s)}class ur extends Cl{constructor(e,r,s,l){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=r,this._attrs=function(d){const m=Do(d);for(const[y,C]of m)C===null?m.delete(y):typeof C!="string"&&m.set(y,String(C));return m}(s),this._children=[],l&&this._insertChild(0,l),this._classes=new Set,this._attrs.has("class")){const d=this._attrs.get("class");nS(this._classes,d),this._attrs.delete("class")}this._styles=new Jz(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const r=this._styles.toString();return r==""?void 0:r}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof ur))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[r,s]of this._attrs)if(!e._attrs.has(r)||e._attrs.get(r)!==s)return!1;for(const r of this._classes)if(!e._classes.has(r))return!1;for(const r of this._styles.getStyleNames())if(!e._styles.has(r)||e._styles.getAsString(r)!==this._styles.getAsString(r))return!1;return!0}hasClass(...e){for(const r of e)if(!this._classes.has(r))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const r of e)if(!this._styles.has(r))return!1;return!0}findAncestor(...e){const r=new Mo(...e);let s=this.parent;for(;s&&!s.is("documentFragment");){if(r.match(s))return s;s=s.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),r=this._styles.toString(),s=Array.from(this._attrs).map(l=>`${l[0]}="${l[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(r?` style="${r}"`:"")+(s==""?"":` ${s}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const r=[];if(e)for(const l of this.getChildren())r.push(l._clone(e));const s=new this.constructor(this.document,this.name,this._attrs,r);return s._classes=new Set(this._classes),s._styles.set(this._styles.getNormalized()),s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s._unsafeAttributesToRender=this._unsafeAttributesToRender,s}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,r){this._fireChange("children",this);let s=0;const l=function(d,m){return typeof m=="string"?[new qt(d,m)]:(Se(m)||(m=[m]),Array.from(m).map(y=>typeof y=="string"?new qt(d,y):y instanceof Io?new qt(d,y.data):y))}(this.document,r);for(const d of l)d.parent!==null&&d._remove(),d.parent=this,d.document=this.document,this._children.splice(e,0,d),e++,s++;return s}_removeChildren(e,r=1){this._fireChange("children",this);for(let s=e;s<e+r;s++)this._children[s].parent=null;return this._children.splice(e,r)}_setAttribute(e,r){const s=String(r);this._fireChange("attributes",this),e=="class"?nS(this._classes,s):e=="style"?this._styles.setTo(s):this._attrs.set(e,s)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const r of Zn(e))this._classes.add(r)}_removeClass(e){this._fireChange("attributes",this);for(const r of Zn(e))this._classes.delete(r)}_setStyle(e,r){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,r)}_removeStyle(e){this._fireChange("attributes",this);for(const r of Zn(e))this._styles.remove(r)}_setCustomProperty(e,r){this._customProperties.set(e,r)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function nS(a,e){const r=e.split(/\s+/);a.clear(),r.forEach(s=>a.add(s))}ur.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="view:element"):a==="element"||a==="view:element"||a==="node"||a==="view:node"};class nh extends ur{constructor(e,r,s,l){super(e,r,s,l),this.getFillerOffset=iS}}function iS(){const a=[...this.getChildren()],e=a[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const r of a)if(!r.is("uiElement"))return null;return this.childCount}nh.prototype.is=function(a,e){return e?e===this.name&&(a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class og extends Ye(nh){constructor(e,r,s,l){super(e,r,s,l),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",d=>d&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}og.prototype.is=function(a,e){return e?e===this.name&&(a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};const rS=Symbol("rootName");class oS extends og{constructor(e,r){super(e,r),this.rootName="main"}get rootName(){return this.getCustomProperty(rS)}set rootName(e){this._setCustomProperty(rS,e)}set _name(e){this.name=e}}oS.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Sl{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new N("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new N("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Ne._createAt(e.startPosition):this._position=Ne._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let r,s;do s=this.position,r=this.next();while(!r.done&&e(r.value));r.done||(this._position=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const r=this.position,s=e.parent;if(s.parent===null&&e.offset===s.childCount)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let l;if(s instanceof qt){if(e.isAtEnd)return this._position=Ne._createAfter(s),this._next();l=s.data[e.offset]}else l=s.getChild(e.offset);if(l instanceof ur)return this.shallow?e.offset++:e=new Ne(l,0),this._position=e,this._formatReturnValue("elementStart",l,r,e,1);if(l instanceof qt){if(this.singleCharacters)return e=new Ne(l,0),this._position=e,this._next();{let d,m=l.data.length;return l==this._boundaryEndParent?(m=this.boundaries.end.offset,d=new Io(l,0,m),e=Ne._createAfter(d)):(d=new Io(l,0,l.data.length),e.offset++),this._position=e,this._formatReturnValue("text",d,r,e,m)}}if(typeof l=="string"){let d;this.singleCharacters?d=1:d=(s===this._boundaryEndParent?this.boundaries.end.offset:s.data.length)-e.offset;const m=new Io(s,e.offset,d);return e.offset+=d,this._position=e,this._formatReturnValue("text",m,r,e,d)}return e=Ne._createAfter(s),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",s,r,e)}_previous(){let e=this.position.clone();const r=this.position,s=e.parent;if(s.parent===null&&e.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let l;if(s instanceof qt){if(e.isAtStart)return this._position=Ne._createBefore(s),this._previous();l=s.data[e.offset-1]}else l=s.getChild(e.offset-1);if(l instanceof ur)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",l,r,e,1)):(e=new Ne(l,l.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",l,r,e));if(l instanceof qt){if(this.singleCharacters)return e=new Ne(l,l.data.length),this._position=e,this._previous();{let d,m=l.data.length;if(l==this._boundaryStartParent){const y=this.boundaries.start.offset;d=new Io(l,y,l.data.length-y),m=d.data.length,e=Ne._createBefore(d)}else d=new Io(l,0,l.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",d,r,e,m)}}if(typeof l=="string"){let d;if(this.singleCharacters)d=1;else{const y=s===this._boundaryStartParent?this.boundaries.start.offset:0;d=e.offset-y}e.offset-=d;const m=new Io(s,e.offset,d);return this._position=e,this._formatReturnValue("text",m,r,e,d)}return e=Ne._createBefore(s),this._position=e,this._formatReturnValue("elementStart",s,r,e,1)}_formatReturnValue(e,r,s,l,d){return r instanceof Io&&(r.offsetInText+r.data.length==r.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?s=Ne._createAfter(r.textNode):(l=Ne._createAfter(r.textNode),this._position=l)),r.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?s=Ne._createBefore(r.textNode):(l=Ne._createBefore(r.textNode),this._position=l))),{done:!1,value:{type:e,item:r,previousPosition:s,nextPosition:l,length:d}}}}class Ne extends _l{constructor(e,r){super(),this.parent=e,this.offset=r}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof og);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const r=Ne._createAt(this),s=r.offset+e;return r.offset=s<0?0:s,r}getLastMatchingPosition(e,r={}){r.startPosition=this;const s=new Sl(r);return s.skip(e),s.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const r=this.getAncestors(),s=e.getAncestors();let l=0;for(;r[l]==s[l]&&r[l];)l++;return l===0?null:r[l-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const r=this.parent.is("node")?this.parent.getPath():[],s=e.parent.is("node")?e.parent.getPath():[];r.push(this.offset),s.push(e.offset);const l=fe(r,s);switch(l){case"prefix":return"before";case"extension":return"after";default:return r[l]<s[l]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Sl(e)}clone(){return new Ne(this.parent,this.offset)}static _createAt(e,r){if(e instanceof Ne)return new this(e.parent,e.offset);{const s=e;if(r=="end")r=s.is("$text")?s.data.length:s.childCount;else{if(r=="before")return this._createBefore(s);if(r=="after")return this._createAfter(s);if(r!==0&&!r)throw new N("view-createpositionat-offset-required",s)}return new Ne(s,r)}}static _createAfter(e){if(e.is("$textProxy"))return new Ne(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new N("view-position-after-root",e,{root:e});return new Ne(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Ne(e.textNode,e.offsetInText);if(!e.parent)throw new N("view-position-before-root",e,{root:e});return new Ne(e.parent,e.index)}}Ne.prototype.is=function(a){return a==="position"||a==="view:position"};class tt extends _l{constructor(e,r=null){super(),this.start=e.clone(),this.end=r?r.clone():e.clone()}*[Symbol.iterator](){yield*new Sl({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(sg,{direction:"backward"}),r=this.end.getLastMatchingPosition(sg);return e.parent.is("$text")&&e.isAtStart&&(e=Ne._createBefore(e.parent)),r.parent.is("$text")&&r.isAtEnd&&(r=Ne._createAfter(r.parent)),new tt(e,r)}getTrimmed(){let e=this.start.getLastMatchingPosition(sg);if(e.isAfter(this.end)||e.isEqual(this.end))return new tt(e,e);let r=this.end.getLastMatchingPosition(sg,{direction:"backward"});const s=e.nodeAfter,l=r.nodeBefore;return s&&s.is("$text")&&(e=new Ne(s,0)),l&&l.is("$text")&&(r=new Ne(l,l.data.length)),new tt(e,r)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,r=!1){e.isCollapsed&&(r=!1);const s=this.containsPosition(e.start)||r&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||r&&this.end.isEqual(e.end);return s&&l}getDifference(e){const r=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&r.push(new tt(this.start,e.start)),this.containsPosition(e.end)&&r.push(new tt(e.end,this.end))):r.push(this.clone()),r}getIntersection(e){if(this.isIntersecting(e)){let r=this.start,s=this.end;return this.containsPosition(e.start)&&(r=e.start),this.containsPosition(e.end)&&(s=e.end),new tt(r,s)}return null}getWalker(e={}){return e.boundaries=this,new Sl(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,r=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(r=this.end.parent.previousSibling),e&&e.is("element")&&e===r?e:null}clone(){return new tt(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const r=new Sl(e);for(const s of r)yield s.item}*getPositions(e={}){e.boundaries=this;const r=new Sl(e);yield r.position;for(const s of r)yield s.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,r,s,l){return new this(new Ne(e,r),new Ne(s,l))}static _createFromPositionAndShift(e,r){const s=e,l=e.getShiftedBy(r);return r>0?new this(s,l):new this(l,s)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const r=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Ne._createBefore(e),r)}}function sg(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}tt.prototype.is=function(a){return a==="range"||a==="view:range"};class Lo extends ee(_l){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const r of this._ranges)e&&!r.start.isBefore(e.start)||(e=r);return e?e.clone():null}getLastRange(){let e=null;for(const r of this._ranges)e&&!r.end.isAfter(e.end)||(e=r);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const r of this._ranges){let s=!1;for(const l of e._ranges)if(r.isEqual(l)){s=!0;break}if(!s)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const r=Me(this.getRanges());if(r!=Me(e.getRanges()))return!1;if(r==0)return!0;for(let s of this.getRanges()){s=s.getTrimmed();let l=!1;for(let d of e.getRanges())if(d=d.getTrimmed(),s.start.isEqual(d.start)&&s.end.isEqual(d.end)){l=!0;break}if(!l)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[r,s,l]=e;if(typeof s=="object"&&(l=s,s=void 0),r===null)this._setRanges([]),this._setFakeOptions(l);else if(r instanceof Lo||r instanceof Bk)this._setRanges(r.getRanges(),r.isBackward),this._setFakeOptions({fake:r.isFake,label:r.fakeSelectionLabel});else if(r instanceof tt)this._setRanges([r],l&&l.backward),this._setFakeOptions(l);else if(r instanceof Ne)this._setRanges([new tt(r)]),this._setFakeOptions(l);else if(r instanceof Cl){const d=!!l&&!!l.backward;let m;if(s===void 0)throw new N("view-selection-setto-required-second-parameter",this);m=s=="in"?tt._createIn(r):s=="on"?tt._createOn(r):new tt(Ne._createAt(r,s)),this._setRanges([m],d),this._setFakeOptions(l)}else{if(!Se(r))throw new N("view-selection-setto-not-selectable",this);this._setRanges(r,l&&l.backward),this._setFakeOptions(l)}this.fire("change")}setFocus(e,r){if(this.anchor===null)throw new N("view-selection-setfocus-no-ranges",this);const s=Ne._createAt(e,r);if(s.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.pop(),s.compareWith(l)=="before"?this._addRange(new tt(s,l),!0):this._addRange(new tt(l,s)),this.fire("change")}_setRanges(e,r=!1){e=Array.from(e),this._ranges=[];for(const s of e)this._addRange(s);this._lastRangeBackward=!!r}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,r=!1){if(!(e instanceof tt))throw new N("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!r}_pushRange(e){for(const r of this._ranges)if(e.isIntersecting(r))throw new N("view-selection-range-intersects",this,{addedRange:e,intersectingRange:r});this._ranges.push(new tt(e.start,e.end))}}Lo.prototype.is=function(a){return a==="selection"||a==="view:selection"};class Bk extends ee(_l){constructor(...e){super(),this._selection=new Lo,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,r){this._selection.setFocus(e,r)}}Bk.prototype.is=function(a){return a==="selection"||a=="documentSelection"||a=="view:selection"||a=="view:documentSelection"};class Kc extends D{constructor(e,r,s){super(e,r),this.startRange=s,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Fk=Symbol("bubbling contexts");function zk(a){return class extends a{fire(e,...r){try{const s=e instanceof D?e:new D(this,e),l=jk(this);if(!l.size)return;if(ih(s,"capturing",this),qc(l,"$capture",s,...r))return s.return;const d=s.startRange||this.selection.getFirstRange(),m=d?d.getContainedElement():null,y=!!m&&!!sS(l,m);let C=m||function(S){if(!S)return null;const M=S.start.parent,$=S.end.parent,U=M.getPath(),W=$.getPath();return U.length>W.length?M:$}(d);if(ih(s,"atTarget",C),!y){if(qc(l,"$text",s,...r))return s.return;ih(s,"bubbling",C)}for(;C;){if(C.is("rootElement")){if(qc(l,"$root",s,...r))return s.return}else if(C.is("element")&&qc(l,C.name,s,...r))return s.return;if(qc(l,C,s,...r))return s.return;C=C.parent,ih(s,"bubbling",C)}return ih(s,"bubbling",this),qc(l,"$document",s,...r),s.return}catch(s){N.rethrowUnexpectedError(s,this)}}_addEventListener(e,r,s){const l=Zn(s.context||"$document"),d=jk(this);for(const m of l){let y=d.get(m);y||(y=new(ee()),d.set(m,y)),this.listenTo(y,e,r,s)}}_removeEventListener(e,r){const s=jk(this);for(const l of s.values())this.stopListening(l,e,r)}}}{const a=zk(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{zk[e]=a.prototype[e]})}function ih(a,e,r){a instanceof Kc&&(a._eventPhase=e,a._currentTarget=r)}function qc(a,e,r,...s){const l=typeof e=="string"?a.get(e):sS(a,e);return!!l&&(l.fire(r,...s),r.stop.called)}function sS(a,e){for(const[r,s]of a)if(typeof r=="function"&&r(e))return s;return null}function jk(a){return a[Fk]||(a[Fk]=new Map),a[Fk]}class ag extends zk(Ye()){constructor(e){super(),this._postFixers=new Set,this.selection=new Bk,this.roots=new Wr({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let r=!1;do for(const s of this._postFixers)if(r=s(e),r)break;while(r)}}class xl extends ur{constructor(e,r,s,l){super(e,r,s,l),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=e3}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new N("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const r=super._clone(e);return r._priority=this._priority,r._id=this._id,r}}function e3(){if(Vk(this))return null;let a=this.parent;for(;a&&a.is("attributeElement");){if(Vk(a)>1)return null;a=a.parent}return!a||Vk(a)>1?null:this.childCount}function Vk(a){return Array.from(a.getChildren()).filter(e=>!e.is("uiElement")).length}xl.DEFAULT_PRIORITY=10,xl.prototype.is=function(a,e){return e?e===this.name&&(a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"):a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Uk extends ur{constructor(e,r,s,l){super(e,r,s,l),this.getFillerOffset=t3}_insertChild(e,r){if(r&&(r instanceof Cl||Array.from(r).length>0))throw new N("view-emptyelement-cannot-add",[this,r]);return 0}}function t3(){return null}Uk.prototype.is=function(a,e){return e?e===this.name&&(a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"):a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class lg extends ur{constructor(e,r,s,l){super(e,r,s,l),this.getFillerOffset=i3}_insertChild(e,r){if(r&&(r instanceof Cl||Array.from(r).length>0))throw new N("view-uielement-cannot-add",[this,r]);return 0}render(e,r){return this.toDomElement(e)}toDomElement(e){const r=e.createElement(this.name);for(const s of this.getAttributeKeys())r.setAttribute(s,this.getAttribute(s));return r}}function n3(a){a.document.on("arrowKey",(e,r)=>function(s,l,d){if(l.keyCode==St.arrowright){const m=l.domTarget.ownerDocument.defaultView.getSelection(),y=m.rangeCount==1&&m.getRangeAt(0).collapsed;if(y||l.shiftKey){const C=m.focusNode,S=m.focusOffset,M=d.domPositionToView(C,S);if(M===null)return;let $=!1;const U=M.getLastMatchingPosition(W=>(W.item.is("uiElement")&&($=!0),!(!W.item.is("uiElement")&&!W.item.is("attributeElement"))));if($){const W=d.viewPositionToDom(U);y?m.collapse(W.parent,W.offset):m.extend(W.parent,W.offset)}}}}(0,r,a.domConverter),{priority:"low"})}function i3(){return null}lg.prototype.is=function(a,e){return e?e===this.name&&(a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"):a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Hk extends ur{constructor(e,r,s,l){super(e,r,s,l),this.getFillerOffset=r3}_insertChild(e,r){if(r&&(r instanceof Cl||Array.from(r).length>0))throw new N("view-rawelement-cannot-add",[this,r]);return 0}render(e,r){}}function r3(){return null}Hk.prototype.is=function(a,e){return e?e===this.name&&(a==="rawElement"||a==="view:rawElement"||a==="element"||a==="view:element"):a==="rawElement"||a==="view:rawElement"||a===this.name||a==="view:"+this.name||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Tl extends ee(_l){constructor(e,r){super(),this._children=[],this._customProperties=new Map,this.document=e,r&&this._insertChild(0,r)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,r){this._fireChange("children",this);let s=0;const l=function(d,m){return typeof m=="string"?[new qt(d,m)]:(Se(m)||(m=[m]),Array.from(m).map(y=>typeof y=="string"?new qt(d,y):y instanceof Io?new qt(d,y.data):y))}(this.document,r);for(const d of l)d.parent!==null&&d._remove(),d.parent=this,this._children.splice(e,0,d),e++,s++;return s}_removeChildren(e,r=1){this._fireChange("children",this);for(let s=e;s<e+r;s++)this._children[s].parent=null;return this._children.splice(e,r)}_fireChange(e,r){this.fire("change:"+e,r)}_setCustomProperty(e,r){this._customProperties.set(e,r)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Tl.prototype.is=function(a){return a==="documentFragment"||a==="view:documentFragment"};class aS{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,r){this.document.selection._setFocus(e,r)}createDocumentFragment(e){return new Tl(this.document,e)}createText(e){return new qt(this.document,e)}createAttributeElement(e,r,s={}){const l=new xl(this.document,e,r);return typeof s.priority=="number"&&(l._priority=s.priority),s.id&&(l._id=s.id),s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createContainerElement(e,r,s={},l={}){let d=null;Xt(s)?l=s:d=s;const m=new nh(this.document,e,r,d);return l.renderUnsafeAttributes&&m._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),m}createEditableElement(e,r,s={}){const l=new og(this.document,e,r);return s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createEmptyElement(e,r,s={}){const l=new Uk(this.document,e,r);return s.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),l}createUIElement(e,r,s){const l=new lg(this.document,e,r);return s&&(l.render=s),l}createRawElement(e,r,s,l={}){const d=new Hk(this.document,e,r);return s&&(d.render=s),l.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),d}setAttribute(e,r,s){s._setAttribute(e,r)}removeAttribute(e,r){r._removeAttribute(e)}addClass(e,r){r._addClass(e)}removeClass(e,r){r._removeClass(e)}setStyle(e,r,s){Xt(e)&&s===void 0?r._setStyle(e):s._setStyle(e,r)}removeStyle(e,r){r._removeStyle(e)}setCustomProperty(e,r,s){s._setCustomProperty(e,r)}removeCustomProperty(e,r){return r._removeCustomProperty(e)}breakAttributes(e){return e instanceof Ne?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const r=e.parent;if(!r.is("containerElement"))throw new N("view-writer-break-non-container-element",this.document);if(!r.parent)throw new N("view-writer-break-root",this.document);if(e.isAtStart)return Ne._createBefore(r);if(!e.isAtEnd){const s=r._clone(!1);this.insert(Ne._createAfter(r),s);const l=new tt(e,Ne._createAt(r,"end")),d=new Ne(s,0);this.move(l,d)}return Ne._createAfter(r)}mergeAttributes(e){const r=e.offset,s=e.parent;if(s.is("$text"))return e;if(s.is("attributeElement")&&s.childCount===0){const m=s.parent,y=s.index;return s._remove(),this._removeFromClonedElementsGroup(s),this.mergeAttributes(new Ne(m,y))}const l=s.getChild(r-1),d=s.getChild(r);if(!l||!d)return e;if(l.is("$text")&&d.is("$text"))return cS(l,d);if(l.is("attributeElement")&&d.is("attributeElement")&&l.isSimilar(d)){const m=l.childCount;return l._appendChild(d.getChildren()),d._remove(),this._removeFromClonedElementsGroup(d),this.mergeAttributes(new Ne(l,m))}return e}mergeContainers(e){const r=e.nodeBefore,s=e.nodeAfter;if(!(r&&s&&r.is("containerElement")&&s.is("containerElement")))throw new N("view-writer-merge-containers-invalid-position",this.document);const l=r.getChild(r.childCount-1),d=l instanceof qt?Ne._createAt(l,"end"):Ne._createAt(r,"end");return this.move(tt._createIn(s),Ne._createAt(r,"end")),this.remove(tt._createOn(s)),d}insert(e,r){uS(r=Se(r)?[...r]:[r],this.document);const s=r.reduce((m,y)=>{const C=m[m.length-1],S=!y.is("uiElement");return C&&C.breakAttributes==S?C.nodes.push(y):m.push({breakAttributes:S,nodes:[y]}),m},[]);let l=null,d=e;for(const{nodes:m,breakAttributes:y}of s){const C=this._insertNodes(d,m,y);l||(l=C.start),d=C.end}return l?new tt(l,d):new tt(e)}remove(e){const r=e instanceof tt?e:tt._createOn(e);if(rh(r,this.document),r.isCollapsed)return new Tl(this.document);const{start:s,end:l}=this._breakAttributesRange(r,!0),d=s.parent,m=l.offset-s.offset,y=d._removeChildren(s.offset,m);for(const S of y)this._removeFromClonedElementsGroup(S);const C=this.mergeAttributes(s);return r.start=C,r.end=C.clone(),new Tl(this.document,y)}clear(e,r){rh(e,this.document);const s=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const l of s){const d=l.item;let m;if(d.is("element")&&r.isSimilar(d))m=tt._createOn(d);else if(!l.nextPosition.isAfter(e.start)&&d.is("$textProxy")){const y=d.getAncestors().find(C=>C.is("element")&&r.isSimilar(C));y&&(m=tt._createIn(y))}m&&(m.end.isAfter(e.end)&&(m.end=e.end),m.start.isBefore(e.start)&&(m.start=e.start),this.remove(m))}}move(e,r){let s;if(r.isAfter(e.end)){const l=(r=this._breakAttributes(r,!0)).parent,d=l.childCount;e=this._breakAttributesRange(e,!0),s=this.remove(e),r.offset+=l.childCount-d}else s=this.remove(e);return this.insert(r,s)}wrap(e,r){if(!(r instanceof xl))throw new N("view-writer-wrap-invalid-attribute",this.document);if(rh(e,this.document),e.isCollapsed){let l=e.start;l.parent.is("element")&&(s=l.parent,!Array.from(s.getChildren()).some(m=>!m.is("uiElement")))&&(l=l.getLastMatchingPosition(m=>m.item.is("uiElement"))),l=this._wrapPosition(l,r);const d=this.document.selection;return d.isCollapsed&&d.getFirstPosition().isEqual(e.start)&&this.setSelection(l),new tt(l)}return this._wrapRange(e,r);var s}unwrap(e,r){if(!(r instanceof xl))throw new N("view-writer-unwrap-invalid-attribute",this.document);if(rh(e,this.document),e.isCollapsed)return e;const{start:s,end:l}=this._breakAttributesRange(e,!0),d=s.parent,m=this._unwrapChildren(d,s.offset,l.offset,r),y=this.mergeAttributes(m.start);y.isEqual(m.start)||m.end.offset--;const C=this.mergeAttributes(m.end);return new tt(y,C)}rename(e,r){const s=new nh(this.document,e,r.getAttributes());return this.insert(Ne._createAfter(r),s),this.move(tt._createIn(r),Ne._createAt(s,0)),this.remove(tt._createOn(r)),s}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,r){return Ne._createAt(e,r)}createPositionAfter(e){return Ne._createAfter(e)}createPositionBefore(e){return Ne._createBefore(e)}createRange(e,r){return new tt(e,r)}createRangeOn(e){return tt._createOn(e)}createRangeIn(e){return tt._createIn(e)}createSelection(...e){return new Lo(...e)}createSlot(e="children"){if(!this._slotFactory)throw new N("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,r,s){let l,d;if(l=s?Wk(e):e.parent.is("$text")?e.parent.parent:e.parent,!l)throw new N("view-writer-invalid-position-container",this.document);d=s?this._breakAttributes(e,!0):e.parent.is("$text")?Gk(e):e;const m=l._insertChild(d.offset,r);for(const M of r)this._addToClonedElementsGroup(M);const y=d.getShiftedBy(m),C=this.mergeAttributes(d);C.isEqual(d)||y.offset--;const S=this.mergeAttributes(y);return new tt(C,S)}_wrapChildren(e,r,s,l){let d=r;const m=[];for(;d<s;){const C=e.getChild(d),S=C.is("$text"),M=C.is("attributeElement");if(M&&this._wrapAttributeElement(l,C))m.push(new Ne(e,d));else if(S||!M||o3(l,C)){const $=l._clone();C._remove(),$._appendChild(C),e._insertChild(d,$),this._addToClonedElementsGroup($),m.push(new Ne(e,d))}else this._wrapChildren(C,0,C.childCount,l);d++}let y=0;for(const C of m)C.offset-=y,C.offset!=r&&(this.mergeAttributes(C).isEqual(C)||(y++,s--));return tt._createFromParentsAndOffsets(e,r,e,s)}_unwrapChildren(e,r,s,l){let d=r;const m=[];for(;d<s;){const C=e.getChild(d);if(C.is("attributeElement"))if(C.isSimilar(l)){const S=C.getChildren(),M=C.childCount;C._remove(),e._insertChild(d,S),this._removeFromClonedElementsGroup(C),m.push(new Ne(e,d),new Ne(e,d+M)),d+=M,s+=M-1}else this._unwrapAttributeElement(l,C)?(m.push(new Ne(e,d),new Ne(e,d+1)),d++):(this._unwrapChildren(C,0,C.childCount,l),d++);else d++}let y=0;for(const C of m)C.offset-=y,!(C.offset==r||C.offset==s)&&(this.mergeAttributes(C).isEqual(C)||(y++,s--));return tt._createFromParentsAndOffsets(e,r,e,s)}_wrapRange(e,r){const{start:s,end:l}=this._breakAttributesRange(e,!0),d=s.parent,m=this._wrapChildren(d,s.offset,l.offset,r),y=this.mergeAttributes(m.start);y.isEqual(m.start)||m.end.offset--;const C=this.mergeAttributes(m.end);return new tt(y,C)}_wrapPosition(e,r){if(r.isSimilar(e.parent))return lS(e.clone());e.parent.is("$text")&&(e=Gk(e));const s=this.createAttributeElement("_wrapPosition-fake-element");s._priority=Number.POSITIVE_INFINITY,s.isSimilar=()=>!1,e.parent._insertChild(e.offset,s);const l=new tt(e,e.getShiftedBy(1));this.wrap(l,r);const d=new Ne(s.parent,s.index);s._remove();const m=d.nodeBefore,y=d.nodeAfter;return m instanceof qt&&y instanceof qt?cS(m,y):lS(d)}_wrapAttributeElement(e,r){if(!dS(e,r)||e.name!==r.name||e.priority!==r.priority)return!1;for(const s of e.getAttributeKeys())if(s!=="class"&&s!=="style"&&r.hasAttribute(s)&&r.getAttribute(s)!==e.getAttribute(s))return!1;for(const s of e.getStyleNames())if(r.hasStyle(s)&&r.getStyle(s)!==e.getStyle(s))return!1;for(const s of e.getAttributeKeys())s!=="class"&&s!=="style"&&(r.hasAttribute(s)||this.setAttribute(s,e.getAttribute(s),r));for(const s of e.getStyleNames())r.hasStyle(s)||this.setStyle(s,e.getStyle(s),r);for(const s of e.getClassNames())r.hasClass(s)||this.addClass(s,r);return!0}_unwrapAttributeElement(e,r){if(!dS(e,r)||e.name!==r.name||e.priority!==r.priority)return!1;for(const s of e.getAttributeKeys())if(s!=="class"&&s!=="style"&&(!r.hasAttribute(s)||r.getAttribute(s)!==e.getAttribute(s)))return!1;if(!r.hasClass(...e.getClassNames()))return!1;for(const s of e.getStyleNames())if(!r.hasStyle(s)||r.getStyle(s)!==e.getStyle(s))return!1;for(const s of e.getAttributeKeys())s!=="class"&&s!=="style"&&this.removeAttribute(s,r);return this.removeClass(Array.from(e.getClassNames()),r),this.removeStyle(Array.from(e.getStyleNames()),r),!0}_breakAttributesRange(e,r=!1){const s=e.start,l=e.end;if(rh(e,this.document),e.isCollapsed){const C=this._breakAttributes(e.start,r);return new tt(C,C)}const d=this._breakAttributes(l,r),m=d.parent.childCount,y=this._breakAttributes(s,r);return d.offset+=d.parent.childCount-m,new tt(y,d)}_breakAttributes(e,r=!1){const s=e.offset,l=e.parent;if(e.parent.is("emptyElement"))throw new N("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new N("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new N("view-writer-cannot-break-raw-element",this.document);if(!r&&l.is("$text")&&Kk(l.parent)||Kk(l))return e.clone();if(l.is("$text"))return this._breakAttributes(Gk(e),r);if(s==l.childCount){const d=new Ne(l.parent,l.index+1);return this._breakAttributes(d,r)}if(s===0){const d=new Ne(l.parent,l.index);return this._breakAttributes(d,r)}{const d=l.index+1,m=l._clone();l.parent._insertChild(d,m),this._addToClonedElementsGroup(m);const y=l.childCount-s,C=l._removeChildren(s,y);m._appendChild(C);const S=new Ne(l.parent,d);return this._breakAttributes(S,r)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const l of e.getChildren())this._addToClonedElementsGroup(l);const r=e.id;if(!r)return;let s=this._cloneGroups.get(r);s||(s=new Set,this._cloneGroups.set(r,s)),s.add(e),e._clonesGroup=s}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const l of e.getChildren())this._removeFromClonedElementsGroup(l);const r=e.id;if(!r)return;const s=this._cloneGroups.get(r);s&&s.delete(e)}}function Wk(a){let e=a.parent;for(;!Kk(e);){if(!e)return;e=e.parent}return e}function o3(a,e){return a.priority<e.priority||!(a.priority>e.priority)&&a.getIdentity()<e.getIdentity()}function lS(a){const e=a.nodeBefore;if(e&&e.is("$text"))return new Ne(e,e.data.length);const r=a.nodeAfter;return r&&r.is("$text")?new Ne(r,0):a}function Gk(a){if(a.offset==a.parent.data.length)return new Ne(a.parent.parent,a.parent.index+1);if(a.offset===0)return new Ne(a.parent.parent,a.parent.index);const e=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new qt(a.root.document,e)),new Ne(a.parent.parent,a.parent.index+1)}function cS(a,e){const r=a.data.length;return a._data+=e.data,e._remove(),new Ne(a,r)}const s3=[qt,xl,nh,Uk,Hk,lg];function uS(a,e){for(const r of a){if(!s3.some(s=>r instanceof s))throw new N("view-writer-insert-invalid-node-type",e);r.is("$text")||uS(r.getChildren(),e)}}function Kk(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function rh(a,e){const r=Wk(a.start),s=Wk(a.end);if(!r||!s||r!==s)throw new N("view-writer-invalid-range-container",e)}function dS(a,e){return a.id===null&&e.id===null}const hS=a=>a.createTextNode(""),fS=a=>{const e=a.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},pS=a=>{const e=a.createElement("br");return e.dataset.ckeFiller="true",e},Ro=7,cg="".repeat(Ro);function dr(a){return bn(a)&&a.data.substr(0,Ro)===cg}function oh(a){return a.data.length==Ro&&dr(a)}function gS(a){return dr(a)?a.data.slice(Ro):a.data}function a3(a,e){if(e.keyCode==St.arrowleft){const r=e.domTarget.ownerDocument.defaultView.getSelection();if(r.rangeCount==1&&r.getRangeAt(0).collapsed){const s=r.getRangeAt(0).startContainer,l=r.getRangeAt(0).startOffset;dr(s)&&l<=Ro&&r.collapse(s,0)}}}var mS=c(9315),l3={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(mS.Z,l3),mS.Z.locals;class c3 extends Ye(){constructor(e,r){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=r,this.set("isFocused",!1),this.set("isSelecting",!1),v.isBlink&&!v.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,r){if(e==="text")this.domConverter.mapViewToDom(r.parent)&&this.markedTexts.add(r);else{if(!this.domConverter.mapViewToDom(r))return;if(e==="attributes")this.markedAttributes.add(r);else{if(e!=="children")throw new N("view-renderer-unknown-type",this);this.markedChildren.add(r)}}}render(){if(this.isComposing&&!v.isAndroid)return;let e=null;const r=!(v.isBlink&&!v.isAndroid)||!this.isSelecting;for(const s of this.markedChildren)this._updateChildrenMappings(s);r?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Ne._createBefore(e.parent)));for(const s of this.markedAttributes)this._updateAttrs(s);for(const s of this.markedChildren)this._updateChildren(s,{inlineFillerPosition:e});for(const s of this.markedTexts)!this.markedChildren.has(s.parent)&&this.domConverter.mapViewToDom(s.parent)&&this._updateText(s,{inlineFillerPosition:e});if(r)if(e){const s=this.domConverter.viewPositionToDom(e),l=s.parent.ownerDocument;dr(s.parent)?this._inlineFiller=s.parent:this._inlineFiller=vS(l,s.parent,s.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const r=Array.from(this.domConverter.mapViewToDom(e).childNodes),s=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),l=this._diffNodeLists(r,s),d=this._findUpdateActions(l,r,s,u3);if(d.indexOf("update")!==-1){const m={equal:0,insert:0,delete:0};for(const y of d)if(y==="update"){const C=m.equal+m.insert,S=m.equal+m.delete,M=e.getChild(C);!M||M.is("uiElement")||M.is("rawElement")||this._updateElementMappings(M,r[S]),cE(s[C]),m.equal++}else m[y]++}}_updateElementMappings(e,r){this.domConverter.unbindDomElement(r),this.domConverter.bindElements(r,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Ne._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),r=this.domConverter.viewPositionToDom(e);return!!(r&&bn(r.parent)&&dr(r.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!dr(e))throw new N("view-renderer-filler-was-lost",this);oh(e)?e.remove():e.data=e.data.substr(Ro),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),r=e.parent,s=e.offset;if(!this.domConverter.mapViewToDom(r.root)||!r.is("element")||!function(m){if(m.getAttribute("contenteditable")=="false")return!1;const y=m.findAncestor(C=>C.hasAttribute("contenteditable"));return!y||y.getAttribute("contenteditable")=="true"}(r)||s===r.getFillerOffset())return!1;const l=e.nodeBefore,d=e.nodeAfter;return!(l instanceof qt||d instanceof qt)&&(!v.isAndroid||!l&&!d)}_updateText(e,r){const s=this.domConverter.findCorrespondingDomText(e);let l=this.domConverter.viewToDom(e).data;const d=r.inlineFillerPosition;d&&d.parent==e.parent&&d.offset==e.index&&(l=cg+l),wS(s,l)}_updateAttrs(e){const r=this.domConverter.mapViewToDom(e);if(!r)return;const s=Array.from(r.attributes).map(d=>d.name),l=e.getAttributeKeys();for(const d of l)this.domConverter.setDomElementAttribute(r,d,e.getAttribute(d),e);for(const d of s)e.hasAttribute(d)||this.domConverter.removeDomElementAttribute(r,d)}_updateChildren(e,r){const s=this.domConverter.mapViewToDom(e);if(!s)return;if(v.isAndroid){let $=null;for(const U of Array.from(s.childNodes)){if($&&bn($)&&bn(U)){s.normalize();break}$=U}}const l=r.inlineFillerPosition,d=s.childNodes,m=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));l&&l.parent===e&&vS(s.ownerDocument,m,l.offset);const y=this._diffNodeLists(d,m),C=this._findUpdateActions(y,d,m,d3);let S=0;const M=new Set;for(const $ of C)$==="delete"?(M.add(d[S]),cE(d[S])):$!=="equal"&&$!=="update"||S++;S=0;for(const $ of C)$==="insert"?(oE(s,S,m[S]),S++):$==="update"?(wS(d[S],m[S].data),S++):$==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(m[S])),S++);for(const $ of M)$.parentNode||this.domConverter.unbindDomElement($)}_diffNodeLists(e,r){return e=function(s,l){const d=Array.from(s);return d.length==0||!l||d[d.length-1]==l&&d.pop(),d}(e,this._fakeSelectionContainer),E(e,r,h3.bind(null,this.domConverter))}_findUpdateActions(e,r,s,l){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let d=[],m=[],y=[];const C={equal:0,insert:0,delete:0};for(const S of e)S==="insert"?y.push(s[C.equal+C.insert]):S==="delete"?m.push(r[C.equal+C.delete]):(d=d.concat(E(m,y,l).map(M=>M==="equal"?"update":M)),d.push("equal"),m=[],y=[]),C[S]++;return d.concat(E(m,y,l).map(S=>S==="equal"?"update":S))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const r of e.getChildren())this._markDescendantTextToSync(r)}}_updateSelection(){if(v.isBlink&&!v.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&v.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const r=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(m){const y=m.createElement("div");return y.className="ck-fake-selection-container",Object.assign(y.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),y.textContent="",y}(r));const s=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(s,this.selection),!this._fakeSelectionNeedsUpdate(e))return;s.parentElement&&s.parentElement==e||e.appendChild(s),s.textContent=this.selection.fakeSelectionLabel||"";const l=r.getSelection(),d=r.createRange();l.removeAllRanges(),d.selectNodeContents(s),l.addRange(d)}_updateDomSelection(e){const r=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(r))return;const s=this.domConverter.viewPositionToDom(this.selection.anchor),l=this.domConverter.viewPositionToDom(this.selection.focus);r.collapse(s.parent,s.offset),r.extend(l.parent,l.offset),v.isGecko&&function(d,m){const y=d.parent;if(y.nodeType!=Node.ELEMENT_NODE||d.offset!=y.childNodes.length-1)return;const C=y.childNodes[d.offset];C&&C.tagName=="BR"&&m.addRange(m.getRangeAt(0))}(l,r)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const r=e&&this.domConverter.domSelectionToView(e);return(!r||!this.selection.isEqual(r))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(r))}_fakeSelectionNeedsUpdate(e){const r=this._fakeSelectionContainer,s=e.ownerDocument.getSelection();return!r||r.parentElement!==e||s.anchorNode!==r&&!r.contains(s.anchorNode)||r.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const r=e.getSelection();if(r.rangeCount){const s=e.activeElement,l=this.domConverter.mapDomToView(s);s&&l&&r.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function vS(a,e,r){const s=e instanceof Array?e:e.childNodes,l=s[r];if(bn(l))return l.data=cg+l.data,l;{const d=a.createTextNode(cg);return Array.isArray(e)?s.splice(r,0,d):oE(e,r,d),d}}function u3(a,e){return oa(a)&&oa(e)&&!bn(a)&&!bn(e)&&!Uc(a)&&!Uc(e)&&a.tagName.toLowerCase()===e.tagName.toLowerCase()}function d3(a,e){return oa(a)&&oa(e)&&bn(a)&&bn(e)}function h3(a,e,r){return e===r||(bn(e)&&bn(r)?e.data===r.data:!(!a.isBlockFiller(e)||!a.isBlockFiller(r)))}function wS(a,e){const r=a.data;if(r==e)return;const s=k(r,e);for(const l of s)l.type==="insert"?a.insertData(l.index,l.values.join("")):a.deleteData(l.index,l.howMany)}const f3=pS(vt.document),p3=hS(vt.document),g3=fS(vt.document),ug="data-ck-unsafe-attribute-",kS="data-ck-unsafe-element";class dg{constructor(e,{blockFillerMode:r,renderingMode:s="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Mo,this._encounteredRawContentDomNodes=new WeakSet,this.document=e,this.renderingMode=s,this.blockFillerMode=r||(s==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?vt.document:vt.document.implementation.createHTMLDocument("")}bindFakeSelection(e,r){this._fakeSelectionMapping.set(e,new Lo(r))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,r){this._domToViewMapping.set(e,r),this._viewToDomMapping.set(r,e)}unbindDomElement(e){const r=this._domToViewMapping.get(e);if(r){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(r);for(const s of Array.from(e.children))this.unbindDomElement(s)}}bindDocumentFragments(e,r){this._domToViewMapping.set(e,r),this._viewToDomMapping.set(r,e)}shouldRenderAttribute(e,r,s){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!r.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(s==="img"&&(e==="src"||e==="srcset")||s==="source"&&e==="srcset"||!r.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,r){if(this.renderingMode==="data")return void(e.innerHTML=r);const s=new DOMParser().parseFromString(r,"text/html"),l=s.createDocumentFragment(),d=s.body.childNodes;for(;d.length>0;)l.appendChild(d[0]);const m=s.createTreeWalker(l,NodeFilter.SHOW_ELEMENT),y=[];let C;for(;C=m.nextNode();)y.push(C);for(const S of y){for(const $ of S.getAttributeNames())this.setDomElementAttribute(S,$,S.getAttribute($));const M=S.tagName.toLowerCase();this._shouldRenameElement(M)&&(AS(M),S.replaceWith(this._createReplacementDomElement(M,S)))}for(;e.firstChild;)e.firstChild.remove();e.append(l)}viewToDom(e,r={}){if(e.is("$text")){const s=this._processDataFromViewText(e);return this._domDocument.createTextNode(s)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let s;if(e.is("documentFragment"))s=this._domDocument.createDocumentFragment(),r.bind&&this.bindDocumentFragments(s,e);else{if(e.is("uiElement"))return s=e.name==="$comment"?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),r.bind&&this.bindElements(s,e),s;this._shouldRenameElement(e.name)?(AS(e.name),s=this._createReplacementDomElement(e.name)):s=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(s,this),r.bind&&this.bindElements(s,e);for(const l of e.getAttributeKeys())this.setDomElementAttribute(s,l,e.getAttribute(l),e)}if(r.withChildren!==!1)for(const l of this.viewChildrenToDom(e,r))s.appendChild(l);return s}}setDomElementAttribute(e,r,s,l){const d=this.shouldRenderAttribute(r,s,e.tagName.toLowerCase())||l&&l.shouldRenderUnsafeAttribute(r);d||P("domconverter-unsafe-attribute-detected",{domElement:e,key:r,value:s}),e.hasAttribute(r)&&!d?e.removeAttribute(r):e.hasAttribute(ug+r)&&d&&e.removeAttribute(ug+r),e.setAttribute(d?r:ug+r,s)}removeDomElementAttribute(e,r){r!=kS&&(e.removeAttribute(r),e.removeAttribute(ug+r))}*viewChildrenToDom(e,r={}){const s=e.getFillerOffset&&e.getFillerOffset();let l=0;for(const d of e.getChildren()){s===l&&(yield this._getBlockFiller());const m=d.is("element")&&!!d.getCustomProperty("dataPipeline:transparentRendering")&&!Nn(d.getAttributes());m&&this.renderingMode=="data"?yield*this.viewChildrenToDom(d,r):(m&&P("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:d}),yield this.viewToDom(d,r)),l++}s===l&&(yield this._getBlockFiller())}viewRangeToDom(e){const r=this.viewPositionToDom(e.start),s=this.viewPositionToDom(e.end),l=this._domDocument.createRange();return l.setStart(r.parent,r.offset),l.setEnd(s.parent,s.offset),l}viewPositionToDom(e){const r=e.parent;if(r.is("$text")){const s=this.findCorrespondingDomText(r);if(!s)return null;let l=e.offset;return dr(s)&&(l+=Ro),{parent:s,offset:l}}{let s,l,d;if(e.offset===0){if(s=this.mapViewToDom(r),!s)return null;d=s.childNodes[0]}else{const m=e.nodeBefore;if(l=m.is("$text")?this.findCorrespondingDomText(m):this.mapViewToDom(m),!l)return null;s=l.parentNode,d=l.nextSibling}return bn(d)&&dr(d)?{parent:d,offset:Ro}:{parent:s,offset:l?Yp(l)+1:0}}}domToView(e,r={}){if(this.isBlockFiller(e))return null;const s=this.getHostViewElement(e);if(s)return s;if(Uc(e)&&r.skipComments)return null;if(bn(e)){if(oh(e))return null;{const l=this._processDataFromDomText(e);return l===""?null:new qt(this.document,l)}}{if(this.mapDomToView(e))return this.mapDomToView(e);let l;if(this.isDocumentFragment(e))l=new Tl(this.document),r.bind&&this.bindDocumentFragments(e,l);else{l=this._createViewElement(e,r),r.bind&&this.bindElements(e,l);const d=e.attributes;if(d)for(let m=d.length,y=0;y<m;y++)l._setAttribute(d[y].name,d[y].value);if(this._isViewElementWithRawContent(l,r)||Uc(e)){const m=Uc(e)?e.data:e.innerHTML;return l._setCustomProperty("$rawContent",m),this._encounteredRawContentDomNodes.add(e),l}}if(r.withChildren!==!1)for(const d of this.domChildrenToView(e,r))l._appendChild(d);return l}}*domChildrenToView(e,r){for(let s=0;s<e.childNodes.length;s++){const l=e.childNodes[s],d=this.domToView(l,r);d!==null&&(yield d)}}domSelectionToView(e){if(e.rangeCount===1){let l=e.getRangeAt(0).startContainer;bn(l)&&(l=l.parentNode);const d=this.fakeSelectionToView(l);if(d)return d}const r=this.isDomSelectionBackward(e),s=[];for(let l=0;l<e.rangeCount;l++){const d=e.getRangeAt(l),m=this.domRangeToView(d);m&&s.push(m)}return new Lo(s,{backward:r})}domRangeToView(e){const r=this.domPositionToView(e.startContainer,e.startOffset),s=this.domPositionToView(e.endContainer,e.endOffset);return r&&s?new tt(r,s):null}domPositionToView(e,r=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Yp(e));const s=this.mapDomToView(e);if(s&&(s.is("uiElement")||s.is("rawElement")))return Ne._createBefore(s);if(bn(e)){if(oh(e))return this.domPositionToView(e.parentNode,Yp(e));const l=this.findCorrespondingViewText(e);let d=r;return l?(dr(e)&&(d-=Ro,d=d<0?0:d),new Ne(l,d)):null}if(r===0){const l=this.mapDomToView(e);if(l)return new Ne(l,0)}else{const l=e.childNodes[r-1];if(bn(l)&&oh(l)||l&&this.isBlockFiller(l))return this.domPositionToView(l.parentNode,Yp(l));const d=bn(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(d&&d.parent)return new Ne(d.parent,d.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(oh(e))return null;const r=this.getHostViewElement(e);if(r)return r;const s=e.previousSibling;if(s){if(!this.isElement(s))return null;const l=this.mapDomToView(s);if(l){const d=l.nextSibling;return d instanceof qt?d:null}}else{const l=this.mapDomToView(e.parentNode);if(l){const d=l.getChild(0);return d instanceof qt?d:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const r=e.previousSibling;return r&&this.mapViewToDom(r)?this.mapViewToDom(r).nextSibling:!r&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const r=this.mapViewToDom(e);if(r&&r.ownerDocument.activeElement!==r){const{scrollX:s,scrollY:l}=vt.window,d=[];bS(r,m=>{const{scrollLeft:y,scrollTop:C}=m;d.push([y,C])}),r.focus(),bS(r,m=>{const[y,C]=d.shift();m.scrollLeft=y,m.scrollTop=C}),vt.window.scrollTo(s,l)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(f3):!(e.tagName!=="BR"||!yS(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(g3)||function(r,s){return r.isEqualNode(p3)&&yS(r,s)&&r.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const r=this._domDocument.createRange();try{r.setStart(e.anchorNode,e.anchorOffset),r.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const s=r.collapsed;return r.detach(),s}getHostViewElement(e){const r=eE(e);for(r.pop();r.length;){const s=r.pop(),l=this._domToViewMapping.get(s);if(l&&(l.is("uiElement")||l.is("rawElement")))return l}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return hS(this._domDocument);case"markedNbsp":return fS(this._domDocument);case"br":return pS(this._domDocument)}}_isDomSelectionPositionCorrect(e,r){if(bn(e)&&dr(e)&&r<Ro||this.isElement(e)&&dr(e.childNodes[r]))return!1;const s=this.mapDomToView(e);return!s||!s.is("uiElement")&&!s.is("rawElement")}_processDataFromViewText(e){let r=e.data;if(e.getAncestors().some(s=>this.preElements.includes(s.name)))return r;if(r.charAt(0)==" "){const s=this._getTouchingInlineViewNode(e,!1);!(s&&s.is("$textProxy")&&this._nodeEndsWithSpace(s))&&s||(r=""+r.substr(1))}if(r.charAt(r.length-1)==" "){const s=this._getTouchingInlineViewNode(e,!0),l=s&&s.is("$textProxy")&&s.data.charAt(0)==" ";r.charAt(r.length-2)!=" "&&s&&!l||(r=r.substr(0,r.length-1)+"")}return r.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(s=>this.preElements.includes(s.name)))return!1;const r=this._processDataFromViewText(e);return r.charAt(r.length-1)==" "}_processDataFromDomText(e){let r=e.data;if(function(S,M){return eE(S).some(U=>U.tagName&&M.includes(U.tagName.toLowerCase()))}(e,this.preElements))return gS(e);r=r.replace(/[ \n\t\r]{1,}/g," ");const s=this._getTouchingInlineDomNode(e,!1),l=this._getTouchingInlineDomNode(e,!0),d=this._checkShouldLeftTrimDomText(e,s),m=this._checkShouldRightTrimDomText(e,l);d&&(r=r.replace(/^ /,"")),m&&(r=r.replace(/ $/,"")),r=gS(new Text(r)),r=r.replace(/ \u00A0/g,"  ");const y=l&&this.isElement(l)&&l.tagName!="BR",C=l&&bn(l)&&l.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(r)||!l||y||C)&&(r=r.replace(/\u00A0$/," ")),(d||s&&this.isElement(s)&&s.tagName!="BR")&&(r=r.replace(/^\u00A0/," ")),r}_checkShouldLeftTrimDomText(e,r){return!r||(this.isElement(r)?r.tagName==="BR":!this._encounteredRawContentDomNodes.has(e.previousSibling)&&/[^\S\u00A0]/.test(r.data.charAt(r.data.length-1)))}_checkShouldRightTrimDomText(e,r){return!r&&!dr(e)}_getTouchingInlineViewNode(e,r){const s=new Sl({startPosition:r?Ne._createAfter(e):Ne._createBefore(e),direction:r?"forward":"backward"});for(const l of s){if(l.item.is("element")&&this.inlineObjectElements.includes(l.item.name))return l.item;if(l.item.is("containerElement")||l.item.is("element","br"))return null;if(l.item.is("$textProxy"))return l.item}return null}_getTouchingInlineDomNode(e,r){if(!e.parentNode)return null;const s=r?"firstChild":"lastChild",l=r?"nextSibling":"previousSibling";let d=!0,m=e;do if(!d&&m[s]?m=m[s]:m[l]?(m=m[l],d=!1):(m=m.parentNode,d=!0),!m||this._isBlockElement(m))return null;while(!bn(m)&&m.tagName!="BR"&&!this._isInlineObjectElement(m));return m}_isBlockElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isInlineObjectElement(e){return this.isElement(e)&&this.inlineObjectElements.includes(e.tagName.toLowerCase())}_createViewElement(e,r){if(Uc(e))return new lg(this.document,"$comment");const s=r.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new ur(this.document,s)}_isViewElementWithRawContent(e,r){return r.withChildren!==!1&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const r=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(r)}_createReplacementDomElement(e,r){const s=this._domDocument.createElement("span");if(s.setAttribute(kS,e),r){for(;r.firstChild;)s.appendChild(r.firstChild);for(const l of r.getAttributeNames())s.setAttribute(l,r.getAttribute(l))}return s}}function bS(a,e){let r=a;for(;r;)e(r),r=r.parentElement}function yS(a,e){const r=a.parentNode;return!!r&&!!r.tagName&&e.includes(r.tagName.toLowerCase())}function AS(a){a==="script"&&P("domconverter-unsafe-script-element-detected"),a==="style"&&P("domconverter-unsafe-style-element-detected")}class No extends yl(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const _S=eS(function(a,e){Cr(e,na(e),a)});class Qc{constructor(e,r,s){this.view=e,this.document=e.document,this.domEvent=r,this.domTarget=r.target,_S(this,s)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class aa extends No{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(r=>{this.listenTo(e,r,(s,l)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(l.target)&&this.onDomEvent(l)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,r,s){this.isEnabled&&this.document.fire(e,new Qc(this.view,r,s))}}class m3 extends aa{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const r={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Hc(this)}};this.fire(e.type,e,r)}}const qk=function(){return it.Date.now()};var v3=/\s/;const w3=function(a){for(var e=a.length;e--&&v3.test(a.charAt(e)););return e};var k3=/^\s+/;const b3=function(a){return a&&a.slice(0,w3(a)+1).replace(k3,"")};var y3=/^[-+]0x[0-9a-f]+$/i,A3=/^0b[01]+$/i,_3=/^0o[0-7]+$/i,C3=parseInt;const CS=function(a){if(typeof a=="number")return a;if(ig(a))return NaN;if(ye(a)){var e=typeof a.valueOf=="function"?a.valueOf():a;a=ye(e)?e+"":e}if(typeof a!="string")return a===0?a:+a;a=b3(a);var r=A3.test(a);return r||_3.test(a)?C3(a.slice(2),r?2:8):y3.test(a)?NaN:+a};var E3=Math.max,S3=Math.min;const sh=function(a,e,r){var s,l,d,m,y,C,S=0,M=!1,$=!1,U=!0;if(typeof a!="function")throw new TypeError("Expected a function");function W(de){var be=s,Pe=l;return s=l=void 0,S=de,m=a.apply(Pe,be)}function K(de){var be=de-C;return C===void 0||be>=e||be<0||$&&de-S>=d}function q(){var de=qk();if(K(de))return X(de);y=setTimeout(q,function(be){var Pe=e-(be-C);return $?S3(Pe,d-(be-S)):Pe}(de))}function X(de){return y=void 0,U&&s?W(de):(s=l=void 0,m)}function ne(){var de=qk(),be=K(de);if(s=arguments,l=this,C=de,be){if(y===void 0)return function(Pe){return S=Pe,y=setTimeout(q,e),M?W(Pe):m}(C);if($)return clearTimeout(y),y=setTimeout(q,e),W(C)}return y===void 0&&(y=setTimeout(q,e)),m}return e=CS(e)||0,ye(r)&&(M=!!r.leading,d=($="maxWait"in r)?E3(CS(r.maxWait)||0,e):d,U="trailing"in r?!!r.trailing:U),ne.cancel=function(){y!==void 0&&clearTimeout(y),S=0,s=C=l=y=void 0},ne.flush=function(){return y===void 0?m:X(qk())},ne};class x3 extends No{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=sh(r=>{this.document.fire("selectionChangeDone",r)},200)}observe(){const e=this.document;e.on("arrowKey",(r,s)=>{e.selection.isFake&&this.isEnabled&&s.preventDefault()},{context:"$capture"}),e.on("arrowKey",(r,s)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(s.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const r=this.document.selection,s=new Lo(r.getRanges(),{backward:r.isBackward,fake:!1});e!=St.arrowleft&&e!=St.arrowup||s.setTo(s.getFirstPosition()),e!=St.arrowright&&e!=St.arrowdown||s.setTo(s.getLastPosition());const l={oldSelection:r,newSelection:s,domSelection:null};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}const T3=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},D3=function(a){return this.__data__.has(a)};function hg(a){var e=-1,r=a==null?0:a.length;for(this.__data__=new jr;++e<r;)this.add(a[e])}hg.prototype.add=hg.prototype.push=T3,hg.prototype.has=D3;const I3=hg,M3=function(a,e){for(var r=-1,s=a==null?0:a.length;++r<s;)if(e(a[r],r,a))return!0;return!1},L3=function(a,e){return a.has(e)},ES=function(a,e,r,s,l,d){var m=1&r,y=a.length,C=e.length;if(y!=C&&!(m&&C>y))return!1;var S=d.get(a),M=d.get(e);if(S&&M)return S==e&&M==a;var $=-1,U=!0,W=2&r?new I3:void 0;for(d.set(a,e),d.set(e,a);++$<y;){var K=a[$],q=e[$];if(s)var X=m?s(q,K,$,e,a,d):s(K,q,$,a,e,d);if(X!==void 0){if(X)continue;U=!1;break}if(W){if(!M3(e,function(ne,de){if(!L3(W,de)&&(K===ne||l(K,ne,r,s,d)))return W.push(de)})){U=!1;break}}else if(K!==q&&!l(K,q,r,s,d)){U=!1;break}}return d.delete(a),d.delete(e),U},R3=function(a){var e=-1,r=Array(a.size);return a.forEach(function(s,l){r[++e]=[l,s]}),r},N3=function(a){var e=-1,r=Array(a.size);return a.forEach(function(s){r[++e]=s}),r};var SS=ot?ot.prototype:void 0,Qk=SS?SS.valueOf:void 0;const O3=function(a,e,r,s,l,d,m){switch(r){case"[object DataView]":if(a.byteLength!=e.byteLength||a.byteOffset!=e.byteOffset)return!1;a=a.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(a.byteLength!=e.byteLength||!d(new bl(a),new bl(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return as(+a,+e);case"[object Error]":return a.name==e.name&&a.message==e.message;case"[object RegExp]":case"[object String]":return a==e+"";case"[object Map]":var y=R3;case"[object Set]":var C=1&s;if(y||(y=N3),a.size!=e.size&&!C)return!1;var S=m.get(a);if(S)return S==e;s|=2,m.set(a,e);var M=ES(y(a),y(e),s,l,d,m);return m.delete(a),M;case"[object Symbol]":if(Qk)return Qk.call(a)==Qk.call(e)}return!1};var P3=Object.prototype.hasOwnProperty;const $3=function(a,e,r,s,l,d){var m=1&r,y=Yd(a),C=y.length;if(C!=Yd(e).length&&!m)return!1;for(var S=C;S--;){var M=y[S];if(!(m?M in e:P3.call(e,M)))return!1}var $=d.get(a),U=d.get(e);if($&&U)return $==e&&U==a;var W=!0;d.set(a,e),d.set(e,a);for(var K=m;++S<C;){var q=a[M=y[S]],X=e[M];if(s)var ne=m?s(X,q,M,e,a,d):s(q,X,M,a,e,d);if(!(ne===void 0?q===X||l(q,X,r,s,d):ne)){W=!1;break}K||(K=M=="constructor")}if(W&&!K){var de=a.constructor,be=e.constructor;de==be||!("constructor"in a)||!("constructor"in e)||typeof de=="function"&&de instanceof de&&typeof be=="function"&&be instanceof be||(W=!1)}return d.delete(a),d.delete(e),W};var xS="[object Arguments]",TS="[object Array]",fg="[object Object]",DS=Object.prototype.hasOwnProperty;const B3=function(a,e,r,s,l,d){var m=Rn(a),y=Rn(e),C=m?TS:Hr(a),S=y?TS:Hr(e),M=(C=C==xS?fg:C)==fg,$=(S=S==xS?fg:S)==fg,U=C==S;if(U&&Yi(a)){if(!Yi(e))return!1;m=!0,M=!1}if(U&&!M)return d||(d=new Ao),m||en(a)?ES(a,e,r,s,l,d):O3(a,e,C,r,s,l,d);if(!(1&r)){var W=M&&DS.call(a,"__wrapped__"),K=$&&DS.call(e,"__wrapped__");if(W||K){var q=W?a.value():a,X=K?e.value():e;return d||(d=new Ao),l(q,X,r,s,d)}}return!!U&&(d||(d=new Ao),$3(a,e,r,s,l,d))},IS=function a(e,r,s,l,d){return e===r||(e==null||r==null||!kn(e)&&!kn(r)?e!=e&&r!=r:B3(e,r,s,l,a,d))},F3=function(a,e,r){var s=(r=typeof r=="function"?r:void 0)?r(a,e):void 0;return s===void 0?IS(a,e,void 0,r):!!s};class MS extends No{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const r of this._domElements)this._mutationObserver.observe(r,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const r=this.domConverter,s=new Set,l=new Set;for(const m of e){const y=r.mapDomToView(m.target);y&&(y.is("uiElement")||y.is("rawElement")||m.type!=="childList"||this._isBogusBrMutation(m)||l.add(y))}for(const m of e){const y=r.mapDomToView(m.target);if((!y||!y.is("uiElement")&&!y.is("rawElement"))&&m.type==="characterData"){const C=r.findCorrespondingViewText(m.target);C&&!l.has(C.parent)?s.add(C):!C&&dr(m.target)&&l.add(r.mapDomToView(m.target.parentNode))}}let d=!1;for(const m of s)d=!0,this.renderer.markToSync("text",m);for(const m of l){const y=r.mapViewToDom(m),C=Array.from(m.getChildren()),S=Array.from(r.domChildrenToView(y,{withChildren:!1}));F3(C,S,z3)||(d=!0,this.renderer.markToSync("children",m))}d&&this.view.forceRender()}_isBogusBrMutation(e){let r=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(r=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),r&&r.is("element","br")}}function z3(a,e){if(!Array.isArray(a))return a===e||!(!a.is("$text")||!e.is("$text"))&&a.data===e.data}class Yk extends aa{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const r=this.document;r.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),r.on("blur",(s,l)=>{const d=r.selection.editableElement;d!==null&&d!==l.target||(r.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class j3 extends No{constructor(e){super(e),this.mutationObserver=e.getObserver(MS),this.focusObserver=e.getObserver(Yk),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=sh(r=>{this.document.fire("selectionChangeDone",r)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=sh(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const r=e.ownerDocument,s=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,r),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",s,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",s,{priority:"highest",useCapture:!0}),this._documents.has(r)||(this.listenTo(r,"mouseup",s,{priority:"highest",useCapture:!0}),this.listenTo(r,"selectionchange",(l,d)=>{this.document.isComposing&&!v.isAndroid||(this._handleSelectionChange(d,r),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(r))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,r){if(!this.isEnabled)return;const s=r.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(s.anchorNode))return;this.mutationObserver.flush();const l=this.domConverter.domSelectionToView(s);if(l.rangeCount!=0){if(this.view.hasDomSelection=!0,!this.selection.isEqual(l)||!this.domConverter.isDomSelectionCorrect(s))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.focusObserver.flush(),this.selection.isSimilar(l))this.view.forceRender();else{const d={oldSelection:this.selection,newSelection:l,domSelection:s};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class V3 extends aa{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const r=this.document;r.on("compositionstart",()=>{r.isComposing=!0},{priority:"low"}),r.on("compositionend",()=>{r.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class LS{constructor(e,r={}){this._files=r.cacheFiles?RS(e):null,this._native=e}get files(){return this._files||(this._files=RS(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,r){this._native.setData(e,r)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function RS(a){const e=Array.from(a.files||[]),r=Array.from(a.items||[]);return e.length?e:r.filter(s=>s.kind==="file").map(s=>s.getAsFile())}class U3 extends aa{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const r=e.getTargetRanges(),s=this.view,l=s.document;let d=null,m=null,y=[];if(e.dataTransfer&&(d=new LS(e.dataTransfer)),e.data!==null?m=e.data:d&&(m=d.getData("text/plain")),l.selection.isFake)y=Array.from(l.selection.getRanges());else if(r.length)y=r.map(C=>s.domConverter.domRangeToView(C));else if(v.isAndroid){const C=e.target.ownerDocument.defaultView.getSelection();y=Array.from(s.domConverter.domSelectionToView(C).getRanges())}if(v.isAndroid&&e.inputType=="insertCompositionText"&&m&&m.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[s.createRange(y[0].end)]});else if(e.inputType=="insertText"&&m&&m.includes(`
`)){const C=m.split(/\n{1,2}/g);let S=y;for(let M=0;M<C.length;M++){const $=C[M];$!=""&&(this.fire(e.type,e,{data:$,dataTransfer:d,targetRanges:S,inputType:e.inputType,isComposing:e.isComposing}),S=[l.selection.getFirstRange()]),M+1<C.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:S}),S=[l.selection.getFirstRange()])}}else this.fire(e.type,e,{data:m,dataTransfer:d,targetRanges:y,inputType:e.inputType,isComposing:e.isComposing})}}class H3 extends No{constructor(e){super(e),this.document.on("keydown",(r,s)=>{if(this.isEnabled&&((l=s.keyCode)==St.arrowright||l==St.arrowleft||l==St.arrowup||l==St.arrowdown)){const d=new Kc(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(d,s),d.stop.called&&r.stop()}var l})}observe(){}stopObserving(){}}class W3 extends No{constructor(e){super(e);const r=this.document;r.on("keydown",(s,l)=>{if(!this.isEnabled||l.keyCode!=St.tab||l.ctrlKey)return;const d=new Kc(r,"tab",r.selection.getFirstRange());r.fire(d,l),d.stop.called&&s.stop()})}observe(){}stopObserving(){}}class G3 extends Ye(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new ag(e),this.domConverter=new dg(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new c3(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new aS(this.document),this.addObserver(MS),this.addObserver(Yk),this.addObserver(j3),this.addObserver(m3),this.addObserver(x3),this.addObserver(V3),this.addObserver(H3),this.addObserver(U3),this.addObserver(W3),this.document.on("arrowKey",a3,{priority:"low"}),n3(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,r="main"){const s=this.document.getRoot(r);s._name=e.tagName.toLowerCase();const l={};for(const{name:m,value:y}of Array.from(e.attributes))l[m]=y,m==="class"?this._writer.addClass(y.split(" "),s):this._writer.setAttribute(m,y,s);this._initialDomRootAttributes.set(e,l);const d=()=>{this._writer.setAttribute("contenteditable",(!s.isReadOnly).toString(),s),s.isReadOnly?this._writer.addClass("ck-read-only",s):this._writer.removeClass("ck-read-only",s)};d(),this.domRoots.set(r,e),this.domConverter.bindElements(e,s),this._renderer.markToSync("children",s),this._renderer.markToSync("attributes",s),this._renderer.domDocuments.add(e.ownerDocument),s.on("change:children",(m,y)=>this._renderer.markToSync("children",y)),s.on("change:attributes",(m,y)=>this._renderer.markToSync("attributes",y)),s.on("change:text",(m,y)=>this._renderer.markToSync("text",y)),s.on("change:isReadOnly",()=>this.change(d)),s.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const m of this._observers.values())m.observe(e,r)}detachDomRoot(e){const r=this.domRoots.get(e);Array.from(r.attributes).forEach(({name:l})=>r.removeAttribute(l));const s=this._initialDomRootAttributes.get(r);for(const l in s)r.setAttribute(l,s[l]);this.domRoots.delete(e),this.domConverter.unbindDomElement(r);for(const l of this._observers.values())l.stopObserving(r)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let r=this._observers.get(e);if(r)return r;r=new e(this),this._observers.set(e,r);for(const[s,l]of this.domRoots)r.observe(l,s);return r.enable(),r}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:r,viewportOffset:s=20,ancestorOffset:l=20}={}){const d=this.document.selection.getFirstRange();d&&function({target:m,viewportOffset:y=0,ancestorOffset:C=0,alignToTop:S,forceScroll:M}){const $=vk(m);let U=$,W=null;for(;U;){let K;K=qF(U==$?m:W),KF({parent:K,getRect:()=>pE(m,U),alignToTop:S,ancestorOffset:C,forceScroll:M});const q=pE(m,U);if(GF({window:U,rect:q,viewportOffset:y,alignToTop:S,forceScroll:M}),U.parent!=U){if(W=U.frameElement,U=U.parent,!W)return}else U=null}}({target:this.domConverter.viewRangeToDom(d),viewportOffset:s,ancestorOffset:l,alignToTop:e,forceScroll:r})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new N("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const r=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),r}catch(r){N.rethrowUnexpectedError(r,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Yk).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,r){return Ne._createAt(e,r)}createPositionAfter(e){return Ne._createAfter(e)}createPositionBefore(e){return Ne._createBefore(e)}createRange(e,r){return new tt(e,r)}createRangeOn(e){return tt._createOn(e)}createRangeIn(e){return tt._createIn(e)}createSelection(...e){return new Lo(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class la{is(){throw new Error("is() method is abstract")}}class Dl extends la{constructor(e){super(),this.parent=null,this._attrs=Do(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new N("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new N("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let r=this;for(;r.parent;)e.unshift(r.startOffset),r=r.parent;return e}getAncestors(e={}){const r=[];let s=e.includeSelf?this:this.parent;for(;s;)r[e.parentFirst?"push":"unshift"](s),s=s.parent;return r}getCommonAncestor(e,r={}){const s=this.getAncestors(r),l=e.getAncestors(r);let d=0;for(;s[d]==l[d]&&s[d];)d++;return d===0?null:s[d-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const r=this.getPath(),s=e.getPath(),l=fe(r,s);switch(l){case"prefix":return!0;case"extension":return!1;default:return r[l]<s[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((r,s)=>(r[s[0]]=s[1],r),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,r){this._attrs.set(e,r)}_setAttributesTo(e){this._attrs=Do(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Dl.prototype.is=function(a){return a==="node"||a==="model:node"};class ah{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,r)=>e+r.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const r=this._nodes.indexOf(e);return r==-1?null:r}getNodeStartOffset(e){const r=this.getNodeIndex(e);return r===null?null:this._nodes.slice(0,r).reduce((s,l)=>s+l.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const r=this._nodes[e];if(!r)throw new N("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(r)}offsetToIndex(e){let r=0;for(const s of this._nodes){if(e>=r&&e<r+s.offsetSize)return this.getNodeIndex(s);r+=s.offsetSize}if(r!=e)throw new N("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,r){for(const s of r)if(!(s instanceof Dl))throw new N("model-nodelist-insertnodes-not-node",this);this._nodes=function(s,l,d,m){if(Math.max(l.length,s.length)>1e4)return s.slice(0,d).concat(l).concat(s.slice(d+m,s.length));{const y=Array.from(s);return y.splice(d,m,...l),y}}(this._nodes,Array.from(r),e,0)}_removeNodes(e,r=1){return this._nodes.splice(e,r)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Qt extends Dl{constructor(e,r){super(r),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Qt(this.data,this.getAttributes())}static fromJSON(e){return new Qt(e.data,e.attributes)}}Qt.prototype.is=function(a){return a==="$text"||a==="model:$text"||a==="text"||a==="model:text"||a==="node"||a==="model:node"};class Kr extends la{constructor(e,r,s){if(super(),this.textNode=e,r<0||r>e.offsetSize)throw new N("model-textproxy-wrong-offsetintext",this);if(s<0||r+s>e.offsetSize)throw new N("model-textproxy-wrong-length",this);this.data=e.data.substring(r,r+s),this.offsetInText=r}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const r=[];let s=e.includeSelf?this:this.parent;for(;s;)r[e.parentFirst?"push":"unshift"](s),s=s.parent;return r}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Kr.prototype.is=function(a){return a==="$textProxy"||a==="model:$textProxy"||a==="textProxy"||a==="model:textProxy"};class Ut extends Dl{constructor(e,r,s){super(r),this._children=new ah,this.name=e,s&&this._insertChild(0,s)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let r=this;for(const s of e)r=r.getChild(r.offsetToIndex(s));return r}findAncestor(e,r={}){let s=r.includeSelf?this:this.parent;for(;s;){if(s.name===e)return s;s=s.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const r of this._children)e.children.push(r.toJSON())}return e}_clone(e=!1){const r=e?Array.from(this._children).map(s=>s._clone(!0)):void 0;return new Ut(this.name,this.getAttributes(),r)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,r){const s=function(l){return typeof l=="string"?[new Qt(l)]:(Se(l)||(l=[l]),Array.from(l).map(d=>typeof d=="string"?new Qt(d):d instanceof Kr?new Qt(d.data,d.getAttributes()):d))}(r);for(const l of s)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,r=1){const s=this._children._removeNodes(e,r);for(const l of s)l.parent=null;return s}static fromJSON(e){let r;if(e.children){r=[];for(const s of e.children)s.name?r.push(Ut.fromJSON(s)):r.push(Qt.fromJSON(s))}return new Ut(e.name,e.attributes,r)}}Ut.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="model:element"):a==="element"||a==="model:element"||a==="node"||a==="model:node"};class Oo{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new N("model-tree-walker-no-start-position",null);const r=e.direction||"forward";if(r!="forward"&&r!="backward")throw new N("model-tree-walker-unknown-direction",e,{direction:r});this.direction=r,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Ee._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let r,s,l,d;do l=this.position,d=this._visitedParent,{done:r,value:s}=this.next();while(!r&&e(s));r||(this._position=l,this._visitedParent=d)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,r=this.position.clone(),s=this._visitedParent;if(s.parent===null&&r.offset===s.maxOffset)return{done:!0,value:void 0};if(s===this._boundaryEndParent&&r.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const l=lh(r,s),d=l||NS(r,s,l);if(d instanceof Ut)return this.shallow?r.offset++:(r.path.push(0),this._visitedParent=d),this._position=r,Il("elementStart",d,e,r,1);if(d instanceof Qt){let m;if(this.singleCharacters)m=1;else{let S=d.endOffset;this._boundaryEndParent==s&&this.boundaries.end.offset<S&&(S=this.boundaries.end.offset),m=S-r.offset}const y=r.offset-d.startOffset,C=new Kr(d,y,m);return r.offset+=m,this._position=r,Il("text",C,e,r,m)}return r.path.pop(),r.offset++,this._position=r,this._visitedParent=s.parent,this.ignoreElementEnd?this._next():Il("elementEnd",s,e,r)}_previous(){const e=this.position,r=this.position.clone(),s=this._visitedParent;if(s.parent===null&&r.offset===0)return{done:!0,value:void 0};if(s==this._boundaryStartParent&&r.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const l=r.parent,d=lh(r,l),m=d||OS(r,l,d);if(m instanceof Ut)return r.offset--,this.shallow?(this._position=r,Il("elementStart",m,e,r,1)):(r.path.push(m.maxOffset),this._position=r,this._visitedParent=m,this.ignoreElementEnd?this._previous():Il("elementEnd",m,e,r));if(m instanceof Qt){let y;if(this.singleCharacters)y=1;else{let M=m.startOffset;this._boundaryStartParent==s&&this.boundaries.start.offset>M&&(M=this.boundaries.start.offset),y=r.offset-M}const C=r.offset-m.startOffset,S=new Kr(m,C-y,y);return r.offset-=y,this._position=r,Il("text",S,e,r,y)}return r.path.pop(),this._position=r,this._visitedParent=s.parent,Il("elementStart",s,e,r,1)}}function Il(a,e,r,s,l){return{done:!1,value:{type:a,item:e,previousPosition:r,nextPosition:s,length:l}}}class Ee extends la{constructor(e,r,s="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new N("model-position-root-invalid",e);if(!(r instanceof Array)||r.length===0)throw new N("model-position-path-incorrect-format",e,{path:r});e.is("rootElement")?r=r.slice():(r=[...e.getPath(),...r],e=e.root),this.root=e,this.path=r,this.stickiness=s}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let r=0;r<this.path.length-1;r++)if(e=e.getChild(e.offsetToIndex(this.path[r])),!e)throw new N("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new N("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return lh(this,this.parent)}get nodeAfter(){const e=this.parent;return NS(this,e,lh(this,e))}get nodeBefore(){const e=this.parent;return OS(this,e,lh(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const r=fe(this.path,e.path);switch(r){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[r]<e.path[r]?"before":"after"}}getLastMatchingPosition(e,r={}){r.startPosition=this;const s=new Oo(r);return s.skip(e),s.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const r=this.parent;return r.is("element")?r.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const r=fe(this.path,e.path),s=typeof r=="string"?Math.min(this.path.length,e.path.length):r;return this.path.slice(0,s)}getCommonAncestor(e){const r=this.getAncestors(),s=e.getAncestors();let l=0;for(;r[l]==s[l]&&r[l];)l++;return l===0?null:r[l-1]}getShiftedBy(e){const r=this.clone(),s=r.offset+e;return r.offset=s<0?0:s,r}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const r=Math.min(this.path.length,e.path.length);for(let s=0;s<r;s++){const l=this.path[s]-e.path[s];if(l<-1||l>1)return!1;if(l===1)return PS(e,this,s);if(l===-1)return PS(this,e,s)}return this.path.length===e.path.length||(this.path.length>e.path.length?Zk(this.path,r):Zk(e.path,r))}hasSameParentAs(e){return this.root!==e.root?!1:fe(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let r;switch(e.type){case"insert":r=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":r=this._getTransformedByMoveOperation(e);break;case"split":r=this._getTransformedBySplitOperation(e);break;case"merge":r=this._getTransformedByMergeOperation(e);break;default:r=Ee._createAt(this)}return r}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const r=e.movedRange;return r.containsPosition(this)||r.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const r=e.movedRange;let s;return r.containsPosition(this)||r.start.isEqual(this)?(s=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(s=s._getTransformedByDeletion(e.deletionPosition,1))):s=this.isEqual(e.deletionPosition)?Ee._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),s}_getTransformedByDeletion(e,r){const s=Ee._createAt(this);if(this.root!=e.root)return s;if(fe(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+r>this.offset)return null;s.offset-=r}}else if(fe(e.getParentPath(),this.getParentPath())=="prefix"){const l=e.path.length-1;if(e.offset<=this.path[l]){if(e.offset+r>this.path[l])return null;s.path[l]-=r}}return s}_getTransformedByInsertion(e,r){const s=Ee._createAt(this);if(this.root!=e.root)return s;if(fe(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(s.offset+=r);else if(fe(e.getParentPath(),this.getParentPath())=="prefix"){const l=e.path.length-1;e.offset<=this.path[l]&&(s.path[l]+=r)}return s}_getTransformedByMove(e,r,s){if(r=r._getTransformedByDeletion(e,s),e.isEqual(r))return Ee._createAt(this);const l=this._getTransformedByDeletion(e,s);return l===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(s).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,r):l._getTransformedByInsertion(r,s)}_getCombined(e,r){const s=e.path.length-1,l=Ee._createAt(r);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[s]-e.offset,l.path=[...l.path,...this.path.slice(s+1)],l}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,r,s="toNone"){if(e instanceof Ee)return new Ee(e.root,e.path,e.stickiness);{const l=e;if(r=="end")r=l.maxOffset;else{if(r=="before")return this._createBefore(l,s);if(r=="after")return this._createAfter(l,s);if(r!==0&&!r)throw new N("model-createpositionat-offset-required",[this,e])}if(!l.is("element")&&!l.is("documentFragment"))throw new N("model-position-parent-incorrect",[this,e]);const d=l.getPath();return d.push(r),new this(l.root,d,s)}}static _createAfter(e,r){if(!e.parent)throw new N("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,r)}static _createBefore(e,r){if(!e.parent)throw new N("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,r)}static fromJSON(e,r){if(e.root==="$graveyard"){const s=new Ee(r.graveyard,e.path);return s.stickiness=e.stickiness,s}if(!r.getRoot(e.root))throw new N("model-position-fromjson-no-root",r,{rootName:e.root});return new Ee(r.getRoot(e.root),e.path,e.stickiness)}}function lh(a,e){const r=e.getChild(e.offsetToIndex(a.offset));return r&&r.is("$text")&&r.startOffset<a.offset?r:null}function NS(a,e,r){return r!==null?null:e.getChild(e.offsetToIndex(a.offset))}function OS(a,e,r){return r!==null?null:e.getChild(e.offsetToIndex(a.offset)-1)}function PS(a,e,r){return r+1!==a.path.length&&!!Zk(e.path,r+1)&&!!function(s,l){let d=s.parent,m=s.path.length-1,y=0;for(;m>=l;){if(s.path[m]+y!==d.maxOffset)return!1;y=1,m--,d=d.parent}return!0}(a,r+1)}function Zk(a,e){for(;e<a.length;){if(a[e]!==0)return!1;e++}return!0}Ee.prototype.is=function(a){return a==="position"||a==="model:position"};class ve extends la{constructor(e,r){super(),this.start=Ee._createAt(e),this.end=r?Ee._createAt(r):Ee._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Oo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return fe(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,r=!1){e.isCollapsed&&(r=!1);const s=this.containsPosition(e.start)||r&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||r&&this.end.isEqual(e.end);return s&&l}containsItem(e){const r=Ee._createBefore(e);return this.containsPosition(r)||this.start.isEqual(r)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const r=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&r.push(new ve(this.start,e.start)),this.containsPosition(e.end)&&r.push(new ve(e.end,this.end))):r.push(new ve(this.start,this.end)),r}getIntersection(e){if(this.isIntersecting(e)){let r=this.start,s=this.end;return this.containsPosition(e.start)&&(r=e.start),this.containsPosition(e.end)&&(s=e.end),new ve(r,s)}return null}getJoined(e,r=!1){let s=this.isIntersecting(e);if(s||(s=this.start.isBefore(e.start)?r?this.end.isTouching(e.start):this.end.isEqual(e.start):r?e.end.isTouching(this.start):e.end.isEqual(this.start)),!s)return null;let l=this.start,d=this.end;return e.start.isBefore(l)&&(l=e.start),e.end.isAfter(d)&&(d=e.end),new ve(l,d)}getMinimalFlatRanges(){const e=[],r=this.start.getCommonPath(this.end).length,s=Ee._createAt(this.start);let l=s.parent;for(;s.path.length>r+1;){const d=l.maxOffset-s.offset;d!==0&&e.push(new ve(s,s.getShiftedBy(d))),s.path=s.path.slice(0,-1),s.offset++,l=l.parent}for(;s.path.length<=this.end.path.length;){const d=this.end.path[s.path.length-1],m=d-s.offset;m!==0&&e.push(new ve(s,s.getShiftedBy(m))),s.offset=d,s.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Oo(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const r=new Oo(e);for(const s of r)yield s.item}*getPositions(e={}){e.boundaries=this;const r=new Oo(e);yield r.position;for(const s of r)yield s.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ve(this.start,this.end)]}getTransformedByOperations(e){const r=[new ve(this.start,this.end)];for(const s of e)for(let l=0;l<r.length;l++){const d=r[l].getTransformedByOperation(s);r.splice(l,1,...d),l+=d.length-1}for(let s=0;s<r.length;s++){const l=r[s];for(let d=s+1;d<r.length;d++){const m=r[d];(l.containsRange(m)||m.containsRange(l)||l.isEqual(m))&&r.splice(d,1)}}return r}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,r=this.end.nodeBefore;return e&&e.is("element")&&e===r?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,r=!1){return this._getTransformedByInsertion(e.position,e.howMany,r)}_getTransformedByMoveOperation(e,r=!1){const s=e.sourcePosition,l=e.howMany,d=e.targetPosition;return this._getTransformedByMove(s,d,l,r)}_getTransformedBySplitOperation(e){const r=this.start._getTransformedBySplitOperation(e);let s=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(s=this.end.getShiftedBy(1)),r.root!=s.root&&(s=this.end.getShiftedBy(-1)),new ve(r,s)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ve(this.start);let r=this.start._getTransformedByMergeOperation(e),s=this.end._getTransformedByMergeOperation(e);return r.root!=s.root&&(s=this.end.getShiftedBy(-1)),r.isAfter(s)?(e.sourcePosition.isBefore(e.targetPosition)?(r=Ee._createAt(s),r.offset=0):(e.deletionPosition.isEqual(r)||(s=e.deletionPosition),r=e.targetPosition),new ve(r,s)):new ve(r,s)}_getTransformedByInsertion(e,r,s=!1){if(s&&this.containsPosition(e))return[new ve(this.start,e),new ve(e.getShiftedBy(r),this.end._getTransformedByInsertion(e,r))];{const l=new ve(this.start,this.end);return l.start=l.start._getTransformedByInsertion(e,r),l.end=l.end._getTransformedByInsertion(e,r),[l]}}_getTransformedByMove(e,r,s,l=!1){if(this.isCollapsed){const $=this.start._getTransformedByMove(e,r,s);return[new ve($)]}const d=ve._createFromPositionAndShift(e,s),m=r._getTransformedByDeletion(e,s);if(this.containsPosition(r)&&!l&&(d.containsPosition(this.start)||d.containsPosition(this.end))){const $=this.start._getTransformedByMove(e,r,s),U=this.end._getTransformedByMove(e,r,s);return[new ve($,U)]}let y;const C=this.getDifference(d);let S=null;const M=this.getIntersection(d);if(C.length==1?S=new ve(C[0].start._getTransformedByDeletion(e,s),C[0].end._getTransformedByDeletion(e,s)):C.length==2&&(S=new ve(this.start,this.end._getTransformedByDeletion(e,s))),y=S?S._getTransformedByInsertion(m,s,M!==null||l):[],M){const $=new ve(M.start._getCombined(d.start,m),M.end._getCombined(d.start,m));y.length==2?y.splice(1,0,$):y.push($)}return y}_getTransformedByDeletion(e,r){let s=this.start._getTransformedByDeletion(e,r),l=this.end._getTransformedByDeletion(e,r);return s==null&&l==null?null:(s==null&&(s=e),l==null&&(l=e),new ve(s,l))}static _createFromPositionAndShift(e,r){const s=e,l=e.getShiftedBy(r);return r>0?new this(s,l):new this(l,s)}static _createIn(e){return new this(Ee._createAt(e,0),Ee._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Ee._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new N("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const r=e[0];e.sort((d,m)=>d.start.isAfter(m.start)?1:-1);const s=e.indexOf(r),l=new this(r.start,r.end);if(s>0)for(let d=s-1;e[d].end.isEqual(l.start);d++)l.start=Ee._createAt(e[d].start);for(let d=s+1;d<e.length&&e[d].start.isEqual(l.end);d++)l.end=Ee._createAt(e[d].end);return l}static fromJSON(e,r){return new this(Ee.fromJSON(e.start,r),Ee.fromJSON(e.end,r))}}ve.prototype.is=function(a){return a==="range"||a==="model:range"};class $S extends ee(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,r)=>{if(r.viewPosition)return;const s=this._modelToViewMapping.get(r.modelPosition.parent);if(!s)throw new N("mapping-model-position-view-parent-not-found",this,{modelPosition:r.modelPosition});r.viewPosition=this.findPositionIn(s,r.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,r)=>{if(r.modelPosition)return;const s=this.findMappedViewAncestor(r.viewPosition),l=this._viewToModelMapping.get(s),d=this._toModelOffset(r.viewPosition.parent,r.viewPosition.offset,s);r.modelPosition=Ee._createAt(l,d)},{priority:"low"})}bindElements(e,r){this._modelToViewMapping.set(e,r),this._viewToModelMapping.set(r,e)}unbindViewElement(e,r={}){const s=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const l of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(l);r.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(s)==e&&this._modelToViewMapping.delete(s))}unbindModelElement(e){const r=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(r)==e&&this._viewToModelMapping.delete(r)}bindElementToMarker(e,r){const s=this._markerNameToElements.get(r)||new Set;s.add(e);const l=this._elementToMarkerNames.get(e)||new Set;l.add(r),this._markerNameToElements.set(r,s),this._elementToMarkerNames.set(e,l)}unbindElementFromMarkerName(e,r){const s=this._markerNameToElements.get(r);s&&(s.delete(e),s.size==0&&this._markerNameToElements.delete(r));const l=this._elementToMarkerNames.get(e);l&&(l.delete(r),l.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,r]of this._deferredBindingRemovals)e.root==r&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ve(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new tt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const r={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",r),r.modelPosition}toViewPosition(e,r={}){const s={modelPosition:e,mapper:this,isPhantom:r.isPhantom};return this.fire("modelToViewPosition",s),s.viewPosition}markerNameToElements(e){const r=this._markerNameToElements.get(e);if(!r)return null;const s=new Set;for(const l of r)if(l.is("attributeElement"))for(const d of l.getElementsWithSameId())s.add(d);else s.add(l);return s}registerViewToModelLength(e,r){this._viewToModelLengthCallbacks.set(e,r)}findMappedViewAncestor(e){let r=e.parent;for(;!this._viewToModelMapping.has(r);)r=r.parent;return r}_toModelOffset(e,r,s){if(s!=e)return this._toModelOffset(e.parent,e.index,s)+this._toModelOffset(e,r,e);if(e.is("$text"))return r;let l=0;for(let d=0;d<r;d++)l+=this.getModelLength(e.getChild(d));return l}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let r=0;for(const s of e.getChildren())r+=this.getModelLength(s);return r}}findPositionIn(e,r){let s,l=0,d=0,m=0;if(e.is("$text"))return new Ne(e,r);for(;d<r;)s=e.getChild(m),l=this.getModelLength(s),d+=l,m++;return d==r?this._moveViewPositionToTextNode(new Ne(e,m)):this.findPositionIn(s,r-(d-l))}_moveViewPositionToTextNode(e){const r=e.nodeBefore,s=e.nodeAfter;return r instanceof qt?new Ne(r,r.data.length):s instanceof qt?new Ne(s,0):e}}class K3{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,r){r=pg(r),e instanceof Kr&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(r,!0)}consume(e,r){return r=pg(r),e instanceof Kr&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,r)&&(this._consumable.get(e).set(r,!1),!0)}test(e,r){r=pg(r),e instanceof Kr&&(e=this._getSymbolForTextProxy(e));const s=this._consumable.get(e);if(s===void 0)return null;const l=s.get(r);return l===void 0?null:l}revert(e,r){r=pg(r),e instanceof Kr&&(e=this._getSymbolForTextProxy(e));const s=this.test(e,r);return s===!1?(this._consumable.get(e).set(r,!0),!0):s!==!0&&null}verifyAllConsumed(e){const r=[];for(const[s,l]of this._consumable)for(const[d,m]of l){const y=d.split(":")[0];m&&e==y&&r.push({event:d,item:s.name||s.description})}if(r.length)throw new N("conversion-model-consumable-not-consumed",null,{items:r})}_getSymbolForTextProxy(e){let r=null;const s=this._textProxyRegistry.get(e.startOffset);if(s){const l=s.get(e.endOffset);l&&(r=l.get(e.parent))}return r||(r=this._addSymbolForTextProxy(e)),r}_addSymbolForTextProxy(e){const r=e.startOffset,s=e.endOffset,l=e.parent,d=Symbol("$textProxy:"+e.data);let m,y;return m=this._textProxyRegistry.get(r),m||(m=new Map,this._textProxyRegistry.set(r,m)),y=m.get(s),y||(y=new Map,m.set(s,y)),y.set(l,d),d}}function pg(a){const e=a.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?a:e.length>1?e[0]+":"+e[1]:e[0]}var q3=Object.defineProperty,Q3=Object.defineProperties,Y3=Object.getOwnPropertyDescriptors,BS=Object.getOwnPropertySymbols,Z3=Object.prototype.hasOwnProperty,J3=Object.prototype.propertyIsEnumerable,FS=(a,e,r)=>e in a?q3(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,Jk=(a,e)=>{for(var r in e||(e={}))Z3.call(e,r)&&FS(a,r,e[r]);if(BS)for(var r of BS(e))J3.call(e,r)&&FS(a,r,e[r]);return a},zS=(a,e)=>Q3(a,Y3(e));class jS extends ee(){constructor(e){super(),this._conversionApi=Jk({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,r,s){const l=this._createConversionApi(s,e.getRefreshedItems());for(const m of e.getMarkersToRemove())this._convertMarkerRemove(m.name,m.range,l);const d=this._reduceChanges(e.getChanges());for(const m of d)m.type==="insert"?this._convertInsert(ve._createFromPositionAndShift(m.position,m.length),l):m.type==="reinsert"?this._convertReinsert(ve._createFromPositionAndShift(m.position,m.length),l):m.type==="remove"?this._convertRemove(m.position,m.length,m.name,l):this._convertAttribute(m.range,m.attributeKey,m.attributeOldValue,m.attributeNewValue,l);for(const m of l.mapper.flushUnboundMarkerNames()){const y=r.get(m).getRange();this._convertMarkerRemove(m,y,l),this._convertMarkerAdd(m,y,l)}for(const m of e.getMarkersToAdd())this._convertMarkerAdd(m.name,m.range,l);l.mapper.flushDeferredBindings(),l.consumable.verifyAllConsumed("insert")}convert(e,r,s,l={}){const d=this._createConversionApi(s,void 0,l);this._convertInsert(e,d);for(const[m,y]of r)this._convertMarkerAdd(m,y,d);d.consumable.verifyAllConsumed("insert")}convertSelection(e,r,s){const l=Array.from(r.getMarkersAtPosition(e.getFirstPosition())),d=this._createConversionApi(s);if(this._addConsumablesForSelection(d.consumable,e,l),this.fire("selection",{selection:e},d),e.isCollapsed){for(const m of l){const y=m.getRange();if(!X3(e.getFirstPosition(),m,d.mapper))continue;const C={item:e,markerName:m.name,markerRange:y};d.consumable.test(e,"addMarker:"+m.name)&&this.fire(`addMarker:${m.name}`,C,d)}for(const m of e.getAttributeKeys()){const y={item:e,range:e.getFirstRange(),attributeKey:m,attributeOldValue:null,attributeNewValue:e.getAttribute(m)};d.consumable.test(e,"attribute:"+y.attributeKey)&&this.fire(`attribute:${y.attributeKey}:$text`,y,d)}}}_convertInsert(e,r,s={}){s.doNotAddConsumables||this._addConsumablesForInsert(r.consumable,Array.from(e));for(const l of Array.from(e.getWalker({shallow:!0})).map(VS))this._testAndFire("insert",l,r)}_convertRemove(e,r,s,l){this.fire(`remove:${s}`,{position:e,length:r},l)}_convertAttribute(e,r,s,l,d){this._addConsumablesForRange(d.consumable,e,`attribute:${r}`);for(const m of e){const y={item:m.item,range:ve._createFromPositionAndShift(m.previousPosition,m.length),attributeKey:r,attributeOldValue:s,attributeNewValue:l};this._testAndFire(`attribute:${r}`,y,d)}}_convertReinsert(e,r){const s=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(r.consumable,s);for(const l of s.map(VS))this._testAndFire("insert",zS(Jk({},l),{reconversion:!0}),r)}_convertMarkerAdd(e,r,s){if(r.root.rootName=="$graveyard")return;const l=`addMarker:${e}`;if(s.consumable.add(r,l),this.fire(l,{markerName:e,markerRange:r},s),s.consumable.consume(r,l)){this._addConsumablesForRange(s.consumable,r,l);for(const d of r.getItems()){if(!s.consumable.test(d,l))continue;const m={item:d,range:ve._createOn(d),markerName:e,markerRange:r};this.fire(l,m,s)}}}_convertMarkerRemove(e,r,s){r.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:r},s)}_reduceChanges(e){const r={changes:e};return this.fire("reduceChanges",r),r.changes}_addConsumablesForInsert(e,r){for(const s of r){const l=s.item;if(e.test(l,"insert")===null){e.add(l,"insert");for(const d of l.getAttributeKeys())e.add(l,"attribute:"+d)}}return e}_addConsumablesForRange(e,r,s){for(const l of r.getItems())e.add(l,s);return e}_addConsumablesForSelection(e,r,s){e.add(r,"selection");for(const l of s)e.add(r,"addMarker:"+l.name);for(const l of r.getAttributeKeys())e.add(r,"attribute:"+l);return e}_testAndFire(e,r,s){const l=function(C,S){const M=S.item.is("element")?S.item.name:"$text";return`${C}:${M}`}(e,r),d=r.item.is("$textProxy")?s.consumable._getSymbolForTextProxy(r.item):r.item,m=this._firedEventsMap.get(s),y=m.get(d);if(y){if(y.has(l))return;y.add(l)}else m.set(d,new Set([l]));this.fire(l,r,s)}_testAndFireAddAttributes(e,r){const s={item:e,range:ve._createOn(e)};for(const l of s.item.getAttributeKeys())s.attributeKey=l,s.attributeOldValue=null,s.attributeNewValue=s.item.getAttribute(l),this._testAndFire(`attribute:${l}`,s,r)}_createConversionApi(e,r=new Set,s={}){const l=zS(Jk({},this._conversionApi),{consumable:new K3,writer:e,options:s,convertItem:d=>this._convertInsert(ve._createOn(d),l),convertChildren:d=>this._convertInsert(ve._createIn(d),l,{doNotAddConsumables:!0}),convertAttributes:d=>this._testAndFireAddAttributes(d,l),canReuseView:d=>!r.has(l.mapper.toModelElement(d))});return this._firedEventsMap.set(l,new Map),l}}function X3(a,e,r){const s=e.getRange(),l=Array.from(a.getAncestors());return l.shift(),l.reverse(),!l.some(d=>{if(s.containsItem(d))return!!r.toViewElement(d).getCustomProperty("addHighlight")})}function VS(a){return{item:a.item,range:ve._createFromPositionAndShift(a.previousPosition,a.length)}}class qr extends ee(la){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const r of this._ranges){let s=!1;for(const l of e._ranges)if(r.isEqual(l)){s=!0;break}if(!s)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ve(e.start,e.end)}getFirstRange(){let e=null;for(const r of this._ranges)e&&!r.start.isBefore(e.start)||(e=r);return e?new ve(e.start,e.end):null}getLastRange(){let e=null;for(const r of this._ranges)e&&!r.end.isAfter(e.end)||(e=r);return e?new ve(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[r,s,l]=e;if(typeof s=="object"&&(l=s,s=void 0),r===null)this._setRanges([]);else if(r instanceof qr)this._setRanges(r.getRanges(),r.isBackward);else if(r&&typeof r.getRanges=="function")this._setRanges(r.getRanges(),r.isBackward);else if(r instanceof ve)this._setRanges([r],!!l&&!!l.backward);else if(r instanceof Ee)this._setRanges([new ve(r)]);else if(r instanceof Dl){const d=!!l&&!!l.backward;let m;if(s=="in")m=ve._createIn(r);else if(s=="on")m=ve._createOn(r);else{if(s===void 0)throw new N("model-selection-setto-required-second-parameter",[this,r]);m=new ve(Ee._createAt(r,s))}this._setRanges([m],d)}else{if(!Se(r))throw new N("model-selection-setto-not-selectable",[this,r]);this._setRanges(r,l&&!!l.backward)}}_setRanges(e,r=!1){const s=Array.from(e),l=s.some(d=>{if(!(d instanceof ve))throw new N("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(m=>!m.isEqual(d))});(s.length!==this._ranges.length||l)&&(this._replaceAllRanges(s),this._lastRangeBackward=!!r,this.fire("change:range",{directChange:!0}))}setFocus(e,r){if(this.anchor===null)throw new N("model-selection-setfocus-no-ranges",[this,e]);const s=Ee._createAt(e,r);if(s.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.length&&this._popRange(),s.compareWith(l)=="before"?(this._pushRange(new ve(s,l)),this._lastRangeBackward=!0):(this._pushRange(new ve(l,s)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,r){this.getAttribute(e)!==r&&(this._attrs.set(e,r),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const r of this.getRanges()){const s=HS(r.start,e);tj(s,r)&&(yield s);for(const d of r.getWalker()){const m=d.item;d.type=="elementEnd"&&ej(m,e,r)&&(yield m)}const l=HS(r.end,e);nj(l,r)&&(yield l)}}containsEntireContent(e=this.anchor.root){const r=Ee._createAt(e,0),s=Ee._createAt(e,"end");return r.isTouching(this.getFirstPosition())&&s.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ve(e.start,e.end))}_checkRange(e){for(let r=0;r<this._ranges.length;r++)if(e.isIntersecting(this._ranges[r]))throw new N("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[r]})}_replaceAllRanges(e){this._removeAllRanges();for(const r of e)this._pushRange(r)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function US(a,e){return!e.has(a)&&(e.add(a),a.root.document.model.schema.isBlock(a)&&!!a.parent)}function ej(a,e,r){return US(a,e)&&Xk(a,r)}function HS(a,e){const r=a.parent.root.document.model.schema,s=a.parent.getAncestors({parentFirst:!0,includeSelf:!0});let l=!1;const d=s.find(m=>!l&&(l=r.isLimit(m),!l&&US(m,e)));return s.forEach(m=>e.add(m)),d}function Xk(a,e){const r=function(s){const l=s.root.document.model.schema;let d=s.parent;for(;d;){if(l.isBlock(d))return d;d=d.parent}}(a);return r?!e.containsRange(ve._createOn(r),!0):!0}function tj(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.start.isTouching(Ee._createAt(a,a.maxOffset))&&Xk(a,e))}function nj(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.end.isTouching(Ee._createAt(a,0))&&Xk(a,e))}qr.prototype.is=function(a){return a==="selection"||a==="model:selection"};class Qr extends ee(ve){constructor(e,r){super(e,r),ij.call(this)}detach(){this.stopListening()}toRange(){return new ve(this.start,this.end)}static fromRange(e){return new Qr(e.start,e.end)}}function ij(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const r=e[0];r.isDocumentOperation&&rj.call(this,r)},{priority:"low"})}function rj(a){const e=this.getTransformedByOperation(a),r=ve._createFromRanges(e),s=!r.isEqual(this),l=function(m,y){switch(y.type){case"insert":return m.containsPosition(y.position);case"move":case"remove":case"reinsert":case"merge":return m.containsPosition(y.sourcePosition)||m.start.isEqual(y.sourcePosition)||m.containsPosition(y.targetPosition);case"split":return m.containsPosition(y.splitPosition)||m.containsPosition(y.insertionPosition)}return!1}(this,a);let d=null;if(s){r.root.rootName=="$graveyard"&&(d=a.type=="remove"?a.sourcePosition:a.deletionPosition);const m=this.toRange();this.start=r.start,this.end=r.end,this.fire("change:range",m,{deletionPosition:d})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:d})}Qr.prototype.is=function(a){return a==="liveRange"||a==="model:liveRange"||a=="range"||a==="model:range"};const ch="selection:";class Yr extends ee(la){constructor(e){super(),this._selection=new oj(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,r){this._selection.setFocus(e,r)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,r){this._selection.setAttribute(e,r)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return ch+e}static _isStoreAttributeKey(e){return e.startsWith(ch)}}Yr.prototype.is=function(a){return a==="selection"||a=="model:selection"||a=="documentSelection"||a=="model:documentSelection"};class oj extends qr{constructor(e){super(),this.markers=new Wr({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(r,s)=>{const l=s[0];l.isDocumentOperation&&l.type!="marker"&&l.type!="rename"&&l.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(r,s,l,d)=>{this._updateMarker(s,d)}),this.listenTo(this._document,"change",(r,s)=>{(function(l,d){const m=l.document.differ;for(const y of m.getChanges()){if(y.type!="insert")continue;const C=y.position.parent;y.length===C.maxOffset&&l.enqueueChange(d,S=>{const M=Array.from(C.getAttributeKeys()).filter($=>$.startsWith(ch));for(const $ of M)S.removeAttribute($,C)})}})(this._model,s)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,r){super.setFocus(e,r),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,r){if(this._setAttribute(e,r)){const s=[e];this.fire("change:attribute",{attributeKeys:s,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const r=[e];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}overrideGravity(){const e=B();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new N("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const r=this._prepareRange(e);r&&this._ranges.push(r)}_validateSelectionRanges(e){for(const r of e)if(!this._document._validateSelectionRange(r))throw new N("document-selection-wrong-position",this,{range:r})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const r=Qr.fromRange(e);return r.on("change:range",(s,l,d)=>{if(this._hasChangedRange=!0,r.root==this._document.graveyard){this._selectionRestorePosition=d.deletionPosition;const m=this._ranges.indexOf(r);this._ranges.splice(m,1),r.detach()}}),r}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let r=!1;for(const l of this._model.markers){const d=l.name.split(":",1)[0];if(!this._observedMarkers.has(d))continue;const m=l.getRange();for(const y of this.getRanges())m.containsRange(y,!y.isCollapsed)&&e.push(l)}const s=Array.from(this.markers);for(const l of e)this.markers.has(l)||(this.markers.add(l),r=!0);for(const l of Array.from(this.markers))e.includes(l)||(this.markers.remove(l),r=!0);r&&this.fire("change:marker",{oldMarkers:s,directChange:!1})}_updateMarker(e,r){const s=e.name.split(":",1)[0];if(!this._observedMarkers.has(s))return;let l=!1;const d=Array.from(this.markers),m=this.markers.has(e);if(r){let y=!1;for(const C of this.getRanges())if(r.containsRange(C,!C.isCollapsed)){y=!0;break}y&&!m?(this.markers.add(e),l=!0):!y&&m&&(this.markers.remove(e),l=!0)}else m&&(this.markers.remove(e),l=!0);l&&this.fire("change:marker",{oldMarkers:d,directChange:!1})}_updateAttributes(e){const r=Do(this._getSurroundingAttributes()),s=Do(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[d,m]of this._attributePriority)m=="low"&&(this._attrs.delete(d),this._attributePriority.delete(d));this._setAttributesTo(r);const l=[];for(const[d,m]of this.getAttributes())s.has(d)&&s.get(d)===m||l.push(d);for(const[d]of s)this.hasAttribute(d)||l.push(d);l.length>0&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}_setAttribute(e,r,s=!0){const l=s?"normal":"low";return l=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==r&&(this._attrs.set(e,r),this._attributePriority.set(e,l),!0)}_removeAttribute(e,r=!0){const s=r?"normal":"low";return(s!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,s),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const r=new Set;for(const[s,l]of this.getAttributes())e.get(s)!==l&&this._removeAttribute(s,!1);for(const[s,l]of e)this._setAttribute(s,l,!1)&&r.add(s);return r}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const r of e.getAttributeKeys())r.startsWith(ch)&&(yield[r.substr(ch.length),e.getAttribute(r)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),r=this._model.schema;let s=null;if(this.isCollapsed){const l=e.textNode?e.textNode:e.nodeBefore,d=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(s=gg(l)),s||(s=gg(d)),!this.isGravityOverridden&&!s){let m=l;for(;m&&!r.isInline(m)&&!s;)m=m.previousSibling,s=gg(m)}if(!s){let m=d;for(;m&&!r.isInline(m)&&!s;)m=m.nextSibling,s=gg(m)}s||(s=this.getStoredAttributes())}else{const l=this.getFirstRange();for(const d of l){if(d.item.is("element")&&r.isObject(d.item))break;if(d.type=="text"){s=d.item.getAttributes();break}}}return s}_fixGraveyardSelection(e){const r=this._model.schema.getNearestSelectionRange(e);r&&this._pushRange(r)}}function gg(a){return a instanceof Kr||a instanceof Qt?a.getAttributes():null}class WS{constructor(e){this._dispatchers=e}add(e){for(const r of this._dispatchers)e(r);return this}}const Ml=function(a){return Ji(a,5)};class sj extends WS{elementToElement(e){return this.add(function(r){const s=qS(r.model),l=uh(r.view,"container");return s.attributes.length&&(s.children=!0),d=>{d.on(`insert:${s.name}`,function(m,y=lj){return(C,S,M)=>{if(!y(S.item,M.consumable,{preflight:!0}))return;const $=m(S.item,M,S);if(!$)return;y(S.item,M.consumable);const U=M.mapper.toViewPosition(S.range.start);M.mapper.bindElements(S.item,$),M.writer.insert(U,$),M.convertAttributes(S.item),XS($,S.item.getChildren(),M,{reconversion:S.reconversion})}}(l,JS(s)),{priority:r.converterPriority||"normal"}),(s.children||s.attributes.length)&&d.on("reduceChanges",ZS(s),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(r){const s=qS(r.model),l=uh(r.view,"container");return s.children=!0,d=>{if(d._conversionApi.schema.checkChild(s.name,"$text"))throw new N("conversion-element-to-structure-disallowed-text",d,{elementName:s.name});var m,y;d.on(`insert:${s.name}`,(m=l,y=JS(s),(C,S,M)=>{if(!y(S.item,M.consumable,{preflight:!0}))return;const $=new Map;M.writer._registerSlotFactory(function(K,q,X){return(ne,de)=>{const be=ne.createContainerElement("$slot");let Pe=null;if(de==="children")Pe=Array.from(K.getChildren());else{if(typeof de!="function")throw new N("conversion-slot-mode-unknown",X.dispatcher,{modeOrFilter:de});Pe=Array.from(K.getChildren()).filter(Xe=>de(Xe))}return q.set(be,Pe),be}}(S.item,$,M));const U=m(S.item,M,S);if(M.writer._clearSlotFactory(),!U)return;(function(K,q,X){const ne=Array.from(q.values()).flat(),de=new Set(ne);if(de.size!=ne.length)throw new N("conversion-slot-filter-overlap",X.dispatcher,{element:K});if(de.size!=K.childCount)throw new N("conversion-slot-filter-incomplete",X.dispatcher,{element:K})})(S.item,$,M),y(S.item,M.consumable);const W=M.mapper.toViewPosition(S.range.start);M.mapper.bindElements(S.item,U),M.writer.insert(W,U),M.convertAttributes(S.item),function(K,q,X,ne){X.mapper.on("modelToViewPosition",Pe,{priority:"highest"});let de=null,be=null;for([de,be]of q)XS(K,be,X,ne),X.writer.move(X.writer.createRangeIn(de),X.writer.createPositionBefore(de)),X.writer.remove(de);function Pe(Xe,Wt){const yt=Wt.modelPosition.nodeAfter,Un=be.indexOf(yt);Un<0||(Wt.viewPosition=Wt.mapper.findPositionIn(de,Un))}X.mapper.off("modelToViewPosition",Pe)}(U,$,M,{reconversion:S.reconversion})}),{priority:r.converterPriority||"normal"}),d.on("reduceChanges",ZS(s),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(r){r=Ml(r);let s=r.model;typeof s=="string"&&(s={key:s});let l=`attribute:${s.key}`;if(s.name&&(l+=":"+s.name),s.values)for(const m of s.values)r.view[m]=uh(r.view[m],"attribute");else r.view=uh(r.view,"attribute");const d=QS(r);return m=>{m.on(l,function(y){return(C,S,M)=>{if(!M.consumable.test(S.item,C.name))return;const $=y(S.attributeOldValue,M,S),U=y(S.attributeNewValue,M,S);if(!$&&!U)return;M.consumable.consume(S.item,C.name);const W=M.writer,K=W.document.selection;if(S.item instanceof qr||S.item instanceof Yr)W.wrap(K.getFirstRange(),U);else{let q=M.mapper.toViewRange(S.range);S.attributeOldValue!==null&&$&&(q=W.unwrap(q,$)),S.attributeNewValue!==null&&U&&W.wrap(q,U)}}}(d),{priority:r.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(r){r=Ml(r);let s=r.model;typeof s=="string"&&(s={key:s});let l=`attribute:${s.key}`;if(s.name&&(l+=":"+s.name),s.values)for(const m of s.values)r.view[m]=YS(r.view[m]);else r.view=YS(r.view);const d=QS(r);return m=>{var y;m.on(l,(y=d,(C,S,M)=>{if(!M.consumable.test(S.item,C.name))return;const $=y(S.attributeOldValue,M,S),U=y(S.attributeNewValue,M,S);if(!$&&!U)return;M.consumable.consume(S.item,C.name);const W=M.mapper.toViewElement(S.item),K=M.writer;if(!W)throw new N("conversion-attribute-to-attribute-on-text",M.dispatcher,S);if(S.attributeOldValue!==null&&$)if($.key=="class"){const q=Zn($.value);for(const X of q)K.removeClass(X,W)}else if($.key=="style"){const q=Object.keys($.value);for(const X of q)K.removeStyle(X,W)}else K.removeAttribute($.key,W);if(S.attributeNewValue!==null&&U)if(U.key=="class"){const q=Zn(U.value);for(const X of q)K.addClass(X,W)}else if(U.key=="style"){const q=Object.keys(U.value);for(const X of q)K.setStyle(X,U.value[X],W)}else K.setAttribute(U.key,U.value,W)}),{priority:r.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(r){const s=uh(r.view,"ui");return l=>{var d;l.on(`addMarker:${r.model}`,(d=s,(m,y,C)=>{y.isOpening=!0;const S=d(y,C);y.isOpening=!1;const M=d(y,C);if(!S||!M)return;const $=y.markerRange;if($.isCollapsed&&!C.consumable.consume($,m.name))return;for(const K of $)if(!C.consumable.consume(K.item,m.name))return;const U=C.mapper,W=C.writer;W.insert(U.toViewPosition($.start),S),C.mapper.bindElementToMarker(S,y.markerName),$.isCollapsed||(W.insert(U.toViewPosition($.end),M),C.mapper.bindElementToMarker(M,y.markerName)),m.stop()}),{priority:r.converterPriority||"normal"}),l.on(`removeMarker:${r.model}`,(m,y,C)=>{const S=C.mapper.markerNameToElements(y.markerName);if(S){for(const M of S)C.mapper.unbindElementFromMarkerName(M,y.markerName),C.writer.clear(C.writer.createRangeOn(M),M);C.writer.clearClonedElementsGroup(y.markerName),m.stop()}},{priority:r.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(r){return s=>{var l;s.on(`addMarker:${r.model}`,(l=r.view,(d,m,y)=>{if(!m.item||!(m.item instanceof qr||m.item instanceof Yr||m.item.is("$textProxy")))return;const C=eb(l,m,y);if(!C||!y.consumable.consume(m.item,d.name))return;const S=y.writer,M=GS(S,C),$=S.document.selection;if(m.item instanceof qr||m.item instanceof Yr)S.wrap($.getFirstRange(),M);else{const U=y.mapper.toViewRange(m.range),W=S.wrap(U,M);for(const K of W.getItems())if(K.is("attributeElement")&&K.isSimilar(M)){y.mapper.bindElementToMarker(K,m.markerName);break}}}),{priority:r.converterPriority||"normal"}),s.on(`addMarker:${r.model}`,function(d){return(m,y,C)=>{if(!y.item||!(y.item instanceof Ut))return;const S=eb(d,y,C);if(!S||!C.consumable.test(y.item,m.name))return;const M=C.mapper.toViewElement(y.item);if(M&&M.getCustomProperty("addHighlight")){C.consumable.consume(y.item,m.name);for(const $ of ve._createIn(y.item))C.consumable.consume($.item,m.name);M.getCustomProperty("addHighlight")(M,S,C.writer),C.mapper.bindElementToMarker(M,y.markerName)}}}(r.view),{priority:r.converterPriority||"normal"}),s.on(`removeMarker:${r.model}`,function(d){return(m,y,C)=>{if(y.markerRange.isCollapsed)return;const S=eb(d,y,C);if(!S)return;const M=GS(C.writer,S),$=C.mapper.markerNameToElements(y.markerName);if($){for(const U of $)C.mapper.unbindElementFromMarkerName(U,y.markerName),U.is("attributeElement")?C.writer.unwrap(C.writer.createRangeOn(U),M):U.getCustomProperty("removeHighlight")(U,S.id,C.writer);C.writer.clearClonedElementsGroup(y.markerName),m.stop()}}}(r.view),{priority:r.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(r){r=Ml(r);const s=r.model;let l=r.view;return l||(l=d=>({group:s,name:d.substr(r.model.length+1)})),d=>{var m;d.on(`addMarker:${s}`,(m=l,(y,C,S)=>{const M=m(C.markerName,S);if(!M)return;const $=C.markerRange;S.consumable.consume($,y.name)&&(KS($,!1,S,C,M),KS($,!0,S,C,M),y.stop())}),{priority:r.converterPriority||"normal"}),d.on(`removeMarker:${s}`,function(y){return(C,S,M)=>{const $=y(S.markerName,M);if(!$)return;const U=M.mapper.markerNameToElements(S.markerName);if(U){for(const K of U)M.mapper.unbindElementFromMarkerName(K,S.markerName),K.is("containerElement")?(W(`data-${$.group}-start-before`,K),W(`data-${$.group}-start-after`,K),W(`data-${$.group}-end-before`,K),W(`data-${$.group}-end-after`,K)):M.writer.clear(M.writer.createRangeOn(K),K);M.writer.clearClonedElementsGroup(S.markerName),C.stop()}function W(K,q){if(q.hasAttribute(K)){const X=new Set(q.getAttribute(K).split(","));X.delete($.name),X.size==0?M.writer.removeAttribute(K,q):M.writer.setAttribute(K,Array.from(X).join(","),q)}}}}(l),{priority:r.converterPriority||"normal"})}}(e))}}function GS(a,e){const r=a.createAttributeElement("span",e.attributes);return e.classes&&r._addClass(e.classes),typeof e.priority=="number"&&(r._priority=e.priority),r._id=e.id,r}function KS(a,e,r,s,l){const d=e?a.start:a.end,m=d.nodeAfter&&d.nodeAfter.is("element")?d.nodeAfter:null,y=d.nodeBefore&&d.nodeBefore.is("element")?d.nodeBefore:null;if(m||y){let C,S;e&&m||!e&&!y?(C=m,S=!0):(C=y,S=!1);const M=r.mapper.toViewElement(C);if(M)return void function($,U,W,K,q,X){const ne=`data-${X.group}-${U?"start":"end"}-${W?"before":"after"}`,de=$.hasAttribute(ne)?$.getAttribute(ne).split(","):[];de.unshift(X.name),K.writer.setAttribute(ne,de.join(","),$),K.mapper.bindElementToMarker($,q.markerName)}(M,e,S,r,s,l)}(function(C,S,M,$,U){const W=`${U.group}-${S?"start":"end"}`,K=U.name?{name:U.name}:null,q=M.writer.createUIElement(W,K);M.writer.insert(C,q),M.mapper.bindElementToMarker(q,$.markerName)})(r.mapper.toViewPosition(d),e,r,s,l)}function qS(a){return typeof a=="string"&&(a={name:a}),a.attributes?Array.isArray(a.attributes)||(a.attributes=[a.attributes]):a.attributes=[],a.children=!!a.children,a}function uh(a,e){return typeof a=="function"?a:(r,s)=>function(l,d,m){typeof l=="string"&&(l={name:l});let y;const C=d.writer,S=Object.assign({},l.attributes);if(m=="container")y=C.createContainerElement(l.name,S);else if(m=="attribute"){const M={priority:l.priority||xl.DEFAULT_PRIORITY};y=C.createAttributeElement(l.name,S,M)}else y=C.createUIElement(l.name,S);if(l.styles){const M=Object.keys(l.styles);for(const $ of M)C.setStyle($,l.styles[$],y)}if(l.classes){const M=l.classes;if(typeof M=="string")C.addClass(M,y);else for(const $ of M)C.addClass($,y)}return y}(a,s,e)}function QS(a){return a.model.values?(e,r,s)=>{const l=a.view[e];return l?l(e,r,s):null}:a.view}function YS(a){return typeof a=="string"?e=>({key:a,value:e}):typeof a=="object"?a.value?()=>a:e=>({key:a.key,value:e}):a}function eb(a,e,r){const s=typeof a=="function"?a(e,r):a;return s?(s.priority||(s.priority=10),s.id||(s.id=e.markerName),s):null}function ZS(a){const e=function(r){return(s,l)=>{if(!s.is("element",r.name))return!1;if(l.type=="attribute"){if(r.attributes.includes(l.attributeKey))return!0}else if(r.children)return!0;return!1}}(a);return(r,s)=>{const l=[];s.reconvertedElements||(s.reconvertedElements=new Set);for(const d of s.changes){const m=d.type=="attribute"?d.range.start.nodeAfter:d.position.parent;if(m&&e(m,d)){if(!s.reconvertedElements.has(m)){s.reconvertedElements.add(m);const y=Ee._createBefore(m);let C=l.length;for(let S=l.length-1;S>=0;S--){const M=l[S],$=(M.type=="attribute"?M.range.start:M.position).compareWith(y);if($=="before"||M.type=="remove"&&$=="same")break;C=S}l.splice(C,0,{type:"remove",name:m.name,position:y,length:1},{type:"reinsert",name:m.name,position:y,length:1})}}else l.push(d)}s.changes=l}}function JS(a){return(e,r,s={})=>{const l=["insert"];for(const d of a.attributes)e.hasAttribute(d)&&l.push(`attribute:${d}`);return!!l.every(d=>r.test(e,d))&&(s.preflight||l.forEach(d=>r.consume(e,d)),!0)}}function XS(a,e,r,s){for(const l of e)aj(a.root,l,r,s)||r.convertItem(l)}function aj(a,e,r,s){const{writer:l,mapper:d}=r;if(!s.reconversion)return!1;const m=d.toViewElement(e);return!(!m||m.root==a)&&!!r.canReuseView(m)&&(l.move(l.createRangeOn(m),d.toViewPosition(Ee._createBefore(e))),!0)}function lj(a,e,{preflight:r}={}){return r?e.test(a,"insert"):e.consume(a,"insert")}function ex(a){const{schema:e,document:r}=a.model;for(const s of r.getRootNames()){const l=r.getRoot(s);if(l.isEmpty&&!e.checkChild(l,"$text")&&e.checkChild(l,"paragraph"))return a.insertElement("paragraph",l),!0}return!1}function tx(a,e,r){const s=r.createContext(a);return!!r.checkChild(s,"paragraph")&&!!r.checkChild(s.push("paragraph"),e)}function nx(a,e){const r=e.createElement("paragraph");return e.insert(r,a),e.createPositionAt(r,0)}var cj=Object.defineProperty,uj=Object.defineProperties,dj=Object.getOwnPropertyDescriptors,ix=Object.getOwnPropertySymbols,hj=Object.prototype.hasOwnProperty,fj=Object.prototype.propertyIsEnumerable,rx=(a,e,r)=>e in a?cj(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;class pj extends WS{elementToElement(e){return this.add(ox(e))}elementToAttribute(e){return this.add(function(r){r=Ml(r),sx(r);const s=ax(r,!1),l=tb(r.view),d=l?`element:${l}`:"element";return m=>{m.on(d,s,{priority:r.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(r){r=Ml(r);let s=null;(typeof r.view=="string"||r.view.key)&&(s=function(d){typeof d.view=="string"&&(d.view={key:d.view});const m=d.view.key;let y;return m=="class"||m=="style"?y={[m=="class"?"classes":"styles"]:d.view.value}:y={attributes:{[m]:d.view.value===void 0?/[\s\S]*/:d.view.value}},d.view.name&&(y.name=d.view.name),d.view=y,m}(r)),sx(r,s);const l=ax(r,!0);return d=>{d.on("element",l,{priority:r.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(r){const s=function(m){return(y,C)=>{const S=typeof m=="string"?m:m(y,C);return C.writer.createElement("$marker",{"data-name":S})}}(r.model);return ox((l=((m,y)=>{for(var C in y||(y={}))hj.call(y,C)&&rx(m,C,y[C]);if(ix)for(var C of ix(y))fj.call(y,C)&&rx(m,C,y[C]);return m})({},r),d={model:s},uj(l,dj(d))));var l,d}(e))}dataToMarker(e){return this.add(function(r){r=Ml(r),r.model||(r.model=m=>m?r.view+":"+m:r.view);const s={view:r.view,model:r.model},l=nb(lx(s,"start")),d=nb(lx(s,"end"));return m=>{m.on(`element:${r.view}-start`,l,{priority:r.converterPriority||"normal"}),m.on(`element:${r.view}-end`,d,{priority:r.converterPriority||"normal"});const y=I.get("low"),C=I.get("highest"),S=I.get(r.converterPriority)/C;m.on("element",function(M){return($,U,W)=>{const K=`data-${M.view}`;function q(X,ne){for(const de of ne){const be=M.model(de,W),Pe=W.writer.createElement("$marker",{"data-name":be});W.writer.insert(Pe,X),U.modelCursor.isEqual(X)?U.modelCursor=U.modelCursor.getShiftedBy(1):U.modelCursor=U.modelCursor._getTransformedByInsertion(X,1),U.modelRange=U.modelRange._getTransformedByInsertion(X,1)[0]}}(W.consumable.test(U.viewItem,{attributes:K+"-end-after"})||W.consumable.test(U.viewItem,{attributes:K+"-start-after"})||W.consumable.test(U.viewItem,{attributes:K+"-end-before"})||W.consumable.test(U.viewItem,{attributes:K+"-start-before"}))&&(U.modelRange||Object.assign(U,W.convertChildren(U.viewItem,U.modelCursor)),W.consumable.consume(U.viewItem,{attributes:K+"-end-after"})&&q(U.modelRange.end,U.viewItem.getAttribute(K+"-end-after").split(",")),W.consumable.consume(U.viewItem,{attributes:K+"-start-after"})&&q(U.modelRange.end,U.viewItem.getAttribute(K+"-start-after").split(",")),W.consumable.consume(U.viewItem,{attributes:K+"-end-before"})&&q(U.modelRange.start,U.viewItem.getAttribute(K+"-end-before").split(",")),W.consumable.consume(U.viewItem,{attributes:K+"-start-before"})&&q(U.modelRange.start,U.viewItem.getAttribute(K+"-start-before").split(",")))}}(s),{priority:y+S})}}(e))}}function ox(a){const e=nb(a=Ml(a)),r=tb(a.view),s=r?`element:${r}`:"element";return l=>{l.on(s,e,{priority:a.converterPriority||"normal"})}}function tb(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function nb(a){const e=new Mo(a.view);return(r,s,l)=>{const d=e.match(s.viewItem);if(!d)return;const m=d.match;if(m.name=!0,!l.consumable.test(s.viewItem,m))return;const y=function(C,S,M){return C instanceof Function?C(S,M):M.writer.createElement(C)}(a.model,s.viewItem,l);y&&l.safeInsert(y,s.modelCursor)&&(l.consumable.consume(s.viewItem,m),l.convertChildren(s.viewItem,y),l.updateConversionResult(y,s))}}function sx(a,e=null){const r=e===null||(d=>d.getAttribute(e)),s=typeof a.model!="object"?a.model:a.model.key,l=typeof a.model!="object"||a.model.value===void 0?r:a.model.value;a.model={key:s,value:l}}function ax(a,e){const r=new Mo(a.view);return(s,l,d)=>{if(!l.modelRange&&e)return;const m=r.match(l.viewItem);if(!m||(function(M,$){const U=typeof M=="function"?M($):M;return typeof U=="object"&&!tb(U)?!1:!U.classes&&!U.attributes&&!U.styles}(a.view,l.viewItem)?m.match.name=!0:delete m.match.name,!d.consumable.test(l.viewItem,m.match)))return;const y=a.model.key,C=typeof a.model.value=="function"?a.model.value(l.viewItem,d):a.model.value;if(C===null)return;l.modelRange||Object.assign(l,d.convertChildren(l.viewItem,l.modelCursor)),function(M,$,U,W){let K=!1;for(const q of Array.from(M.getItems({shallow:U})))W.schema.checkAttribute(q,$.key)&&(K=!0,q.hasAttribute($.key)||W.writer.setAttribute($.key,$.value,q));return K}(l.modelRange,{key:y,value:C},e,d)&&(d.consumable.test(l.viewItem,{name:!0})&&(m.match.name=!0),d.consumable.consume(l.viewItem,m.match))}}function lx(a,e){return{view:`${a.view}-${e}`,model:(r,s)=>{const l=r.getAttribute("name"),d=a.model(l,s);return s.writer.createElement("$marker",{"data-name":d})}}}function gj(a){a.document.registerPostFixer(e=>function(r,s){const l=s.document.selection,d=s.schema,m=[];let y=!1;for(const C of l.getRanges()){const S=cx(C,d);S&&!S.isEqual(C)?(m.push(S),y=!0):m.push(C)}return y&&r.setSelection(function(C){const S=[...C],M=new Set;let $=1;for(;$<S.length;){const U=S[$],W=S.slice(0,$);for(const[K,q]of W.entries())if(!M.has(K)){if(U.isEqual(q))M.add(K);else if(U.isIntersecting(q)){M.add(K),M.add($);const X=U.getJoined(q);S.push(X)}}$++}return S.filter((U,W)=>!M.has(W))}(m),{backward:l.isBackward}),!1}(e,a))}function cx(a,e){return a.isCollapsed?function(r,s){const l=r.start,d=s.getNearestSelectionRange(l);if(!d){const y=l.getAncestors().reverse().find(C=>s.isObject(C));return y?ve._createOn(y):null}if(!d.isCollapsed)return d;const m=d.start;return l.isEqual(m)?null:new ve(m)}(a,e):function(r,s){const{start:l,end:d}=r,m=s.checkChild(l,"$text"),y=s.checkChild(d,"$text"),C=s.getLimitElement(l),S=s.getLimitElement(d);if(C===S){if(m&&y)return null;if(function(U,W,K){const q=U.nodeAfter&&!K.isLimit(U.nodeAfter)||K.checkChild(U,"$text"),X=W.nodeBefore&&!K.isLimit(W.nodeBefore)||K.checkChild(W,"$text");return q||X}(l,d,s)){const U=l.nodeAfter&&s.isSelectable(l.nodeAfter)?null:s.getNearestSelectionRange(l,"forward"),W=d.nodeBefore&&s.isSelectable(d.nodeBefore)?null:s.getNearestSelectionRange(d,"backward"),K=U?U.start:l,q=W?W.end:d;return new ve(K,q)}}const M=C&&!C.is("rootElement"),$=S&&!S.is("rootElement");if(M||$){const U=l.nodeAfter&&d.nodeBefore&&l.nodeAfter.parent===d.nodeBefore.parent,W=M&&(!U||!dx(l.nodeAfter,s)),K=$&&(!U||!dx(d.nodeBefore,s));let q=l,X=d;return W&&(q=Ee._createBefore(ux(C,s))),K&&(X=Ee._createAfter(ux(S,s))),new ve(q,X)}return null}(a,e)}function ux(a,e){let r=a,s=r;for(;e.isLimit(s)&&s.parent;)r=s,s=s.parent;return r}function dx(a,e){return a&&e.isSelectable(a)}class mj extends Ye(){constructor(e,r){super(),this.model=e,this.view=new G3(r),this.mapper=new $S,this.downcastDispatcher=new jS({mapper:this.mapper,schema:e.schema});const s=this.model.document,l=s.selection,d=this.model.markers;var m,y,C;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(s,"change",()=>{this.view.change(S=>{this.downcastDispatcher.convertChanges(s.differ,d,S),this.downcastDispatcher.convertSelection(l,d,S)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(S,M){return($,U)=>{const W=U.newSelection,K=[];for(const X of W.getRanges())K.push(M.toModelRange(X));const q=S.createSelection(K,{backward:W.isBackward});q.isEqual(S.document.selection)||S.change(X=>{X.setSelection(q)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(m=this.mapper,y=this.model.schema,C=this.view,(S,M)=>{if(!C.document.isComposing||v.isAndroid)for(let $=0;$<M.targetRanges.length;$++){const U=M.targetRanges[$],W=m.toModelRange(U),K=cx(W,y);K&&!K.isEqual(W)&&(M.targetRanges[$]=m.toViewRange(K))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(S,M,$)=>{if(!$.consumable.consume(M.item,S.name))return;const U=$.writer,W=$.mapper.toViewPosition(M.range.start),K=U.createText(M.item.data);U.insert(W,K)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(S,M,$)=>{$.convertAttributes(M.item),M.reconversion||!M.item.is("element")||M.item.isEmpty||$.convertChildren(M.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(S,M,$)=>{const U=$.mapper.toViewPosition(M.position),W=M.position.getShiftedBy(M.length),K=$.mapper.toViewPosition(W,{isPhantom:!0}),q=$.writer.createRange(U,K),X=$.writer.remove(q.getTrimmed());for(const ne of $.writer.createRangeIn(X).getItems())$.mapper.unbindViewElement(ne,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(S,M,$)=>{const U=$.writer,W=U.document.selection;for(const K of W.getRanges())K.isCollapsed&&K.end.parent.isAttached()&&$.writer.mergeAttributes(K.start);U.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(S,M,$)=>{const U=M.selection;if(U.isCollapsed||!$.consumable.consume(U,"selection"))return;const W=[];for(const K of U.getRanges())W.push($.mapper.toViewRange(K));$.writer.setSelection(W,{backward:U.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(S,M,$)=>{const U=M.selection;if(!U.isCollapsed||!$.consumable.consume(U,"selection"))return;const W=$.writer,K=U.getFirstPosition(),q=$.mapper.toViewPosition(K),X=W.breakAttributes(q);W.setSelection(X)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(S=>{if(S.rootName=="$graveyard")return null;const M=new oS(this.view.document,S.name);return M.rootName=S.rootName,this.mapper.bindElements(S,M),M})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const r=typeof e=="string"?e:e.name,s=this.model.markers.get(r);if(!s)throw new N("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:r});this.model.change(()=>{this.model.markers._refresh(s)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class dh{constructor(){this._consumables=new Map}add(e,r){let s;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?s=this._consumables.get(e):(s=new vj(e),this._consumables.set(e,s)),s.add(r))}test(e,r){const s=this._consumables.get(e);return s===void 0?null:e.is("$text")||e.is("documentFragment")?s:s.test(r)}consume(e,r){return!!this.test(e,r)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(r),!0)}revert(e,r){const s=this._consumables.get(e);s!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):s.revert(r))}static consumablesFromElement(e){const r={element:e,name:!0,attributes:[],classes:[],styles:[]},s=e.getAttributeKeys();for(const m of s)m!="style"&&m!="class"&&r.attributes.push(m);const l=e.getClassNames();for(const m of l)r.classes.push(m);const d=e.getStyleNames();for(const m of d)r.styles.push(m);return r}static createFrom(e,r){if(r||(r=new dh),e.is("$text"))return r.add(e),r;e.is("element")&&r.add(e,dh.consumablesFromElement(e)),e.is("documentFragment")&&r.add(e);for(const s of e.getChildren())r=dh.createFrom(s,r);return r}}const mg=["attributes","classes","styles"];class vj{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const r of mg)r in e&&this._add(r,e[r])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const r of mg)if(r in e){const s=this._test(r,e[r]);if(s!==!0)return s}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const r of mg)r in e&&this._consume(r,e[r])}revert(e){e.name&&(this._canConsumeName=!0);for(const r of mg)r in e&&this._revert(r,e[r])}_add(e,r){const s=Rn(r)?r:[r],l=this._consumables[e];for(const d of s){if(e==="attributes"&&(d==="class"||d==="style"))throw new N("viewconsumable-invalid-attribute",this);if(l.set(d,!0),e==="styles")for(const m of this.element.document.stylesProcessor.getRelatedStyles(d))l.set(m,!0)}}_test(e,r){const s=Rn(r)?r:[r],l=this._consumables[e];for(const d of s)if(e!=="attributes"||d!=="class"&&d!=="style"){const m=l.get(d);if(m===void 0)return null;if(!m)return!1}else{const m=d=="class"?"classes":"styles",y=this._test(m,[...this._consumables[m].keys()]);if(y!==!0)return y}return!0}_consume(e,r){const s=Rn(r)?r:[r],l=this._consumables[e];for(const d of s)if(e!=="attributes"||d!=="class"&&d!=="style"){if(l.set(d,!1),e=="styles")for(const m of this.element.document.stylesProcessor.getRelatedStyles(d))l.set(m,!1)}else{const m=d=="class"?"classes":"styles";this._consume(m,[...this._consumables[m].keys()])}}_revert(e,r){const s=Rn(r)?r:[r],l=this._consumables[e];for(const d of s)if(e!=="attributes"||d!=="class"&&d!=="style")l.get(d)===!1&&l.set(d,!0);else{const m=d=="class"?"classes":"styles";this._revert(m,[...this._consumables[m].keys()])}}}class wj extends Ye(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,r)=>{r[0]=new Ll(r[0])},{priority:"highest"}),this.on("checkChild",(e,r)=>{r[0]=new Ll(r[0]),r[1]=this.getDefinition(r[1])},{priority:"highest"})}register(e,r){if(this._sourceDefinitions[e])throw new N("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},r)],this._clearCache()}extend(e,r){if(!this._sourceDefinitions[e])throw new N("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},r)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let r;return r=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[r]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const r=this.getDefinition(e);return!(!r||!r.isBlock)}isLimit(e){const r=this.getDefinition(e);return!!r&&!(!r.isLimit&&!r.isObject)}isObject(e){const r=this.getDefinition(e);return!!r&&!!(r.isObject||r.isLimit&&r.isSelectable&&r.isContent)}isInline(e){const r=this.getDefinition(e);return!(!r||!r.isInline)}isSelectable(e){const r=this.getDefinition(e);return!!r&&!(!r.isSelectable&&!r.isObject)}isContent(e){const r=this.getDefinition(e);return!!r&&!(!r.isContent&&!r.isObject)}checkChild(e,r){return!!r&&this._checkContextMatch(r,e)}checkAttribute(e,r){const s=this.getDefinition(e.last);return!!s&&s.allowAttributes.includes(r)}checkMerge(e,r){if(e instanceof Ee){const s=e.nodeBefore,l=e.nodeAfter;if(!(s instanceof Ut))throw new N("schema-check-merge-no-element-before",this);if(!(l instanceof Ut))throw new N("schema-check-merge-no-element-after",this);return this.checkMerge(s,l)}for(const s of r.getChildren())if(!this.checkChild(e,s))return!1;return!0}addChildCheck(e){this.on("checkChild",(r,[s,l])=>{if(!l)return;const d=e(s,l);typeof d=="boolean"&&(r.stop(),r.return=d)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(r,[s,l])=>{const d=e(s,l);typeof d=="boolean"&&(r.stop(),r.return=d)},{priority:"high"})}setAttributeProperties(e,r){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),r)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let r;for(e instanceof Ee?r=e.parent:r=(e instanceof ve?[e]:Array.from(e.getRanges())).reduce((s,l)=>{const d=l.getCommonAncestor();return s?s.getCommonAncestor(d,{includeSelf:!0}):d},null);!this.isLimit(r)&&r.parent;)r=r.parent;return r}checkAttributeInSelection(e,r){if(e.isCollapsed){const s=[...e.getFirstPosition().getAncestors(),new Qt("",e.getAttributes())];return this.checkAttribute(s,r)}{const s=e.getRanges();for(const l of s)for(const d of l)if(this.checkAttribute(d.item,r))return!0}return!1}*getValidRanges(e,r){e=function*(s){for(const l of s)yield*l.getMinimalFlatRanges()}(e);for(const s of e)yield*this._getValidRangesForRange(s,r)}getNearestSelectionRange(e,r="both"){if(this.checkChild(e,"$text"))return new ve(e);let s,l;const d=e.getAncestors().reverse().find(m=>this.isLimit(m))||e.root;r!="both"&&r!="backward"||(s=new Oo({boundaries:ve._createIn(d),startPosition:e,direction:"backward"})),r!="both"&&r!="forward"||(l=new Oo({boundaries:ve._createIn(d),startPosition:e}));for(const m of function*(y,C){let S=!1;for(;!S;){if(S=!0,y){const M=y.next();M.done||(S=!1,yield{walker:y,value:M.value})}if(C){const M=C.next();M.done||(S=!1,yield{walker:C,value:M.value})}}}(s,l)){const y=m.walker==s?"elementEnd":"elementStart",C=m.value;if(C.type==y&&this.isObject(C.item))return ve._createOn(C.item);if(this.checkChild(C.nextPosition,"$text"))return new ve(C.nextPosition)}return null}findAllowedParent(e,r){let s=e.parent;for(;s;){if(this.checkChild(s,r))return s;if(this.isLimit(s))return null;s=s.parent}return null}setAllowedAttributes(e,r,s){const l=s.model;for(const[d,m]of Object.entries(r))l.schema.checkAttribute(e,d)&&s.setAttribute(d,m,e)}removeDisallowedAttributes(e,r){for(const s of e)if(s.is("$text"))hx(this,s,r);else{const l=ve._createIn(s).getPositions();for(const d of l)hx(this,d.nodeBefore||d.parent,r)}}getAttributesWithProperty(e,r,s){const l={};for(const[d,m]of e.getAttributes()){const y=this.getAttributeProperties(d);y[r]!==void 0&&(s!==void 0&&s!==y[r]||(l[d]=m))}return l}createContext(e){return new Ll(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},r=this._sourceDefinitions,s=Object.keys(r);for(const l of s)e[l]=kj(r[l],l);for(const l of s)bj(e,l);for(const l of s)yj(e,l);for(const l of s)Aj(e,l);for(const l of s)_j(e,l),Cj(e,l);for(const l of s)Ej(e,l),Sj(e,l),xj(e,l);this._compiledDefinitions=e}_checkContextMatch(e,r,s=r.length-1){const l=r.getItem(s);if(e.allowIn.includes(l.name)){if(s==0)return!0;{const d=this.getDefinition(l);return this._checkContextMatch(d,r,s-1)}}return!1}*_getValidRangesForRange(e,r){let s=e.start,l=e.start;for(const d of e.getItems({shallow:!0}))d.is("element")&&(yield*this._getValidRangesForRange(ve._createIn(d),r)),this.checkAttribute(d,r)||(s.isEqual(l)||(yield new ve(s,l)),s=Ee._createAfter(d)),l=Ee._createAfter(d);s.isEqual(l)||(yield new ve(s,l))}}class Ll{constructor(e){if(e instanceof Ll)return e;let r;r=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=r.map(Dj)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const r=new Ll([e]);return r._items=[...this._items,...r._items],r}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function kj(a,e){const r={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(s,l){for(const d of s){const m=Object.keys(d).filter(y=>y.startsWith("is"));for(const y of m)l[y]=!!d[y]}}(a,r),Rl(a,r,"allowIn"),Rl(a,r,"allowContentOf"),Rl(a,r,"allowWhere"),Rl(a,r,"allowAttributes"),Rl(a,r,"allowAttributesOf"),Rl(a,r,"allowChildren"),Rl(a,r,"inheritTypesFrom"),function(s,l){for(const d of s){const m=d.inheritAllFrom;m&&(l.allowContentOf.push(m),l.allowWhere.push(m),l.allowAttributesOf.push(m),l.inheritTypesFrom.push(m))}}(a,r),r}function bj(a,e){const r=a[e];for(const s of r.allowChildren){const l=a[s];l&&l.allowIn.push(e)}r.allowChildren.length=0}function yj(a,e){for(const r of a[e].allowContentOf)a[r]&&Tj(a,r).forEach(s=>{s.allowIn.push(e)});delete a[e].allowContentOf}function Aj(a,e){for(const r of a[e].allowWhere){const s=a[r];if(s){const l=s.allowIn;a[e].allowIn.push(...l)}}delete a[e].allowWhere}function _j(a,e){for(const r of a[e].allowAttributesOf){const s=a[r];if(s){const l=s.allowAttributes;a[e].allowAttributes.push(...l)}}delete a[e].allowAttributesOf}function Cj(a,e){const r=a[e];for(const s of r.inheritTypesFrom){const l=a[s];if(l){const d=Object.keys(l).filter(m=>m.startsWith("is"));for(const m of d)m in r||(r[m]=l[m])}}delete r.inheritTypesFrom}function Ej(a,e){const r=a[e],s=r.allowIn.filter(l=>a[l]);r.allowIn=Array.from(new Set(s))}function Sj(a,e){const r=a[e];for(const s of r.allowIn)a[s].allowChildren.push(e)}function xj(a,e){const r=a[e];r.allowAttributes=Array.from(new Set(r.allowAttributes))}function Rl(a,e,r){for(const s of a){const l=s[r];typeof l=="string"?e[r].push(l):Array.isArray(l)&&e[r].push(...l)}}function Tj(a,e){const r=a[e];return(s=a,Object.keys(s).map(l=>s[l])).filter(l=>l.allowIn.includes(r.name));var s}function Dj(a){return typeof a=="string"||a.is("documentFragment")?{name:typeof a=="string"?a:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:a.is("element")?a.name:"$text",*getAttributeKeys(){yield*a.getAttributeKeys()},getAttribute:e=>a.getAttribute(e)}}function hx(a,e,r){for(const s of e.getAttributeKeys())a.checkAttribute(e,s)||r.removeAttribute(s,e)}var Ij=Object.defineProperty,Mj=Object.defineProperties,Lj=Object.getOwnPropertyDescriptors,fx=Object.getOwnPropertySymbols,Rj=Object.prototype.hasOwnProperty,Nj=Object.prototype.propertyIsEnumerable,px=(a,e,r)=>e in a?Ij(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;class Oj extends ee(){constructor(e){var r;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(r=((s,l)=>{for(var d in l||(l={}))Rj.call(l,d)&&px(s,d,l[d]);if(fx)for(var d of fx(l))Nj.call(l,d)&&px(s,d,l[d]);return s})({},e),Mj(r,Lj({consumable:null,writer:null,store:null,convertItem:(s,l)=>this._convertItem(s,l),convertChildren:(s,l)=>this._convertChildren(s,l),safeInsert:(s,l)=>this._safeInsert(s,l),updateConversionResult:(s,l)=>this._updateConversionResult(s,l),splitToAllowedParent:(s,l)=>this._splitToAllowedParent(s,l),getSplitParts:s=>this._getSplitParts(s),keepEmptyElement:s=>this._keepEmptyElement(s)})))}convert(e,r,s=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(m,y){let C;for(const S of new Ll(m)){const M={};for(const U of S.getAttributeKeys())M[U]=S.getAttribute(U);const $=y.createElement(S.name,M);C&&y.insert($,C),C=Ee._createAt($,0)}return C}(s,r),this.conversionApi.writer=r,this.conversionApi.consumable=dh.createFrom(e),this.conversionApi.store={};const{modelRange:l}=this._convertItem(e,this._modelCursor),d=r.createDocumentFragment();if(l){this._removeEmptyElements();for(const m of Array.from(this._modelCursor.parent.getChildren()))r.append(m,d);d.markers=function(m,y){const C=new Set,S=new Map,M=ve._createIn(m).getItems();for(const $ of M)$.is("element","$marker")&&C.add($);for(const $ of C){const U=$.getAttribute("data-name"),W=y.createPositionBefore($);S.has(U)?S.get(U).end=W.clone():S.set(U,new ve(W.clone())),y.remove($)}return S}(d,r)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,d}_convertItem(e,r){const s={viewItem:e,modelCursor:r,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,s,this.conversionApi):e.is("$text")?this.fire("text",s,this.conversionApi):this.fire("documentFragment",s,this.conversionApi),s.modelRange&&!(s.modelRange instanceof ve))throw new N("view-conversion-dispatcher-incorrect-result",this);return{modelRange:s.modelRange,modelCursor:s.modelCursor}}_convertChildren(e,r){let s=r.is("position")?r:Ee._createAt(r,0);const l=new ve(s);for(const d of Array.from(e.getChildren())){const m=this._convertItem(d,s);m.modelRange instanceof ve&&(l.end=m.modelRange.end,s=m.modelCursor)}return{modelRange:l,modelCursor:s}}_safeInsert(e,r){const s=this._splitToAllowedParent(e,r);return!!s&&(this.conversionApi.writer.insert(e,s.position),!0)}_updateConversionResult(e,r){const s=this._getSplitParts(e),l=this.conversionApi.writer;r.modelRange||(r.modelRange=l.createRange(l.createPositionBefore(e),l.createPositionAfter(s[s.length-1])));const d=this._cursorParents.get(e);r.modelCursor=d?l.createPositionAt(d,0):r.modelRange.end}_splitToAllowedParent(e,r){const{schema:s,writer:l}=this.conversionApi;let d=s.findAllowedParent(r,e);if(d){if(d===r.parent)return{position:r};this._modelCursor.parent.getAncestors().includes(d)&&(d=null)}if(!d)return tx(r,e,s)?{position:nx(r,l)}:null;const m=this.conversionApi.writer.split(r,d),y=[];for(const S of m.range.getWalker())if(S.type=="elementEnd")y.push(S.item);else{const M=y.pop(),$=S.item;this._registerSplitPair(M,$)}const C=m.range.end.parent;return this._cursorParents.set(e,C),{position:m.position,cursorParent:C}}_registerSplitPair(e,r){this._splitParts.has(e)||this._splitParts.set(e,[e]);const s=this._splitParts.get(e);this._splitParts.set(r,s),s.push(r)}_getSplitParts(e){let r;return r=this._splitParts.has(e)?this._splitParts.get(e):[e],r}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const r of this._splitParts.keys())r.isEmpty&&!this._emptyElementsToKeep.has(r)&&(this.conversionApi.writer.remove(r),this._splitParts.delete(r),e=!0);e&&this._removeEmptyElements()}}class Pj{getHtml(e){const r=document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(e),r.innerHTML}}class $j{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new dg(e,{renderingMode:"data"}),this.htmlWriter=new Pj}toData(e){const r=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(r)}toView(e){const r=this._toDom(e);return this.domConverter.domToView(r,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const r=this.domParser.parseFromString(e,"text/html"),s=r.createDocumentFragment(),l=r.body.childNodes;for(;l.length>0;)s.appendChild(l[0]);return s}}class Bj extends ee(){constructor(e,r){super(),this.model=e,this.mapper=new $S,this.downcastDispatcher=new jS({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(s,l,d)=>{if(!d.consumable.consume(l.item,s.name))return;const m=d.writer,y=d.mapper.toViewPosition(l.range.start),C=m.createText(l.item.data);m.insert(y,C)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(s,l,d)=>{d.convertAttributes(l.item),l.reconversion||!l.item.is("element")||l.item.isEmpty||d.convertChildren(l.item)},{priority:"lowest"}),this.upcastDispatcher=new Oj({schema:e.schema}),this.viewDocument=new ag(r),this.stylesProcessor=r,this.htmlProcessor=new $j(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new aS(this.viewDocument),this.upcastDispatcher.on("text",(s,l,{schema:d,consumable:m,writer:y})=>{let C=l.modelCursor;if(!m.test(l.viewItem))return;if(!d.checkChild(C,"$text")){if(!tx(C,"$text",d)||l.viewItem.data.trim().length==0)return;const M=C.nodeBefore;C=nx(C,y),M&&M.is("element","$marker")&&(y.move(y.createRangeOn(M),C),C=y.createPositionAfter(M))}m.consume(l.viewItem);const S=y.createText(l.viewItem.data);y.insert(S,C),l.modelRange=y.createRange(C,C.getShiftedBy(S.offsetSize)),l.modelCursor=l.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(s,l,d)=>{if(!l.modelRange&&d.consumable.consume(l.viewItem,{name:!0})){const{modelRange:m,modelCursor:y}=d.convertChildren(l.viewItem,l.modelCursor);l.modelRange=m,l.modelCursor=y}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(s,l,d)=>{if(!l.modelRange&&d.consumable.consume(l.viewItem,{name:!0})){const{modelRange:m,modelCursor:y}=d.convertChildren(l.viewItem,l.modelCursor);l.modelRange=m,l.modelCursor=y}},{priority:"lowest"}),Ye().prototype.decorate.call(this,"init"),Ye().prototype.decorate.call(this,"set"),Ye().prototype.decorate.call(this,"get"),Ye().prototype.decorate.call(this,"toView"),Ye().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},ex)},{priority:"lowest"})}get(e={}){const{rootName:r="main",trim:s="empty"}=e;if(!this._checkIfRootsExists([r]))throw new N("datacontroller-get-non-existent-root",this);const l=this.model.document.getRoot(r);return l.isAttached()||P("datacontroller-get-detached-root",this),s!=="empty"||this.model.hasContent(l,{ignoreWhitespaces:!0})?this.stringify(l,e):""}stringify(e,r={}){const s=this.toView(e,r);return this.processor.toData(s)}toView(e,r={}){const s=this.viewDocument,l=this._viewWriter;this.mapper.clearBindings();const d=ve._createIn(e),m=new Tl(s);this.mapper.bindElements(e,m);const y=e.is("documentFragment")?e.markers:function(C){const S=[],M=C.root.document;if(!M)return new Map;const $=ve._createIn(C);for(const U of M.model.markers){const W=U.getRange(),K=W.isCollapsed,q=W.start.isEqual($.start)||W.end.isEqual($.end);if(K&&q)S.push([U.name,W]);else{const X=$.getIntersection(W);X&&S.push([U.name,X])}}return S.sort(([U,W],[K,q])=>{if(W.end.compareWith(q.start)!=="after")return 1;if(W.start.compareWith(q.end)!=="before")return-1;switch(W.start.compareWith(q.start)){case"before":return 1;case"after":return-1;default:switch(W.end.compareWith(q.end)){case"before":return 1;case"after":return-1;default:return K.localeCompare(U)}}}),new Map(S)}(e);return this.downcastDispatcher.convert(d,y,l,r),m}init(e){if(this.model.document.version)throw new N("datacontroller-init-document-not-empty",this);let r={};if(typeof e=="string"?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new N("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},s=>{for(const l of Object.keys(r)){const d=this.model.document.getRoot(l);s.insert(this.parse(r[l],d),d,0)}}),Promise.resolve()}set(e,r={}){let s={};if(typeof e=="string"?s.main=e:s=e,!this._checkIfRootsExists(Object.keys(s)))throw new N("datacontroller-set-non-existent-root",this);this.model.enqueueChange(r.batchType||{},l=>{l.setSelection(null),l.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const d of Object.keys(s)){const m=this.model.document.getRoot(d);l.remove(l.createRangeIn(m)),l.insert(this.parse(s[d],m),m,0)}})}parse(e,r="$root"){const s=this.processor.toView(e);return this.toModel(s,r)}toModel(e,r="$root"){return this.model.change(s=>this.upcastDispatcher.convert(e,s,r))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const r of e)if(!this.model.document.getRoot(r))return!1;return!0}}class Fj{constructor(e,r){this._helpers=new Map,this._downcast=Zn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Zn(r),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,r){const s=this._downcast.includes(r);if(!this._upcast.includes(r)&&!s)throw new N("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[r],isDowncast:s})}for(e){if(!this._helpers.has(e))throw new N("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:r,view:s}of ib(e))this.for("upcast").elementToElement({model:r,view:s,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:r,view:s}of ib(e))this.for("upcast").elementToAttribute({view:s,model:r,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:r,view:s}of ib(e))this.for("upcast").attributeToAttribute({view:s,model:r})}_createConversionHelpers({name:e,dispatchers:r,isDowncast:s}){if(this._helpers.has(e))throw new N("conversion-group-exists",this);const l=s?new sj(r):new pj(r);this._helpers.set(e,l)}}function*ib(a){if(a.model.values)for(const e of a.model.values){const r={key:a.model.key,value:e},s=a.view[e],l=a.upcastAlso?a.upcastAlso[e]:void 0;yield*gx(r,s,l)}else yield*gx(a.model,a.view,a.upcastAlso)}function*gx(a,e,r){if(yield{model:a,view:e},r)for(const s of Zn(r))yield{model:a,view:s}}class hr{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,r){return new this(e.baseVersion)}}function rb(a,e){const r=vx(e),s=r.reduce((m,y)=>m+y.offsetSize,0),l=a.parent;ph(a);const d=a.index;return l._insertChild(d,r),fh(l,d+r.length),fh(l,d),new ve(a,a.getShiftedBy(s))}function mx(a){if(!a.isFlat)throw new N("operation-utils-remove-range-not-flat",this);const e=a.start.parent;ph(a.start),ph(a.end);const r=e._removeChildren(a.start.index,a.end.index-a.start.index);return fh(e,a.start.index),r}function hh(a,e){if(!a.isFlat)throw new N("operation-utils-move-range-not-flat",this);const r=mx(a);return rb(e=e._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),r)}function vx(a){const e=[];(function r(s){if(typeof s=="string")e.push(new Qt(s));else if(s instanceof Kr)e.push(new Qt(s.data,s.getAttributes()));else if(s instanceof Dl)e.push(s);else if(Se(s))for(const l of s)r(l)})(a);for(let r=1;r<e.length;r++){const s=e[r],l=e[r-1];s instanceof Qt&&l instanceof Qt&&wx(s,l)&&(e.splice(r-1,2,new Qt(l.data+s.data,l.getAttributes())),r--)}return e}function fh(a,e){const r=a.getChild(e-1),s=a.getChild(e);if(r&&s&&r.is("$text")&&s.is("$text")&&wx(r,s)){const l=new Qt(r.data+s.data,r.getAttributes());a._removeChildren(e-1,2),a._insertChild(e-1,l)}}function ph(a){const e=a.textNode,r=a.parent;if(e){const s=a.offset-e.startOffset,l=e.index;r._removeChildren(l,1);const d=new Qt(e.data.substr(0,s),e.getAttributes()),m=new Qt(e.data.substr(s),e.getAttributes());r._insertChild(l,[d,m])}}function wx(a,e){const r=a.getAttributes(),s=e.getAttributes();for(const l of r){if(l[1]!==e.getAttribute(l[0]))return!1;s.next()}return s.next().done}class Rt extends hr{constructor(e,r,s,l){super(l),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=r,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}clone(){return new Rt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Rt(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,r=this.targetPosition.parent,s=this.sourcePosition.offset,l=this.targetPosition.offset;if(s+this.howMany>e.maxOffset)throw new N("move-operation-nodes-do-not-exist",this);if(e===r&&s<l&&l<s+this.howMany)throw new N("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&fe(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const d=this.sourcePosition.path.length-1;if(this.targetPosition.path[d]>=s&&this.targetPosition.path[d]<s+this.howMany)throw new N("move-operation-node-into-itself",this)}}_execute(){hh(ve._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,r){const s=Ee.fromJSON(e.sourcePosition,r),l=Ee.fromJSON(e.targetPosition,r);return new this(s,e.howMany,l,e.baseVersion)}}class Jn extends hr{constructor(e,r,s){super(s),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new ah(vx(r)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new ah([...this.nodes].map(s=>s._clone(!0))),r=new Jn(this.position,e,this.baseVersion);return r.shouldReceiveAttributes=this.shouldReceiveAttributes,r}getReversed(){const e=this.position.root.document.graveyard,r=new Ee(e,[0]);return new Rt(this.position,this.nodes.maxOffset,r,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new N("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new ah([...e].map(r=>r._clone(!0))),rb(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,r){const s=[];for(const d of e.nodes)d.name?s.push(Ut.fromJSON(d)):s.push(Qt.fromJSON(d));const l=new Jn(Ee.fromJSON(e.position,r),s,e.baseVersion);return l.shouldReceiveAttributes=e.shouldReceiveAttributes,l}}class Yt extends hr{constructor(e,r,s,l,d){super(d),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=r,this.insertionPosition=s,this.graveyardPosition=l?l.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Ee(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ve(this.splitPosition,e)}clone(){return new Yt(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,r=new Ee(e,[0]);return new An(this.moveTargetPosition,this.howMany,this.splitPosition,r,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,r=this.splitPosition.offset;if(!e||e.maxOffset<r)throw new N("split-operation-position-invalid",this);if(!e.parent)throw new N("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new N("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new N("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)hh(ve._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const r=e._clone();rb(this.insertionPosition,r)}hh(new ve(Ee._createAt(e,this.splitPosition.offset),Ee._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const r=e.path.slice(0,-1);return r[r.length-1]++,new Ee(e.root,r,"toPrevious")}static fromJSON(e,r){const s=Ee.fromJSON(e.splitPosition,r),l=Ee.fromJSON(e.insertionPosition,r),d=e.graveyardPosition?Ee.fromJSON(e.graveyardPosition,r):null;return new this(s,e.howMany,l,d,e.baseVersion)}}class An extends hr{constructor(e,r,s,l,d){super(d),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=r,this.targetPosition=s.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=l.clone()}get type(){return"merge"}get deletionPosition(){return new Ee(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ve(this.sourcePosition,e)}clone(){return new An(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),r=this.sourcePosition.path.slice(0,-1),s=new Ee(this.sourcePosition.root,r)._getTransformedByMergeOperation(this);return new Yt(e,this.howMany,s,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,r=this.targetPosition.parent;if(!e.parent)throw new N("merge-operation-source-position-invalid",this);if(!r.parent)throw new N("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new N("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;hh(ve._createIn(e),this.targetPosition),hh(ve._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,r){const s=Ee.fromJSON(e.sourcePosition,r),l=Ee.fromJSON(e.targetPosition,r),d=Ee.fromJSON(e.graveyardPosition,r);return new this(s,e.howMany,l,d,e.baseVersion)}}class Xi extends hr{constructor(e,r,s,l,d,m){super(m),this.name=e,this.oldRange=r?r.clone():null,this.newRange=s?s.clone():null,this.affectsData=d,this._markers=l}get type(){return"marker"}clone(){return new Xi(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Xi(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,r){return new Xi(e.name,e.oldRange?ve.fromJSON(e.oldRange,r):null,e.newRange?ve.fromJSON(e.newRange,r):null,r.model.markers,e.affectsData,e.baseVersion)}}const kx=function(a,e){return IS(a,e)};class Tn extends hr{constructor(e,r,s,l,d){super(d),this.range=e.clone(),this.key=r,this.oldValue=s===void 0?null:s,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}clone(){return new Tn(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Tn(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new N("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!kx(e.getAttribute(this.key),this.oldValue))throw new N("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new N("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){kx(this.oldValue,this.newValue)||function(e,r,s){ph(e.start),ph(e.end);for(const l of e.getItems({shallow:!0})){const d=l.is("$textProxy")?l.textNode:l;s!==null?d._setAttribute(r,s):d._removeAttribute(r),fh(d.parent,d.index)}fh(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,r){return new Tn(ve.fromJSON(e.range,r),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Vn extends hr{get type(){return"noop"}clone(){return new Vn(this.baseVersion)}getReversed(){return new Vn(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class er extends hr{constructor(e,r,s,l){super(l),this.position=e,this.position.stickiness="toNext",this.oldName=r,this.newName=s}get type(){return"rename"}clone(){return new er(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new er(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Ut))throw new N("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new N("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,r){return new er(Ee.fromJSON(e.position,r),e.oldName,e.newName,e.baseVersion)}}class hs extends hr{constructor(e,r,s,l,d){super(d),this.root=e,this.key=r,this.oldValue=s===void 0?null:s,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}clone(){return new hs(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new hs(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new N("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new N("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new N("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,r){if(!r.getRoot(e.root))throw new N("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new hs(r.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Po extends hr{constructor(e,r,s,l,d){super(d),this.rootName=e,this.elementName=r,this.isAdd=s,this._document=l,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}clone(){return new Po(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Po(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_validate(){const e=this._document.getRoot(this.rootName);if(e.isAttached()&&this.isAdd)throw new N("root-operation-root-attached",this);if(!e.isAttached()&&!this.isAdd)throw new N("root-operation-root-detached",this)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,r){return new Po(e.rootName,e.elementName,e.isAdd,r,e.baseVersion)}}const xr={};xr[Tn.className]=Tn,xr[Jn.className]=Jn,xr[Xi.className]=Xi,xr[Rt.className]=Rt,xr[Vn.className]=Vn,xr[hr.className]=hr,xr[er.className]=er,xr[hs.className]=hs,xr[Po.className]=Po,xr[Yt.className]=Yt,xr[An.className]=An;class zj{static fromJSON(e,r){return xr[e.__className].fromJSON(e,r)}}const ob=new Map;function xt(a,e,r){let s=ob.get(a);s||(s=new Map,ob.set(a,s)),s.set(e,r)}function jj(a){return[a]}function bx(a,e,r={}){const s=function(l,d){const m=ob.get(l);return m&&m.has(d)?m.get(d):jj}(a.constructor,e.constructor);try{return s(a=a.clone(),e,r)}catch(l){throw l}}function Vj(a,e,r){a=a.slice(),e=e.slice();const s=new Uj(r.document,r.useRelations,r.forceWeakRemove);s.setOriginalOperations(a),s.setOriginalOperations(e);const l=s.originalOperations;if(a.length==0||e.length==0)return{operationsA:a,operationsB:e,originalOperations:l};const d=new WeakMap;for(const C of a)d.set(C,0);const m={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:e.length};let y=0;for(;y<a.length;){const C=a[y],S=d.get(C);if(S==e.length){y++;continue}const M=e[S],$=bx(C,M,s.getContext(C,M,!0)),U=bx(M,C,s.getContext(M,C,!1));s.updateRelation(C,M),s.setOriginalOperations($,C),s.setOriginalOperations(U,M);for(const W of $)d.set(W,S+U.length);a.splice(y,1,...$),e.splice(S,1,...U)}if(r.padWithNoOps){const C=a.length-m.originalOperationsACount,S=e.length-m.originalOperationsBCount;Ax(a,S-C),Ax(e,C-S)}return yx(a,m.nextBaseVersionB),yx(e,m.nextBaseVersionA),{operationsA:a,operationsB:e,originalOperations:l}}class Uj{constructor(e,r,s=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=r,this._forceWeakRemove=!!s,this._relations=new Map}setOriginalOperations(e,r=null){const s=r?this.originalOperations.get(r):null;for(const l of e)this.originalOperations.set(l,s||l)}updateRelation(e,r){if(e instanceof Rt)r instanceof An?e.targetPosition.isEqual(r.sourcePosition)||r.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,r,"insertAtSource"):e.targetPosition.isEqual(r.deletionPosition)?this._setRelation(e,r,"insertBetween"):e.targetPosition.isAfter(r.sourcePosition)&&this._setRelation(e,r,"moveTargetAfter"):r instanceof Rt&&(e.targetPosition.isEqual(r.sourcePosition)||e.targetPosition.isBefore(r.sourcePosition)?this._setRelation(e,r,"insertBefore"):this._setRelation(e,r,"insertAfter"));else if(e instanceof Yt){if(r instanceof An)e.splitPosition.isBefore(r.sourcePosition)&&this._setRelation(e,r,"splitBefore");else if(r instanceof Rt)if(e.splitPosition.isEqual(r.sourcePosition)||e.splitPosition.isBefore(r.sourcePosition))this._setRelation(e,r,"splitBefore");else{const s=ve._createFromPositionAndShift(r.sourcePosition,r.howMany);if(e.splitPosition.hasSameParentAs(r.sourcePosition)&&s.containsPosition(e.splitPosition)){const l=s.end.offset-e.splitPosition.offset,d=e.splitPosition.offset-s.start.offset;this._setRelation(e,r,{howMany:l,offset:d})}}}else if(e instanceof An)r instanceof An?(e.targetPosition.isEqual(r.sourcePosition)||this._setRelation(e,r,"mergeTargetNotMoved"),e.sourcePosition.isEqual(r.targetPosition)&&this._setRelation(e,r,"mergeSourceNotMoved"),e.sourcePosition.isEqual(r.sourcePosition)&&this._setRelation(e,r,"mergeSameElement")):r instanceof Yt&&e.sourcePosition.isEqual(r.splitPosition)&&this._setRelation(e,r,"splitAtSource");else if(e instanceof Xi){const s=e.newRange;if(!s)return;if(r instanceof Rt){const l=ve._createFromPositionAndShift(r.sourcePosition,r.howMany),d=l.containsPosition(s.start)||l.start.isEqual(s.start),m=l.containsPosition(s.end)||l.end.isEqual(s.end);!d&&!m||l.containsRange(s)||this._setRelation(e,r,{side:d?"left":"right",path:d?s.start.path.slice():s.end.path.slice()})}else if(r instanceof An){const l=s.start.isEqual(r.targetPosition),d=s.start.isEqual(r.deletionPosition),m=s.end.isEqual(r.deletionPosition),y=s.end.isEqual(r.sourcePosition);(l||d||m||y)&&this._setRelation(e,r,{wasInLeftElement:l,wasStartBeforeMergedElement:d,wasEndBeforeMergedElement:m,wasInRightElement:y})}}}getContext(e,r,s){return{aIsStrong:s,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(r),abRelation:this._useRelations?this._getRelation(e,r):null,baRelation:this._useRelations?this._getRelation(r,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const r=this.originalOperations.get(e);return r.wasUndone||this._history.isUndoneOperation(r)}_getRelation(e,r){const s=this.originalOperations.get(r),l=this._history.getUndoneOperation(s);if(!l)return null;const d=this.originalOperations.get(e),m=this._relations.get(d);return m&&m.get(l)||null}_setRelation(e,r,s){const l=this.originalOperations.get(e),d=this.originalOperations.get(r);let m=this._relations.get(l);m||(m=new Map,this._relations.set(l,m)),m.set(d,s)}}function yx(a,e){for(const r of a)r.baseVersion=e++}function Ax(a,e){for(let r=0;r<e;r++)a.push(new Vn(0))}function _x(a,e,r){const s=a.nodes.getNode(0).getAttribute(e);if(s==r)return null;const l=new ve(a.position,a.position.getShiftedBy(a.howMany));return new Tn(l,e,s,r,0)}function Cx(a,e){return a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Yc(a,e){const r=[];for(let s=0;s<a.length;s++){const l=a[s],d=new Rt(l.start,l.end.offset-l.start.offset,e,0);r.push(d);for(let m=s+1;m<a.length;m++)a[m]=a[m]._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)[0];e=e._getTransformedByMove(d.sourcePosition,d.targetPosition,d.howMany)}return r}xt(Tn,Tn,(a,e,r)=>{if(a.key===e.key&&a.range.start.hasSameParentAs(e.range.start)){const s=a.range.getDifference(e.range).map(d=>new Tn(d,a.key,a.oldValue,a.newValue,0)),l=a.range.getIntersection(e.range);return l&&r.aIsStrong&&s.push(new Tn(l,e.key,e.newValue,a.newValue,0)),s.length==0?[new Vn(0)]:s}return[a]}),xt(Tn,Jn,(a,e)=>{if(a.range.start.hasSameParentAs(e.position)&&a.range.containsPosition(e.position)){const r=a.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(s=>new Tn(s,a.key,a.oldValue,a.newValue,a.baseVersion));if(e.shouldReceiveAttributes){const s=_x(e,a.key,a.oldValue);s&&r.unshift(s)}return r}return a.range=a.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[a]}),xt(Tn,An,(a,e)=>{const r=[];a.range.start.hasSameParentAs(e.deletionPosition)&&(a.range.containsPosition(e.deletionPosition)||a.range.start.isEqual(e.deletionPosition))&&r.push(ve._createFromPositionAndShift(e.graveyardPosition,1));const s=a.range._getTransformedByMergeOperation(e);return s.isCollapsed||r.push(s),r.map(l=>new Tn(l,a.key,a.oldValue,a.newValue,a.baseVersion))}),xt(Tn,Rt,(a,e)=>function(s,l){const d=ve._createFromPositionAndShift(l.sourcePosition,l.howMany);let m=null,y=[];d.containsRange(s,!0)?m=s:s.start.hasSameParentAs(d.start)?(y=s.getDifference(d),m=s.getIntersection(d)):y=[s];const C=[];for(let S of y){S=S._getTransformedByDeletion(l.sourcePosition,l.howMany);const M=l.getMovedRangeStart(),$=S.start.hasSameParentAs(M),U=S._getTransformedByInsertion(M,l.howMany,$);C.push(...U)}return m&&C.push(m._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany,!1)[0]),C}(a.range,e).map(s=>new Tn(s,a.key,a.oldValue,a.newValue,a.baseVersion))),xt(Tn,Yt,(a,e)=>{if(a.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(e.splitPosition)&&a.range.containsPosition(e.splitPosition)){const r=a.clone();return r.range=new ve(e.moveTargetPosition.clone(),a.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),a.range.end=e.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,r]}return a.range=a.range._getTransformedBySplitOperation(e),[a]}),xt(Jn,Tn,(a,e)=>{const r=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(a.position)){const s=_x(a,e.key,e.newValue);s&&r.push(s)}return r}),xt(Jn,Jn,(a,e,r)=>(a.position.isEqual(e.position)&&r.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(e)),[a])),xt(Jn,Rt,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),xt(Jn,Yt,(a,e)=>(a.position=a.position._getTransformedBySplitOperation(e),[a])),xt(Jn,An,(a,e)=>(a.position=a.position._getTransformedByMergeOperation(e),[a])),xt(Xi,Jn,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(e)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(e)[0]),[a])),xt(Xi,Xi,(a,e,r)=>{if(a.name==e.name){if(!r.aIsStrong)return[new Vn(0)];a.oldRange=e.newRange?e.newRange.clone():null}return[a]}),xt(Xi,An,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(e)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(e)),[a])),xt(Xi,Rt,(a,e,r)=>{if(a.oldRange&&(a.oldRange=ve._createFromRanges(a.oldRange._getTransformedByMoveOperation(e))),a.newRange){if(r.abRelation){const s=ve._createFromRanges(a.newRange._getTransformedByMoveOperation(e));if(r.abRelation.side=="left"&&e.targetPosition.isEqual(a.newRange.start))return a.newRange.end=s.end,a.newRange.start.path=r.abRelation.path,[a];if(r.abRelation.side=="right"&&e.targetPosition.isEqual(a.newRange.end))return a.newRange.start=s.start,a.newRange.end.path=r.abRelation.path,[a]}a.newRange=ve._createFromRanges(a.newRange._getTransformedByMoveOperation(e))}return[a]}),xt(Xi,Yt,(a,e,r)=>{if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(e)),a.newRange){if(r.abRelation){const s=a.newRange._getTransformedBySplitOperation(e);return a.newRange.start.isEqual(e.splitPosition)&&r.abRelation.wasStartBeforeMergedElement?a.newRange.start=Ee._createAt(e.insertionPosition):a.newRange.start.isEqual(e.splitPosition)&&!r.abRelation.wasInLeftElement&&(a.newRange.start=Ee._createAt(e.moveTargetPosition)),a.newRange.end.isEqual(e.splitPosition)&&r.abRelation.wasInRightElement?a.newRange.end=Ee._createAt(e.moveTargetPosition):a.newRange.end.isEqual(e.splitPosition)&&r.abRelation.wasEndBeforeMergedElement?a.newRange.end=Ee._createAt(e.insertionPosition):a.newRange.end=s.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(e)}return[a]}),xt(An,Jn,(a,e)=>(a.sourcePosition.hasSameParentAs(e.position)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(e),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e),[a])),xt(An,An,(a,e,r)=>{if(a.sourcePosition.isEqual(e.sourcePosition)&&a.targetPosition.isEqual(e.targetPosition)){if(r.bWasUndone){const s=e.graveyardPosition.path.slice();return s.push(0),a.sourcePosition=new Ee(e.graveyardPosition.root,s),a.howMany=0,[a]}return[new Vn(0)]}if(a.sourcePosition.isEqual(e.sourcePosition)&&!a.targetPosition.isEqual(e.targetPosition)&&!r.bWasUndone&&r.abRelation!="splitAtSource"){const s=a.targetPosition.root.rootName=="$graveyard",l=e.targetPosition.root.rootName=="$graveyard";if(l&&!s||!(s&&!l)&&r.aIsStrong){const d=e.targetPosition._getTransformedByMergeOperation(e),m=a.targetPosition._getTransformedByMergeOperation(e);return[new Rt(d,a.howMany,m,0)]}return[new Vn(0)]}return a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(e),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),a.graveyardPosition.isEqual(e.graveyardPosition)&&r.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),xt(An,Rt,(a,e,r)=>{const s=ve._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!r.bWasUndone&&!r.forceWeakRemove&&a.deletionPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(a.sourcePosition)?[new Vn(0)]:(a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition.hasSameParentAs(e.sourcePosition)&&(a.howMany-=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(e),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(e),a.graveyardPosition.isEqual(e.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)),[a])}),xt(An,Yt,(a,e,r)=>{if(e.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),a.deletionPosition.isEqual(e.graveyardPosition)&&(a.howMany=e.howMany)),a.targetPosition.isEqual(e.splitPosition)){const s=e.howMany!=0,l=e.graveyardPosition&&a.deletionPosition.isEqual(e.graveyardPosition);if(s||l||r.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),[a]}if(a.sourcePosition.isEqual(e.splitPosition)){if(r.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a];if(r.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=e.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}return a.sourcePosition.hasSameParentAs(e.splitPosition)&&(a.howMany=e.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}),xt(Rt,Jn,(a,e)=>{const r=ve._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(e,!1)[0];return a.sourcePosition=r.start,a.howMany=r.end.offset-r.start.offset,a.targetPosition.isEqual(e.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e)),[a]}),xt(Rt,Rt,(a,e,r)=>{const s=ve._createFromPositionAndShift(a.sourcePosition,a.howMany),l=ve._createFromPositionAndShift(e.sourcePosition,e.howMany);let d,m=r.aIsStrong,y=!r.aIsStrong;if(r.abRelation=="insertBefore"||r.baRelation=="insertAfter"?y=!0:r.abRelation!="insertAfter"&&r.baRelation!="insertBefore"||(y=!1),d=a.targetPosition.isEqual(e.targetPosition)&&y?a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Cx(a,e)&&Cx(e,a))return[e.getReversed()];if(s.containsPosition(e.targetPosition)&&s.containsRange(l,!0))return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Yc([s],d);if(l.containsPosition(a.targetPosition)&&l.containsRange(s,!0))return s.start=s.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),s.end=s.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Yc([s],d);const C=fe(a.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(C=="prefix"||C=="extension")return s.start=s.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),s.end=s.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Yc([s],d);a.type!="remove"||e.type=="remove"||r.aWasUndone||r.forceWeakRemove?a.type=="remove"||e.type!="remove"||r.bWasUndone||r.forceWeakRemove||(m=!1):m=!0;const S=[],M=s.getDifference(l);for(const U of M){U.start=U.start._getTransformedByDeletion(e.sourcePosition,e.howMany),U.end=U.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const W=fe(U.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",K=U._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,W);S.push(...K)}const $=s.getIntersection(l);return $!==null&&m&&($.start=$.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),$.end=$.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),S.length===0?S.push($):S.length==1?l.start.isBefore(s.start)||l.start.isEqual(s.start)?S.unshift($):S.push($):S.splice(1,0,$)),S.length===0?[new Vn(a.baseVersion)]:Yc(S,d)}),xt(Rt,Yt,(a,e,r)=>{let s=a.targetPosition.clone();a.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&r.abRelation!="moveTargetAfter"||(s=a.targetPosition._getTransformedBySplitOperation(e));const l=ve._createFromPositionAndShift(a.sourcePosition,a.howMany);if(l.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.howMany++,a.targetPosition=s,[a];if(l.start.hasSameParentAs(e.splitPosition)&&l.containsPosition(e.splitPosition)){let m=new ve(e.splitPosition,l.end);return m=m._getTransformedBySplitOperation(e),Yc([new ve(l.start,e.splitPosition),m],s)}a.targetPosition.isEqual(e.splitPosition)&&r.abRelation=="insertAtSource"&&(s=e.moveTargetPosition),a.targetPosition.isEqual(e.insertionPosition)&&r.abRelation=="insertBetween"&&(s=a.targetPosition);const d=[l._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const m=l.start.isEqual(e.graveyardPosition)||l.containsPosition(e.graveyardPosition);a.howMany>1&&m&&!r.aWasUndone&&d.push(ve._createFromPositionAndShift(e.insertionPosition,1))}return Yc(d,s)}),xt(Rt,An,(a,e,r)=>{const s=ve._createFromPositionAndShift(a.sourcePosition,a.howMany);if(e.deletionPosition.hasSameParentAs(a.sourcePosition)&&s.containsPosition(e.sourcePosition)){if(a.type!="remove"||r.forceWeakRemove){if(a.howMany==1)return r.bWasUndone?(a.sourcePosition=e.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]):[new Vn(0)]}else if(!r.aWasUndone){const d=[];let m=e.graveyardPosition.clone(),y=e.targetPosition._getTransformedByMergeOperation(e);a.howMany>1&&(d.push(new Rt(a.sourcePosition,a.howMany-1,a.targetPosition,0)),m=m._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),y=y._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));const C=e.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),S=new Rt(m,1,C,0),M=S.getMovedRangeStart().path.slice();M.push(0);const $=new Ee(S.targetPosition.root,M);y=y._getTransformedByMove(m,C,1);const U=new Rt(y,e.howMany,$,0);return d.push(S),d.push(U),d}}const l=ve._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(e);return a.sourcePosition=l.start,a.howMany=l.end.offset-l.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]}),xt(er,Jn,(a,e)=>(a.position=a.position._getTransformedByInsertOperation(e),[a])),xt(er,An,(a,e)=>a.position.isEqual(e.deletionPosition)?(a.position=e.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(e),[a])),xt(er,Rt,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),xt(er,er,(a,e,r)=>{if(a.position.isEqual(e.position)){if(!r.aIsStrong)return[new Vn(0)];a.oldName=e.newName}return[a]}),xt(er,Yt,(a,e)=>{if(fe(a.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const r=new er(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,r]}return a.position=a.position._getTransformedBySplitOperation(e),[a]}),xt(hs,hs,(a,e,r)=>{if(a.root===e.root&&a.key===e.key){if(!r.aIsStrong||a.newValue===e.newValue)return[new Vn(0)];a.oldValue=e.newValue}return[a]}),xt(Po,Po,(a,e,r)=>a.rootName!==e.rootName||a.isAdd!==e.isAdd||r.bWasUndone?[a]:[new Vn(0)]),xt(Yt,Jn,(a,e)=>(a.splitPosition.hasSameParentAs(e.position)&&a.splitPosition.offset<e.position.offset&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(e),a.insertionPosition=a.insertionPosition._getTransformedByInsertOperation(e),[a])),xt(Yt,An,(a,e,r)=>{if(!a.graveyardPosition&&!r.bWasUndone&&a.splitPosition.hasSameParentAs(e.sourcePosition)){const s=e.graveyardPosition.path.slice();s.push(0);const l=new Ee(e.graveyardPosition.root,s),d=Yt.getInsertionPosition(new Ee(e.graveyardPosition.root,s)),m=new Yt(l,0,d,null,0);return a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=Yt.getInsertionPosition(a.splitPosition),a.graveyardPosition=m.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[m,a]}return a.splitPosition.hasSameParentAs(e.deletionPosition)&&!a.splitPosition.isAfter(e.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=Yt.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),xt(Yt,Rt,(a,e,r)=>{const s=ve._createFromPositionAndShift(e.sourcePosition,e.howMany);if(a.graveyardPosition){const d=s.start.isEqual(a.graveyardPosition)||s.containsPosition(a.graveyardPosition);if(!r.bWasUndone&&d){const m=a.splitPosition._getTransformedByMoveOperation(e),y=a.graveyardPosition._getTransformedByMoveOperation(e),C=y.path.slice();C.push(0);const S=new Ee(y.root,C);return[new Rt(m,a.howMany,S,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)}const l=a.splitPosition.isEqual(e.targetPosition);if(l&&(r.baRelation=="insertAtSource"||r.abRelation=="splitBefore"))return a.howMany+=e.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),a.insertionPosition=Yt.getInsertionPosition(a.splitPosition),[a];if(l&&r.abRelation&&r.abRelation.howMany){const{howMany:d,offset:m}=r.abRelation;return a.howMany+=d,a.splitPosition=a.splitPosition.getShiftedBy(m),[a]}if(a.splitPosition.hasSameParentAs(e.sourcePosition)&&s.containsPosition(a.splitPosition)){const d=e.howMany-(a.splitPosition.offset-e.sourcePosition.offset);return a.howMany-=d,a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany),a.splitPosition=e.sourcePosition.clone(),a.insertionPosition=Yt.getInsertionPosition(a.splitPosition),[a]}return e.sourcePosition.isEqual(e.targetPosition)||(a.splitPosition.hasSameParentAs(e.sourcePosition)&&a.splitPosition.offset<=e.sourcePosition.offset&&(a.howMany-=e.howMany),a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(e),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(e):a.insertionPosition=Yt.getInsertionPosition(a.splitPosition),[a]}),xt(Yt,Yt,(a,e,r)=>{if(a.splitPosition.isEqual(e.splitPosition)){if(!a.graveyardPosition&&!e.graveyardPosition)return[new Vn(0)];if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition))return[new Vn(0)];if(r.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e),[a]}if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition)){const s=a.splitPosition.root.rootName=="$graveyard",l=e.splitPosition.root.rootName=="$graveyard";if(l&&!s||!(s&&!l)&&r.aIsStrong){const d=[];return e.howMany&&d.push(new Rt(e.moveTargetPosition,e.howMany,e.splitPosition,0)),a.howMany&&d.push(new Rt(a.splitPosition,a.howMany,a.moveTargetPosition,0)),d}return[new Vn(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e)),a.splitPosition.isEqual(e.insertionPosition)&&r.abRelation=="splitBefore")return a.howMany++,[a];if(e.splitPosition.isEqual(a.insertionPosition)&&r.baRelation=="splitBefore"){const s=e.insertionPosition.path.slice();s.push(0);const l=new Ee(e.insertionPosition.root,s);return[a,new Rt(a.insertionPosition,1,l,0)]}return a.splitPosition.hasSameParentAs(e.splitPosition)&&a.splitPosition.offset<e.splitPosition.offset&&(a.howMany-=e.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(e),a.insertionPosition=Yt.getInsertionPosition(a.splitPosition),[a]});class ci extends ee(Ee){constructor(e,r,s="toNone"){if(super(e,r,s),!this.root.is("rootElement"))throw new N("model-liveposition-root-not-rootelement",e);Hj.call(this)}detach(){this.stopListening()}toPosition(){return new Ee(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,r){return new this(e.root,e.path.slice(),r||e.stickiness)}}function Hj(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const r=e[0];r.isDocumentOperation&&Wj.call(this,r)},{priority:"low"})}function Wj(a){const e=this.getTransformedByOperation(a);if(!this.isEqual(e)){const r=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",r)}}ci.prototype.is=function(a){return a==="livePosition"||a==="model:livePosition"||a=="position"||a==="model:position"};class Zc{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},P("batch-constructor-deprecated-string-type"));const{isUndoable:r=!0,isLocal:s=!0,isUndo:l=!1,isTyping:d=!1}=e;this.operations=[],this.isUndoable=r,this.isLocal=s,this.isUndo=l,this.isTyping=d}get type(){return P("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var Gj=Object.defineProperty,Ex=Object.getOwnPropertySymbols,Kj=Object.prototype.hasOwnProperty,qj=Object.prototype.propertyIsEnumerable,Sx=(a,e,r)=>e in a?Gj(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;class Qj{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const r=e;switch(r.type){case"insert":if(this._isInInsertedElement(r.position.parent))return;this._markInsert(r.position.parent,r.position.offset,r.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const s of r.range.getItems({shallow:!0}))this._isInInsertedElement(s.parent)||this._markAttribute(s);break;case"remove":case"move":case"reinsert":{if(r.sourcePosition.isEqual(r.targetPosition)||r.sourcePosition.getShiftedBy(r.howMany).isEqual(r.targetPosition))return;const s=this._isInInsertedElement(r.sourcePosition.parent),l=this._isInInsertedElement(r.targetPosition.parent);s||this._markRemove(r.sourcePosition.parent,r.sourcePosition.offset,r.howMany),l||this._markInsert(r.targetPosition.parent,r.getMovedRangeStart().offset,r.howMany);break}case"rename":{if(this._isInInsertedElement(r.position.parent))return;this._markRemove(r.position.parent,r.position.offset,1),this._markInsert(r.position.parent,r.position.offset,1);const s=ve._createFromPositionAndShift(r.position,1);for(const l of this._markerCollection.getMarkersIntersectingRange(s)){const d=l.getData();this.bufferMarkerChange(l.name,d,d)}break}case"split":{const s=r.splitPosition.parent;this._isInInsertedElement(s)||this._markRemove(s,r.splitPosition.offset,r.howMany),this._isInInsertedElement(r.insertionPosition.parent)||this._markInsert(r.insertionPosition.parent,r.insertionPosition.offset,1),r.graveyardPosition&&this._markRemove(r.graveyardPosition.parent,r.graveyardPosition.offset,1);break}case"merge":{const s=r.sourcePosition.parent;this._isInInsertedElement(s.parent)||this._markRemove(s.parent,s.startOffset,1);const l=r.graveyardPosition.parent;this._markInsert(l,r.graveyardPosition.offset,1);const d=r.targetPosition.parent;this._isInInsertedElement(d)||this._markInsert(d,r.targetPosition.offset,s.maxOffset);break}case"detachRoot":case"addRoot":this._bufferRootStateChange(r.rootName,r.isAdd);break;case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{const s=r.root.rootName;this._bufferRootAttributeChange(s,r.key,r.oldValue,r.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,r,s){const l=this._changedMarkers.get(e);l?(l.newMarkerData=s,l.oldMarkerData.range==null&&s.range==null&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{newMarkerData:s,oldMarkerData:r})}getMarkersToRemove(){const e=[];for(const[r,s]of this._changedMarkers)s.oldMarkerData.range!=null&&e.push({name:r,range:s.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[r,s]of this._changedMarkers)s.newMarkerData.range!=null&&e.push({name:r,range:s.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,r])=>({name:e,data:{oldRange:r.oldMarkerData.range,newRange:r.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:r}of this._changedMarkers.values()){if(e.affectsData!==r.affectsData)return!0;if(e.affectsData){const s=e.range&&!r.range,l=!e.range&&r.range,d=e.range&&r.range&&!e.range.isEqual(r.range);if(s||l||d)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let r=[];for(const s of this._changesInElement.keys()){const l=this._changesInElement.get(s).sort((M,$)=>M.offset===$.offset?M.type!=$.type?M.type=="remove"?-1:1:0:M.offset<$.offset?-1:1),d=this._elementSnapshots.get(s),m=xx(s.getChildren()),y=Yj(d.length,l);let C=0,S=0;for(const M of y)if(M==="i")r.push(this._getInsertDiff(s,C,m[C])),C++;else if(M==="r")r.push(this._getRemoveDiff(s,C,d[S])),S++;else if(M==="a"){const $=m[C].attributes,U=d[S].attributes;let W;if(m[C].name=="$text")W=new ve(Ee._createAt(s,C),Ee._createAt(s,C+1));else{const K=s.offsetToIndex(C);W=new ve(Ee._createAt(s,C),Ee._createAt(s.getChild(K),0))}r.push(...this._getAttributesDiff(W,U,$)),C++,S++}else C++,S++}r.sort((s,l)=>s.position.root!=l.position.root?s.position.root.rootName<l.position.root.rootName?-1:1:s.position.isEqual(l.position)?s.changeCount-l.changeCount:s.position.isBefore(l.position)?-1:1);for(let s=1,l=0;s<r.length;s++){const d=r[l],m=r[s],y=d.type=="remove"&&m.type=="remove"&&d.name=="$text"&&m.name=="$text"&&d.position.isEqual(m.position),C=d.type=="insert"&&m.type=="insert"&&d.name=="$text"&&m.name=="$text"&&d.position.parent==m.position.parent&&d.position.offset+d.length==m.position.offset,S=d.type=="attribute"&&m.type=="attribute"&&d.position.parent==m.position.parent&&d.range.isFlat&&m.range.isFlat&&d.position.offset+d.length==m.position.offset&&d.attributeKey==m.attributeKey&&d.attributeOldValue==m.attributeOldValue&&d.attributeNewValue==m.attributeNewValue;y||C||S?(d.length++,S&&(d.range.end=d.range.end.getShiftedBy(1)),r[s]=null):l=s}r=r.filter(s=>s);for(const s of r)delete s.changeCount,s.type=="attribute"&&(delete s.position,delete s.length);return this._changeCount=0,this._cachedChangesWithGraveyard=r,this._cachedChanges=r.filter(Zj),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const r=((s,l)=>{for(var d in l||(l={}))Kj.call(l,d)&&Sx(s,d,l[d]);if(Ex)for(var d of Ex(l))qj.call(l,d)&&Sx(s,d,l[d]);return s})({},e);return r.state!==void 0&&delete r.attributes,r})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,r){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:r?"attached":"detached"});const s=this._changedRoots.get(e);s.state!==void 0?(delete s.state,s.attributes===void 0&&this._changedRoots.delete(e)):s.state=r?"attached":"detached"}_bufferRootAttributeChange(e,r,s,l){const d=this._changedRoots.get(e)||{name:e},m=d.attributes||{};if(m[r]){const y=m[r];l===y.oldValue?delete m[r]:y.newValue=l}else m[r]={oldValue:s,newValue:l};Object.entries(m).length===0?(delete d.attributes,d.state===void 0&&this._changedRoots.delete(e)):(d.attributes=m,this._changedRoots.set(e,d))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const r=ve._createOn(e);for(const s of this._markerCollection.getMarkersIntersectingRange(r)){const l=s.getData();this.bufferMarkerChange(s.name,l,l)}this._cachedChanges=null}_markInsert(e,r,s){const l={type:"insert",offset:r,howMany:s,count:this._changeCount++};this._markChange(e,l)}_markRemove(e,r,s){const l={type:"remove",offset:r,howMany:s,count:this._changeCount++};this._markChange(e,l),this._removeAllNestedChanges(e,r,s)}_markAttribute(e){const r={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,r)}_markChange(e,r){this._makeSnapshot(e);const s=this._getChangesForElement(e);this._handleChange(r,s),s.push(r);for(let l=0;l<s.length;l++)s[l].howMany<1&&(s.splice(l,1),l--)}_getChangesForElement(e){let r;return this._changesInElement.has(e)?r=this._changesInElement.get(e):(r=[],this._changesInElement.set(e,r)),r}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,xx(e.getChildren()))}_handleChange(e,r){e.nodesToHandle=e.howMany;for(const s of r){const l=e.offset+e.howMany,d=s.offset+s.howMany;if(e.type=="insert"&&(s.type=="insert"&&(e.offset<=s.offset?s.offset+=e.howMany:e.offset<d&&(s.howMany+=e.nodesToHandle,e.nodesToHandle=0)),s.type=="remove"&&e.offset<s.offset&&(s.offset+=e.howMany),s.type=="attribute")){if(e.offset<=s.offset)s.offset+=e.howMany;else if(e.offset<d){const m=s.howMany;s.howMany=e.offset-s.offset,r.unshift({type:"attribute",offset:l,howMany:m-s.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(s.type=="insert"){if(l<=s.offset)s.offset-=e.howMany;else if(l<=d)if(e.offset<s.offset){const m=l-s.offset;s.offset=e.offset,s.howMany-=m,e.nodesToHandle-=m}else s.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=s.offset)e.nodesToHandle-=s.howMany,s.howMany=0;else if(e.offset<d){const m=d-e.offset;s.howMany-=m,e.nodesToHandle-=m}}if(s.type=="remove"&&(l<=s.offset?s.offset-=e.howMany:e.offset<s.offset&&(e.nodesToHandle+=s.howMany,s.howMany=0)),s.type=="attribute"){if(l<=s.offset)s.offset-=e.howMany;else if(e.offset<s.offset){const m=l-s.offset;s.offset=e.offset,s.howMany-=m}else if(e.offset<d)if(l<=d){const m=s.howMany;s.howMany=e.offset-s.offset;const y=m-s.howMany-e.nodesToHandle;r.unshift({type:"attribute",offset:e.offset,howMany:y,count:this._changeCount++})}else s.howMany-=d-e.offset}}if(e.type=="attribute"){if(s.type=="insert")if(e.offset<s.offset&&l>s.offset){if(l>d){const m={type:"attribute",offset:d,howMany:l-d,count:this._changeCount++};this._handleChange(m,r),r.push(m)}e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=s.offset&&e.offset<d&&(l>d?(e.nodesToHandle=l-d,e.offset=d):e.nodesToHandle=0);if(s.type=="remove"&&e.offset<s.offset&&l>s.offset){const m={type:"attribute",offset:s.offset,howMany:l-s.offset,count:this._changeCount++};this._handleChange(m,r),r.push(m),e.nodesToHandle=s.offset-e.offset,e.howMany=e.nodesToHandle}s.type=="attribute"&&(e.offset>=s.offset&&l<=d?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=s.offset&&l>=d&&(s.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,r,s){return{type:"insert",position:Ee._createAt(e,r),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,r,s){return{type:"remove",position:Ee._createAt(e,r),name:s.name,attributes:new Map(s.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,r,s){const l=[];s=new Map(s);for(const[d,m]of r){const y=s.has(d)?s.get(d):null;y!==m&&l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:d,attributeOldValue:m,attributeNewValue:y,changeCount:this._changeCount++}),s.delete(d)}for(const[d,m]of s)l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:d,attributeOldValue:null,attributeNewValue:m,changeCount:this._changeCount++});return l}_isInInsertedElement(e){const r=e.parent;if(!r)return!1;const s=this._changesInElement.get(r),l=e.startOffset;if(s){for(const d of s)if(d.type=="insert"&&l>=d.offset&&l<d.offset+d.howMany)return!0}return this._isInInsertedElement(r)}_removeAllNestedChanges(e,r,s){const l=new ve(Ee._createAt(e,r),Ee._createAt(e,r+s));for(const d of l.getItems({shallow:!0}))d.is("element")&&(this._elementSnapshots.delete(d),this._changesInElement.delete(d),this._removeAllNestedChanges(d,0,d.maxOffset))}}function xx(a){const e=[];for(const r of a)if(r.is("$text"))for(let s=0;s<r.data.length;s++)e.push({name:"$text",attributes:new Map(r.getAttributes())});else e.push({name:r.name,attributes:new Map(r.getAttributes())});return e}function Yj(a,e){const r=[];let s=0,l=0;for(const d of e){if(d.offset>s){for(let m=0;m<d.offset-s;m++)r.push("e");l+=d.offset-s}if(d.type=="insert"){for(let m=0;m<d.howMany;m++)r.push("i");s=d.offset+d.howMany}else if(d.type=="remove"){for(let m=0;m<d.howMany;m++)r.push("r");s=d.offset,l+=d.howMany}else r.push(..."a".repeat(d.howMany).split("")),s=d.offset+d.howMany,l+=d.howMany}if(l<a)for(let d=0;d<a-l-s;d++)r.push("e");return r}function Zj(a){const e="position"in a&&a.position.root.rootName=="$graveyard",r="range"in a&&a.range.root.rootName=="$graveyard";return!e&&!r}class Jj{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new N("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,r=this.version){if(!this._operations.length)return[];const s=this._operations[0];e===void 0&&(e=s.baseVersion);let l=r-1;for(const[y,C]of this._gaps)e>y&&e<C&&(e=C),l>y&&l<C&&(l=y-1);if(l<s.baseVersion||e>this.lastOperation.baseVersion)return[];let d=this._baseVersionToOperationIndex.get(e);d===void 0&&(d=0);let m=this._baseVersionToOperationIndex.get(l);return m===void 0&&(m=this._operations.length-1),this._operations.slice(d,m+1)}getOperation(e){const r=this._baseVersionToOperationIndex.get(e);if(r!==void 0)return this._operations[r]}setOperationAsUndone(e,r){this._undoPairs.set(r,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class vg extends Ut{constructor(e,r,s="main"){super(r),this._isAttached=!0,this._document=e,this.rootName=s}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}vg.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"):a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"||a==="node"||a==="model:node"};var Xj=Object.defineProperty,eV=Object.defineProperties,tV=Object.getOwnPropertyDescriptors,Tx=Object.getOwnPropertySymbols,nV=Object.prototype.hasOwnProperty,iV=Object.prototype.propertyIsEnumerable,Dx=(a,e,r)=>e in a?Xj(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,Ix=(a,e)=>{for(var r in e||(e={}))nV.call(e,r)&&Dx(a,r,e[r]);if(Tx)for(var r of Tx(e))iV.call(e,r)&&Dx(a,r,e[r]);return a},Mx=(a,e)=>eV(a,tV(e));const sb="$graveyard";class rV extends ee(){constructor(e){super(),this.model=e,this.history=new Jj,this.selection=new Yr(this),this.roots=new Wr({idProperty:"rootName"}),this.differ=new Qj(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",sb),this.listenTo(e,"applyOperation",(r,s)=>{const l=s[0];l.isDocumentOperation&&this.differ.bufferOperation(l)},{priority:"high"}),this.listenTo(e,"applyOperation",(r,s)=>{const l=s[0];l.isDocumentOperation&&this.history.addOperation(l)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(r,s,l,d,m)=>{const y=Mx(Ix({},s.getData()),{range:d});this.differ.bufferMarkerChange(s.name,m,y),l===null&&s.on("change",(C,S)=>{const M=s.getData();this.differ.bufferMarkerChange(s.name,Mx(Ix({},M),{range:S}),M)})}),this.registerPostFixer(r=>{let s=!1;for(const l of this.roots)l.isAttached()||l.isEmpty||(r.remove(r.createRangeIn(l)),s=!0);for(const l of this.model.markers)l.getRange().root.isAttached()||(r.removeMarker(l),s=!0);return s})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(sb)}createRoot(e="$root",r="main"){if(this.roots.get(r))throw new N("model-document-createroot-name-exists",this,{name:r});const s=new vg(this,e,r);return this.roots.add(s),s}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return Array.from(this.roots).filter(r=>r.rootName!=sb&&(e||r.isAttached())).map(r=>r.rootName)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=KE(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),r=this.model,s=r.schema,l=r.createPositionFromPath(e,[0]);return s.getNearestSelectionRange(l)||r.createRange(l)}_validateSelectionRange(e){return Lx(e.start)&&Lx(e.end)}_callPostFixers(e){let r=!1;do for(const s of this._postFixers)if(this.selection.refresh(),r=s(e),r)break;while(r)}}function Lx(a){const e=a.textNode;if(e){const r=e.data,s=a.offset-e.startOffset;return!kk(r,s)&&!bk(r,s)}return!0}var oV=Object.defineProperty,sV=Object.defineProperties,aV=Object.getOwnPropertyDescriptors,Rx=Object.getOwnPropertySymbols,lV=Object.prototype.hasOwnProperty,cV=Object.prototype.propertyIsEnumerable,Nx=(a,e,r)=>e in a?oV(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;class uV extends ee(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const r=e instanceof Jc?e.name:e;return this._markers.has(r)}get(e){return this._markers.get(e)||null}_set(e,r,s=!1,l=!1){const d=e instanceof Jc?e.name:e;if(d.includes(","))throw new N("markercollection-incorrect-marker-name",this);const m=this._markers.get(d);if(m){const M=m.getData(),$=m.getRange();let U=!1;return $.isEqual(r)||(m._attachLiveRange(Qr.fromRange(r)),U=!0),s!=m.managedUsingOperations&&(m._managedUsingOperations=s,U=!0),typeof l=="boolean"&&l!=m.affectsData&&(m._affectsData=l,U=!0),U&&this.fire(`update:${d}`,m,$,r,M),m}const y=Qr.fromRange(r),C=new Jc(d,y,s,l);var S;return this._markers.set(d,C),this.fire(`update:${d}`,C,null,r,(S=((M,$)=>{for(var U in $||($={}))lV.call($,U)&&Nx(M,U,$[U]);if(Rx)for(var U of Rx($))cV.call($,U)&&Nx(M,U,$[U]);return M})({},C.getData()),sV(S,aV({range:null})))),C}_remove(e){const r=e instanceof Jc?e.name:e,s=this._markers.get(r);return!!s&&(this._markers.delete(r),this.fire(`update:${r}`,s,s.getRange(),null,s.getData()),this._destroyMarker(s),!0)}_refresh(e){const r=e instanceof Jc?e.name:e,s=this._markers.get(r);if(!s)throw new N("markercollection-refresh-marker-not-exists",this);const l=s.getRange();this.fire(`update:${r}`,s,l,l,s.getData())}*getMarkersAtPosition(e){for(const r of this)r.getRange().containsPosition(e)&&(yield r)}*getMarkersIntersectingRange(e){for(const r of this)r.getRange().getIntersection(e)!==null&&(yield r)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const r of this._markers.values())r.name.startsWith(e+":")&&(yield r)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Jc extends ee(la){constructor(e,r,s,l){super(),this.name=e,this._liveRange=this._attachLiveRange(r),this._managedUsingOperations=s,this._affectsData=l}get managedUsingOperations(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Jc.prototype.is=function(a){return a==="marker"||a==="model:marker"};class dV extends hr{constructor(e,r){super(null),this.sourcePosition=e.clone(),this.howMany=r}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new N("detach-operation-on-document-node",this)}_execute(){mx(ve._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class fs extends la{constructor(e){super(),this.markers=new Map,this._children=new ah,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let r=this;for(const s of e)r=r.getChild(r.offsetToIndex(s));return r}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const r of this._children)e.push(r.toJSON());return e}static fromJSON(e){const r=[];for(const s of e)s.name?r.push(Ut.fromJSON(s)):r.push(Qt.fromJSON(s));return new fs(r)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,r){const s=function(l){return typeof l=="string"?[new Qt(l)]:(Se(l)||(l=[l]),Array.from(l).map(d=>typeof d=="string"?new Qt(d):d instanceof Kr?new Qt(d.data,d.getAttributes()):d))}(r);for(const l of s)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(e,s)}_removeChildren(e,r=1){const s=this._children._removeNodes(e,r);for(const l of s)l.parent=null;return s}}fs.prototype.is=function(a){return a==="documentFragment"||a==="model:documentFragment"};class hV{constructor(e,r){this.model=e,this.batch=r}createText(e,r){return new Qt(e,r)}createElement(e,r){return new Ut(e,r)}createDocumentFragment(){return new fs}cloneElement(e,r=!0){return e._clone(r)}insert(e,r,s=0){if(this._assertWriterUsedCorrectly(),e instanceof Qt&&e.data=="")return;const l=Ee._createAt(r,s);if(e.parent){if($x(e.root,l.root))return void this.move(ve._createOn(e),l);if(e.root.document)throw new N("model-writer-insert-forbidden-move",this);this.remove(e)}const d=l.root.document?l.root.document.version:null,m=new Jn(l,e,d);if(e instanceof Qt&&(m.shouldReceiveAttributes=!0),this.batch.addOperation(m),this.model.applyOperation(m),e instanceof fs)for(const[y,C]of e.markers){const S=Ee._createAt(C.root,0),M={range:new ve(C.start._getCombined(S,l),C.end._getCombined(S,l)),usingOperation:!0,affectsData:!0};this.model.markers.has(y)?this.updateMarker(y,M):this.addMarker(y,M)}}insertText(e,r,s,l){r instanceof fs||r instanceof Ut||r instanceof Ee?this.insert(this.createText(e),r,s):this.insert(this.createText(e,r),s,l)}insertElement(e,r,s,l){r instanceof fs||r instanceof Ut||r instanceof Ee?this.insert(this.createElement(e),r,s):this.insert(this.createElement(e,r),s,l)}append(e,r){this.insert(e,r,"end")}appendText(e,r,s){r instanceof fs||r instanceof Ut?this.insert(this.createText(e),r,"end"):this.insert(this.createText(e,r),s,"end")}appendElement(e,r,s){r instanceof fs||r instanceof Ut?this.insert(this.createElement(e),r,"end"):this.insert(this.createElement(e,r),s,"end")}setAttribute(e,r,s){if(this._assertWriterUsedCorrectly(),s instanceof ve){const l=s.getMinimalFlatRanges();for(const d of l)Ox(this,e,r,d)}else Px(this,e,r,s)}setAttributes(e,r){for(const[s,l]of Do(e))this.setAttribute(s,l,r)}removeAttribute(e,r){if(this._assertWriterUsedCorrectly(),r instanceof ve){const s=r.getMinimalFlatRanges();for(const l of s)Ox(this,e,null,l)}else Px(this,e,null,r)}clearAttributes(e){this._assertWriterUsedCorrectly();const r=s=>{for(const l of s.getAttributeKeys())this.removeAttribute(l,s)};if(e instanceof ve)for(const s of e.getItems())r(s);else r(e)}move(e,r,s){if(this._assertWriterUsedCorrectly(),!(e instanceof ve))throw new N("writer-move-invalid-range",this);if(!e.isFlat)throw new N("writer-move-range-not-flat",this);const l=Ee._createAt(r,s);if(l.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!$x(e.root,l.root))throw new N("writer-move-different-document",this);const d=e.root.document?e.root.document.version:null,m=new Rt(e.start,e.end.offset-e.start.offset,l,d);this.batch.addOperation(m),this.model.applyOperation(m)}remove(e){this._assertWriterUsedCorrectly();const r=(e instanceof ve?e:ve._createOn(e)).getMinimalFlatRanges().reverse();for(const s of r)this._addOperationForAffectedMarkers("move",s),fV(s.start,s.end.offset-s.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const r=e.nodeBefore,s=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(r instanceof Ut))throw new N("writer-merge-no-element-before",this);if(!(s instanceof Ut))throw new N("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,r,s){return this.model.createPositionFromPath(e,r,s)}createPositionAt(e,r){return this.model.createPositionAt(e,r)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,r){return this.model.createRange(e,r)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const r=e.nodeBefore,s=e.nodeAfter;this.move(ve._createIn(s),Ee._createAt(r,"end")),this.remove(s)}_merge(e){const r=Ee._createAt(e.nodeBefore,"end"),s=Ee._createAt(e.nodeAfter,0),l=e.root.document.graveyard,d=new Ee(l,[0]),m=e.root.document.version,y=new An(s,e.nodeAfter.maxOffset,r,d,m);this.batch.addOperation(y),this.model.applyOperation(y)}rename(e,r){if(this._assertWriterUsedCorrectly(),!(e instanceof Ut))throw new N("writer-rename-not-element-instance",this);const s=e.root.document?e.root.document.version:null,l=new er(Ee._createBefore(e),e.name,r,s);this.batch.addOperation(l),this.model.applyOperation(l)}split(e,r){this._assertWriterUsedCorrectly();let s,l,d=e.parent;if(!d.parent)throw new N("writer-split-element-no-parent",this);if(r||(r=d.parent),!e.parent.getAncestors({includeSelf:!0}).includes(r))throw new N("writer-split-invalid-limit-element",this);do{const m=d.root.document?d.root.document.version:null,y=d.maxOffset-e.offset,C=Yt.getInsertionPosition(e),S=new Yt(e,y,C,null,m);this.batch.addOperation(S),this.model.applyOperation(S),s||l||(s=d,l=e.parent.nextSibling),d=(e=this.createPositionAfter(e.parent)).parent}while(d!==r);return{position:e,range:new ve(Ee._createAt(s,"end"),Ee._createAt(l,0))}}wrap(e,r){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new N("writer-wrap-range-not-flat",this);const s=r instanceof Ut?r:new Ut(r);if(s.childCount>0)throw new N("writer-wrap-element-not-empty",this);if(s.parent!==null)throw new N("writer-wrap-element-attached",this);this.insert(s,e.start);const l=new ve(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(l,Ee._createAt(s,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new N("writer-unwrap-element-no-parent",this);this.move(ve._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,r){if(this._assertWriterUsedCorrectly(),!r||typeof r.usingOperation!="boolean")throw new N("writer-addmarker-no-usingoperation",this);const s=r.usingOperation,l=r.range,d=r.affectsData!==void 0&&r.affectsData;if(this.model.markers.has(e))throw new N("writer-addmarker-marker-exists",this);if(!l)throw new N("writer-addmarker-no-range",this);return s?(gh(this,e,null,l,d),this.model.markers.get(e)):this.model.markers._set(e,l,s,d)}updateMarker(e,r){this._assertWriterUsedCorrectly();const s=typeof e=="string"?e:e.name,l=this.model.markers.get(s);if(!l)throw new N("writer-updatemarker-marker-not-exists",this);if(!r)return P("writer-updatemarker-reconvert-using-editingcontroller",{markerName:s}),void this.model.markers._refresh(l);const d=typeof r.usingOperation=="boolean",m=typeof r.affectsData=="boolean",y=m?r.affectsData:l.affectsData;if(!d&&!r.range&&!m)throw new N("writer-updatemarker-wrong-options",this);const C=l.getRange(),S=r.range?r.range:C;d&&r.usingOperation!==l.managedUsingOperations?r.usingOperation?gh(this,s,null,S,y):(gh(this,s,C,null,y),this.model.markers._set(s,S,void 0,y)):l.managedUsingOperations?gh(this,s,C,S,y):this.model.markers._set(s,S,void 0,y)}removeMarker(e){this._assertWriterUsedCorrectly();const r=typeof e=="string"?e:e.name;if(!this.model.markers.has(r))throw new N("writer-removemarker-no-marker",this);const s=this.model.markers.get(r);if(!s.managedUsingOperations)return void this.model.markers._remove(r);gh(this,r,s.getRange(),null,s.affectsData)}addRoot(e,r="$root"){this._assertWriterUsedCorrectly();const s=this.model.document.getRoot(e);if(s&&s.isAttached())throw new N("writer-addroot-root-exists",this);const l=this.model.document,d=new Po(e,r,!0,l,l.version);return this.batch.addOperation(d),this.model.applyOperation(d),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const r=typeof e=="string"?this.model.document.getRoot(e):e;if(!r||!r.isAttached())throw new N("writer-detachroot-no-root",this);for(const d of this.model.markers)d.getRange().root===r&&this.removeMarker(d);for(const d of r.getAttributeKeys())this.removeAttribute(d,r);this.remove(this.createRangeIn(r));const s=this.model.document,l=new Po(r.rootName,r.name,!1,s,s.version);this.batch.addOperation(l),this.model.applyOperation(l)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,r){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,r)}setSelectionAttribute(e,r){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,r);else for(const[s,l]of Do(e))this._setSelectionAttribute(s,l)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const r of e)this._removeSelectionAttribute(r)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,r){const s=this.model.document.selection;if(s.isCollapsed&&s.anchor.parent.isEmpty){const l=Yr._getStoreAttributeKey(e);this.setAttribute(l,r,s.anchor.parent)}s._setAttribute(e,r)}_removeSelectionAttribute(e){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const s=Yr._getStoreAttributeKey(e);this.removeAttribute(s,r.anchor.parent)}r._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new N("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,r){for(const s of this.model.markers){if(!s.managedUsingOperations)continue;const l=s.getRange();let d=!1;if(e==="move"){const m=r;d=m.containsPosition(l.start)||m.start.isEqual(l.start)||m.containsPosition(l.end)||m.end.isEqual(l.end)}else{const m=r,y=m.nodeBefore,C=m.nodeAfter,S=l.start.parent==y&&l.start.isAtEnd,M=l.end.parent==C&&l.end.offset==0,$=l.end.nodeAfter==C,U=l.start.nodeAfter==C;d=S||M||$||U}d&&this.updateMarker(s.name,{range:l})}}}function Ox(a,e,r,s){const l=a.model,d=l.document;let m,y,C,S=s.start;for(const $ of s.getWalker({shallow:!0}))C=$.item.getAttribute(e),m&&y!=C&&(y!=r&&M(),S=m),m=$.nextPosition,y=C;function M(){const $=new ve(S,m),U=$.root.document?d.version:null,W=new Tn($,e,y,r,U);a.batch.addOperation(W),l.applyOperation(W)}m instanceof Ee&&m!=S&&y!=r&&M()}function Px(a,e,r,s){const l=a.model,d=l.document,m=s.getAttribute(e);let y,C;if(m!=r){if(s.root===s){const S=s.document?d.version:null;C=new hs(s,e,m,r,S)}else{y=new ve(Ee._createBefore(s),a.createPositionAfter(s));const S=y.root.document?d.version:null;C=new Tn(y,e,m,r,S)}a.batch.addOperation(C),l.applyOperation(C)}}function gh(a,e,r,s,l){const d=a.model,m=d.document,y=new Xi(e,r,s,d.markers,!!l,m.version);a.batch.addOperation(y),d.applyOperation(y)}function fV(a,e,r,s){let l;if(a.root.document){const d=s.document,m=new Ee(d.graveyard,[0]);l=new Rt(a,e,m,d.version)}else l=new dV(a,e);r.addOperation(l),s.applyOperation(l)}function $x(a,e){return a===e||a instanceof vg&&e instanceof vg}function pV(a,e,r={}){if(e.isCollapsed)return;const s=e.getFirstRange();if(s.root.rootName=="$graveyard")return;const l=a.schema;a.change(d=>{if(!r.doNotResetEntireContent&&function(S,M){const $=S.getLimitElement(M);if(!M.containsEntireContent($))return!1;const U=M.getFirstRange();return U.start.parent==U.end.parent?!1:S.checkChild($,"paragraph")}(l,e))return void function(S,M){const $=S.model.schema.getLimitElement(M);S.remove(S.createRangeIn($)),zx(S,S.createPositionAt($,0),M)}(d,e);const m={};if(!r.doNotAutoparagraph){const S=e.getSelectedElement();S&&Object.assign(m,l.getAttributesWithProperty(S,"copyOnReplace",!0))}const[y,C]=function(S){const M=S.root.document.model,$=S.start;let U=S.end;if(M.hasContent(S,{ignoreMarkers:!0})){const W=function(K){const q=K.parent,X=q.root.document.model.schema,ne=q.getAncestors({parentFirst:!0,includeSelf:!0});for(const de of ne){if(X.isLimit(de))return null;if(X.isBlock(de))return de}}(U);if(W&&U.isTouching(M.createPositionAt(W,0))){const K=M.createSelection(S);M.modifySelection(K,{direction:"backward"});const q=K.getLastPosition(),X=M.createRange(q,U);M.hasContent(X,{ignoreMarkers:!0})||(U=q)}}return[ci.fromPosition($,"toPrevious"),ci.fromPosition(U,"toNext")]}(s);y.isTouching(C)||d.remove(d.createRange(y,C)),r.leaveUnmerged||(function(S,M,$){const U=S.model;if(!ab(S.model.schema,M,$))return;const[W,K]=function(q,X){const ne=q.getAncestors(),de=X.getAncestors();let be=0;for(;ne[be]&&ne[be]==de[be];)be++;return[ne[be],de[be]]}(M,$);!W||!K||(!U.hasContent(W,{ignoreMarkers:!0})&&U.hasContent(K,{ignoreMarkers:!0})?Fx(S,M,$,W.parent):Bx(S,M,$,W.parent))}(d,y,C),l.removeDisallowedAttributes(y.parent.getChildren(),d)),jx(d,e,y),!r.doNotAutoparagraph&&function(S,M){const $=S.checkChild(M,"$text"),U=S.checkChild(M,"paragraph");return!$&&U}(l,y)&&zx(d,y,e,m),y.detach(),C.detach()})}function Bx(a,e,r,s){const l=e.parent,d=r.parent;if(l!=s&&d!=s){for(e=a.createPositionAfter(l),(r=a.createPositionBefore(d)).isEqual(e)||a.insert(d,e),a.merge(e);r.parent.isEmpty;){const m=r.parent;r=a.createPositionBefore(m),a.remove(m)}ab(a.model.schema,e,r)&&Bx(a,e,r,s)}}function Fx(a,e,r,s){const l=e.parent,d=r.parent;if(l!=s&&d!=s){for(e=a.createPositionAfter(l),(r=a.createPositionBefore(d)).isEqual(e)||a.insert(l,r);e.parent.isEmpty;){const m=e.parent;e=a.createPositionBefore(m),a.remove(m)}r=a.createPositionBefore(d),function(m,y){const C=y.nodeBefore,S=y.nodeAfter;C.name!=S.name&&m.rename(C,S.name),m.clearAttributes(C),m.setAttributes(Object.fromEntries(S.getAttributes()),C),m.merge(y)}(a,r),ab(a.model.schema,e,r)&&Fx(a,e,r,s)}}function ab(a,e,r){const s=e.parent,l=r.parent;return s!=l&&!a.isLimit(s)&&!a.isLimit(l)&&function(d,m,y){const C=new ve(d,m);for(const S of C.getWalker())if(y.isLimit(S.item))return!1;return!0}(e,r,a)}function zx(a,e,r,s={}){const l=a.createElement("paragraph");a.model.schema.setAllowedAttributes(l,s,a),a.insert(l,e),jx(a,r,a.createPositionAt(l,0))}function jx(a,e,r){e instanceof Yr?a.setSelection(r):e.setTo(r)}function Vx(a,e){const r=[];Array.from(a.getItems({direction:"backward"})).map(s=>e.createRangeOn(s)).filter(s=>(s.start.isAfter(a.start)||s.start.isEqual(a.start))&&(s.end.isBefore(a.end)||s.end.isEqual(a.end))).forEach(s=>{r.push(s.start.parent),e.remove(s)}),r.forEach(s=>{let l=s;for(;l.parent&&l.isEmpty;){const d=e.createRangeOn(l);l=l.parent,e.remove(d)}})}class gV{constructor(e,r,s){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=r,this.position=s,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=r.createDocumentFragment(),this._documentFragmentPosition=r.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const r of Array.from(e))this._handleNode(r);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const r=this.writer.createPositionAfter(this._lastNode),s=this.writer.createPositionAfter(e);if(s.isAfter(r)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new N("insertcontent-invalid-insertion-position",this);this.position=s,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ve._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ve(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let r=this._checkAndAutoParagraphToAllowedPosition(e);r||(r=this._checkAndSplitToAllowedPosition(e),r)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=ci.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new N("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=ci.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=ci.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Ut)||!this._canMergeLeft(e))return;const r=ci._createBefore(e);r.stickiness="toNext";const s=ci.fromPosition(this.position,"toNext");this._affectedStart.isEqual(r)&&(this._affectedStart.detach(),this._affectedStart=ci._createAt(r.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=ci._createAt(r.nodeBefore,"end","toNext")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Ut)||!this._canMergeRight(e))return;const r=ci._createAfter(e);if(r.stickiness="toNext",!this.position.isEqual(r))throw new N("insertcontent-invalid-insertion-position",this);this.position=Ee._createAt(r.nodeBefore,"end");const s=ci.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(r)&&(this._affectedEnd.detach(),this._affectedEnd=ci._createAt(r.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=ci._createAt(r.nodeBefore,0,"toPrevious")),this.position=s.toPosition(),s.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_canMergeLeft(e){const r=e.previousSibling;return r instanceof Ut&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(r,e)}_canMergeRight(e){const r=e.nextSibling;return r instanceof Ut&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(e,r)}_tryAutoparagraphing(e){const r=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,r)&&this.schema.checkChild(r,e)&&(r._appendChild(e),this._handleNode(r))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const r=this.writer.createElement("paragraph");return this.writer.insert(r,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=r,this.position=this.writer.createPositionAt(r,0),!0}_checkAndSplitToAllowedPosition(e){const r=this._getAllowedIn(this.position.parent,e);if(!r)return!1;for(r!=this.position.parent&&this._insertPartialFragment();r!=this.position.parent;)if(this.position.isAtStart){const s=this.position.parent;this.position=this.writer.createPositionBefore(s),s.isEmpty&&s.parent===r&&this.writer.remove(s)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const s=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=s,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,r){return this.schema.checkChild(e,r)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,r)}}function Ux(a,e,r="auto"){const s=a.getSelectedElement();if(s&&e.schema.isObject(s)&&!e.schema.isInline(s))return r=="before"||r=="after"?e.createRange(e.createPositionAt(s,r)):e.createRangeOn(s);const l=Nn(a.getSelectedBlocks());if(!l)return e.createRange(a.focus);if(l.isEmpty)return e.createRange(e.createPositionAt(l,0));const d=e.createPositionAfter(l);return a.focus.isTouching(d)?e.createRange(d):e.createRange(e.createPositionBefore(l))}function mV(a,e,r,s={}){if(!a.schema.isObject(e))throw new N("insertobject-element-not-an-object",a,{object:e});const l=r||a.document.selection;let d=l;s.findOptimalPosition&&a.schema.isBlock(e)&&(d=a.createSelection(Ux(l,a,s.findOptimalPosition)));const m=Nn(l.getSelectedBlocks()),y={};return m&&Object.assign(y,a.schema.getAttributesWithProperty(m,"copyOnReplace",!0)),a.change(C=>{d.isCollapsed||a.deleteContent(d,{doNotAutoparagraph:!0});let S=e;const M=d.anchor.parent;!a.schema.checkChild(M,e)&&a.schema.checkChild(M,"paragraph")&&a.schema.checkChild("paragraph",e)&&(S=C.createElement("paragraph"),C.insert(e,S)),a.schema.setAllowedAttributes(S,y,C);const $=a.insertContent(S,d);return $.isCollapsed||s.setSelection&&function(U,W,K,q){const X=U.model;if(K=="on")return void U.setSelection(W,"on");if(K!="after")throw new N("insertobject-invalid-place-parameter-value",X);let ne=W.nextSibling;if(X.schema.isInline(W))return void U.setSelection(W,"after");!(ne&&X.schema.checkChild(ne,"$text"))&&X.schema.checkChild(W.parent,"paragraph")&&(ne=U.createElement("paragraph"),X.schema.setAllowedAttributes(ne,q,U),X.insertContent(ne,U.createPositionAfter(W))),ne&&U.setSelection(ne,0)}(C,e,s.setSelection,y),$})}const vV=' ,.?!:;"-()';function wV(a,e){const{isForward:r,walker:s,unit:l,schema:d,treatEmojiAsSingleUnit:m}=a,{type:y,item:C,nextPosition:S}=e;if(y=="text")return a.unit==="word"?function(M,$){let U=M.position.textNode;for(U||(U=$?M.position.nodeAfter:M.position.nodeBefore);U&&U.is("$text");){const W=M.position.offset-U.startOffset;if(yV(U,W,$))U=$?M.position.nodeAfter:M.position.nodeBefore;else{if(bV(U.data,W,$))break;M.next()}}return M.position}(s,r):function(M,$,U){const W=M.position.textNode;if(W){const K=W.data;let q=M.position.offset-W.startOffset;for(;kk(K,q)||$=="character"&&bk(K,q)||U&&vE(K,q);)M.next(),q=M.position.offset-W.startOffset}return M.position}(s,l,m);if(y==(r?"elementStart":"elementEnd")){if(d.isSelectable(C))return Ee._createAt(C,r?"after":"before");if(d.checkChild(S,"$text"))return S}else{if(d.isLimit(C))return void s.skip(()=>!0);if(d.checkChild(S,"$text"))return S}}function kV(a,e){const r=a.root,s=Ee._createAt(r,e?"end":0);return e?new ve(a,s):new ve(s,a)}function bV(a,e,r){const s=e+(r?0:-1);return vV.includes(a.charAt(s))}function yV(a,e,r){return e===(r?a.offsetSize:0)}class AV extends Ye(){constructor(){super(),this.markers=new uV,this.document=new rV(this),this.schema=new wj,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,r)=>{r[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,r)=>{if(r.name==="$marker")return!0}),gj(this),this.document.registerPostFixer(ex),this.on("insertContent",(e,[r,s])=>{e.return=function(l,d,m){return l.change(y=>{const C=m||l.document.selection;C.isCollapsed||l.deleteContent(C,{doNotAutoparagraph:!0});const S=new gV(l,y,C.anchor),M=[];let $;if(d.is("documentFragment")){if(d.markers.size){const K=[];for(const[q,X]of d.markers){const{start:ne,end:de}=X,be=ne.isEqual(de);K.push({position:ne,name:q,isCollapsed:be},{position:de,name:q,isCollapsed:be})}K.sort(({position:q},{position:X})=>q.isBefore(X)?1:-1);for(const{position:q,name:X,isCollapsed:ne}of K){let de=null,be=null;const Pe=q.parent===d&&q.isAtStart,Xe=q.parent===d&&q.isAtEnd;Pe||Xe?ne&&(be=Pe?"start":"end"):(de=y.createElement("$marker"),y.insert(de,q)),M.push({name:X,element:de,collapsed:be})}}$=d.getChildren()}else $=[d];S.handleNodes($);let U=S.getSelectionRange();if(d.is("documentFragment")&&M.length){const K=U?Qr.fromRange(U):null,q={};for(let X=M.length-1;X>=0;X--){const{name:ne,element:de,collapsed:be}=M[X],Pe=!q[ne];if(Pe&&(q[ne]=[]),de){const Xe=y.createPositionAt(de,"before");q[ne].push(Xe),y.remove(de)}else{const Xe=S.getAffectedRange();if(!Xe){be&&q[ne].push(S.position);continue}be?q[ne].push(Xe[be]):q[ne].push(Pe?Xe.start:Xe.end)}}for(const[X,[ne,de]]of Object.entries(q))ne&&de&&ne.root===de.root&&y.addMarker(X,{usingOperation:!0,affectsData:!0,range:new ve(ne,de)});K&&(U=K.toRange(),K.detach())}U&&(C instanceof Yr?y.setSelection(U):C.setTo(U));const W=S.getAffectedRange()||l.createRange(C.anchor);return S.destroy(),W})}(this,r,s)}),this.on("insertObject",(e,[r,s,l])=>{e.return=mV(this,r,s,l)})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Zc,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(r){N.rethrowUnexpectedError(r,this)}}enqueueChange(e,r){try{e?typeof e=="function"?(r=e,e=new Zc):e instanceof Zc||(e=new Zc(e)):e=new Zc,this._pendingChanges.push({batch:e,callback:r}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(s){N.rethrowUnexpectedError(s,this)}}applyOperation(e){e._execute()}insertContent(e,r,s,...l){const d=Hx(r,s);return this.fire("insertContent",[e,d,s,...l])}insertObject(e,r,s,l,...d){const m=Hx(r,s);return this.fire("insertObject",[e,m,l,l,...d])}deleteContent(e,r){pV(this,e,r)}modifySelection(e,r){(function(s,l,d={}){const m=s.schema,y=d.direction!="backward",C=d.unit?d.unit:"character",S=!!d.treatEmojiAsSingleUnit,M=l.focus,$=new Oo({boundaries:kV(M,y),singleCharacters:!0,direction:y?"forward":"backward"}),U={walker:$,schema:m,isForward:y,unit:C,treatEmojiAsSingleUnit:S};let W;for(;W=$.next();){if(W.done)return;const K=wV(U,W.value);if(K)return void(l instanceof Yr?s.change(q=>{q.setSelectionFocus(K)}):l.setFocus(K))}})(this,e,r)}getSelectedContent(e){return function(r,s){return r.change(l=>{const d=l.createDocumentFragment(),m=s.getFirstRange();if(!m||m.isCollapsed)return d;const y=m.start.root,C=m.start.getCommonPath(m.end),S=y.getNodeByPath(C);let M;M=m.start.parent==m.end.parent?m:l.createRange(l.createPositionAt(S,m.start.path[C.length]),l.createPositionAt(S,m.end.path[C.length]+1));const $=M.end.offset-M.start.offset;for(const U of M.getItems({shallow:!0}))U.is("$textProxy")?l.appendText(U.data,U.getAttributes(),d):l.append(l.cloneElement(U,!0),d);if(M!=m){const U=m._getTransformedByMove(M.start,l.createPositionAt(d,0),$)[0],W=l.createRange(l.createPositionAt(d,0),U.start);Vx(l.createRange(U.end,l.createPositionAt(d,"end")),l),Vx(W,l)}return d})}(this,e)}hasContent(e,r={}){const s=e instanceof ve?e:ve._createIn(e);if(s.isCollapsed)return!1;const{ignoreWhitespaces:l=!1,ignoreMarkers:d=!1}=r;if(!d){for(const m of this.markers.getMarkersIntersectingRange(s))if(m.affectsData)return!0}for(const m of s.getItems())if(this.schema.isContent(m)&&(!m.is("$textProxy")||!l||m.data.search(/\S/)!==-1))return!0;return!1}createPositionFromPath(e,r,s){return new Ee(e,r,s)}createPositionAt(e,r){return Ee._createAt(e,r)}createPositionAfter(e){return Ee._createAfter(e)}createPositionBefore(e){return Ee._createBefore(e)}createRange(e,r){return new ve(e,r)}createRangeIn(e){return ve._createIn(e)}createRangeOn(e){return ve._createOn(e)}createSelection(...e){return new qr(...e)}createBatch(e){return new Zc(e)}createOperationFromJSON(e){return zj.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const r=this._pendingChanges[0].batch;this._currentWriter=new hV(this,r);const s=this._pendingChanges[0].callback(this._currentWriter);e.push(s),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Hx(a,e){if(a)return a instanceof qr||a instanceof Yr?a:a instanceof Dl?new qr(a,e):new qr(a)}class _V extends aa{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class lb extends aa{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Xc{constructor(e){this.document=e}createDocumentFragment(e){return new Tl(this.document,e)}createElement(e,r,s){return new ur(this.document,e,r,s)}createText(e){return new qt(this.document,e)}clone(e,r=!1){return e._clone(r)}appendChild(e,r){return r._appendChild(e)}insertChild(e,r,s){return s._insertChild(e,r)}removeChildren(e,r,s){return s._removeChildren(e,r)}remove(e){const r=e.parent;return r?this.removeChildren(r.getChildIndex(e),1,r):[]}replace(e,r){const s=e.parent;if(s){const l=s.getChildIndex(e);return this.removeChildren(l,1,s),this.insertChild(l,r,s),!0}return!1}unwrapElement(e){const r=e.parent;if(r){const s=r.getChildIndex(e);this.remove(e),this.insertChild(s,e.getChildren(),r)}}rename(e,r){const s=new ur(this.document,e,r.getAttributes(),r.getChildren());return this.replace(r,s)?s:null}setAttribute(e,r,s){s._setAttribute(e,r)}removeAttribute(e,r){r._removeAttribute(e)}addClass(e,r){r._addClass(e)}removeClass(e,r){r._removeClass(e)}setStyle(e,r,s){Xt(e)&&s===void 0?r._setStyle(e):s._setStyle(e,r)}removeStyle(e,r){r._removeStyle(e)}setCustomProperty(e,r,s){s._setCustomProperty(e,r)}removeCustomProperty(e,r){return r._removeCustomProperty(e)}createPositionAt(e,r){return Ne._createAt(e,r)}createPositionAfter(e){return Ne._createAfter(e)}createPositionBefore(e){return Ne._createBefore(e)}createRange(e,r){return new tt(e,r)}createRangeOn(e){return tt._createOn(e)}createRangeIn(e){return tt._createIn(e)}createSelection(...e){return new Lo(...e)}}class CV{constructor(){this._commands=new Map}add(e,r){this._commands.set(e,r)}get(e){return this._commands.get(e)}execute(e,...r){const s=this.get(e);if(!s)throw new N("commandcollection-command-not-found",this,{commandName:e});return s.execute(...r)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class EV extends Ye(){constructor(e={}){super();const r=this.constructor,s=e.language||r.defaultConfig&&r.defaultConfig.language;this._context=e.context||new UE({language:s}),this._context._addEditor(this,!e.context);const l=Array.from(r.builtinPlugins||[]);this.config=new xo(e,r.defaultConfig),this.config.define("plugins",l),this.config.define(this._context._getEditorConfig()),this.plugins=new VE(this,l,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new CV,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new AV;const d=new Xz;this.data=new Bj(this.model,d),this.editing=new mj(this.model,d),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Fj([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new kz(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new N("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new N("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new N("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,r=e.get("plugins"),s=e.get("removePlugins")||[],l=e.get("extraPlugins")||[],d=e.get("substitutePlugins")||[];return this.plugins.init(r.concat(l),s,d)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(r=>this.once("ready",r))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...r){try{return this.commands.execute(e,...r)}catch(s){N.rethrowUnexpectedError(s,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function wg(a){return class extends a{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}}{const a=wg(Object);wg.setData=a.prototype.setData,wg.getData=a.prototype.getData}function cb(a){return class extends a{updateSourceElement(e=this.data.get()){if(!this.sourceElement)throw new N("editor-missing-sourceelement",this);const r=this.config.get("updateSourceElementOnDestroy"),s=this.sourceElement instanceof HTMLTextAreaElement;WF(this.sourceElement,r||s?e:"")}}}cb.updateSourceElement=cb(Object).prototype.updateSourceElement;class Wx extends tg{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Wr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new N("pendingactions-add-invalid-message",this);const r=new(Ye());return r.set("message",e),this._actions.add(r),this.hasAny=!0,r}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Dn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var Gx=c(5542),SV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(Gx.Z,SV),Gx.Z.locals;const{threeVerticalDots:Kx}=Dn,xV={alignLeft:Dn.alignLeft,bold:Dn.bold,importExport:Dn.importExport,paragraph:Dn.paragraph,plus:Dn.plus,text:Dn.text,threeVerticalDots:Dn.threeVerticalDots};class ub extends bt{constructor(e,r){super(e);const s=this.bindTemplate,l=this.t;this.options=r||{},this.set("ariaLabel",l("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Sr,this.keystrokes=new To,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new TV(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const d=e.uiLanguageDirection==="rtl";this._focusCycler=new Gc({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[d?"arrowright":"arrowleft","arrowup"],focusNext:[d?"arrowleft":"arrowright","arrowdown"]}});const m=["ck","ck-toolbar",s.to("class"),s.if("isCompact","ck-toolbar_compact")];var y;this.options.shouldGroupWhenFull&&this.options.isFloating&&m.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:m,role:"toolbar","aria-label":s.to("ariaLabel"),style:{maxWidth:s.to("maxWidth")}},children:this.children,on:{mousedown:(y=this,y.bindTemplate.to(C=>{C.target===y.element&&C.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new IV(this):new DV(this)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(e,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,r,s){this.items.addMany(this._buildItemsFromConfig(e,r,s))}_buildItemsFromConfig(e,r,s){const l=BE(e),d=s||l.removeItems;return this._cleanItemsConfiguration(l.items,r,d).map(m=>ye(m)?this._createNestedToolbarDropdown(m,r,d):m==="|"?new $E:m==="-"?new wz:r.create(m)).filter(m=>!!m)}_cleanItemsConfiguration(e,r,s){const l=e.filter((d,m,y)=>d==="|"||s.indexOf(d)===-1&&(d==="-"?!this.options.shouldGroupWhenFull||(P("toolbarview-line-break-ignored-when-grouping-items",y),!1):!(!ye(d)&&!r.has(d))||(P("toolbarview-item-unavailable",{item:d}),!1)));return this._cleanSeparatorsAndLineBreaks(l)}_cleanSeparatorsAndLineBreaks(e){const r=m=>m!=="-"&&m!=="|",s=e.length,l=e.findIndex(r);if(l===-1)return[];const d=s-e.slice().reverse().findIndex(r);return e.slice(l,d).filter((m,y,C)=>r(m)?!0:!(y>0&&C[y-1]===m))}_createNestedToolbarDropdown(e,r,s){let{label:l,icon:d,items:m,tooltip:y=!0,withText:C=!1}=e;if(m=this._cleanItemsConfiguration(m,r,s),!m.length)return null;const S=ca(this.locale);return l||P("toolbarview-nested-toolbar-dropdown-missing-label",e),S.class="ck-toolbar__nested-toolbar-dropdown",S.buttonView.set({label:l,tooltip:y,withText:!!C}),d!==!1?S.buttonView.icon=xV[d]||d||Kx:S.buttonView.withText=!0,db(S,()=>S.toolbarView._buildItemsFromConfig(m,r,s)),S}}class TV extends bt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class DV{constructor(e){const r=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(s=>s),e.focusables.bindTo(e.items).using(s=>s),e.extendTemplate({attributes:{class:[r.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class IV{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(r=>r),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(r,s)=>{const l=s.index,d=Array.from(s.added);for(const m of s.removed)l>=this.ungroupedItems.length?this.groupedItems.remove(m):this.ungroupedItems.remove(m);for(let m=l;m<l+d.length;m++){const y=d[m-l];m>this.ungroupedItems.length?this.groupedItems.add(y,m-this.ungroupedItems.length):this.ungroupedItems.add(y,m)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Al(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let r;for(;this._areItemsOverflowing;)this._groupLastItem(),r=!0;if(!r&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,r=this.viewLocale.uiLanguageDirection,s=new yn(e.lastChild),l=new yn(e);if(!this.cachedPadding){const d=vt.window.getComputedStyle(e),m=r==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(d[m])}return r==="ltr"?s.right>l.right-this.cachedPadding:s.left<l.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Qp(this.viewElement,r=>{e&&e===r.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=r.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new $E),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,r=e.t,s=ca(e);return s.class="ck-toolbar__grouped-dropdown",s.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",db(s,this.groupedItems),s.buttonView.set({label:r("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:Kx}),s}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var qx=c(1046),MV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(qx.Z,MV),qx.Z.locals;class LV extends bt{constructor(e){super(e);const r=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new Sr,this.keystrokes=new To,this._focusCycler=new Gc({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],"aria-label":r.to("ariaLabel")},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(e,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Qx extends bt{constructor(e){super(e);const r=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",r.if("isVisible","ck-hidden",s=>!s)]},children:this.children})}focus(){this.children.first.focus()}}class RV extends bt{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var Yx=c(7339),NV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(Yx.Z,NV),Yx.Z.locals;var Zx=c(3949),OV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(Zx.Z,OV),Zx.Z.locals;function ca(a,e=mz){const r=new e(a),s=new gz(a),l=new Ek(a,r,s);return r.bind("isEnabled").to(l),r instanceof Sk?r.arrowView.bind("isOn").to(l,"isOpen"):r.bind("isOn").to(l,"isOpen"),function(d){(function(m){m.on("render",()=>{h({emitter:m,activator:()=>m.isOpen,callback:()=>{m.isOpen=!1},contextElements:[m.element]})})})(d),function(m){m.on("execute",y=>{y.source instanceof eg||(m.isOpen=!1)})}(d),function(m){m.focusTracker.on("change:isFocused",(y,C,S)=>{m.isOpen&&!S&&(m.isOpen=!1)})}(d),function(m){m.keystrokes.set("arrowdown",(y,C)=>{m.isOpen&&(m.panelView.focus(),C())}),m.keystrokes.set("arrowup",(y,C)=>{m.isOpen&&(m.panelView.focusLast(),C())})}(d),function(m){m.on("change:isOpen",(y,C,S)=>{if(S)return;const M=m.panelView.element;M&&M.contains(vt.document.activeElement)&&m.buttonView.focus()})}(d),function(m){m.on("change:isOpen",(y,C,S)=>{S&&m.panelView.focus()},{priority:"low"})}(d)}(l),l}function db(a,e,r={}){a.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),a.isOpen?Jx(a,e,r):a.once("change:isOpen",()=>Jx(a,e,r),{priority:"highest"}),r.enableActiveItemFocusOnDropdownOpen&&tT(a,()=>a.toolbarView.items.find(s=>s.isOn))}function Jx(a,e,r){const s=a.locale,l=s.t,d=a.toolbarView=new ub(s),m=typeof e=="function"?e():e;d.ariaLabel=r.ariaLabel||l("Dropdown toolbar"),r.maxWidth&&(d.maxWidth=r.maxWidth),r.class&&(d.class=r.class),r.isCompact&&(d.isCompact=r.isCompact),r.isVertical&&(d.isVertical=!0),m instanceof sa?d.items.bindTo(m).using(y=>y):d.items.addMany(m),a.panelView.children.add(d),d.items.delegate("execute").to(a)}function Xx(a,e,r={}){a.isOpen?eT(a,e,r):a.once("change:isOpen",()=>eT(a,e,r),{priority:"highest"}),tT(a,()=>a.listView.items.find(s=>s instanceof Qx&&s.children.first.isOn))}function eT(a,e,r){const s=a.locale,l=a.listView=new LV(s),d=typeof e=="function"?e():e;l.ariaLabel=r.ariaLabel,l.items.bindTo(d).using(m=>{if(m.type==="separator")return new RV(s);if(m.type==="button"||m.type==="switchbutton"){const y=new Qx(s);let C;return C=m.type==="button"?new tn(s):new eg(s),C.bind(...Object.keys(m.model)).to(m.model),C.delegate("execute").to(y),y.children.add(C),y}return null}),a.panelView.children.add(l),l.items.delegate("execute").to(a)}function tT(a,e){a.on("change:isOpen",()=>{if(!a.isOpen)return;const r=e();r&&(typeof r.focus=="function"?r.focus():P("ui-dropdown-focus-child-on-open-child-missing-focus",{view:r}))},{priority:I.low-10})}var nT=c(8793),PV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(nT.Z,PV),nT.Z.locals;var $V=Object.defineProperty,iT=Object.getOwnPropertySymbols,BV=Object.prototype.hasOwnProperty,FV=Object.prototype.propertyIsEnumerable,rT=(a,e,r)=>e in a?$V(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,It=(a,e)=>{for(var r in e||(e={}))BV.call(e,r)&&rT(a,r,e[r]);if(iT)for(var r of iT(e))FV.call(e,r)&&rT(a,r,e[r]);return a};const oT=gk("px"),sT=vt.document.body,hb=class extends bt{constructor(a){super(a);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",r=>`ck-balloon-panel_${r}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",oT),left:e.to("left",oT)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(a){this.show();const e=hb.defaultPositions,r=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:sT,fitInViewport:!0},a),s=hb._getOptimalPosition(r),l=parseInt(s.left),d=parseInt(s.top),m=s.name,y=s.config||{},{withArrow:C=!0}=y;this.top=d,this.left=l,this.position=m,this.withArrow=C}pin(a){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(a):this._stopPinning()},this._startPinning(a),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(a){this.attachTo(a);const e=fb(a.target),r=a.limiter?fb(a.limiter):sT;this.listenTo(vt.document,"scroll",(s,l)=>{const d=l.target,m=e&&d.contains(e),y=r&&d.contains(r);!m&&!y&&e&&r||this.attachTo(a)},{useCapture:!0}),this.listenTo(vt.window,"resize",()=>{this.attachTo(a)})}_stopPinning(){this.stopListening(vt.document,"scroll"),this.stopListening(vt.window,"resize")}};let fr=hb;function fb(a){return yi(a)?a:Kp(a)?a.commonAncestorContainer:typeof a=="function"?fb(a()):null}function aT(a={}){const{sideOffset:e=fr.arrowSideOffset,heightOffset:r=fr.arrowHeightOffset,stickyVerticalOffset:s=fr.stickyVerticalOffset,config:l}=a;return{northWestArrowSouthWest:(y,C)=>It({top:d(y,C),left:y.left-e,name:"arrow_sw"},l&&{config:l}),northWestArrowSouthMiddleWest:(y,C)=>It({top:d(y,C),left:y.left-.25*C.width-e,name:"arrow_smw"},l&&{config:l}),northWestArrowSouth:(y,C)=>It({top:d(y,C),left:y.left-C.width/2,name:"arrow_s"},l&&{config:l}),northWestArrowSouthMiddleEast:(y,C)=>It({top:d(y,C),left:y.left-.75*C.width+e,name:"arrow_sme"},l&&{config:l}),northWestArrowSouthEast:(y,C)=>It({top:d(y,C),left:y.left-C.width+e,name:"arrow_se"},l&&{config:l}),northArrowSouthWest:(y,C)=>It({top:d(y,C),left:y.left+y.width/2-e,name:"arrow_sw"},l&&{config:l}),northArrowSouthMiddleWest:(y,C)=>It({top:d(y,C),left:y.left+y.width/2-.25*C.width-e,name:"arrow_smw"},l&&{config:l}),northArrowSouth:(y,C)=>It({top:d(y,C),left:y.left+y.width/2-C.width/2,name:"arrow_s"},l&&{config:l}),northArrowSouthMiddleEast:(y,C)=>It({top:d(y,C),left:y.left+y.width/2-.75*C.width+e,name:"arrow_sme"},l&&{config:l}),northArrowSouthEast:(y,C)=>It({top:d(y,C),left:y.left+y.width/2-C.width+e,name:"arrow_se"},l&&{config:l}),northEastArrowSouthWest:(y,C)=>It({top:d(y,C),left:y.right-e,name:"arrow_sw"},l&&{config:l}),northEastArrowSouthMiddleWest:(y,C)=>It({top:d(y,C),left:y.right-.25*C.width-e,name:"arrow_smw"},l&&{config:l}),northEastArrowSouth:(y,C)=>It({top:d(y,C),left:y.right-C.width/2,name:"arrow_s"},l&&{config:l}),northEastArrowSouthMiddleEast:(y,C)=>It({top:d(y,C),left:y.right-.75*C.width+e,name:"arrow_sme"},l&&{config:l}),northEastArrowSouthEast:(y,C)=>It({top:d(y,C),left:y.right-C.width+e,name:"arrow_se"},l&&{config:l}),southWestArrowNorthWest:y=>It({top:m(y),left:y.left-e,name:"arrow_nw"},l&&{config:l}),southWestArrowNorthMiddleWest:(y,C)=>It({top:m(y),left:y.left-.25*C.width-e,name:"arrow_nmw"},l&&{config:l}),southWestArrowNorth:(y,C)=>It({top:m(y),left:y.left-C.width/2,name:"arrow_n"},l&&{config:l}),southWestArrowNorthMiddleEast:(y,C)=>It({top:m(y),left:y.left-.75*C.width+e,name:"arrow_nme"},l&&{config:l}),southWestArrowNorthEast:(y,C)=>It({top:m(y),left:y.left-C.width+e,name:"arrow_ne"},l&&{config:l}),southArrowNorthWest:y=>It({top:m(y),left:y.left+y.width/2-e,name:"arrow_nw"},l&&{config:l}),southArrowNorthMiddleWest:(y,C)=>It({top:m(y),left:y.left+y.width/2-.25*C.width-e,name:"arrow_nmw"},l&&{config:l}),southArrowNorth:(y,C)=>It({top:m(y),left:y.left+y.width/2-C.width/2,name:"arrow_n"},l&&{config:l}),southArrowNorthMiddleEast:(y,C)=>It({top:m(y),left:y.left+y.width/2-.75*C.width+e,name:"arrow_nme"},l&&{config:l}),southArrowNorthEast:(y,C)=>It({top:m(y),left:y.left+y.width/2-C.width+e,name:"arrow_ne"},l&&{config:l}),southEastArrowNorthWest:y=>It({top:m(y),left:y.right-e,name:"arrow_nw"},l&&{config:l}),southEastArrowNorthMiddleWest:(y,C)=>It({top:m(y),left:y.right-.25*C.width-e,name:"arrow_nmw"},l&&{config:l}),southEastArrowNorth:(y,C)=>It({top:m(y),left:y.right-C.width/2,name:"arrow_n"},l&&{config:l}),southEastArrowNorthMiddleEast:(y,C)=>It({top:m(y),left:y.right-.75*C.width+e,name:"arrow_nme"},l&&{config:l}),southEastArrowNorthEast:(y,C)=>It({top:m(y),left:y.right-C.width+e,name:"arrow_ne"},l&&{config:l}),westArrowEast:(y,C)=>It({top:y.top+y.height/2-C.height/2,left:y.left-C.width-r,name:"arrow_e"},l&&{config:l}),eastArrowWest:(y,C)=>It({top:y.top+y.height/2-C.height/2,left:y.right+r,name:"arrow_w"},l&&{config:l}),viewportStickyNorth:(y,C,S)=>y.getIntersection(S)?{top:S.top+s,left:y.left+y.width/2-C.width/2,name:"arrowless",config:It({withArrow:!1},l)}:null};function d(y,C){return y.top-C.height-r}function m(y){return y.bottom+r}}fr.arrowSideOffset=25,fr.arrowHeightOffset=10,fr.stickyVerticalOffset=20,fr._getOptimalPosition=aE,fr.defaultPositions=aT();var lT=c(3332),zV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(lT.Z,zV),lT.Z.locals;const cT="ck-tooltip",tr=class extends yl(){constructor(a){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,tr._editors.add(a),tr._instance)return tr._instance;tr._instance=this,this.tooltipTextView=new bt(a.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new fr(a.locale),this.balloonPanelView.class=cT,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=sh(this._pinTooltip,600),this.listenTo(vt.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(vt.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(vt.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(vt.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(vt.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(a){const e=a.ui.view&&a.ui.view.body;tr._editors.delete(a),this.stopListening(a.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),tr._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),tr._instance=null)}static getPositioningFunctions(a){const e=tr.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[a]}_onEnterOrFocus(a,{target:e}){const r=pb(e);var s;r&&r!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(r,{text:(s=r).dataset.ckeTooltipText,position:s.dataset.ckeTooltipPosition||"s",cssClass:s.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(a,{target:e,relatedTarget:r}){if(a.name==="mouseleave"){if(!yi(e)||this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const s=pb(e),l=pb(r);s&&s!==l&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(a,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(a,{text:e,position:r,cssClass:s}){const l=Nn(tr._editors.values()).ui.view.body;l.has(this.balloonPanelView)||l.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:a,positions:tr.getPositioningFunctions(r)}),this._resizeObserver=new Qp(a,()=>{Al(a)||this._unpinTooltip()}),this.balloonPanelView.class=[cT,s].filter(d=>d).join(" ");for(const d of tr._editors)this.listenTo(d.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=a,this._currentTooltipPosition=r}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const a of tr._editors)this.stopListening(a.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Al(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:tr.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let kg=tr;function pb(a){return yi(a)?a.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}kg.defaultBalloonPositions=aT({heightOffset:5,sideOffset:13}),kg._editors=new Set,kg._instance=null;class jV extends Ye(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.editor=e,this.componentFactory=new fz(e),this.focusTracker=new Sr,this.tooltipManager=new kg(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,r){this._editableElementsMap.set(e,r),r.ckeditorInstance||(r.ckeditorInstance=this.editor),this.focusTracker.add(r);const s=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(r)};this.isReady?s():this.once("ready",s)}removeEditableElement(e){const r=this._editableElementsMap.get(e);r&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(r),this.focusTracker.remove(r),r.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,r={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:r})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,r=e.config.get("ui.viewportOffset");if(r)return r;const s=e.config.get("toolbar.viewportTopOffset");return s?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:s}):{top:0}}_initFocusTracking(){const e=this.editor,r=e.editing.view;let s,l;e.keystrokes.set("Alt+F10",(d,m)=>{const y=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(y)&&!Array.from(r.domRoots.values()).includes(y)&&(s=y);const C=this._getCurrentFocusedToolbarDefinition();C&&l||(l=this._getFocusableCandidateToolbarDefinitions());for(let S=0;S<l.length;S++){const M=l.shift();if(l.push(M),M!==C&&this._focusFocusableCandidateToolbar(M)){C&&C.options.afterBlur&&C.options.afterBlur();break}}m()}),e.keystrokes.set("Esc",(d,m)=>{const y=this._getCurrentFocusedToolbarDefinition();y&&(s?(s.focus(),s=null):e.editing.view.focus(),y.options.afterBlur&&y.options.afterBlur(),m())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const r of this._focusableToolbarDefinitions){const{toolbarView:s,options:l}=r;(Al(s.element)||l.beforeFocus)&&e.push(r)}return e.sort((r,s)=>uT(r)-uT(s)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:r,options:{beforeFocus:s}}=e;return s&&s(),!!Al(r.element)&&(r.focus(),!0)}}function uT(a){const{toolbarView:e,options:r}=a;let s=10;return Al(e.element)&&s--,r.isContextual&&s--,s}var dT=c(9688),VV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(dT.Z,VV),dT.Z.locals;class UV extends bt{constructor(e){super(e),this.body=new lz(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var hT=c(3662),HV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(hT.Z,HV),hT.Z.locals;class fT extends bt{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${B()}`;const r=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:r.to("for")},children:[{text:r.to("text")}]})}}class WV extends UV{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,r=new fT;return r.text=e("Rich Text Editor"),r.extendTemplate({attributes:{class:"ck-voice-label"}}),r}}class GV extends bt{constructor(e,r,s){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=s,this._hasExternalElement=!!this._editableElement,this._editingView=r}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function r(s){e.change(l=>{const d=e.document.getRoot(s.name);l.addClass(s.isFocused?"ck-focused":"ck-blurred",d),l.removeClass(s.isFocused?"ck-blurred":"ck-focused",d)})}e.isRenderingInProgress?function s(l){e.once("change:isRenderingInProgress",(d,m,y)=>{y?s(l):r(l)})}(this):r(this)}}class KV extends GV{constructor(e,r,s,l={}){super(e,r,s);const d=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=l.label||(()=>d("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(r=>{const s=e.document.getRoot(this.name);r.setAttribute("aria-label",this._generateLabel(this),s)})}}var pT=c(8847),qV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(pT.Z,qV),pT.Z.locals;var gT=c(4879),QV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(gT.Z,QV),gT.Z.locals;class YV extends bt{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Sr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",r.if("isFocused","ck-input_focused"),r.if("isEmpty","ck-input-text_empty"),r.if("hasError","ck-error")],id:r.to("id"),placeholder:r.to("placeholder"),readonly:r.to("isReadOnly"),inputmode:r.to("inputMode"),"aria-invalid":r.if("hasError",!0),"aria-describedby":r.to("ariaDescribedById")},on:{input:r.to((...s)=>{this.fire("input",...s),this._updateIsEmpty()}),change:r.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,r,s)=>{this._setDomElementValue(s),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}class ZV extends YV{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var mT=c(2577),JV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(mT.Z,JV),mT.Z.locals;class gb extends bt{constructor(e,r){super(e);const s=`ck-labeled-field-view-${B()}`,l=`ck-labeled-field-view-status-${B()}`;this.fieldView=r(this,s,l),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(s),this.statusView=this._createStatusView(l),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(m,y)=>m||y);const d=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",d.to("class"),d.if("isEnabled","ck-disabled",m=>!m),d.if("isEmpty","ck-labeled-field-view_empty"),d.if("isFocused","ck-labeled-field-view_focused"),d.if("placeholder","ck-labeled-field-view_placeholder"),d.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const r=new fT(this.locale);return r.for=e,r.bind("text").to(this,"label"),r}_createStatusView(e){const r=new bt(this.locale),s=this.bindTemplate;return r.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",s.if("errorText","ck-labeled-field-view__status_error"),s.if("_statusText","ck-hidden",l=>!l)],id:e,role:s.if("errorText","alert")},children:[{text:s.to("_statusText")}]}),r}focus(){this.fieldView.focus()}}function mb(a,e,r){const s=new ZV(a.locale);return s.set({id:e,ariaDescribedById:r}),s.bind("isReadOnly").to(a,"isEnabled",l=>!l),s.bind("hasError").to(a,"errorText",l=>!!l),s.on("input",()=>{a.errorText=null}),a.bind("isEmpty","isFocused","placeholder").to(s),s}class vb extends tg{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,r)=>{window.alert(r.message)},{priority:"lowest"})}showSuccess(e,r={}){this._showNotification({message:e,type:"success",namespace:r.namespace,title:r.title})}showInfo(e,r={}){this._showNotification({message:e,type:"info",namespace:r.namespace,title:r.title})}showWarning(e,r={}){this._showNotification({message:e,type:"warning",namespace:r.namespace,title:r.title})}_showNotification(e){const r=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(r,{message:e.message,type:e.type,title:e.title||""})}}class vT extends Ye(){constructor(e,r){super(),r&&_S(this,r),e&&this.set(e)}}var wT=c(4650),XV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(wT.Z,XV),wT.Z.locals;var kT=c(7676),eU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(kT.Z,eU),kT.Z.locals;const bg=gk("px");class yg extends De{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const r=this.editor.editing.view,s=r.document.selection.editableElement;return s?r.domConverter.mapViewToDom(s.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new N("contextualballoon-add-view-exist",[this,e]);const r=e.stackId||"main";if(!this._idToStack.has(r))return this._idToStack.set(r,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(r)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(r));const s=this._idToStack.get(r);e.singleViewMode&&this.showStack(r),s.set(e.view,e),this._viewToStack.set(e.view,s),s===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new N("contextualballoon-remove-view-not-exist",[this,e]);const r=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(r.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(r.values())[r.size-2])),r.size===1?(this._idToStack.delete(this._getStackId(r)),this._numberOfStacks=this._idToStack.size):r.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const r=this._idToStack.get(e);if(!r)throw new N("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==r&&this._showView(Array.from(r.values()).pop())}_createPanelView(){this._view=new fr(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(r=>r[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let r=e.indexOf(this._visibleStack)+1;e[r]||(r=0),this.showStack(this._getStackId(e[r]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let r=e.indexOf(this._visibleStack)-1;e[r]||(r=e.length-1),this.showStack(this._getStackId(e[r]))}_createRotatorView(){const e=new tU(this.editor.locale),r=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(s,l)=>!l&&s>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(s,l)=>{if(l<2)return"";const d=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return r("%0 of %1",[d,l])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new nU(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(r,s)=>!s&&r>=2?Math.min(r-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:r="",withArrow:s=!0,singleViewMode:l=!1}){this.view.class=r,this.view.withArrow=s,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),l&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class tU extends bt{constructor(e){super(e);const r=e.t,s=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Sr,this.buttonPrevView=this._createButtonView(r("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(r("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",s.to("isNavigationVisible",l=>l?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:s.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,r){const s=new tn(this.locale);return s.set({label:e,icon:r,tooltip:!0}),s}}class nU extends bt{constructor(e,r){super(e);const s=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=r,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",s.to("numberOfPanels",l=>l?"":"ck-hidden")],style:{top:s.to("top",bg),left:s.to("left",bg),width:s.to("width",bg),height:s.to("height",bg)}},children:this.content}),this.on("change:numberOfPanels",(l,d,m,y)=>{m>y?this._addPanels(m-y):this._removePanels(y-m),this.updatePosition()})}_addPanels(e){for(;e--;){const r=new bt;r.setTemplate({tag:"div"}),this.content.add(r),this.registerChild(r)}}_removePanels(e){for(;e--;){const r=this.content.last;this.content.remove(r),this.deregisterChild(r),r.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:r}=this._balloonPanelView,{width:s,height:l}=new yn(this._balloonPanelView.element);Object.assign(this,{top:e,left:r,width:s,height:l})}}}var bT=c(5868),iU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(bT.Z,iU),bT.Z.locals;const mh=gk("px");class rU extends bt{constructor(e){super(e);const r=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Gr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:r.to("isSticky",s=>s?"block":"none"),height:r.to("isSticky",s=>s?mh(this._panelRect.height):null)}}}).render(),this._contentPanel=new Gr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",r.if("isSticky","ck-sticky-panel__content_sticky"),r.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:r.to("isSticky",s=>s?mh(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:r.to("_hasViewportTopOffset",s=>s?mh(this.viewportTopOffset):null),bottom:r.to("_isStickyToTheLimiter",s=>s?mh(this.limiterBottomOffset):null),marginLeft:r.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(vt.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let r;this.limiterElement?(r=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&r.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<r.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=r.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:mh(-vt.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}var yT=c(9695),oU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(yT.Z,oU),yT.Z.locals;class sU extends jV{constructor(e,r){super(e),this.view=r,this._toolbarConfig=BE(e.config.get("toolbar")),this._elementReplacer=new Be}get element(){return this.view.element}init(e){const r=this.editor,s=this.view,l=r.editing.view,d=s.editable,m=l.document.getRoot();d.name=m.rootName,s.render();const y=d.element;this.setEditableElement(d.name,y),s.editable.bind("isFocused").to(this.focusTracker),l.attachDomRoot(y),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,r=this.editor.editing.view;this._elementReplacer.restore(),r.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:r})=>r||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,r=e.editing.view,s=r.document.getRoot(),l=e.sourceElement;let d;const m=e.config.get("placeholder");m&&(d=typeof m=="string"?m:m[this.view.editable.name]),!d&&l&&l.tagName.toLowerCase()==="textarea"&&(d=l.getAttribute("placeholder")),d&&WE({view:r,element:s,text:d,isDirectHost:!1,keepOnFocus:!0})}}var AT=c(3143),aU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(AT.Z,aU),AT.Z.locals;class lU extends WV{constructor(e,r,s={}){super(e),this.stickyPanel=new rU(e),this.toolbar=new ub(e,{shouldGroupWhenFull:s.shouldToolbarGroupWhenFull}),this.editable=new KV(e,r)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class _T{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const s="error"in r?r.error:r.reason;s instanceof Error&&this._handleError(s,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,r){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(r)}off(e,r){this._listeners[e]=this._listeners[e].filter(s=>s!==r)}_fire(e,...r){const s=this._listeners[e]||[];for(const l of s)l.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,r){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:r instanceof ErrorEvent?r.filename:void 0,lineno:r instanceof ErrorEvent?r.lineno:void 0,colno:r instanceof ErrorEvent?r.colno:void 0,date:this._now()});const s=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:s}),s?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function wb(a,e=new Set){const r=[a],s=new Set;let l=0;for(;r.length>l;){const d=r[l++];if(!s.has(d)&&cU(d)&&!e.has(d))if(s.add(d),Symbol.iterator in d)try{for(const m of d)r.push(m)}catch{}else for(const m in d)m!=="defaultValue"&&r.push(d[m])}return s}function cU(a){const e=Object.prototype.toString.call(a),r=typeof a;return!(r==="number"||r==="boolean"||r==="string"||r==="symbol"||r==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||a==null||a._watchdogExcluded||a instanceof EventTarget||a instanceof Event)}function CT(a,e,r=new Set){if(a===e&&typeof(s=a)=="object"&&s!==null)return!0;var s;const l=wb(a,r),d=wb(e,r);for(const m of l)if(d.has(m))return!0;return!1}const ET=function(a,e,r){var s=!0,l=!0;if(typeof a!="function")throw new TypeError("Expected a function");return ye(r)&&(s="leading"in r?!!r.leading:s,l="trailing"in r?!!r.trailing:l),sh(a,e,{leading:s,maxWait:e,trailing:l})};class ST extends _T{constructor(e,r={}){super(r),this._editor=null,this._throttledSave=ET(this._save.bind(this),typeof r.saveInterval=="number"?r.saveInterval:5e3),e&&(this._creator=(s,l)=>e.create(s,l)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const e=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,e,e.context)}}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,r=this._config,s){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._config=this._cloneEditorConfiguration(r)||{},this._config.context=s,this._creator(e,this._config))).then(l=>{this._editor=l,l.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=l.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=e}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e={};for(const r of this._editor.model.document.getRootNames())e[r]=this._editor.data.get({rootName:r});return e}_isErrorComingFromThisItem(e){return CT(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return li(e,(r,s)=>yi(r)||s==="context"?r:void 0)}}const vh=Symbol("MainQueueId");class uU{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,r){const s=e===vh;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const l=(s?Promise.all(this._queues.values()):Promise.all([this._queues.get(vh),this._queues.get(e)])).then(r),d=l.catch(()=>{});return this._queues.set(e,d),l.finally(()=>{this._activeActions--,this._queues.get(e)===d&&this._activeActions===0&&this._onEmptyCallbacks.forEach(m=>m())})}}function xT(a){return Array.isArray(a)?a:[a]}class Ag extends wg(cb(EV)){constructor(e,r={}){if(!_g(e)&&r.initialData!==void 0)throw new N("editor-create-initial-data",null);super(r),this.config.get("initialData")===void 0&&this.config.set("initialData",function(d){return _g(d)?(m=d,m instanceof HTMLTextAreaElement?m.value:m.innerHTML):d;var m}(e)),_g(e)&&(this.sourceElement=e),this.model.document.createRoot();const s=!this.config.get("toolbar.shouldNotGroupWhenFull"),l=new lU(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:s});this.ui=new sU(this,l),function(d){if(!Ar(d.updateSourceElement))throw new N("attachtoform-missing-elementapi-interface",d);const m=d.sourceElement;if(function(y){return!!y&&y.tagName.toLowerCase()==="textarea"}(m)&&m.form){let y;const C=m.form,S=()=>d.updateSourceElement();Ar(C.submit)&&(y=C.submit,C.submit=()=>{S(),y.apply(C)}),C.addEventListener("submit",S),d.on("destroy",()=>{C.removeEventListener("submit",S),y&&(C.submit=y)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,r={}){return new Promise(s=>{const l=new this(e,r);s(l.initPlugins().then(()=>l.ui.init(_g(e)?e:null)).then(()=>l.data.init(l.config.get("initialData"))).then(()=>l.fire("ready")).then(()=>l))})}}function _g(a){return yi(a)}Ag.Context=UE,Ag.EditorWatchdog=ST,Ag.ContextWatchdog=class extends _T{constructor(a,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new uU,this._watchdogConfig=e,this._creator=r=>a.create(r),this._destructor=r=>r.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(a){this._creator=a}setDestructor(a){this._destructor=a}get context(){return this._context}create(a={}){return this._actionQueues.enqueue(vh,()=>(this._contextConfig=a,this._create()))}getItem(a){return this._getWatchdog(a)._item}getItemState(a){return this._getWatchdog(a).state}add(a){const e=xT(a);return Promise.all(e.map(r=>this._actionQueues.enqueue(r.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(r.id))throw new Error(`Item with the given id is already added: '${r.id}'.`);if(r.type==="editor")return s=new ST(null,this._watchdogConfig),s.setCreator(r.creator),s._setExcludedProperties(this._contextProps),r.destructor&&s.setDestructor(r.destructor),this._watchdogs.set(r.id,s),s.on("error",(l,{error:d,causesRestart:m})=>{this._fire("itemError",{itemId:r.id,error:d}),m&&this._actionQueues.enqueue(r.id,()=>new Promise(y=>{const C=()=>{s.off("restart",C),this._fire("itemRestart",{itemId:r.id}),y()};s.on("restart",C)}))}),s.create(r.sourceElementOrData,r.config,this._context);throw new Error(`Not supported item type: '${r.type}'.`)})))}remove(a){const e=xT(a);return Promise.all(e.map(r=>this._actionQueues.enqueue(r,()=>{const s=this._getWatchdog(r);return this._watchdogs.delete(r),s.destroy()})))}destroy(){return this._actionQueues.enqueue(vh,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(vh,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(a=>{console.error("An error happened during destroying the context or items.",a)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(a=>(this._context=a,this._contextProps=wb(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const a=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(a))})}_getWatchdog(a){const e=this._watchdogs.get(a);if(!e)throw new Error(`Item with the given id was not registered: ${a}.`);return e}_isErrorComingFromThisItem(a){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(a))return!1;return CT(this._context,a.context)}};class kb extends aa{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const r=this.document;function s(l){return(d,m)=>{m.preventDefault();const y=m.dropRange?[m.dropRange]:null,C=new D(r,l);r.fire(C,{dataTransfer:m.dataTransfer,method:d.name,targetRanges:y,target:m.target}),C.stop.called&&m.stopPropagation()}}this.listenTo(r,"paste",s("clipboardInput"),{priority:"low"}),this.listenTo(r,"drop",s("clipboardInput"),{priority:"low"}),this.listenTo(r,"dragover",s("dragging"),{priority:"low"})}onDomEvent(e){const r="clipboardData"in e?e.clipboardData:e.dataTransfer,s=e.type=="drop"||e.type=="paste",l={dataTransfer:new LS(r,{cacheFiles:s})};e.type!="drop"&&e.type!="dragover"||(l.dropRange=function(d,m){const y=m.target.ownerDocument,C=m.clientX,S=m.clientY;let M;return y.caretRangeFromPoint&&y.caretRangeFromPoint(C,S)?M=y.caretRangeFromPoint(C,S):m.rangeParent&&(M=y.createRange(),M.setStart(m.rangeParent,m.rangeOffset),M.collapse(!0)),M?d.domConverter.domRangeToView(M):null}(this.view,e)),this.fire(e.type,e,l)}}const TT=["figcaption","li"];function DT(a){let e="";if(a.is("$text")||a.is("$textProxy"))e=a.data;else if(a.is("element","img")&&a.hasAttribute("alt"))e=a.getAttribute("alt");else if(a.is("element","br"))e=`
`;else{let r=null;for(const s of a.getChildren()){const l=DT(s);r&&(r.is("containerElement")||s.is("containerElement"))&&(TT.includes(r.name)||TT.includes(s.name)?e+=`
`:e+=`

`),e+=l,r=s}}return e}class $o extends De{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(kb),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,r=e.model,s=e.editing.view,l=s.document;this.listenTo(l,"clipboardInput",d=>{e.isReadOnly&&d.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",(d,m)=>{const y=m.dataTransfer;let C;if(m.content)C=m.content;else{let $="";y.getData("text/html")?$=function(U){return U.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(W,K)=>K.length==1?" ":K).replace(/<!--[\s\S]*?-->/g,"")}(y.getData("text/html")):y.getData("text/plain")&&(((S=(S=y.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||S.includes("<br>"))&&(S=`<p>${S}</p>`),$=S),C=this.editor.data.htmlProcessor.toView($)}var S;const M=new D(this,"inputTransformation");this.fire(M,{content:C,dataTransfer:y,targetRanges:m.targetRanges,method:m.method}),M.stop.called&&d.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(d,m)=>{if(m.content.isEmpty)return;const y=this.editor.data.toModel(m.content,"$clipboardHolder");y.childCount!=0&&(d.stop(),r.change(()=>{this.fire("contentInsertion",{content:y,method:m.method,dataTransfer:m.dataTransfer,targetRanges:m.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(d,m)=>{m.resultRange=r.insertContent(m.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,r=e.model.document,s=e.editing.view.document,l=(d,m)=>{const y=m.dataTransfer;m.preventDefault();const C=e.data.toView(e.model.getSelectedContent(r.selection));s.fire("clipboardOutput",{dataTransfer:y,content:C,method:d.name})};this.listenTo(s,"copy",l,{priority:"low"}),this.listenTo(s,"cut",(d,m)=>{e.isReadOnly?m.preventDefault():l(d,m)},{priority:"low"}),this.listenTo(s,"clipboardOutput",(d,m)=>{m.content.isEmpty||(m.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(m.content)),m.dataTransfer.setData("text/plain",DT(m.content))),m.method=="cut"&&e.model.deleteContent(r.selection)},{priority:"low"})}}class IT{constructor(e,r=20){this._batch=null,this.model=e,this._size=0,this.limit=r,this._isLocked=!1,this._changeCallback=(s,l)=>{l.isLocal&&l.isUndoable&&l!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class dU extends mt{constructor(e,r){super(e),this._buffer=new IT(e.model,r)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const r=this.editor.model,s=r.document,l=e.text||"",d=l.length;let m=s.selection;e.selection?m=e.selection:e.range&&(m=r.createSelection(e.range));const y=e.resultRange;r.enqueueChange(this._buffer.batch,C=>{this._buffer.lock(),r.deleteContent(m),l&&r.insertContent(C.createText(l,s.selection.getAttributes()),m),y?C.setSelection(y):m.is("documentSelection")||C.setSelection(m),this._buffer.unlock(),this._buffer.input(d)})}}const MT=["insertText","insertReplacementText"];class hU extends No{constructor(e){super(e),v.isAndroid&&MT.push("insertCompositionText");const r=e.document;r.on("beforeinput",(s,l)=>{if(!this.isEnabled)return;const{data:d,targetRanges:m,inputType:y,domEvent:C}=l;if(!MT.includes(y))return;const S=new D(r,"insertText");r.fire(S,new Qc(e,C,{text:d,selection:e.createSelection(m)})),S.stop.called&&s.stop()}),r.on("compositionend",(s,{data:l,domEvent:d})=>{this.isEnabled&&!v.isAndroid&&l&&r.fire("insertText",new Qc(e,d,{text:l,selection:r.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class LT extends De{static get pluginName(){return"Input"}init(){const e=this.editor,r=e.model,s=e.editing.view,l=r.document.selection;s.addObserver(hU);const d=new dU(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",d),e.commands.add("input",d),this.listenTo(s.document,"insertText",(m,y)=>{s.document.isComposing||y.preventDefault();const{text:C,selection:S,resultRange:M}=y,$=Array.from(S.getRanges()).map(K=>e.editing.mapper.toModelRange(K));let U=C;if(v.isAndroid){const K=Array.from($[0].getItems()).reduce((q,X)=>q+(X.is("$textProxy")?X.data:""),"");K&&(K.length<=U.length?U.startsWith(K)&&(U=U.substring(K.length),$[0].start=$[0].start.getShiftedBy(K.length)):K.startsWith(U)&&($[0].start=$[0].start.getShiftedBy(U.length),U=""))}const W={text:U,selection:r.createSelection($)};M&&(W.resultRange=e.editing.mapper.toModelRange(M)),e.execute("insertText",W)}),v.isAndroid?this.listenTo(s.document,"keydown",(m,y)=>{!l.isCollapsed&&y.keyCode==229&&s.document.isComposing&&RT(r,d)}):this.listenTo(s.document,"compositionstart",()=>{l.isCollapsed||RT(r,d)})}}function RT(a,e){if(!e.isEnabled)return;const r=e.buffer;r.lock(),a.enqueueChange(r.batch,()=>{a.deleteContent(a.document.selection)}),r.unlock()}class NT extends mt{constructor(e,r){super(e),this.direction=r,this._buffer=new IT(e.model,e.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(e={}){const r=this.editor.model,s=r.document;r.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const d=l.createSelection(e.selection||s.selection),m=e.sequence||1,y=d.isCollapsed;if(d.isCollapsed&&r.modifySelection(d,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(m))return void this._replaceEntireContentWithParagraph(l);if(this._shouldReplaceFirstBlockWithParagraph(d,m))return void this.editor.execute("paragraph",{selection:d});if(d.isCollapsed)return;let C=0;d.getFirstRange().getMinimalFlatRanges().forEach(S=>{C+=Me(S.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),r.deleteContent(d,{doNotResetEntireContent:y,direction:this.direction}),this._buffer.input(C),l.setSelection(d),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const r=this.editor.model,s=r.document.selection,l=r.schema.getLimitElement(s);if(!(s.isCollapsed&&s.containsEntireContent(l))||!r.schema.checkChild(l,"paragraph"))return!1;const d=l.getChild(0);return!d||!d.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const r=this.editor.model,s=r.document.selection,l=r.schema.getLimitElement(s),d=e.createElement("paragraph");e.remove(e.createRangeIn(l)),e.insert(d,l),e.setSelection(d,0)}_shouldReplaceFirstBlockWithParagraph(e,r){const s=this.editor.model;if(r>1||this.direction!="backward"||!e.isCollapsed)return!1;const l=e.getFirstPosition(),d=s.schema.getLimitElement(l),m=d.getChild(0);return l.parent==m&&!!e.containsEntireContent(m)&&!!s.schema.checkChild(d,"paragraph")&&m.name!="paragraph"}}const OT="word",ua="selection",eu="backward",wh="forward",PT={deleteContent:{unit:ua,direction:eu},deleteContentBackward:{unit:"codePoint",direction:eu},deleteWordBackward:{unit:OT,direction:eu},deleteHardLineBackward:{unit:ua,direction:eu},deleteSoftLineBackward:{unit:ua,direction:eu},deleteContentForward:{unit:"character",direction:wh},deleteWordForward:{unit:OT,direction:wh},deleteHardLineForward:{unit:ua,direction:wh},deleteSoftLineForward:{unit:ua,direction:wh}};class fU extends No{constructor(e){super(e);const r=e.document;let s=0;r.on("keydown",()=>{s++}),r.on("keyup",()=>{s=0}),r.on("beforeinput",(l,d)=>{if(!this.isEnabled)return;const{targetRanges:m,domEvent:y,inputType:C}=d,S=PT[C];if(!S)return;const M={direction:S.direction,unit:S.unit,sequence:s};M.unit==ua&&(M.selectionToRemove=e.createSelection(m[0])),C==="deleteContentBackward"&&(v.isAndroid&&(M.sequence=1),function(U){if(U.length!=1||U[0].isCollapsed)return!1;const W=U[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let K=0;for(const{nextPosition:q}of W){if(q.parent.is("$text")){const X=q.parent.data,ne=q.offset;if(kk(X,ne)||bk(X,ne)||vE(X,ne))continue;K++}else K++;if(K>1)return!0}return!1}(m)&&(M.unit=ua,M.selectionToRemove=e.createSelection(m)));const $=new Kc(r,"delete",m[0]);r.fire($,new Qc(e,y,M)),$.stop.called&&l.stop()}),v.isBlink&&function(l){const d=l.view,m=d.document;let y=null,C=!1;function S($){return $==St.backspace||$==St.delete}function M($){return $==St.backspace?eu:wh}m.on("keydown",($,{keyCode:U})=>{y=U,C=!1}),m.on("keyup",($,{keyCode:U,domEvent:W})=>{const K=m.selection,q=l.isEnabled&&U==y&&S(U)&&!K.isCollapsed&&!C;if(y=null,q){const X=K.getFirstRange(),ne=new Kc(m,"delete",X),de={unit:ua,direction:M(U),selectionToRemove:K};m.fire(ne,new Qc(d,W,de))}}),m.on("beforeinput",($,{inputType:U})=>{const W=PT[U];S(y)&&W&&W.direction==M(y)&&(C=!0)},{priority:"high"}),m.on("beforeinput",($,{inputType:U,data:W})=>{y==St.delete&&U=="insertText"&&W==""&&$.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class ps extends De{static get pluginName(){return"Delete"}init(){const e=this.editor,r=e.editing.view,s=r.document,l=e.model.document;r.addObserver(fU),this._undoOnBackspace=!1;const d=new NT(e,"forward");e.commands.add("deleteForward",d),e.commands.add("forwardDelete",d),e.commands.add("delete",new NT(e,"backward")),this.listenTo(s,"delete",(m,y)=>{s.isComposing||y.preventDefault();const{direction:C,sequence:S,selectionToRemove:M,unit:$}=y,U=C==="forward"?"deleteForward":"delete",W={sequence:S};if($=="selection"){const K=Array.from(M.getRanges()).map(q=>e.editing.mapper.toModelRange(q));W.selection=e.model.createSelection(K)}else W.unit=$;e.execute(U,W),r.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(s,"delete",(m,y)=>{this._undoOnBackspace&&y.direction=="backward"&&y.sequence==1&&y.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),y.preventDefault(),m.stop())},{context:"$capture"}),this.listenTo(l,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class pU extends De{static get requires(){return[LT,ps]}static get pluginName(){return"Typing"}}function $T(a,e){let r=a.start;return{text:Array.from(a.getItems()).reduce((s,l)=>l.is("$text")||l.is("$textProxy")?s+l.data:(r=e.createPositionAfter(l),""),""),range:e.createRange(r,a.end)}}class BT extends Ye(){constructor(e,r){super(),this.model=e,this.testCallback=r,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(r,{directChange:s})=>{s&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(r,s)=>{!s.isUndo&&s.isLocal&&this._evaluateTextBeforeSelection("data",{batch:s})})}_evaluateTextBeforeSelection(e,r={}){const s=this.model,l=s.document.selection,d=s.createRange(s.createPositionAt(l.focus.parent,0),l.focus),{text:m,range:y}=$T(d,s),C=this.testCallback(m);if(!C&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!C,C){const S=Object.assign(r,{text:m,range:y});typeof C=="object"&&Object.assign(S,C),this.fire(`matched:${e}`,S)}}}class FT extends De{constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,r=e.model,s=e.editing.view,l=e.locale,d=r.document.selection;this.listenTo(s.document,"arrowKey",(m,y)=>{if(!d.isCollapsed||y.shiftKey||y.altKey||y.ctrlKey)return;const C=y.keyCode==St.arrowright,S=y.keyCode==St.arrowleft;if(!C&&!S)return;const M=l.contentLanguageDirection;let $=!1;$=M==="ltr"&&C||M==="rtl"&&S?this._handleForwardMovement(y):this._handleBackwardMovement(y),$===!0&&m.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(d,"change:range",(m,y)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!y.directChange&&Eg(d.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const r=this.attributes,s=this.editor.model.document.selection,l=s.getFirstPosition();return!this._isGravityOverridden&&(!l.isAtStart||!bb(s,r))&&!!Eg(l,r)&&(Cg(e),this._overrideGravity(),!0)}_handleBackwardMovement(e){const r=this.attributes,s=this.editor.model,l=s.document.selection,d=l.getFirstPosition();return this._isGravityOverridden?(Cg(e),this._restoreGravity(),yb(s,r,d),!0):d.isAtStart?!!bb(l,r)&&(Cg(e),yb(s,r,d),!0):!!function(m,y){const C=m.getShiftedBy(-1);return Eg(C,y)}(d,r)&&(d.isAtEnd&&!bb(l,r)&&Eg(d,r)?(Cg(e),yb(s,r,d),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function bb(a,e){for(const r of e)if(a.hasAttribute(r))return!0;return!1}function yb(a,e,r){const s=r.nodeBefore;a.change(l=>{s?l.setSelectionAttribute(s.getAttributes()):l.removeSelectionAttribute(e)})}function Cg(a){a.preventDefault()}function Eg(a,e){const{nodeBefore:r,nodeAfter:s}=a;for(const l of e){const d=r?r.getAttribute(l):void 0;if((s?s.getAttribute(l):void 0)!==d)return!0}return!1}var zT=/[\\^$.*+?()[\]{}|]/g,gU=RegExp(zT.source);const mU=function(a){return(a=Mk(a))&&gU.test(a)?a.replace(zT,"\\$&"):a},jT={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:tu('"'),to:[null,"",null,""]},quotesSecondary:{from:tu("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:tu("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:tu('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:tu('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:tu("'"),to:[null,"",null,""]}},VT={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},vU=["symbols","mathematical","typography","quotes"];function wU(a){return typeof a=="string"?new RegExp(`(${mU(a)})$`):a}function kU(a){return typeof a=="string"?()=>[a]:a instanceof Array?()=>a:a}function bU(a){return(a.textNode?a.textNode:a.nodeAfter).getAttributes()}function tu(a){return new RegExp(`(^|\\s)(${a})([^${a}]*)(${a})$`)}function nu(a,e,r,s){return s.createRange(UT(a,e,r,!0,s),UT(a,e,r,!1,s))}function UT(a,e,r,s,l){let d=a.textNode||(s?a.nodeBefore:a.nodeAfter),m=null;for(;d&&d.getAttribute(e)==r;)m=d,d=s?d.previousSibling:d.nextSibling;return m?l.createPositionAt(m,s?"before":"after"):a}function*HT(a,e){for(const r of e)r&&a.getAttributeProperties(r[0]).copyOnEnter&&(yield r)}class yU extends mt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const r=this.editor.model,s=r.document.selection,l=r.schema,d=s.isCollapsed,m=s.getFirstRange(),y=m.start.parent,C=m.end.parent;if(l.isLimit(y)||l.isLimit(C))return d||y!=C||r.deleteContent(s),!1;if(d){const S=HT(e.model.schema,s.getAttributes());return WT(e,m.start),e.setSelectionAttribute(S),!0}{const S=!(m.start.isAtStart&&m.end.isAtEnd),M=y==C;if(r.deleteContent(s,{leaveUnmerged:S}),S){if(M)return WT(e,s.focus),!0;e.setSelection(C,0)}}return!1}}function WT(a,e){a.split(e),a.setSelection(e.parent.nextSibling,0)}const AU={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class GT extends No{constructor(e){super(e);const r=this.document;let s=!1;r.on("keydown",(l,d)=>{s=d.shiftKey}),r.on("beforeinput",(l,d)=>{if(!this.isEnabled)return;let m=d.inputType;v.isSafari&&s&&m=="insertParagraph"&&(m="insertLineBreak");const y=d.domEvent,C=AU[m];if(!C)return;const S=new Kc(r,"enter",d.targetRanges[0]);r.fire(S,new Qc(e,y,{isSoft:C.isSoft})),S.stop.called&&l.stop()})}observe(){}stopObserving(){}}class Sg extends De{static get pluginName(){return"Enter"}init(){const e=this.editor,r=e.editing.view,s=r.document;r.addObserver(GT),e.commands.add("enter",new yU(e)),this.listenTo(s,"enter",(l,d)=>{s.isComposing||d.preventDefault(),d.isSoft||(e.execute("enter"),r.scrollToTheSelection())},{priority:"low"})}}class _U extends mt{execute(){const e=this.editor.model,r=e.document;e.change(s=>{(function(l,d,m){const y=m.isCollapsed,C=m.getFirstRange(),S=C.start.parent,M=C.end.parent,$=S==M;if(y){const U=HT(l.schema,m.getAttributes());KT(l,d,C.end),d.removeSelectionAttribute(m.getAttributeKeys()),d.setSelectionAttribute(U)}else{const U=!(C.start.isAtStart&&C.end.isAtEnd);l.deleteContent(m,{leaveUnmerged:U}),$?KT(l,d,m.focus):U&&d.setSelection(M,0)}})(e,s,r.selection),this.fire("afterExecute",{writer:s})})}refresh(){const e=this.editor.model,r=e.document;this.isEnabled=function(s,l){if(l.rangeCount>1)return!1;const d=l.anchor;if(!d||!s.checkChild(d,"softBreak"))return!1;const m=l.getFirstRange(),y=m.start.parent,C=m.end.parent;return!((Ab(y,s)||Ab(C,s))&&y!==C)}(e.schema,r.selection)}}function KT(a,e,r){const s=e.createElement("softBreak");a.insertContent(s,r),e.setSelection(s,"after")}function Ab(a,e){return!a.is("rootElement")&&(e.isLimit(a)||Ab(a.parent,e))}class CU extends De{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,r=e.model.schema,s=e.conversion,l=e.editing.view,d=l.document;r.register("softBreak",{allowWhere:"$text",isInline:!0}),s.for("upcast").elementToElement({model:"softBreak",view:"br"}),s.for("downcast").elementToElement({model:"softBreak",view:(m,{writer:y})=>y.createEmptyElement("br")}),l.addObserver(GT),e.commands.add("shiftEnter",new _U(e)),this.listenTo(d,"enter",(m,y)=>{d.isComposing||y.preventDefault(),y.isSoft&&(e.execute("shiftEnter"),l.scrollToTheSelection())},{priority:"low"})}}class EU extends ee(){constructor(){super(...arguments),this._stack=[]}add(e,r){const s=this._stack,l=s[0];this._insertDescriptor(e);const d=s[0];l===d||_b(l,d)||this.fire("change:top",{oldDescriptor:l,newDescriptor:d,writer:r})}remove(e,r){const s=this._stack,l=s[0];this._removeDescriptor(e);const d=s[0];l===d||_b(l,d)||this.fire("change:top",{oldDescriptor:l,newDescriptor:d,writer:r})}_insertDescriptor(e){const r=this._stack,s=r.findIndex(d=>d.id===e.id);if(_b(e,r[s]))return;s>-1&&r.splice(s,1);let l=0;for(;r[l]&&SU(r[l],e);)l++;r.splice(l,0,e)}_removeDescriptor(e){const r=this._stack,s=r.findIndex(l=>l.id===e);s>-1&&r.splice(s,1)}}function _b(a,e){return a&&e&&a.priority==e.priority&&xg(a.classes)==xg(e.classes)}function SU(a,e){return a.priority>e.priority||!(a.priority<e.priority)&&xg(a.classes)>xg(e.classes)}function xg(a){return Array.isArray(a)?a.sort().join(","):a}const xU='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',TU="ck-widget",qT="ck-widget_selected";function pn(a){return!!a.is("element")&&!!a.getCustomProperty("widget")}function Cb(a,e,r={}){if(!a.is("containerElement"))throw new N("widget-to-widget-wrong-element-type",null,{element:a});return e.setAttribute("contenteditable","false",a),e.addClass(TU,a),e.setCustomProperty("widget",!0,a),a.getFillerOffset=MU,e.setCustomProperty("widgetLabel",[],a),r.label&&function(s,l){s.getCustomProperty("widgetLabel").push(l)}(a,r.label),r.hasSelectionHandle&&function(s,l){const d=l.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(m){const y=this.toDomElement(m),C=new th;return C.set("content",xU),C.render(),y.appendChild(C.element),y});l.insert(l.createPositionAt(s,0),d),l.addClass(["ck-widget_with-selection-handle"],s)}(a,e),QT(a,e),a}function DU(a,e,r){if(e.classes&&r.addClass(Zn(e.classes),a),e.attributes)for(const s in e.attributes)r.setAttribute(s,e.attributes[s],a)}function IU(a,e,r){if(e.classes&&r.removeClass(Zn(e.classes),a),e.attributes)for(const s in e.attributes)r.removeAttribute(s,a)}function QT(a,e,r=DU,s=IU){const l=new EU;l.on("change:top",(d,m)=>{m.oldDescriptor&&s(a,m.oldDescriptor,m.writer),m.newDescriptor&&r(a,m.newDescriptor,m.writer)}),e.setCustomProperty("addHighlight",(d,m,y)=>l.add(m,y),a),e.setCustomProperty("removeHighlight",(d,m,y)=>l.remove(m,y),a)}function YT(a,e,r={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],a),e.setAttribute("role","textbox",a),r.label&&e.setAttribute("aria-label",r.label,a),e.setAttribute("contenteditable",a.isReadOnly?"false":"true",a),a.on("change:isReadOnly",(s,l,d)=>{e.setAttribute("contenteditable",d?"false":"true",a)}),a.on("change:isFocused",(s,l,d)=>{d?e.addClass("ck-editor__nested-editable_focused",a):e.removeClass("ck-editor__nested-editable_focused",a)}),QT(a,e),a}function ZT(a,e){const r=a.getSelectedElement();if(r){const s=da(a);if(s)return e.createRange(e.createPositionAt(r,s))}return Ux(a,e)}function MU(){return null}const gs="widget-type-around";function Nl(a,e,r){return!!a&&pn(a)&&!r.isInline(e)}function da(a){return a.getAttribute(gs)}var JT=c(4921),LU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(JT.Z,LU),JT.Z.locals;const XT=["before","after"],RU=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,eD="ck-widget__type-around_disabled";class NU extends De{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Sg,ps]}init(){const e=this.editor,r=e.editing.view;this.on("change:isEnabled",(s,l,d)=>{r.change(m=>{for(const y of r.document.roots)d?m.removeClass(eD,y):m.addClass(eD,y)}),d||e.model.change(m=>{m.removeSelectionAttribute(gs)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,r){const s=this.editor,l=s.editing.view,d=s.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);s.execute("insertParagraph",{position:s.model.createPositionAt(e,r),attributes:d}),l.focus(),l.scrollToTheSelection()}_listenToIfEnabled(e,r,s,l){this.listenTo(e,r,(...d)=>{this.isEnabled&&s(...d)},l)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,r=da(e);if(!r)return!1;const s=e.getSelectedElement();return this._insertParagraph(s,r),!0}_enableTypeAroundUIInjection(){const e=this.editor,r=e.model.schema,s=e.locale.t,l={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(d,m,y)=>{const C=y.mapper.toViewElement(m.item);C&&Nl(C,m.item,r)&&(function(S,M,$){const U=S.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(W){const K=this.toDomElement(W);return function(q,X){for(const ne of XT){const de=new Gr({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${ne}`],title:X[ne],"aria-hidden":"true"},children:[q.ownerDocument.importNode(RU,!0)]});q.appendChild(de.render())}}(K,M),function(q){const X=new Gr({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});q.appendChild(X.render())}(K),K});S.insert(S.createPositionAt($,"end"),U)}(y.writer,l,C),C.getCustomProperty("widgetLabel").push(()=>this.isEnabled?s("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,r=e.model,s=r.document.selection,l=r.schema,d=e.editing.view;function m(y){return`ck-widget_type-around_show-fake-caret_${y}`}this._listenToIfEnabled(d.document,"arrowKey",(y,C)=>{this._handleArrowKeyPress(y,C)},{context:[pn,"$text"],priority:"high"}),this._listenToIfEnabled(s,"change:range",(y,C)=>{C.directChange&&e.model.change(S=>{S.removeSelectionAttribute(gs)})}),this._listenToIfEnabled(r.document,"change:data",()=>{const y=s.getSelectedElement();y&&Nl(e.editing.mapper.toViewElement(y),y,l)||e.model.change(C=>{C.removeSelectionAttribute(gs)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(y,C,S)=>{const M=S.writer;if(this._currentFakeCaretModelElement){const K=S.mapper.toViewElement(this._currentFakeCaretModelElement);K&&(M.removeClass(XT.map(m),K),this._currentFakeCaretModelElement=null)}const $=C.selection.getSelectedElement();if(!$)return;const U=S.mapper.toViewElement($);if(!Nl(U,$,l))return;const W=da(C.selection);W&&(M.addClass(m(W),U),this._currentFakeCaretModelElement=$)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(y,C,S)=>{S||e.model.change(M=>{M.removeSelectionAttribute(gs)})})}_handleArrowKeyPress(e,r){const s=this.editor,l=s.model,d=l.document.selection,m=l.schema,y=s.editing.view,C=function($,U){const W=wk($,U);return W==="down"||W==="right"}(r.keyCode,s.locale.contentLanguageDirection),S=y.document.selection.getSelectedElement();let M;Nl(S,s.editing.mapper.toModelElement(S),m)?M=this._handleArrowKeyPressOnSelectedWidget(C):d.isCollapsed?M=this._handleArrowKeyPressWhenSelectionNextToAWidget(C):r.shiftKey||(M=this._handleArrowKeyPressWhenNonCollapsedSelection(C)),M&&(r.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const r=this.editor.model,s=da(r.document.selection);return r.change(l=>s?s!==(e?"after":"before")?(l.removeSelectionAttribute(gs),!0):!1:(l.setSelectionAttribute(gs,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const r=this.editor,s=r.model,l=s.schema,d=r.plugins.get("Widget"),m=d._getObjectElementNextToSelection(e);return!!Nl(r.editing.mapper.toViewElement(m),m,l)&&(s.change(y=>{d._setSelectionOverElement(m),y.setSelectionAttribute(gs,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const r=this.editor,s=r.model,l=s.schema,d=r.editing.mapper,m=s.document.selection,y=e?m.getLastPosition().nodeBefore:m.getFirstPosition().nodeAfter;return!!Nl(d.toViewElement(y),y,l)&&(s.change(C=>{C.setSelection(y,"on"),C.setSelectionAttribute(gs,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,r=e.editing.view;this._listenToIfEnabled(r.document,"mousedown",(s,l)=>{const d=l.domTarget.closest(".ck-widget__type-around__button");if(!d)return;const m=function(S){return S.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(d),y=function(S,M){const $=S.closest(".ck-widget");return M.mapDomToView($)}(d,r.domConverter),C=e.editing.mapper.toModelElement(y);this._insertParagraph(C,m),l.preventDefault(),s.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,r=e.model.document.selection,s=e.editing.view;this._listenToIfEnabled(s.document,"enter",(l,d)=>{if(l.eventPhase!="atTarget")return;const m=r.getSelectedElement(),y=e.editing.mapper.toViewElement(m),C=e.model.schema;let S;this._insertParagraphAccordingToFakeCaretPosition()?S=!0:Nl(y,m,C)&&(this._insertParagraph(m,d.isSoft?"before":"after"),S=!0),S&&(d.preventDefault(),l.stop())},{context:pn})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(r,s)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(s.selection=e.selection)},{priority:"high"}),v.isAndroid?this._listenToIfEnabled(e,"keydown",(r,s)=>{s.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,r=e.editing.view,s=e.model,l=s.schema;this._listenToIfEnabled(r.document,"delete",(d,m)=>{if(d.eventPhase!="atTarget")return;const y=da(s.document.selection);if(!y)return;const C=m.direction,S=s.document.selection.getSelectedElement(),M=C=="forward";if(y==="before"===M)e.execute("delete",{selection:s.createSelection(S,"on")});else{const $=l.getNearestSelectionRange(s.createPositionAt(S,y),C);if($)if($.isCollapsed){const U=s.createSelection($.start);if(s.modifySelection(U,{direction:C}),U.focus.isEqual($.start)){const W=function(K,q){let X=q;for(const ne of q.getAncestors({parentFirst:!0})){if(ne.childCount>1||K.isLimit(ne))break;X=ne}return X}(l,$.start.parent);s.deleteContent(s.createSelection(W,"on"),{doNotAutoparagraph:!0})}else s.change(W=>{W.setSelection($),e.execute(M?"deleteForward":"delete")})}else s.change(U=>{U.setSelection($),e.execute(M?"deleteForward":"delete")})}m.preventDefault(),d.stop()},{context:pn})}_enableInsertContentIntegration(){const e=this.editor,r=this.editor.model,s=r.document.selection;this._listenToIfEnabled(e.model,"insertContent",(l,[d,m])=>{if(m&&!m.is("documentSelection"))return;const y=da(s);return y?(l.stop(),r.change(C=>{const S=s.getSelectedElement(),M=r.createPositionAt(S,y),$=C.createSelection(M),U=r.insertContent(d,$);return C.setSelection($),U})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(s,l)=>{const[,d,m={}]=l;if(d&&!d.is("documentSelection"))return;const y=da(r);y&&(m.findOptimalPosition=y,l[3]=m)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(s,[l])=>{l&&!l.is("documentSelection")||da(r)&&s.stop()},{priority:"high"})}}function OU(a){const e=a.model;return(r,s)=>{const l=s.keyCode==St.arrowup,d=s.keyCode==St.arrowdown,m=s.shiftKey,y=e.document.selection;if(!l&&!d)return;const C=d;if(m&&function(M,$){return!M.isCollapsed&&M.isBackward==$}(y,C))return;const S=function(M,$,U){const W=M.model;if(U){const K=$.isCollapsed?$.focus:$.getLastPosition(),q=tD(W,K,"forward");if(!q)return null;const X=W.createRange(K,q),ne=nD(W.schema,X,"backward");return ne?W.createRange(K,ne):null}{const K=$.isCollapsed?$.focus:$.getFirstPosition(),q=tD(W,K,"backward");if(!q)return null;const X=W.createRange(q,K),ne=nD(W.schema,X,"forward");return ne?W.createRange(ne,K):null}}(a,y,C);if(S){if(S.isCollapsed&&(y.isCollapsed||m))return;(S.isCollapsed||function(M,$,U){const W=M.model,K=M.view.domConverter;if(U){const be=W.createSelection($.start);W.modifySelection(be),be.focus.isAtEnd||$.start.isEqual(be.focus)||($=W.createRange(be.focus,$.end))}const q=M.mapper.toViewRange($),X=K.viewRangeToDom(q),ne=yn.getDomRangeRects(X);let de;for(const be of ne)if(de!==void 0){if(Math.round(be.top)>=de)return!1;de=Math.max(de,Math.round(be.bottom))}else de=Math.round(be.bottom);return!0}(a,S,C))&&(e.change(M=>{const $=C?S.end:S.start;if(m){const U=e.createSelection(y.anchor);U.setFocus($),M.setSelection(U)}else M.setSelection($)}),r.stop(),s.preventDefault(),s.stopPropagation())}}}function tD(a,e,r){const s=a.schema,l=a.createRangeIn(e.root),d=r=="forward"?"elementStart":"elementEnd";for(const{previousPosition:m,item:y,type:C}of l.getWalker({startPosition:e,direction:r})){if(s.isLimit(y)&&!s.isInline(y))return m;if(C==d&&s.isBlock(y))return null}return null}function nD(a,e,r){const s=r=="backward"?e.end:e.start;if(a.checkChild(s,"$text"))return s;for(const{nextPosition:l}of e.getWalker({direction:r}))if(a.checkChild(l,"$text"))return l;return null}var iD=c(3488),PU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(iD.Z,PU),iD.Z.locals;class kh extends De{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[NU,ps]}init(){const e=this.editor,r=e.editing.view,s=r.document;this.editor.editing.downcastDispatcher.on("selection",(l,d,m)=>{const y=m.writer,C=d.selection;if(C.isCollapsed)return;const S=C.getSelectedElement();if(!S)return;const M=e.editing.mapper.toViewElement(S);var $;pn(M)&&m.consumable.consume(C,"selection")&&y.setSelection(y.createRangeOn(M),{fake:!0,label:($=M,$.getCustomProperty("widgetLabel").reduce((U,W)=>typeof W=="function"?U?U+". "+W():W():U?U+". "+W:W,""))})}),this.editor.editing.downcastDispatcher.on("selection",(l,d,m)=>{this._clearPreviouslySelectedWidgets(m.writer);const y=m.writer,C=y.document.selection;let S=null;for(const M of C.getRanges())for(const $ of M){const U=$.item;pn(U)&&!$U(U,S)&&(y.addClass(qT,U),this._previouslySelected.add(U),S=U)}},{priority:"low"}),r.addObserver(lb),this.listenTo(s,"mousedown",(...l)=>this._onMousedown(...l)),this.listenTo(s,"arrowKey",(...l)=>{this._handleSelectionChangeOnArrowKeyPress(...l)},{context:[pn,"$text"]}),this.listenTo(s,"arrowKey",(...l)=>{this._preventDefaultOnArrowKeyPress(...l)},{context:"$root"}),this.listenTo(s,"arrowKey",OU(this.editor.editing),{context:"$text"}),this.listenTo(s,"delete",(l,d)=>{this._handleDelete(d.direction=="forward")&&(d.preventDefault(),l.stop())},{context:"$root"})}_onMousedown(e,r){const s=this.editor,l=s.editing.view,d=l.document;let m=r.target;if(function(C){let S=C;for(;S;){if(S.is("editableElement")&&!S.is("rootElement"))return!0;if(pn(S))return!1;S=S.parent}return!1}(m)){if((v.isSafari||v.isGecko)&&r.domEvent.detail>=3){const C=s.editing.mapper,S=m.is("attributeElement")?m.findAncestor($=>!$.is("attributeElement")):m,M=C.toModelElement(S);r.preventDefault(),this.editor.model.change($=>{$.setSelection(M,"in")})}return}if(!pn(m)&&(m=m.findAncestor(pn),!m))return;v.isAndroid&&r.preventDefault(),d.isFocused||l.focus();const y=s.editing.mapper.toModelElement(m);this._setSelectionOverElement(y)}_handleSelectionChangeOnArrowKeyPress(e,r){const s=r.keyCode,l=this.editor.model,d=l.schema,m=l.document.selection,y=m.getSelectedElement(),C=wk(s,this.editor.locale.contentLanguageDirection),S=C=="down"||C=="right",M=C=="up"||C=="down";if(y&&d.isObject(y)){const U=S?m.getLastPosition():m.getFirstPosition(),W=d.getNearestSelectionRange(U,S?"forward":"backward");return void(W&&(l.change(K=>{K.setSelection(W)}),r.preventDefault(),e.stop()))}if(!m.isCollapsed&&!r.shiftKey){const U=m.getFirstPosition(),W=m.getLastPosition(),K=U.nodeAfter,q=W.nodeBefore;return void((K&&d.isObject(K)||q&&d.isObject(q))&&(l.change(X=>{X.setSelection(S?W:U)}),r.preventDefault(),e.stop()))}if(!m.isCollapsed)return;const $=this._getObjectElementNextToSelection(S);if($&&d.isObject($)){if(d.isInline($)&&M)return;this._setSelectionOverElement($),r.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,r){const s=this.editor.model,l=s.schema,d=s.document.selection.getSelectedElement();d&&l.isObject(d)&&(r.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const r=this.editor.model.document.selection;if(!r.isCollapsed)return;const s=this._getObjectElementNextToSelection(e);return s?(this.editor.model.change(l=>{let d=r.anchor.parent;for(;d.isEmpty;){const m=d;d=m.parent,l.remove(m)}this._setSelectionOverElement(s)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(r=>{r.setSelection(r.createRangeOn(e))})}_getObjectElementNextToSelection(e){const r=this.editor.model,s=r.schema,l=r.document.selection,d=r.createSelection(l);if(r.modifySelection(d,{direction:e?"forward":"backward"}),d.isEqual(l))return null;const m=e?d.focus.nodeBefore:d.focus.nodeAfter;return m&&s.isObject(m)?m:null}_clearPreviouslySelectedWidgets(e){for(const r of this._previouslySelected)e.removeClass(qT,r);this._previouslySelected.clear()}}function $U(a,e){return!!e&&Array.from(a.getAncestors()).includes(e)}class Tg extends De{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[yg]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const r=e.plugins.get("BalloonToolbar");this.listenTo(r,"show",s=>{(function(l){const d=l.getSelectedElement();return!(!d||!pn(d))})(e.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:r,items:s,getRelatedElement:l,balloonClassName:d="ck-toolbar-container"}){if(!s.length)return void P("widget-toolbar-no-items",{toolbarId:e});const m=this.editor,y=m.t,C=new ub(m.locale);if(C.ariaLabel=r||y("Widget toolbar"),this._toolbarDefinitions.has(e))throw new N("widget-toolbar-duplicated",this,{toolbarId:e});const S={view:C,getRelatedElement:l,balloonClassName:d,itemsConfig:s,initialized:!1};m.ui.addToolbar(C,{isContextual:!0,beforeFocus:()=>{const M=l(m.editing.view.document.selection);M&&this._showToolbar(S,M)},afterBlur:()=>{this._hideToolbar(S)}}),this._toolbarDefinitions.set(e,S)}_updateToolbarsVisibility(){let e=0,r=null,s=null;for(const l of this._toolbarDefinitions.values()){const d=l.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&d)if(this.editor.ui.focusTracker.isFocused){const m=d.getAncestors().length;m>e&&(e=m,r=d,s=l)}else this._isToolbarVisible(l)&&this._hideToolbar(l);else this._isToolbarInBalloon(l)&&this._hideToolbar(l)}s&&this._showToolbar(s,r)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,r){this._isToolbarVisible(e)?rD(this.editor,r):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:oD(this.editor,r),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const s of this._toolbarDefinitions.values())if(this._isToolbarVisible(s)){const l=s.getRelatedElement(this.editor.editing.view.document.selection);rD(this.editor,l)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function rD(a,e){const r=a.plugins.get("ContextualBalloon"),s=oD(a,e);r.updatePosition(s)}function oD(a,e){const r=a.editing.view,s=fr.defaultPositions;return{target:r.domConverter.mapViewToDom(e),positions:[s.northArrowSouth,s.northArrowSouthWest,s.northArrowSouthEast,s.southArrowNorth,s.southArrowNorthWest,s.southArrowNorthEast,s.viewportStickyNorth]}}var sD=c(8506),BU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(sD.Z,BU),sD.Z.locals;var aD=c(903),FU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(aD.Z,FU),aD.Z.locals;class zU extends De{static get pluginName(){return"DragDrop"}static get requires(){return[$o,kh]}init(){const e=this.editor,r=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=ET(s=>this._updateDropMarker(s),40),this._removeDropMarkerDelayed=uD(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=uD(()=>this._clearDraggableAttributes(),40),r.addObserver(kb),r.addObserver(lb),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(s,l,d)=>{d?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(s,l,d)=>{d||this._finalizeDragging(!1)}),v.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,r=e.model,s=r.document,l=e.editing.view,d=l.document;this.listenTo(d,"dragstart",(m,y)=>{const C=s.selection;if(y.target&&y.target.is("editableElement"))return void y.preventDefault();const S=y.target?dD(y.target):null;if(S){const U=e.editing.mapper.toModelElement(S);this._draggedRange=Qr.fromRange(r.createRangeOn(U)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!d.selection.isCollapsed){const U=d.selection.getSelectedElement();U&&pn(U)||(this._draggedRange=Qr.fromRange(C.getFirstRange()))}if(!this._draggedRange)return void y.preventDefault();this._draggingUid=B(),y.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",y.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const M=r.createSelection(this._draggedRange.toRange()),$=e.data.toView(r.getSelectedContent(M));d.fire("clipboardOutput",{dataTransfer:y.dataTransfer,content:$,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(d,"dragend",(m,y)=>{this._finalizeDragging(!y.dataTransfer.isCanceled&&y.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(d,"dragenter",()=>{this.isEnabled&&l.focus()}),this.listenTo(d,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(d,"dragging",(m,y)=>{if(!this.isEnabled)return void(y.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const C=lD(e,y.targetRanges,y.target);this._draggedRange||(y.dataTransfer.dropEffect="copy"),v.isGecko||(y.dataTransfer.effectAllowed=="copy"?y.dataTransfer.dropEffect="copy":["all","copyMove"].includes(y.dataTransfer.effectAllowed)&&(y.dataTransfer.dropEffect="move")),C&&this._updateDropMarkerThrottled(C)},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,r=e.editing.view.document;this.listenTo(r,"clipboardInput",(s,l)=>{if(l.method!="drop")return;const d=lD(e,l.targetRanges,l.target);if(this._removeDropMarker(),!d)return this._finalizeDragging(!1),void s.stop();if(this._draggedRange&&this._draggingUid!=l.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),cD(l.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(d,!0))return this._finalizeDragging(!1),void s.stop();l.targetRanges=[e.editing.mapper.toViewRange(d)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get($o);e.on("contentInsertion",(r,s)=>{if(!this.isEnabled||s.method!=="drop")return;const l=s.targetRanges.map(d=>this.editor.editing.mapper.toModelRange(d));this.editor.model.change(d=>d.setSelection(l))},{priority:"high"}),e.on("contentInsertion",(r,s)=>{if(!this.isEnabled||s.method!=="drop")return;const l=cD(s.dataTransfer)=="move",d=!s.resultRange||!s.resultRange.isCollapsed;this._finalizeDragging(d&&l)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,r=e.editing.view,s=r.document;this.listenTo(s,"mousedown",(l,d)=>{if(v.isAndroid||!d)return;this._clearDraggableAttributesDelayed.cancel();let m=dD(d.target);if(v.isBlink&&!e.isReadOnly&&!m&&!s.selection.isCollapsed){const y=s.selection.getSelectedElement();y&&pn(y)||(m=s.selection.editableElement)}m&&(r.change(y=>{y.setAttribute("draggable","true",m)}),this._draggableElement=e.editing.mapper.toModelElement(m))}),this.listenTo(s,"mouseup",()=>{v.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(r=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&r.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(r,{writer:s})=>{if(e.model.schema.checkChild(r.markerRange.start,"$text"))return s.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(l){const d=this.toDomElement(l);return d.append("",l.createElement("span"),""),d})}})}_updateDropMarker(e){const r=this.editor,s=r.model.markers;r.model.change(l=>{s.has("drop-target")?s.get("drop-target").getRange().isEqual(e)||l.updateMarker("drop-target",{range:e}):l.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(r=>{r.removeMarker("drop-target")})}_finalizeDragging(e){const r=this.editor,s=r.model;this._removeDropMarker(),this._clearDraggableAttributes(),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&s.deleteContent(s.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function lD(a,e,r){const s=a.model,l=a.editing.mapper;let d=null;const m=e?e[0].start:null;if(r.is("uiElement")&&(r=r.parent),d=function(S,M){const $=S.model,U=S.editing.mapper;if(pn(M))return $.createRangeOn(U.toModelElement(M));if(!M.is("editableElement")){const W=M.findAncestor(K=>pn(K)||K.is("editableElement"));if(pn(W))return $.createRangeOn(U.toModelElement(W))}return null}(a,r),d)return d;const y=function(S,M){const $=S.editing.mapper,U=S.editing.view,W=$.toModelElement(M);if(W)return W;const K=U.createPositionBefore(M),q=$.findMappedViewAncestor(K);return $.toModelElement(q)}(a,r),C=m?l.toModelPosition(m):null;return C?(d=function(S,M,$){const U=S.model;if(!U.schema.checkChild($,"$block"))return null;const W=U.createPositionAt($,0),K=M.path.slice(0,W.path.length),q=U.createPositionFromPath(M.root,K),X=q.nodeAfter;return X&&U.schema.isObject(X)?U.createRangeOn(X):null}(a,C,y),d||(d=s.schema.getNearestSelectionRange(C,v.isGecko?"forward":"backward"),d||function(S,M){const $=S.model;let U=M;for(;U;){if($.schema.isObject(U))return $.createRangeOn(U);U=U.parent}return null}(a,C.parent))):function(S,M){const $=S.model,U=$.schema,W=$.createPositionAt(M,0);return U.getNearestSelectionRange(W,"forward")}(a,y)}function cD(a){return v.isGecko?a.dropEffect:["all","copyMove"].includes(a.effectAllowed)?"move":"copy"}function uD(a,e){let r;function s(...l){s.cancel(),r=setTimeout(()=>a(...l),e)}return s.cancel=()=>{clearTimeout(r)},s}function dD(a){if(a.is("editableElement"))return null;if(a.hasClass("ck-widget__selection-handle"))return a.findAncestor(pn);if(pn(a))return a;const e=a.findAncestor(r=>pn(r)||r.is("editableElement"));return pn(e)?e:null}class jU extends De{static get pluginName(){return"PastePlainText"}static get requires(){return[$o]}init(){const e=this.editor,r=e.model,s=e.editing.view,l=s.document,d=r.document.selection;let m=!1;s.addObserver(kb),this.listenTo(l,"keydown",(y,C)=>{m=C.shiftKey}),e.plugins.get($o).on("contentInsertion",(y,C)=>{(m||function(S,M){if(S.childCount>1)return!1;const $=S.getChild(0);return M.isObject($)?!1:Array.from($.getAttributeKeys()).length==0}(C.content,r.schema))&&r.change(S=>{const M=Array.from(d.getAttributes()).filter(([U])=>r.schema.getAttributeProperties(U).isFormatting);d.isCollapsed||r.deleteContent(d,{doNotAutoparagraph:!0}),M.push(...d.getAttributes());const $=S.createRangeIn(C.content);for(const U of $.getItems())U.is("$textProxy")&&S.setAttributes(M,U)})})}}class hD extends De{static get pluginName(){return"Clipboard"}static get requires(){return[$o,zU,jU]}}class VU extends mt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,r=e.document.selection;let s=e.schema.getLimitElement(r);if(r.containsEntireContent(s)||!fD(e.schema,s))do if(s=s.parent,!s)return;while(!fD(e.schema,s));e.change(l=>{l.setSelection(s,"in")})}}function fD(a,e){return a.isLimit(e)&&(a.checkChild(e,"$text")||a.checkChild(e,"paragraph"))}const UU=Zp("Ctrl+A");class HU extends De{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,r=e.editing.view.document;e.commands.add("selectAll",new VU(e)),this.listenTo(r,"keydown",(s,l)=>{Hc(l)===UU&&(e.execute("selectAll"),l.preventDefault())})}}class WU extends De{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",r=>{const s=e.commands.get("selectAll"),l=new tn(r),d=r.t;return l.set({label:d("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),l.bind("isEnabled").to(s,"isEnabled"),this.listenTo(l,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),l})}}class GU extends De{static get requires(){return[HU,WU]}static get pluginName(){return"SelectAll"}}var KU=Object.defineProperty,pD=Object.getOwnPropertySymbols,qU=Object.prototype.hasOwnProperty,QU=Object.prototype.propertyIsEnumerable,gD=(a,e,r)=>e in a?KU(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;class mD extends mt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(e.data,"set",(r,s)=>{s[1]=((d,m)=>{for(var y in m||(m={}))qU.call(m,y)&&gD(d,y,m[y]);if(pD)for(var y of pD(m))QU.call(m,y)&&gD(d,y,m[y]);return d})({},s[1]);const l=s[1];l.batchType||(l.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(r,s)=>{s[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const r=this.editor.model.document.selection,s={ranges:r.hasOwnRange?Array.from(r.getRanges()):[],isBackward:r.isBackward};this._stack.push({batch:e,selection:s}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,r,s){const l=this.editor.model,d=l.document,m=[],y=e.map(S=>S.getTransformedByOperations(s)),C=y.flat();for(const S of y){const M=S.filter($=>$.root!=d.graveyard).filter($=>!ZU($,C));M.length&&(YU(M),m.push(M[0]))}m.length&&l.change(S=>{S.setSelection(m,{backward:r})})}_undo(e,r){const s=this.editor.model,l=s.document;this._createdBatches.add(r);const d=e.operations.slice().filter(m=>m.isDocumentOperation);d.reverse();for(const m of d){const y=m.baseVersion+1,C=Array.from(l.history.getOperations(y)),S=Vj([m.getReversed()],C,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const M of S)r.addOperation(M),s.applyOperation(M),l.history.setOperationAsUndone(m,M)}}}function YU(a){a.sort((e,r)=>e.start.isBefore(r.start)?-1:1);for(let e=1;e<a.length;e++){const r=a[e-1].getJoined(a[e],!0);r&&(e--,a.splice(e,2,r))}}function ZU(a,e){return e.some(r=>r!==a&&r.containsRange(a,!0))}class JU extends mD{execute(e=null){const r=e?this._stack.findIndex(d=>d.batch==e):this._stack.length-1,s=this._stack.splice(r,1)[0],l=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(l,()=>{this._undo(s.batch,l);const d=this.editor.model.document.history.getOperations(s.batch.baseVersion);this._restoreSelection(s.selection.ranges,s.selection.isBackward,d),this.fire("revert",s.batch,l)}),this.refresh()}}class XU extends mD{execute(){const e=this._stack.pop(),r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{const s=e.batch.operations[e.batch.operations.length-1].baseVersion+1,l=this.editor.model.document.history.getOperations(s);this._restoreSelection(e.selection.ranges,e.selection.isBackward,l),this._undo(e.batch,r)}),this.refresh()}}class e9 extends De{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new JU(e),this._redoCommand=new XU(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(r,s)=>{const l=s[0];if(!l.isDocumentOperation)return;const d=l.batch,m=this._redoCommand.createdBatches.has(d),y=this._undoCommand.createdBatches.has(d);this._batchRegistry.has(d)||(this._batchRegistry.add(d),d.isUndoable&&(m?this._undoCommand.addBatch(d):y||(this._undoCommand.addBatch(d),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(r,s,l)=>{this._redoCommand.addBatch(l)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const vD='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',wD='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class t9 extends De{static get pluginName(){return"UndoUI"}init(){const e=this.editor,r=e.locale,s=e.t,l=r.uiLanguageDirection=="ltr"?vD:wD,d=r.uiLanguageDirection=="ltr"?wD:vD;this._addButton("undo",s("Undo"),"CTRL+Z",l),this._addButton("redo",s("Redo"),"CTRL+Y",d)}_addButton(e,r,s,l){const d=this.editor;d.ui.componentFactory.add(e,m=>{const y=d.commands.get(e),C=new tn(m);return C.set({label:r,icon:l,keystroke:s,tooltip:!0}),C.bind("isEnabled").to(y,"isEnabled"),this.listenTo(C,"execute",()=>{d.execute(e),d.editing.view.focus()}),C})}}class kD extends De{static get requires(){return[e9,t9]}static get pluginName(){return"Undo"}}class n9 extends Ye(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=r=>{this.loaded=r.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const r=this._reader;return this.total=e.size,new Promise((s,l)=>{r.onload=()=>{const d=r.result;this._data=d,s(d)},r.onerror=()=>{l("error")},r.onabort=()=>{l("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Zr extends De{constructor(){super(...arguments),this.loaders=new Wr,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[Wx]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,r)=>r?e/r*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return P("filerepository-no-upload-adapter"),null;const r=new bD(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(r),this._loadersMap.set(e,r),e instanceof Promise&&r.file.then(s=>{this._loadersMap.set(s,r)}).catch(()=>{}),r.on("change:uploaded",()=>{let s=0;for(const l of this.loaders)s+=l.uploaded;this.uploaded=s}),r.on("change:uploadTotal",()=>{let s=0;for(const l of this.loaders)l.uploadTotal&&(s+=l.uploadTotal);this.uploadTotal=s}),r}destroyLoader(e){const r=e instanceof bD?e:this.getLoader(e);r._destroy(),this.loaders.remove(r),this._loadersMap.forEach((s,l)=>{s===r&&this._loadersMap.delete(l)})}_updatePendingAction(){const e=this.editor.plugins.get(Wx);if(this.loaders.length){if(!this._pendingAction){const r=this.editor.t,s=l=>`${r("Upload in progress")} ${parseInt(l)}%.`;this._pendingAction=e.add(s(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",s)}}else e.remove(this._pendingAction),this._pendingAction=null}}class bD extends Ye(){constructor(e,r){super(),this.id=B(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=r(this),this._reader=new n9,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(s,l)=>l?s/l*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new N("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new N("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const r={};return r.promise=new Promise((s,l)=>{r.rejecter=l,r.isFulfilled=!1,e.then(d=>{r.isFulfilled=!0,s(d)}).catch(d=>{r.isFulfilled=!0,l(d)})}),r}}class i9 extends bt{constructor(e){super(e),this.buttonView=new tn(e),this._fileInputView=new r9(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class r9 extends bt{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:r.to("acceptedType"),multiple:r.to("allowMultipleFiles")},on:{change:r.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const yD="ckCsrfToken",AD="abcdefghijklmnopqrstuvwxyz0123456789";function o9(){let a=function(s){s=s.toLowerCase();const l=document.cookie.split(";");for(const d of l){const m=d.split("=");if(decodeURIComponent(m[0].trim().toLowerCase())===s)return decodeURIComponent(m[1])}return null}(yD);var e,r;return a&&a.length==40||(a=function(s){let l="";const d=new Uint8Array(s);window.crypto.getRandomValues(d);for(let m=0;m<d.length;m++){const y=AD.charAt(d[m]%AD.length);l+=Math.random()>.5?y.toUpperCase():y}return l}(40),e=yD,r=a,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(r)+";path=/"),a}class s9{constructor(e,r,s){this.loader=e,this.url=r,this.t=s}upload(){return this.loader.file.then(e=>new Promise((r,s)=>{this._initRequest(),this._initListeners(r,s,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,r,s){const l=this.xhr,d=this.loader,m=(0,this.t)("Cannot upload file:")+` ${s.name}.`;l.addEventListener("error",()=>r(m)),l.addEventListener("abort",()=>r()),l.addEventListener("load",()=>{const y=l.response;if(!y||!y.uploaded)return r(y&&y.error&&y.error.message?y.error.message:m);e({default:y.url})}),l.upload&&l.upload.addEventListener("progress",y=>{y.lengthComputable&&(d.uploadTotal=y.total,d.uploaded=y.loaded)})}_sendRequest(e){const r=new FormData;r.append("upload",e),r.append("ckCsrfToken",o9()),this.xhr.send(r)}}function ha(a,e,r,s){let l,d=null;typeof s=="function"?l=s:(d=a.commands.get(s),l=()=>{a.execute(s)}),a.model.document.on("change:data",(m,y)=>{if(d&&!d.isEnabled||!e.isEnabled)return;const C=Nn(a.model.document.selection.getRanges());if(!C.isCollapsed||y.isUndo||!y.isLocal)return;const S=Array.from(a.model.document.differ.getChanges()),M=S[0];if(S.length!=1||M.type!=="insert"||M.name!="$text"||M.length!=1)return;const $=M.position.parent;if($.is("element","codeBlock")||$.is("element","listItem")&&typeof s!="function"&&!["numberedList","bulletedList","todoList"].includes(s)||d&&d.value===!0)return;const U=$.getChild(0),W=a.model.createRangeOn(U);if(!W.containsRange(C)&&!C.end.isEqual(W.end))return;const K=r.exec(U.data.substr(0,C.end.offset));K&&a.model.enqueueChange(q=>{const X=q.createPositionAt($,0),ne=q.createPositionAt($,K[0].length),de=new Qr(X,ne);if(l({match:K})!==!1){q.remove(de);const be=a.model.document.selection.getFirstRange(),Pe=q.createRangeIn($);!$.isEmpty||Pe.isEqual(be)||Pe.containsRange(be,!0)||q.remove($)}de.detach(),a.model.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})})})}function iu(a,e,r,s){let l,d;r instanceof RegExp?l=r:d=r,d=d||(m=>{let y;const C=[],S=[];for(;(y=l.exec(m))!==null&&!(y&&y.length<4);){let{index:M,1:$,2:U,3:W}=y;const K=$+U+W;M+=y[0].length-K.length;const q=[M,M+$.length],X=[M+$.length+U.length,M+$.length+U.length+W.length];C.push(q),C.push(X),S.push([M+$.length,M+$.length+U.length])}return{remove:C,format:S}}),a.model.document.on("change:data",(m,y)=>{if(y.isUndo||!y.isLocal||!e.isEnabled)return;const C=a.model,S=C.document.selection;if(!S.isCollapsed)return;const M=Array.from(C.document.differ.getChanges()),$=M[0];if(M.length!=1||$.type!=="insert"||$.name!="$text"||$.length!=1)return;const U=S.focus,W=U.parent,{text:K,range:q}=function(be,Pe){let Xe=be.start;return{text:Array.from(be.getItems()).reduce((yt,Un)=>!Un.is("$text")&&!Un.is("$textProxy")||Un.getAttribute("code")?(Xe=Pe.createPositionAfter(Un),""):yt+Un.data,""),range:Pe.createRange(Xe,be.end)}}(C.createRange(C.createPositionAt(W,0),U),C),X=d(K),ne=_D(q.start,X.format,C),de=_D(q.start,X.remove,C);ne.length&&de.length&&C.enqueueChange(be=>{if(s(be,ne)!==!1){for(const Pe of de.reverse())be.remove(Pe);C.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})}})})}function _D(a,e,r){return e.filter(s=>s[0]!==void 0&&s[1]!==void 0).map(s=>r.createRange(a.getShiftedBy(s[0]),a.getShiftedBy(s[1])))}function Dg(a,e){return(r,s)=>{if(!a.commands.get(e).isEnabled)return!1;const l=a.model.schema.getValidRanges(s,e);for(const d of l)r.setAttribute(e,!0,d);r.removeSelectionAttribute(e)}}class CD extends mt{constructor(e,r){super(e),this.attributeKey=r}refresh(){const e=this.editor.model,r=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(r.selection,this.attributeKey)}execute(e={}){const r=this.editor.model,s=r.document.selection,l=e.forceValue===void 0?!this.value:e.forceValue;r.change(d=>{if(s.isCollapsed)l?d.setSelectionAttribute(this.attributeKey,!0):d.removeSelectionAttribute(this.attributeKey);else{const m=r.schema.getValidRanges(s.getRanges(),this.attributeKey);for(const y of m)l?d.setAttribute(this.attributeKey,l,y):d.removeAttribute(this.attributeKey,y)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,r=e.schema,s=e.document.selection;if(s.isCollapsed)return s.hasAttribute(this.attributeKey);for(const l of s.getRanges())for(const d of l.getItems())if(r.checkAttribute(d,this.attributeKey))return d.hasAttribute(this.attributeKey);return!1}}const ru="bold";class a9 extends De{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:ru}),e.model.schema.setAttributeProperties(ru,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:ru,view:"strong",upcastAlso:["b",r=>{const s=r.getStyle("font-weight");return s&&(s=="bold"||Number(s)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(ru,new CD(e,ru)),e.keystrokes.set("CTRL+B",ru)}}const Eb="bold";class l9 extends De{static get pluginName(){return"BoldUI"}init(){const e=this.editor,r=e.t;e.ui.componentFactory.add(Eb,s=>{const l=e.commands.get(Eb),d=new tn(s);return d.set({label:r("Bold"),icon:Dn.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{e.execute(Eb),e.editing.view.focus()}),d})}}var ED=c(8603),c9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(ED.Z,c9),ED.Z.locals;const ou="italic";class u9 extends De{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:ou}),e.model.schema.setAttributeProperties(ou,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:ou,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(ou,new CD(e,ou)),e.keystrokes.set("CTRL+I",ou)}}const Sb="italic";class d9 extends De{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,r=e.t;e.ui.componentFactory.add(Sb,s=>{const l=e.commands.get(Sb),d=new tn(s);return d.set({label:r("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{e.execute(Sb),e.editing.view.focus()}),d})}}class h9 extends mt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const r=this.editor.model,s=r.schema,l=r.document.selection,d=Array.from(l.getSelectedBlocks()),m=e.forceValue===void 0?!this.value:e.forceValue;r.change(y=>{if(m){const C=d.filter(S=>Ig(S)||xD(s,S));this._applyQuote(y,C)}else this._removeQuote(y,d.filter(Ig))})}_getValue(){const e=Nn(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Ig(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,r=this.editor.model.schema,s=Nn(e.getSelectedBlocks());return!!s&&xD(r,s)}_removeQuote(e,r){SD(e,r).reverse().forEach(s=>{if(s.start.isAtStart&&s.end.isAtEnd)return void e.unwrap(s.start.parent);if(s.start.isAtStart){const d=e.createPositionBefore(s.start.parent);return void e.move(s,d)}s.end.isAtEnd||e.split(s.end);const l=e.createPositionAfter(s.end.parent);e.move(s,l)})}_applyQuote(e,r){const s=[];SD(e,r).reverse().forEach(l=>{let d=Ig(l.start);d||(d=e.createElement("blockQuote"),e.wrap(l,d)),s.push(d)}),s.reverse().reduce((l,d)=>l.nextSibling==d?(e.merge(e.createPositionAfter(l)),l):d)}}function Ig(a){return a.parent.name=="blockQuote"?a.parent:null}function SD(a,e){let r,s=0;const l=[];for(;s<e.length;){const d=e[s],m=e[s+1];r||(r=a.createPositionBefore(d)),m&&d.nextSibling==m||(l.push(a.createRange(r,a.createPositionAfter(d))),r=null),s++}return l}function xD(a,e){const r=a.checkChild(e.parent,"blockQuote"),s=a.checkChild(["$root","blockQuote"],e);return r&&s}class f9 extends De{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Sg,ps]}init(){const e=this.editor,r=e.model.schema;e.commands.add("blockQuote",new h9(e)),r.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(m=>{const y=e.model.document.differ.getChanges();for(const C of y)if(C.type=="insert"){const S=C.position.nodeAfter;if(!S)continue;if(S.is("element","blockQuote")&&S.isEmpty)return m.remove(S),!0;if(S.is("element","blockQuote")&&!r.checkChild(C.position,S))return m.unwrap(S),!0;if(S.is("element")){const M=m.createRangeIn(S);for(const $ of M.getItems())if($.is("element","blockQuote")&&!r.checkChild(m.createPositionBefore($),$))return m.unwrap($),!0}}else if(C.type=="remove"){const S=C.position.parent;if(S.is("element","blockQuote")&&S.isEmpty)return m.remove(S),!0}return!1});const s=this.editor.editing.view.document,l=e.model.document.selection,d=e.commands.get("blockQuote");this.listenTo(s,"enter",(m,y)=>{!l.isCollapsed||!d.value||l.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),y.preventDefault(),m.stop())},{context:"blockquote"}),this.listenTo(s,"delete",(m,y)=>{if(y.direction!="backward"||!l.isCollapsed||!d.value)return;const C=l.getLastPosition().parent;C.isEmpty&&!C.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),y.preventDefault(),m.stop())},{context:"blockquote"})}}var TD=c(3062),p9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(TD.Z,p9),TD.Z.locals;class g9 extends De{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,r=e.t;e.ui.componentFactory.add("blockQuote",s=>{const l=e.commands.get("blockQuote"),d=new tn(s);return d.set({label:r("Block quote"),icon:Dn.quote,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),d})}}class m9 extends De{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor,r=e.commands.get("ckbox");if(!r)return;const s=e.t;e.ui.componentFactory.add("ckbox",l=>{const d=new tn(l);return d.set({label:s("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),d.bind("isOn","isEnabled").to(r,"value","isEnabled"),d.on("execute",()=>{e.execute("ckbox")}),d})}}const v9=4e3,w9=80,k9=10;function DD({token:a,id:e,origin:r,width:s,extension:l}){const d=ID(a),m=function(C){const S=[C*k9/100,w9],M=Math.floor(Math.max(...S)),$=[Math.min(C,v9)];let U=$[0];for(;U-M>=M;)U-=M,$.unshift(U);return $}(s),y=function(C){return C==="bmp"||C==="tiff"||C==="jpg"?"jpeg":C}(l);return{imageFallbackUrl:MD({environmentId:d,id:e,origin:r,width:s,extension:y}),imageSources:[{srcset:m.map(C=>`${MD({environmentId:d,id:e,origin:r,width:C,extension:"webp"})} ${C}w`).join(","),sizes:`(max-width: ${s}px) 100vw, ${s}px`,type:"image/webp"}]}}function ID(a){const[,e]=a.value.split(".");return JSON.parse(atob(e)).aud}function MD({environmentId:a,id:e,origin:r,width:s,extension:l}){return new URL(`${a}/assets/${e}/images/${s}.${l}`,r).toString()}class b9 extends mt{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),r=this.editor.commands.get("link");return!(!e.isEnabled&&!r.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,assetsOrigin:e.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:r=>this.fire("ckbox:choose",r)}}}_initListeners(){const e=this.editor,r=e.model,s=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=Fr(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(l,d)=>{if(!this.isEnabled)return;const m=e.commands.get("insertImage"),y=e.commands.get("link"),C=e.plugins.get("CKBoxEditing"),S=function({assets:M,origin:$,token:U,isImageAllowed:W,isLinkAllowed:K}){return M.map(q=>function(X){const ne=X.data.metadata;return ne?ne.width&&ne.height:!1}(q)?{id:q.data.id,type:"image",attributes:y9(q,U,$)}:{id:q.data.id,type:"link",attributes:A9(q,U,$)}).filter(q=>q.type==="image"?W:K)}({assets:d,origin:e.config.get("ckbox.assetsOrigin"),token:C.getToken(),isImageAllowed:m.isEnabled,isLinkAllowed:y.isEnabled});S.length!==0&&r.change(M=>{for(const $ of S){const U=$===S[S.length-1];this._insertAsset($,U,M),s&&(setTimeout(()=>this._chosenAssets.delete($),1e3),this._chosenAssets.add($))}})}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,r,s){const l=this.editor.model.document.selection;s.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,s),r||s.setSelection(l.getLastPosition())}_insertImage(e){const r=this.editor,{imageFallbackUrl:s,imageSources:l,imageTextAlternative:d}=e.attributes;r.execute("insertImage",{source:{src:s,sources:l,alt:d}})}_insertLink(e,r){const s=this.editor,l=s.model,d=l.document.selection,{linkName:m,linkHref:y}=e.attributes;if(d.isCollapsed){const C=Do(d.getAttributes()),S=r.createText(m,C),M=l.insertContent(S);r.setSelection(M)}s.execute("link",y)}}function y9(a,e,r){const{imageFallbackUrl:s,imageSources:l}=DD({token:e,origin:r,id:a.data.id,width:a.data.metadata.width,extension:a.data.extension});return{imageFallbackUrl:s,imageSources:l,imageTextAlternative:a.data.metadata.description||""}}function A9(a,e,r){return{linkName:a.data.name,linkHref:_9(a,e,r)}}function _9(a,e,r){const s=ID(e),l=new URL(`${s}/assets/${a.data.id}/file`,r);return l.searchParams.set("download","true"),l.toString()}var Ol=(a,e,r)=>new Promise((s,l)=>{var d=C=>{try{y(r.next(C))}catch(S){l(S)}},m=C=>{try{y(r.throw(C))}catch(S){l(S)}},y=C=>C.done?s(C.value):Promise.resolve(C.value).then(d,m);y((r=r.apply(a,e)).next())});class C9 extends De{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Zr,xb]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return Ol(this,null,function*(){const e=this.editor,r=!!e.config.get("ckbox"),s=!!window.CKBox;if(!r&&!s)return;const l=e.plugins.get(Zr),d=e.plugins.get(xb);l.createUploadAdapter=C=>new E9(C,d.getToken(),e);const m=!e.config.get("ckbox.ignoreDataId"),y=e.plugins.get("ImageUploadEditing");m&&y.on("uploadComplete",(C,{imageElement:S,data:M})=>{e.model.change($=>{$.setAttribute("ckboxImageId",M.ckboxImageId,S)})})})}}class E9{constructor(e,r,s){this.loader=e,this.token=r,this.editor=s,this.controller=new AbortController,this.serviceOrigin=s.config.get("ckbox.serviceOrigin"),this.assetsOrigin=s.config.get("ckbox.assetsOrigin")}getAvailableCategories(e=0){return Ol(this,null,function*(){const r=new URL("categories",this.serviceOrigin);return r.searchParams.set("limit",50 .toString()),r.searchParams.set("offset",e.toString()),this._sendHttpRequest({url:r}).then(s=>Ol(this,null,function*(){if(s.totalCount-(e+50)>0){const l=yield this.getAvailableCategories(e+50);return[...s.items,...l]}return s.items})).catch(()=>{this.controller.signal.throwIfAborted(),F("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(e){return Ol(this,null,function*(){const r=LD(e.name),s=yield this.getAvailableCategories();if(!s)return null;const l=this.editor.config.get("ckbox.defaultUploadCategories");if(l){const m=Object.keys(l).find(y=>l[y].includes(r));if(m){const y=s.find(C=>C.id===m||C.name===m);return y?y.id:null}}const d=s.find(m=>m.extensions.includes(r));return d?d.id:null})}upload(){return Ol(this,null,function*(){const e=this.editor.t,r=e("Cannot determine a category for the uploaded file."),s=yield this.loader.file,l=yield this.getCategoryIdForFile(s);if(!l)return Promise.reject(r);const d=new URL("assets",this.serviceOrigin),m=new FormData;m.append("categoryId",l),m.append("file",s);const y={method:"POST",url:d,data:m,onUploadProgress:C=>{C.lengthComputable&&(this.loader.uploadTotal=C.total,this.loader.uploaded=C.loaded)}};return this._sendHttpRequest(y).then(C=>Ol(this,null,function*(){const S=yield this._getImageWidth(),M=LD(s.name),$=DD({token:this.token,id:C.id,origin:this.assetsOrigin,width:S,extension:M});return{ckboxImageId:C.id,default:$.imageFallbackUrl,sources:$.imageSources}})).catch(()=>{const C=e("Cannot upload file:")+` ${s.name}.`;return Promise.reject(C)})})}abort(){this.controller.abort()}_sendHttpRequest({url:e,method:r="GET",data:s,onUploadProgress:l}){const d=this.controller.signal,m=new XMLHttpRequest;m.open(r,e.toString(),!0),m.setRequestHeader("Authorization",this.token.value),m.setRequestHeader("CKBox-Version","CKEditor 5"),m.responseType="json";const y=()=>{m.abort()};return new Promise((C,S)=>{d.addEventListener("abort",y),m.addEventListener("loadstart",()=>{d.addEventListener("abort",y)}),m.addEventListener("loadend",()=>{d.removeEventListener("abort",y)}),m.addEventListener("error",()=>{S()}),m.addEventListener("abort",()=>{S()}),m.addEventListener("load",()=>Ol(this,null,function*(){const M=m.response;return!M||M.statusCode>=400?S(M&&M.message):C(M)})),l&&m.upload.addEventListener("progress",M=>{l(M)}),m.send(s)})}_getImageWidth(){return new Promise(e=>{const r=new Image;r.onload=()=>{URL.revokeObjectURL(r.src),e(r.width)},r.src=this.loader.data})}}function LD(a){const e=new RegExp("\\.(?<ext>[^.]+)$");return a.match(e).groups.ext}class xb extends De{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",C9]}init(){return e=this,r=null,s=function*(){const l=this.editor,d=!!l.config.get("ckbox"),m=!!window.CKBox;if(!d&&!m)return;this._initConfig();const y=l.plugins.get("CloudServicesCore"),C=l.config.get("ckbox.tokenUrl");if(C===l.config.get("cloudServices.tokenUrl")){const S=l.plugins.get("CloudServices");this._token=S.token}else this._token=yield y.createToken(C).init();l.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),m&&l.commands.add("ckbox",new b9(l))},new Promise((l,d)=>{var m=S=>{try{C(s.next(S))}catch(M){d(M)}},y=S=>{try{C(s.throw(S))}catch(M){d(M)}},C=S=>S.done?l(S.value):Promise.resolve(S.value).then(m,y);C((s=s.apply(e,r)).next())});var e,r,s}getToken(){return this._token}_initConfig(){const e=this.editor;if(e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"default",tokenUrl:e.config.get("cloudServices.tokenUrl")}),!e.config.get("ckbox.tokenUrl"))throw new N("ckbox-plugin-missing-token-url",this);e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||F("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((r,s)=>{if(!r.last.getAttribute("linkHref")&&s==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(r=>{r.on("attribute:ckboxLinkId:imageBlock",(s,l,d)=>{const{writer:m,mapper:y,consumable:C}=d;if(!C.consume(l.item,s.name))return;const S=[...y.toViewElement(l.item).getChildren()].find(M=>M.name==="a");S&&(l.item.hasAttribute("ckboxLinkId")?m.setAttribute("data-ckbox-resource-id",l.item.getAttribute("ckboxLinkId"),S):m.removeAttribute("data-ckbox-resource-id",S))},{priority:"low"}),r.on("attribute:ckboxLinkId",(s,l,d)=>{const{writer:m,mapper:y,consumable:C}=d;if(C.consume(l.item,s.name)){if(l.attributeOldValue){const S=RD(m,l.attributeOldValue);m.unwrap(y.toViewRange(l.range),S)}if(l.attributeNewValue){const S=RD(m,l.attributeNewValue);if(l.item.is("selection")){const M=m.document.selection;m.wrap(M.getFirstRange(),S)}else m.wrap(y.toViewRange(l.range),S)}}},{priority:"low"})}),e.conversion.for("upcast").add(r=>{r.on("element:a",(s,l,d)=>{const{writer:m,consumable:y}=d;if(!l.viewItem.getAttribute("href")||!y.consume(l.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const C=l.viewItem.getAttribute("data-ckbox-resource-id");if(C)if(l.modelRange)for(let S of l.modelRange.getItems())S.is("$textProxy")&&(S=S.textNode),x9(S)&&m.setAttribute("ckboxLinkId",C,S);else{const S=l.modelCursor.nodeBefore||l.modelCursor.parent;m.setAttribute("ckboxLinkId",C,S)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:r=>r.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const e=this.editor,r=e.model,s=r.document.selection;r.document.registerPostFixer(function(l){return d=>{let m=!1;const y=l.model,C=l.commands.get("ckbox");if(!C)return m;for(const S of y.document.differ.getChanges()){if(S.type!=="insert"&&S.type!=="attribute")continue;const M=S.type==="insert"?new ve(S.position,S.position.getShiftedBy(S.length)):S.range,$=S.type==="attribute"&&S.attributeKey==="linkHref"&&S.attributeNewValue===null;for(const U of M.getItems()){if($&&U.hasAttribute("ckboxLinkId")){d.removeAttribute("ckboxLinkId",U),m=!0;continue}const W=S9(U,C._chosenAssets);for(const K of W){const q=K.type==="image"?"ckboxImageId":"ckboxLinkId";K.id!==U.getAttribute(q)&&(d.setAttribute(q,K.id,U),m=!0)}}}return m}}(e)),r.document.registerPostFixer(function(l){return d=>!(l.hasAttribute("linkHref")||!l.hasAttribute("ckboxLinkId"))&&(d.removeSelectionAttribute("ckboxLinkId"),!0)}(s))}}function S9(a,e){const r=a.is("element","imageInline")||a.is("element","imageBlock"),s=a.hasAttribute("linkHref");return[...e].filter(l=>l.type==="image"&&r?l.attributes.imageFallbackUrl===a.getAttribute("src"):l.type==="link"&&s?l.attributes.linkHref===a.getAttribute("linkHref"):void 0)}function RD(a,e){const r=a.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return a.setCustomProperty("link",!0,r),r}function x9(a){return!!a.is("$text")||!(!a.is("element","imageInline")&&!a.is("element","imageBlock"))}class T9 extends De{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,r=e.ui.componentFactory,s=e.t;r.add("ckfinder",l=>{const d=e.commands.get("ckfinder"),m=new tn(l);return m.set({label:s("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),m.bind("isEnabled").to(d),m.on("execute",()=>{e.execute("ckfinder"),e.editing.view.focus()}),m})}}class D9 extends mt{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),r=this.editor.commands.get("link");this.isEnabled=e.isEnabled||r.isEnabled}execute(){const e=this.editor,r=this.editor.config.get("ckfinder.openerMethod")||"modal";if(r!="popup"&&r!="modal")throw new N("ckfinder-unknown-openermethod",e);const s=this.editor.config.get("ckfinder.options")||{};s.chooseFiles=!0;const l=s.onInit;s.language||(s.language=e.locale.uiLanguage),s.onInit=d=>{l&&l(d),d.on("files:choose",m=>{const y=m.data.files.toArray(),C=y.filter($=>!$.isImage()),S=y.filter($=>$.isImage());for(const $ of C)e.execute("link",$.getUrl());const M=[];for(const $ of S){const U=$.getUrl();M.push(U||d.request("file:getProxyUrl",{file:$}))}M.length&&ND(e,M)}),d.on("file:choose:resizedImage",m=>{const y=m.data.resizedUrl;if(y)ND(e,[y]);else{const C=e.plugins.get("Notification"),S=e.locale.t;C.showWarning(S("Could not obtain resized image URL."),{title:S("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[r](s)}}function ND(a,e){if(a.commands.get("insertImage").isEnabled)a.execute("insertImage",{source:e});else{const r=a.plugins.get("Notification"),s=a.locale.t;r.showWarning(s("Could not insert image at the current position."),{title:s("Inserting image failed"),namespace:"ckfinder"})}}class I9 extends De{static get pluginName(){return"CKFinderEditing"}static get requires(){return[vb,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new N("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new D9(e))}}class M9 extends De{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Zr]}init(){const e=this.editor,r=e.plugins.get("CloudServices"),s=r.token,l=r.uploadUrl;if(!s)return;const d=e.plugins.get("CloudServicesCore");this._uploadGateway=d.createUploadGateway(s,l),e.plugins.get(Zr).createUploadAdapter=m=>new L9(this._uploadGateway,m)}}class L9{constructor(e,r){this.uploadGateway=e,this.loader=r}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(r,s)=>{this.loader.uploadTotal=s.total,this.loader.uploaded=s.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class R9 extends mt{refresh(){const e=this.editor.model,r=Nn(e.document.selection.getSelectedBlocks());this.value=!!r&&r.is("element","paragraph"),this.isEnabled=!!r&&OD(r,e.schema)}execute(e={}){const r=this.editor.model,s=r.document;r.change(l=>{const d=(e.selection||s.selection).getSelectedBlocks();for(const m of d)!m.is("element","paragraph")&&OD(m,r.schema)&&l.rename(m,"paragraph")})}}function OD(a,e){return e.checkChild(a.parent,"paragraph")&&!e.isObject(a)}class N9 extends mt{execute(e){const r=this.editor.model,s=e.attributes;let l=e.position;r.change(d=>{const m=d.createElement("paragraph");if(s&&r.schema.setAllowedAttributes(m,s,d),!r.schema.checkChild(l.parent,m)){const y=r.schema.findAllowedParent(l,m);if(!y)return;l=d.split(l,y).position}r.insertContent(m,l),d.setSelection(m,"in")})}}const PD=class extends De{static get pluginName(){return"Paragraph"}init(){const a=this.editor,e=a.model;a.commands.add("paragraph",new R9(a)),a.commands.add("insertParagraph",new N9(a)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),a.conversion.elementToElement({model:"paragraph",view:"p"}),a.conversion.for("upcast").elementToElement({model:(r,{writer:s})=>PD.paragraphLikeElements.has(r.name)?r.isEmpty?null:s.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let Tb=PD;Tb.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class O9 extends mt{constructor(e,r){super(e),this.modelElements=r}refresh(){const e=Nn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(r=>$D(e,r,this.editor.model.schema))}execute(e){const r=this.editor.model,s=r.document,l=e.value;r.change(d=>{const m=Array.from(s.selection.getSelectedBlocks()).filter(y=>$D(y,l,r.schema));for(const y of m)y.is("element",l)||d.rename(y,l)})}}function $D(a,e,r){return r.checkChild(a.parent,e)&&!r.isObject(a)}const BD="paragraph";class P9 extends De{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Tb]}init(){const e=this.editor,r=e.config.get("heading.options"),s=[];for(const l of r)l.model!=="paragraph"&&(e.model.schema.register(l.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(l),s.push(l.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new O9(e,s))}afterInit(){const e=this.editor,r=e.commands.get("enter"),s=e.config.get("heading.options");r&&this.listenTo(r,"afterExecute",(l,d)=>{const m=e.model.document.selection.getFirstPosition().parent;s.some(y=>m.is("element",y.model))&&!m.is("element",BD)&&m.childCount===0&&d.writer.rename(m,BD)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:I.get("low")+1})}}var FD=c(8733),$9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(FD.Z,$9),FD.Z.locals;class B9 extends De{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,r=e.t,s=function(m){const y=m.t,C={Paragraph:y("Paragraph"),"Heading 1":y("Heading 1"),"Heading 2":y("Heading 2"),"Heading 3":y("Heading 3"),"Heading 4":y("Heading 4"),"Heading 5":y("Heading 5"),"Heading 6":y("Heading 6")};return m.config.get("heading.options").map(S=>{const M=C[S.title];return M&&M!=S.title&&(S.title=M),S})}(e),l=r("Choose heading"),d=r("Heading");e.ui.componentFactory.add("heading",m=>{const y={},C=new Wr,S=e.commands.get("heading"),M=e.commands.get("paragraph"),$=[S];for(const W of s){const K={type:"button",model:new vT({label:W.title,class:W.class,withText:!0})};W.model==="paragraph"?(K.model.bind("isOn").to(M,"value"),K.model.set("commandName","paragraph"),$.push(M)):(K.model.bind("isOn").to(S,"value",q=>q===W.model),K.model.set({commandName:"heading",commandValue:W.model})),C.add(K),y[W.model]=W.title}const U=ca(m);return Xx(U,C),U.buttonView.set({isOn:!1,withText:!0,tooltip:d}),U.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),U.bind("isEnabled").toMany($,"isEnabled",(...W)=>W.some(K=>K)),U.buttonView.bind("label").to(S,"value",M,"value",(W,K)=>{const q=W||K&&"paragraph";return typeof q=="boolean"?l:y[q]?y[q]:l}),this.listenTo(U,"execute",W=>{const{commandName:K,commandValue:q}=W.source;e.execute(K,q?{value:q}:void 0),e.editing.view.focus()}),U})}}function zD(a){return a.createContainerElement("figure",{class:"image"},[a.createEmptyElement("img"),a.createSlot("children")])}function jD(a,e){const r=a.plugins.get("ImageUtils"),s=a.plugins.has("ImageInlineEditing")&&a.plugins.has("ImageBlockEditing");return d=>r.isInlineImageView(d)?s&&(d.getStyle("display")=="block"||d.findAncestor(r.isBlockImageView)?"imageBlock":"imageInline")!==e?null:l(d):null;function l(d){const m={name:!0};return d.hasAttribute("src")&&(m.attributes=["src"]),m}}function Db(a,e){const r=Nn(e.getSelectedBlocks());return!r||a.isObject(r)||r.isEmpty&&r.name!="listItem"?"imageBlock":"imageInline"}var F9=Object.defineProperty,VD=Object.getOwnPropertySymbols,z9=Object.prototype.hasOwnProperty,j9=Object.prototype.propertyIsEnumerable,UD=(a,e,r)=>e in a?F9(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,HD=(a,e)=>{for(var r in e||(e={}))z9.call(e,r)&&UD(a,r,e[r]);if(VD)for(var r of VD(e))j9.call(e,r)&&UD(a,r,e[r]);return a};class Jr extends De{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},r=null,s=null){const l=this.editor,d=l.model,m=d.document.selection;s=WD(l,r||m,s),e=HD(HD({},Object.fromEntries(m.getAttributes())),e);for(const y in e)d.schema.checkAttribute(s,y)||delete e[y];return d.change(y=>{const C=y.createElement(s,e);return d.insertObject(C,r,null,{setSelection:"on",findOptimalPosition:r||s=="imageInline"?void 0:"auto"}),C.parent?C:null})}getClosestSelectedImageWidget(e){const r=e.getFirstPosition();if(!r)return null;const s=e.getSelectedElement();if(s&&this.isImageWidget(s))return s;let l=r.parent;for(;l;){if(l.is("element")&&this.isImageWidget(l))return l;l=l.parent}return null}getClosestSelectedImageElement(e){const r=e.getSelectedElement();return this.isImage(r)?r:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const e=this.editor.model.document.selection;return function(r,s){if(WD(r,s,null)=="imageBlock"){const d=function(m,y){const C=ZT(m,y),S=C.start.parent;return S.isEmpty&&!S.is("element","$root")?S.parent:S}(s,r.model);if(r.model.schema.checkChild(d,"imageBlock"))return!0}else if(r.model.schema.checkChild(s.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(r){return[...r.focus.getAncestors()].every(s=>!s.is("element","imageBlock"))}(e)}toImageWidget(e,r,s){return r.setCustomProperty("image",!0,e),Cb(e,r,{label:()=>{const l=this.findViewImgElement(e).getAttribute("alt");return l?`${l} ${s}`:s}})}isImageWidget(e){return!!e.getCustomProperty("image")&&pn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const r=this.editor.editing.view;for(const{item:s}of r.createRangeIn(e))if(this.isInlineImageView(s))return s}}function WD(a,e,r){const s=a.model.schema,l=a.config.get("image.insert.type");return a.plugins.has("ImageBlockEditing")?a.plugins.has("ImageInlineEditing")?r||(l==="inline"?"imageInline":l==="block"?"imageBlock":e.is("selection")?Db(s,e):s.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class V9 extends mt{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const r=this.editor,s=r.plugins.get("ImageUtils"),l=r.model,d=s.getClosestSelectedImageElement(l.document.selection);l.change(m=>{m.setAttribute("alt",e.newValue,d)})}}class U9 extends De{static get requires(){return[Jr]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new V9(this.editor))}}var GD=c(1905),H9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(GD.Z,H9),GD.Z.locals;var KD=c(6764),W9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(KD.Z,W9),KD.Z.locals;class G9 extends bt{constructor(e){super(e);const r=this.locale.t;this.focusTracker=new Sr,this.keystrokes=new To,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(r("Save"),Dn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),Dn.cancel,"ck-button-cancel","cancel"),this._focusables=new sa,this._focusCycler=new Gc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),f({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,r,s,l){const d=new tn(this.locale);return d.set({label:e,icon:r,tooltip:!0}),d.extendTemplate({attributes:{class:s}}),l&&d.delegate("execute").to(this,l),d}_createLabeledInputView(){const e=this.locale.t,r=new gb(this.locale,mb);return r.label=e("Text alternative"),r}}function qD(a){const e=a.editing.view,r=fr.defaultPositions,s=a.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(s.getClosestSelectedImageWidget(e.document.selection)),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}class K9 extends De{static get requires(){return[yg]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,r=e.t;e.ui.componentFactory.add("imageTextAlternative",s=>{const l=e.commands.get("imageTextAlternative"),d=new tn(s);return d.set({label:r("Change image text alternative"),icon:Dn.lowVision,tooltip:!0}),d.bind("isEnabled").to(l,"isEnabled"),d.bind("isOn").to(l,"value",m=>!!m),this.listenTo(d,"execute",()=>{this._showForm()}),d})}_createForm(){const e=this.editor,r=e.editing.view.document,s=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(b(G9))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(l,d)=>{this._hideForm(!0),d()}),this.listenTo(e.ui,"update",()=>{s.getClosestSelectedImageWidget(r.selection)?this._isVisible&&function(l){const d=l.plugins.get("ContextualBalloon");if(l.plugins.get("ImageUtils").getClosestSelectedImageWidget(l.editing.view.document.selection)){const m=qD(l);d.updatePosition(m)}}(e):this._hideForm(!0)}),h({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,r=e.commands.get("imageTextAlternative"),s=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:qD(e)}),s.fieldView.value=s.fieldView.element.value=r.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class QD extends De{static get requires(){return[U9,K9]}static get pluginName(){return"ImageTextAlternative"}}function YD(a,e){const r=(s,l,d)=>{if(!d.consumable.consume(l.item,s.name))return;const m=d.writer,y=d.mapper.toViewElement(l.item),C=a.findViewImgElement(y);if(l.attributeNewValue===null){const S=l.attributeOldValue;S&&S.data&&(m.removeAttribute("srcset",C),m.removeAttribute("sizes",C),S.width&&m.removeAttribute("width",C))}else{const S=l.attributeNewValue;S&&S.data&&(m.setAttribute("srcset",S.data,C),m.setAttribute("sizes","100vw",C),S.width&&m.setAttribute("width",S.width,C))}};return s=>{s.on(`attribute:srcset:${e}`,r)}}function Mg(a,e,r){const s=(l,d,m)=>{if(!m.consumable.consume(d.item,l.name))return;const y=m.writer,C=m.mapper.toViewElement(d.item),S=a.findViewImgElement(C);y.setAttribute(d.attributeKey,d.attributeNewValue||"",S)};return l=>{l.on(`attribute:${r}:${e}`,s)}}class q9 extends No{observe(e){this.listenTo(e,"load",(r,s)=>{const l=s.target;this.checkShouldIgnoreEventFromTarget(l)||l.tagName=="IMG"&&this._fireEvents(s)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var Q9=Object.defineProperty,ZD=Object.getOwnPropertySymbols,Y9=Object.prototype.hasOwnProperty,Z9=Object.prototype.propertyIsEnumerable,JD=(a,e,r)=>e in a?Q9(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,Lg=(a,e)=>{for(var r in e||(e={}))Y9.call(e,r)&&JD(a,r,e[r]);if(ZD)for(var r of ZD(e))Z9.call(e,r)&&JD(a,r,e[r]);return a};class J9 extends mt{constructor(e){super(e);const r=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||r==="block"&&P("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||r==="inline"&&P("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const r=Zn(e.source),s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(s.getAttributes());r.forEach((m,y)=>{const C=s.getSelectedElement();if(typeof m=="string"&&(m={src:m}),y&&C&&l.isImage(C)){const S=this.editor.model.createPositionAfter(C);l.insertImage(Lg(Lg({},m),d),S)}else l.insertImage(Lg(Lg({},m),d))})}}class X9 extends mt{refresh(){const e=this.editor.plugins.get("ImageUtils"),r=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(r),this.value=this.isEnabled?r.getAttribute("src"):null}execute(e){const r=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(s=>{s.setAttribute("src",e.source,r),s.removeAttribute("srcset",r),s.removeAttribute("sizes",r)})}}class Ib extends De{static get requires(){return[Jr]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,r=e.conversion;e.editing.view.addObserver(q9),r.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:d=>{const m={data:d.getAttribute("srcset")};return d.hasAttribute("width")&&(m.width=d.getAttribute("width")),m}}});const s=new J9(e),l=new X9(e);e.commands.add("insertImage",s),e.commands.add("replaceImageSource",l),e.commands.add("imageInsert",s)}}class XD extends mt{constructor(e,r){super(e),this._modelElementName=r}refresh(){const e=this.editor.plugins.get("ImageUtils"),r=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(r):this.isEnabled=e.isBlockImage(r)}execute(){const e=this.editor,r=this.editor.model,s=e.plugins.get("ImageUtils"),l=s.getClosestSelectedImageElement(r.document.selection),d=Object.fromEntries(l.getAttributes());return d.src||d.uploadId?r.change(m=>{const y=Array.from(r.markers).filter(M=>M.getRange().containsItem(l)),C=s.insertImage(d,r.createSelection(l,"on"),this._modelElementName);if(!C)return null;const S=m.createRangeOn(C);for(const M of y){const $=M.getRange(),U=$.root.rootName!="$graveyard"?$.getJoined(S,!0):S;m.updateMarker(M,{range:U})}return{oldElement:l,newElement:C}}):null}}class eI extends De{static get requires(){return[Ib,Jr,$o]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new XD(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,r=e.t,s=e.conversion,l=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:m})=>zD(m)}),s.for("editingDowncast").elementToStructure({model:"imageBlock",view:(d,{writer:m})=>l.toImageWidget(zD(m),m,r("image widget"))}),s.for("downcast").add(Mg(l,"imageBlock","src")).add(Mg(l,"imageBlock","alt")).add(YD(l,"imageBlock")),s.for("upcast").elementToElement({view:jD(e,"imageBlock"),model:(d,{writer:m})=>m.createElement("imageBlock",d.hasAttribute("src")?{src:d.getAttribute("src")}:void 0)}).add(function(d){const m=(y,C,S)=>{if(!S.consumable.test(C.viewItem,{name:!0,classes:"image"}))return;const M=d.findViewImgElement(C.viewItem);if(!M||!S.consumable.test(M,{name:!0}))return;S.consumable.consume(C.viewItem,{name:!0,classes:"image"});const $=Nn(S.convertItem(M,C.modelCursor).modelRange.getItems());$?(S.convertChildren(C.viewItem,$),S.updateConversionResult($,C)):S.consumable.revert(C.viewItem,{name:!0,classes:"image"})};return y=>{y.on("element:figure",m)}}(l))}_setupClipboardIntegration(){const e=this.editor,r=e.model,s=e.editing.view,l=e.plugins.get("ImageUtils"),d=e.plugins.get("ClipboardPipeline");this.listenTo(d,"inputTransformation",(m,y)=>{const C=Array.from(y.content.getChildren());let S;if(!C.every(l.isInlineImageView))return;S=y.targetRanges?e.editing.mapper.toModelRange(y.targetRanges[0]):r.document.selection.getFirstRange();const M=r.createSelection(S);if(Db(r.schema,M)==="imageBlock"){const $=new Xc(s.document),U=C.map(W=>$.createElement("figure",{class:"image"},W));y.content=$.createDocumentFragment(U)}})}}var tI=c(3508),e6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(tI.Z,e6),tI.Z.locals;class t6 extends De{static get requires(){return[eI,kh,QD]}static get pluginName(){return"ImageBlock"}}class n6 extends De{static get requires(){return[Ib,Jr,$o]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,r=e.model.schema;r.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),r.addChildCheck((s,l)=>{if(s.endsWith("caption")&&l.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new XD(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,r=e.t,s=e.conversion,l=e.plugins.get("ImageUtils");s.for("dataDowncast").elementToElement({model:"imageInline",view:(d,{writer:m})=>m.createEmptyElement("img")}),s.for("editingDowncast").elementToStructure({model:"imageInline",view:(d,{writer:m})=>l.toImageWidget(function(y){return y.createContainerElement("span",{class:"image-inline"},y.createEmptyElement("img"))}(m),m,r("image widget"))}),s.for("downcast").add(Mg(l,"imageInline","src")).add(Mg(l,"imageInline","alt")).add(YD(l,"imageInline")),s.for("upcast").elementToElement({view:jD(e,"imageInline"),model:(d,{writer:m})=>m.createElement("imageInline",d.hasAttribute("src")?{src:d.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,r=e.model,s=e.editing.view,l=e.plugins.get("ImageUtils"),d=e.plugins.get("ClipboardPipeline");this.listenTo(d,"inputTransformation",(m,y)=>{const C=Array.from(y.content.getChildren());let S;if(!C.every(l.isBlockImageView))return;S=y.targetRanges?e.editing.mapper.toModelRange(y.targetRanges[0]):r.document.selection.getFirstRange();const M=r.createSelection(S);if(Db(r.schema,M)==="imageInline"){const $=new Xc(s.document),U=C.map(W=>W.childCount===1?(Array.from(W.getAttributes()).forEach(K=>$.setAttribute(...K,l.findViewImgElement(W))),W.getChild(0)):W);y.content=$.createDocumentFragment(U)}})}}class i6 extends De{static get requires(){return[n6,kh,QD]}static get pluginName(){return"ImageInline"}}class nI extends De{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Jr]}getCaptionFromImageModelElement(e){for(const r of e.getChildren())if(r&&r.is("element","caption"))return r;return null}getCaptionFromModelSelection(e){const r=this.editor.plugins.get("ImageUtils"),s=e.getFirstPosition().findAncestor("caption");return s&&r.isBlockImage(s.parent)?s:null}matchImageCaptionViewElement(e){const r=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&r.isBlockImageView(e.parent)?{name:!0}:null}}class r6 extends mt{refresh(){const e=this.editor,r=e.plugins.get("ImageCaptionUtils"),s=e.plugins.get("ImageUtils");if(!e.plugins.has(eI))return this.isEnabled=!1,void(this.value=!1);const l=e.model.document.selection,d=l.getSelectedElement();if(!d){const m=r.getCaptionFromModelSelection(l);return this.isEnabled=!!m,void(this.value=!!m)}this.isEnabled=s.isImage(d),this.isEnabled?this.value=!!r.getCaptionFromImageModelElement(d):this.value=!1}execute(e={}){const{focusCaptionOnShow:r}=e;this.editor.model.change(s=>{this.value?this._hideImageCaption(s):this._showImageCaption(s,r)})}_showImageCaption(e,r){const s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageCaptionEditing"),d=this.editor.plugins.get("ImageUtils");let m=s.getSelectedElement();const y=l._getSavedCaption(m);d.isInlineImage(m)&&(this.editor.execute("imageTypeBlock"),m=s.getSelectedElement());const C=y||e.createElement("caption");e.append(C,m),r&&e.setSelection(C,"in")}_hideImageCaption(e){const r=this.editor,s=r.model.document.selection,l=r.plugins.get("ImageCaptionEditing"),d=r.plugins.get("ImageCaptionUtils");let m,y=s.getSelectedElement();y?m=d.getCaptionFromImageModelElement(y):(m=d.getCaptionFromModelSelection(s),y=m.parent),l._saveCaption(y,m),e.setSelection(y,"on"),e.remove(m)}}class o6 extends De{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[Jr,nI]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,r=e.model.schema;r.isRegistered("caption")?r.extend("caption",{allowIn:"imageBlock"}):r.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new r6(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,r=e.editing.view,s=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils"),d=e.t;e.conversion.for("upcast").elementToElement({view:m=>l.matchImageCaptionViewElement(m),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(m,{writer:y})=>s.isBlockImage(m.parent)?y.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(m,{writer:y})=>{if(!s.isBlockImage(m.parent))return null;const C=y.createEditableElement("figcaption");y.setCustomProperty("imageCaption",!0,C),WE({view:r,element:C,text:d("Enter image caption"),keepOnFocus:!0});const S=m.parent.getAttribute("alt");return YT(C,y,{label:S?d("Caption for image: %0",[S]):d("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,r=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),l=e.commands.get("imageTypeInline"),d=e.commands.get("imageTypeBlock"),m=y=>{if(!y.return)return;const{oldElement:C,newElement:S}=y.return;if(!C)return;if(r.isBlockImage(C)){const $=s.getCaptionFromImageModelElement(C);if($)return void this._saveCaption(S,$)}const M=this._getSavedCaption(C);M&&this._saveCaption(S,M)};l&&this.listenTo(l,"execute",m,{priority:"low"}),d&&this.listenTo(d,"execute",m,{priority:"low"})}_getSavedCaption(e){const r=this._savedCaptionsMap.get(e);return r?Ut.fromJSON(r):null}_saveCaption(e,r){this._savedCaptionsMap.set(e,r.toJSON())}_registerCaptionReconversion(){const e=this.editor,r=e.model,s=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils");r.document.on("change:data",()=>{const d=r.document.differ.getChanges();for(const m of d){if(m.attributeKey!=="alt")continue;const y=m.range.start.nodeAfter;if(s.isBlockImage(y)){const C=l.getCaptionFromImageModelElement(y);if(!C)return;e.editing.reconvertItem(C)}}})}}class s6 extends De{static get requires(){return[nI]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,r=e.editing.view,s=e.plugins.get("ImageCaptionUtils"),l=e.t;e.ui.componentFactory.add("toggleImageCaption",d=>{const m=e.commands.get("toggleImageCaption"),y=new tn(d);return y.set({icon:Dn.caption,tooltip:!0,isToggleable:!0}),y.bind("isOn","isEnabled").to(m,"value","isEnabled"),y.bind("label").to(m,"value",C=>l(C?"Toggle caption off":"Toggle caption on")),this.listenTo(y,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const C=s.getCaptionFromModelSelection(e.model.document.selection);if(C){const S=e.editing.mapper.toViewElement(C);r.scrollToTheSelection(),r.change(M=>{M.addClass("image__caption_highlighted",S)})}e.editing.view.focus()}),y})}}var iI=c(2640),a6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(iI.Z,a6),iI.Z.locals;function rI(a){const e=a.map(r=>r.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function l6(a){return new Promise((e,r)=>{const s=a.getAttribute("src");fetch(s).then(l=>l.blob()).then(l=>{const d=oI(l,s),m=d.replace("image/",""),y=new File([l],`image.${m}`,{type:d});e(y)}).catch(l=>l&&l.name==="TypeError"?function(d){return function(m){return new Promise((y,C)=>{const S=vt.document.createElement("img");S.addEventListener("load",()=>{const M=vt.document.createElement("canvas");M.width=S.width,M.height=S.height,M.getContext("2d").drawImage(S,0,0),M.toBlob($=>$?y($):C())}),S.addEventListener("error",()=>C()),S.src=m})}(d).then(m=>{const y=oI(m,d),C=y.replace("image/","");return new File([m],`image.${C}`,{type:y})})}(s).then(e).catch(r):r(l))})}function oI(a,e){return a.type?a.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class c6 extends De{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,r=e.t,s=l=>{const d=new i9(l),m=e.commands.get("uploadImage"),y=e.config.get("image.upload.types"),C=rI(y);return d.set({acceptedType:y.map(S=>`image/${S}`).join(","),allowMultipleFiles:!0}),d.buttonView.set({label:r("Insert image"),icon:Dn.image,tooltip:!0}),d.buttonView.bind("isEnabled").to(m),d.on("done",(S,M)=>{const $=Array.from(M).filter(U=>C.test(U.type));$.length&&(e.execute("uploadImage",{file:$}),e.editing.view.focus())}),d};e.ui.componentFactory.add("uploadImage",s),e.ui.componentFactory.add("imageUpload",s)}}var sI=c(3689),u6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(sI.Z,u6),sI.Z.locals;var aI=c(4036),d6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(aI.Z,d6),aI.Z.locals;var lI=c(3773),h6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(lI.Z,h6),lI.Z.locals;class f6 extends De{constructor(e){super(e),this.uploadStatusChange=(r,s,l)=>{const d=this.editor,m=s.item,y=m.getAttribute("uploadId");if(!l.consumable.consume(s.item,r.name))return;const C=d.plugins.get("ImageUtils"),S=d.plugins.get(Zr),M=y?s.attributeNewValue:null,$=this.placeholder,U=d.editing.mapper.toViewElement(m),W=l.writer;if(M=="reading")return cI(U,W),void uI(C,$,U,W);if(M=="uploading"){const K=S.loaders.get(y);return cI(U,W),void(K?(dI(U,W),function(q,X,ne,de){const be=function(Pe){const Xe=Pe.createUIElement("div",{class:"ck-progress-bar"});return Pe.setCustomProperty("progressBar",!0,Xe),Xe}(X);X.insert(X.createPositionAt(q,"end"),be),ne.on("change:uploadedPercent",(Pe,Xe,Wt)=>{de.change(yt=>{yt.setStyle("width",Wt+"%",be)})})}(U,W,K,d.editing.view),function(q,X,ne,de){if(de.data){const be=q.findViewImgElement(X);ne.setAttribute("src",de.data,be)}}(C,U,W,K)):uI(C,$,U,W))}M=="complete"&&S.loaders.get(y)&&function(K,q,X){const ne=q.createUIElement("div",{class:"ck-image-upload-complete-icon"});q.insert(q.createPositionAt(K,"end"),ne),setTimeout(()=>{X.change(de=>de.remove(de.createRangeOn(ne)))},3e3)}(U,W,d.editing.view),function(K,q){fI(K,q,"progressBar")}(U,W),dI(U,W),function(K,q){q.removeClass("ck-appear",K)}(U,W)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function cI(a,e){a.hasClass("ck-appear")||e.addClass("ck-appear",a)}function uI(a,e,r,s){r.hasClass("ck-image-upload-placeholder")||s.addClass("ck-image-upload-placeholder",r);const l=a.findViewImgElement(r);l.getAttribute("src")!==e&&s.setAttribute("src",e,l),hI(r,"placeholder")||s.insert(s.createPositionAfter(l),function(d){const m=d.createUIElement("div",{class:"ck-upload-placeholder-loader"});return d.setCustomProperty("placeholder",!0,m),m}(s))}function dI(a,e){a.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",a),fI(a,e,"placeholder")}function hI(a,e){for(const r of a.getChildren())if(r.getCustomProperty(e))return r}function fI(a,e,r){const s=hI(a,r);s&&e.remove(e.createRangeOn(s))}var p6=Object.defineProperty,g6=Object.defineProperties,m6=Object.getOwnPropertyDescriptors,pI=Object.getOwnPropertySymbols,v6=Object.prototype.hasOwnProperty,w6=Object.prototype.propertyIsEnumerable,gI=(a,e,r)=>e in a?p6(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;class k6 extends mt{refresh(){const e=this.editor,r=e.plugins.get("ImageUtils"),s=e.model.document.selection.getSelectedElement();this.isEnabled=r.isImageAllowed()||r.isImage(s)}execute(e){const r=Zn(e.file),s=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),d=Object.fromEntries(s.getAttributes());r.forEach((m,y)=>{const C=s.getSelectedElement();if(y&&C&&l.isImage(C)){const S=this.editor.model.createPositionAfter(C);this._uploadImage(m,d,S)}else this._uploadImage(m,d)})}_uploadImage(e,r,s){const l=this.editor,d=l.plugins.get(Zr).createLoader(e),m=l.plugins.get("ImageUtils");var y,C;d&&m.insertImage((y=((S,M)=>{for(var $ in M||(M={}))v6.call(M,$)&&gI(S,$,M[$]);if(pI)for(var $ of pI(M))w6.call(M,$)&&gI(S,$,M[$]);return S})({},r),C={uploadId:d.id},g6(y,m6(C))),s)}}class b6 extends De{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Zr,vb,$o,Jr]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,r=e.model.document,s=e.conversion,l=e.plugins.get(Zr),d=e.plugins.get("ImageUtils"),m=e.plugins.get("ClipboardPipeline"),y=rI(e.config.get("image.upload.types")),C=new k6(e);e.commands.add("uploadImage",C),e.commands.add("imageUpload",C),s.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(S,M)=>{if($=M.dataTransfer,Array.from($.types).includes("text/html")&&$.getData("text/html")!=="")return;var $;const U=Array.from(M.dataTransfer.files).filter(W=>!!W&&y.test(W.type));U.length&&(S.stop(),e.model.change(W=>{M.targetRanges&&W.setSelection(M.targetRanges.map(K=>e.editing.mapper.toModelRange(K))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:U})})}))}),this.listenTo(m,"inputTransformation",(S,M)=>{const $=Array.from(e.editing.view.createRangeIn(M.content)).map(W=>W.item).filter(W=>function(K,q){return!(!K.isInlineImageView(q)||!q.getAttribute("src")||!q.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!q.getAttribute("src").match(/^blob:/g))}(d,W)&&!W.getAttribute("uploadProcessed")).map(W=>({promise:l6(W),imageElement:W}));if(!$.length)return;const U=new Xc(e.editing.view.document);for(const W of $){U.setAttribute("uploadProcessed",!0,W.imageElement);const K=l.createLoader(W.promise);K&&(U.setAttribute("src","",W.imageElement),U.setAttribute("uploadId",K.id,W.imageElement))}}),e.editing.view.document.on("dragover",(S,M)=>{M.preventDefault()}),r.on("change",()=>{const S=r.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),M=new Set;for(const $ of S)if($.type=="insert"&&$.name!="$text"){const U=$.position.nodeAfter,W=$.position.root.rootName=="$graveyard";for(const K of y6(e,U)){const q=K.getAttribute("uploadId");if(!q)continue;const X=l.loaders.get(q);X&&(W?M.has(q)||X.abort():(M.add(q),this._uploadImageElements.set(q,K),X.status=="idle"&&this._readAndUpload(X)))}}}),this.on("uploadComplete",(S,{imageElement:M,data:$})=>{const U=$.urls?$.urls:$;this.editor.model.change(W=>{W.setAttribute("src",U.default,M),this._parseAndSetSrcsetAttributeOnImage(U,M,W)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const r=this.editor,s=r.model,l=r.locale.t,d=r.plugins.get(Zr),m=r.plugins.get(vb),y=r.plugins.get("ImageUtils"),C=this._uploadImageElements;return s.enqueueChange({isUndoable:!1},M=>{M.setAttribute("uploadStatus","reading",C.get(e.id))}),e.read().then(()=>{const M=e.upload(),$=C.get(e.id);if(v.isSafari){const U=r.editing.mapper.toViewElement($),W=y.findViewImgElement(U);r.editing.view.once("render",()=>{if(!W.parent)return;const K=r.editing.view.domConverter.mapViewToDom(W.parent);if(!K)return;const q=K.style.display;K.style.display="none",K._ckHack=K.offsetHeight,K.style.display=q})}return s.enqueueChange({isUndoable:!1},U=>{U.setAttribute("uploadStatus","uploading",$)}),M}).then(M=>{s.enqueueChange({isUndoable:!1},$=>{const U=C.get(e.id);$.setAttribute("uploadStatus","complete",U),this.fire("uploadComplete",{data:M,imageElement:U})}),S()}).catch(M=>{if(e.status!=="error"&&e.status!=="aborted")throw M;e.status=="error"&&M&&m.showWarning(M,{title:l("Upload failed"),namespace:"upload"}),s.enqueueChange({isUndoable:!1},$=>{$.remove(C.get(e.id))}),S()});function S(){s.enqueueChange({isUndoable:!1},M=>{const $=C.get(e.id);M.removeAttribute("uploadId",$),M.removeAttribute("uploadStatus",$),C.delete(e.id)}),d.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,r,s){let l=0;const d=Object.keys(e).filter(m=>{const y=parseInt(m,10);if(!isNaN(y))return l=Math.max(l,y),!0}).map(m=>`${e[m]} ${m}w`).join(", ");d!=""&&s.setAttribute("srcset",{data:d,width:l},r)}}function y6(a,e){const r=a.plugins.get("ImageUtils");return Array.from(a.model.createRangeOn(e)).filter(s=>r.isImage(s.item)).map(s=>s.item)}var mI=c(1568),A6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(mI.Z,A6),mI.Z.locals;var vI=c(3535),_6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(vI.Z,_6),vI.Z.locals;var wI=c(6270),C6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(wI.Z,C6),wI.Z.locals;class E6 extends mt{constructor(e,r){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(r.map(s=>{if(s.isDefault)for(const l of s.modelElements)this._defaultStyles[l]=s.name;return[s.name,s]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const r=this.editor,s=r.model,l=r.plugins.get("ImageUtils");s.change(d=>{const m=e.value;let y=l.getClosestSelectedImageElement(s.document.selection);m&&this.shouldConvertImageType(m,y)&&(this.editor.execute(l.isBlockImage(y)?"imageTypeInline":"imageTypeBlock"),y=l.getClosestSelectedImageElement(s.document.selection)),!m||this._styles.get(m).isDefault?d.removeAttribute("imageStyle",y):d.setAttribute("imageStyle",m,y)})}shouldConvertImageType(e,r){return!this._styles.get(e).modelElements.includes(r.name)}}var S6=Object.defineProperty,kI=Object.getOwnPropertySymbols,x6=Object.prototype.hasOwnProperty,T6=Object.prototype.propertyIsEnumerable,bI=(a,e,r)=>e in a?S6(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,yI=(a,e)=>{for(var r in e||(e={}))x6.call(e,r)&&bI(a,r,e[r]);if(kI)for(var r of kI(e))T6.call(e,r)&&bI(a,r,e[r]);return a};const{objectFullWidth:D6,objectInline:AI,objectLeft:_I,objectRight:Mb,objectCenter:Lb,objectBlockLeft:CI,objectBlockRight:EI}=Dn,Rg={get inline(){return{name:"inline",title:"In line",icon:AI,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:_I,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:CI,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Lb,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Mb,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:EI,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Lb,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Mb,modelElements:["imageBlock"],className:"image-style-side"}}},SI={full:D6,left:CI,right:EI,center:Lb,inlineLeft:_I,inlineRight:Mb,inline:AI},xI=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function TI(a){P("image-style-configuration-definition-invalid",a)}const Rb={normalizeStyles:function(a){return(a.configuredStyles.options||[]).map(e=>function(r){return r=typeof r=="string"?Rg[r]?yI({},Rg[r]):{name:r}:function(s,l){const d=yI({},l);for(const m in s)Object.prototype.hasOwnProperty.call(l,m)||(d[m]=s[m]);return d}(Rg[r.name],r),typeof r.icon=="string"&&(r.icon=SI[r.icon]||r.icon),r}(e)).filter(e=>function(r,{isBlockPluginLoaded:s,isInlinePluginLoaded:l}){const{modelElements:d,name:m}=r;if(!(d&&d.length&&m))return TI({style:r}),!1;{const y=[s?"imageBlock":null,l?"imageInline":null];if(!d.some(C=>y.includes(C)))return P("image-style-missing-dependency",{style:r,missingPlugins:d.map(C=>C==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,a))},getDefaultStylesConfiguration:function(a,e){return a&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:a?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(a){return a.has("ImageBlockEditing")&&a.has("ImageInlineEditing")?[...xI]:[]},warnInvalidStyle:TI,DEFAULT_OPTIONS:Rg,DEFAULT_ICONS:SI,DEFAULT_DROPDOWN_DEFINITIONS:xI};function DI(a,e){for(const r of e)if(r.name===a)return r}class II extends De{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Jr]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:r}=Rb,s=this.editor,l=s.plugins.has("ImageBlockEditing"),d=s.plugins.has("ImageInlineEditing");s.config.define("image.styles",r(l,d)),this.normalizedStyles=e({configuredStyles:s.config.get("image.styles"),isBlockPluginLoaded:l,isInlinePluginLoaded:d}),this._setupConversion(l,d),this._setupPostFixer(),s.commands.add("imageStyle",new E6(s,this.normalizedStyles))}_setupConversion(e,r){const s=this.editor,l=s.model.schema,d=(m=this.normalizedStyles,(C,S,M)=>{if(!M.consumable.consume(S.item,C.name))return;const $=DI(S.attributeNewValue,m),U=DI(S.attributeOldValue,m),W=M.mapper.toViewElement(S.item),K=M.writer;U&&K.removeClass(U.className,W),$&&K.addClass($.className,W)});var m;const y=function(C){const S={imageInline:C.filter(M=>!M.isDefault&&M.modelElements.includes("imageInline")),imageBlock:C.filter(M=>!M.isDefault&&M.modelElements.includes("imageBlock"))};return(M,$,U)=>{if(!$.modelRange)return;const W=$.viewItem,K=Nn($.modelRange.getItems());if(K&&U.schema.checkAttribute(K,"imageStyle"))for(const q of S[K.name])U.consumable.consume(W,{classes:q.className})&&U.writer.setAttribute("imageStyle",q.name,K)}}(this.normalizedStyles);s.editing.downcastDispatcher.on("attribute:imageStyle",d),s.data.downcastDispatcher.on("attribute:imageStyle",d),e&&(l.extend("imageBlock",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:figure",y,{priority:"low"})),r&&(l.extend("imageInline",{allowAttributes:"imageStyle"}),s.data.upcastDispatcher.on("element:img",y,{priority:"low"}))}_setupPostFixer(){const e=this.editor,r=e.model.document,s=e.plugins.get(Jr),l=new Map(this.normalizedStyles.map(d=>[d.name,d]));r.registerPostFixer(d=>{let m=!1;for(const y of r.differ.getChanges())if(y.type=="insert"||y.type=="attribute"&&y.attributeKey=="imageStyle"){let C=y.type=="insert"?y.position.nodeAfter:y.range.start.nodeAfter;if(C&&C.is("element","paragraph")&&C.childCount>0&&(C=C.getChild(0)),!s.isImage(C))continue;const S=C.getAttribute("imageStyle");if(!S)continue;const M=l.get(S);M&&M.modelElements.includes(C.name)||(d.removeAttribute("imageStyle",C),m=!0)}return m})}}var MI=c(5083),I6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(MI.Z,I6),MI.Z.locals;class M6 extends De{static get requires(){return[II]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,r=this.editor.config.get("image.toolbar")||[],s=LI(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const d of s)this._createButton(d);const l=LI([...r.filter(ye),...Rb.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const d of l)this._createDropdown(d,s)}_createDropdown(e,r){const s=this.editor.ui.componentFactory;s.add(e.name,l=>{let d;const{defaultItem:m,items:y,title:C}=e,S=y.filter(W=>r.find(({name:K})=>RI(K)===W)).map(W=>{const K=s.create(W);return W===m&&(d=K),K});y.length!==S.length&&Rb.warnInvalidStyle({dropdown:e});const M=ca(l,Sk),$=M.buttonView,U=$.arrowView;return db(M,S,{enableActiveItemFocusOnDropdownOpen:!0}),$.set({label:NI(C,d.label),class:null,tooltip:!0}),U.unbind("label"),U.set({label:C}),$.bind("icon").toMany(S,"isOn",(...W)=>{const K=W.findIndex(El);return K<0?d.icon:S[K].icon}),$.bind("label").toMany(S,"isOn",(...W)=>{const K=W.findIndex(El);return NI(C,K<0?d.label:S[K].label)}),$.bind("isOn").toMany(S,"isOn",(...W)=>W.some(El)),$.bind("class").toMany(S,"isOn",(...W)=>W.some(El)?"ck-splitbutton_flatten":void 0),$.on("execute",()=>{S.some(({isOn:W})=>W)?M.isOpen=!M.isOpen:d.fire("execute")}),M.bind("isEnabled").toMany(S,"isEnabled",(...W)=>W.some(El)),this.listenTo(M,"execute",()=>{this.editor.editing.view.focus()}),M})}_createButton(e){const r=e.name;this.editor.ui.componentFactory.add(RI(r),s=>{const l=this.editor.commands.get("imageStyle"),d=new tn(s);return d.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),d.bind("isEnabled").to(l,"isEnabled"),d.bind("isOn").to(l,"value",m=>m===r),d.on("execute",this._executeCommand.bind(this,r)),d})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function LI(a,e){for(const r of a)e[r.title]&&(r.title=e[r.title]);return a}function RI(a){return`imageStyle:${a}`}function NI(a,e){return(a?a+": ":"")+e}class L6 extends De{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new jE(e)),e.commands.add("outdent",new jE(e))}}const OI='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',PI='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class R6 extends De{static get pluginName(){return"IndentUI"}init(){const e=this.editor,r=e.locale,s=e.t,l=r.uiLanguageDirection=="ltr"?OI:PI,d=r.uiLanguageDirection=="ltr"?PI:OI;this._defineButton("indent",s("Increase indent"),l),this._defineButton("outdent",s("Decrease indent"),d)}_defineButton(e,r,s){const l=this.editor;l.ui.componentFactory.add(e,d=>{const m=l.commands.get(e),y=new tn(d);return y.set({label:r,icon:s,tooltip:!0}),y.bind("isEnabled").to(m,"isEnabled"),this.listenTo(y,"execute",()=>{l.execute(e),l.editing.view.focus()}),y})}}class N6{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(r=>this._definitions.add(r)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(r,s,l)=>{if(!l.consumable.test(s.item,"attribute:linkHref")||!s.item.is("selection")&&!l.schema.isInline(s.item))return;const d=l.writer,m=d.document.selection;for(const y of this._definitions){const C=d.createAttributeElement("a",y.attributes,{priority:5});y.classes&&d.addClass(y.classes,C);for(const S in y.styles)d.setStyle(S,y.styles[S],C);d.setCustomProperty("link",!0,C),y.callback(s.attributeNewValue)?s.item.is("selection")?d.wrap(m.getFirstRange(),C):d.wrap(l.mapper.toViewRange(s.range),C):d.unwrap(l.mapper.toViewRange(s.range),C)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(r,s,{writer:l,mapper:d})=>{const m=d.toViewElement(s.item),y=Array.from(m.getChildren()).find(C=>C.is("element","a"));for(const C of this._definitions){const S=Do(C.attributes);if(C.callback(s.attributeNewValue)){for(const[M,$]of S)M==="class"?l.addClass($,y):l.setAttribute(M,$,y);C.classes&&l.addClass(C.classes,y);for(const M in C.styles)l.setStyle(M,C.styles[M],y)}else{for(const[M,$]of S)M==="class"?l.removeClass($,y):l.removeAttribute(M,y);C.classes&&l.removeClass(C.classes,y);for(const M in C.styles)l.removeStyle(M,y)}}})}}}const O6=function(a,e,r){var s=a.length;return r=r===void 0?s:r,!e&&r>=s?a:JE(a,e,r)};var P6=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const $I=function(a){return P6.test(a)},$6=function(a){return a.split("")};var BI="\\ud800-\\udfff",B6="["+BI+"]",Nb="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ob="\\ud83c[\\udffb-\\udfff]",FI="[^"+BI+"]",zI="(?:\\ud83c[\\udde6-\\uddff]){2}",jI="[\\ud800-\\udbff][\\udc00-\\udfff]",VI="(?:"+Nb+"|"+Ob+")?",UI="[\\ufe0e\\ufe0f]?",F6=UI+VI+("(?:\\u200d(?:"+[FI,zI,jI].join("|")+")"+UI+VI+")*"),z6="(?:"+[FI+Nb+"?",Nb,zI,jI,B6].join("|")+")",j6=RegExp(Ob+"(?="+Ob+")|"+z6+F6,"g");const V6=function(a){return a.match(j6)||[]},U6=function(a){return $I(a)?V6(a):$6(a)},H6=function(a){return function(e){e=Mk(e);var r=$I(e)?U6(e):void 0,s=r?r[0]:e.charAt(0),l=r?O6(r,1).join(""):e.slice(1);return s[a]()+l}}("toUpperCase"),W6=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,G6=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,K6=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,q6=/^((\w+:(\/{2,})?)|(\W))/i,Pb="Ctrl+K";function HI(a,{writer:e}){const r=e.createAttributeElement("a",{href:a},{priority:5});return e.setCustomProperty("link",!0,r),r}function WI(a){const e=String(a);return function(r){return!!r.replace(W6,"").match(G6)}(e)?e:"#"}function $b(a,e){return!!a&&e.checkAttribute(a.name,"linkHref")}function Bb(a,e){const r=(s=a,K6.test(s)?"mailto:":e);var s;const l=!!r&&!GI(a);return a&&l?r+a:a}function GI(a){return q6.test(a)}function KI(a){window.open(a,"_blank","noopener")}class Q6 extends mt{constructor(){super(...arguments),this.manualDecorators=new Wr,this.automaticDecorators=new N6}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,r=e.document.selection,s=r.getSelectedElement()||Nn(r.getSelectedBlocks());$b(s,e.schema)?(this.value=s.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(s,"linkHref")):(this.value=r.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(r,"linkHref"));for(const l of this.manualDecorators)l.value=this._getDecoratorStateFromModel(l.id)}execute(e,r={}){const s=this.editor.model,l=s.document.selection,d=[],m=[];for(const y in r)r[y]?d.push(y):m.push(y);s.change(y=>{if(l.isCollapsed){const C=l.getFirstPosition();if(l.hasAttribute("linkHref")){const S=qI(l);let M=nu(C,"linkHref",l.getAttribute("linkHref"),s);l.getAttribute("linkHref")===S&&(M=this._updateLinkContent(s,y,M,e)),y.setAttribute("linkHref",e,M),d.forEach($=>{y.setAttribute($,!0,M)}),m.forEach($=>{y.removeAttribute($,M)}),y.setSelection(y.createPositionAfter(M.end.nodeBefore))}else if(e!==""){const S=Do(l.getAttributes());S.set("linkHref",e),d.forEach($=>{S.set($,!0)});const{end:M}=s.insertContent(y.createText(e,S),C);y.setSelection(M)}["linkHref",...d,...m].forEach(S=>{y.removeSelectionAttribute(S)})}else{const C=s.schema.getValidRanges(l.getRanges(),"linkHref"),S=[];for(const $ of l.getSelectedBlocks())s.schema.checkAttribute($,"linkHref")&&S.push(y.createRangeOn($));const M=S.slice();for(const $ of C)this._isRangeToUpdate($,S)&&M.push($);for(const $ of M){let U=$;if(M.length===1){const W=qI(l);l.getAttribute("linkHref")===W&&(U=this._updateLinkContent(s,y,$,e),y.setSelection(y.createSelection(U)))}y.setAttribute("linkHref",e,U),d.forEach(W=>{y.setAttribute(W,!0,U)}),m.forEach(W=>{y.removeAttribute(W,U)})}}})}_getDecoratorStateFromModel(e){const r=this.editor.model,s=r.document.selection,l=s.getSelectedElement();return $b(l,r.schema)?l.getAttribute(e):s.getAttribute(e)}_isRangeToUpdate(e,r){for(const s of r)if(s.containsRange(e))return!1;return!0}_updateLinkContent(e,r,s,l){const d=r.createText(l,{linkHref:l});return e.insertContent(d,s)}}function qI(a){if(a.isCollapsed){const e=a.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(a.getFirstRange().getItems());if(e.length>1)return null;const r=e[0];return r.is("$text")||r.is("$textProxy")?r.data:null}}class Y6 extends mt{refresh(){const e=this.editor.model,r=e.document.selection,s=r.getSelectedElement();$b(s,e.schema)?this.isEnabled=e.schema.checkAttribute(s,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(r,"linkHref")}execute(){const e=this.editor,r=this.editor.model,s=r.document.selection,l=e.commands.get("link");r.change(d=>{const m=s.isCollapsed?[nu(s.getFirstPosition(),"linkHref",s.getAttribute("linkHref"),r)]:r.schema.getValidRanges(s.getRanges(),"linkHref");for(const y of m)if(d.removeAttribute("linkHref",y),l)for(const C of l.manualDecorators)d.removeAttribute(C.id,y)})}}class Z6 extends Ye(){constructor({id:e,label:r,attributes:s,classes:l,styles:d,defaultValue:m}){super(),this.id=e,this.set("value",void 0),this.defaultValue=m,this.label=r,this.attributes=s,this.classes=l,this.styles=d}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var QI=c(9773),J6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(QI.Z,J6),QI.Z.locals;var X6=Object.defineProperty,YI=Object.getOwnPropertySymbols,eH=Object.prototype.hasOwnProperty,tH=Object.prototype.propertyIsEnumerable,ZI=(a,e,r)=>e in a?X6(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,nH=(a,e)=>{for(var r in e||(e={}))eH.call(e,r)&&ZI(a,r,e[r]);if(YI)for(var r of YI(e))tH.call(e,r)&&ZI(a,r,e[r]);return a};const JI="automatic",iH=/^(https?:)?\/\//;class rH extends De{static get pluginName(){return"LinkEditing"}static get requires(){return[FT,LT,$o]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:HI}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(s,l)=>HI(WI(s),l)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:s=>s.getAttribute("href")}}),e.commands.add("link",new Q6(e)),e.commands.add("unlink",new Y6(e));const r=function(s,l){const d={"Open in a new tab":s("Open in a new tab"),Downloadable:s("Downloadable")};return l.forEach(m=>("label"in m&&d[m.label]&&(m.label=d[m.label]),m)),l}(e.t,function(s){const l=[];if(s)for(const[d,m]of Object.entries(s)){const y=Object.assign({},m,{id:`link${H6(d)}`});l.push(y)}return l}(e.config.get("link.decorators")));this._enableAutomaticDecorators(r.filter(s=>s.mode===JI)),this._enableManualDecorators(r.filter(s=>s.mode==="manual")),e.plugins.get(FT).registerAttribute("linkHref"),function(s,l,d,m){const y=s.editing.view,C=new Set;y.document.registerPostFixer(S=>{const M=s.model.document.selection;let $=!1;if(M.hasAttribute(l)){const U=nu(M.getFirstPosition(),l,M.getAttribute(l),s.model),W=s.editing.mapper.toViewRange(U);for(const K of W.getItems())K.is("element",d)&&!K.hasClass(m)&&(S.addClass(m,K),C.add(K),$=!0)}return $}),s.conversion.for("editingDowncast").add(S=>{function M(){y.change($=>{for(const U of C.values())$.removeClass(m,U),C.delete(U)})}S.on("insert",M,{priority:"highest"}),S.on("remove",M,{priority:"highest"}),S.on("attribute",M,{priority:"highest"}),S.on("selection",M,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const r=this.editor,s=r.commands.get("link").automaticDecorators;r.config.get("link.addTargetToExternalLinks")&&s.add({id:"linkIsExternal",mode:JI,callback:l=>!!l&&iH.test(l),attributes:{target:"_blank",rel:"noopener noreferrer"}}),s.add(e),s.length&&r.conversion.for("downcast").add(s.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const r=this.editor,s=r.commands.get("link").manualDecorators;e.forEach(l=>{r.model.schema.extend("$text",{allowAttributes:l.id});const d=new Z6(l);s.add(d),r.conversion.for("downcast").attributeToElement({model:d.id,view:(m,{writer:y,schema:C},{item:S})=>{if((S.is("selection")||C.isInline(S))&&m){const M=y.createAttributeElement("a",d.attributes,{priority:5});d.classes&&y.addClass(d.classes,M);for(const $ in d.styles)y.setStyle($,d.styles[$],M);return y.setCustomProperty("link",!0,M),M}}}),r.conversion.for("upcast").elementToAttribute({view:nH({name:"a"},d._createPattern()),model:{key:d.id}})})}_enableLinkOpen(){const e=this.editor,r=e.editing.view.document;this.listenTo(r,"click",(s,l)=>{if(!(v.isMac?l.domEvent.metaKey:l.domEvent.ctrlKey))return;let d=l.domTarget;if(d.tagName.toLowerCase()!="a"&&(d=d.closest("a")),!d)return;const m=d.getAttribute("href");m&&(s.stop(),l.preventDefault(),KI(m))},{context:"$capture"}),this.listenTo(r,"keydown",(s,l)=>{const d=e.commands.get("link").value;d&&l.keyCode===St.enter&&l.altKey&&(s.stop(),KI(d))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,r=e.document.selection;this.listenTo(e,"insertContent",()=>{const s=r.anchor.nodeBefore,l=r.anchor.nodeAfter;r.hasAttribute("linkHref")&&s&&s.hasAttribute("linkHref")&&(l&&l.hasAttribute("linkHref")||e.change(d=>{Fb(d,zb(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,r=e.model;e.editing.view.addObserver(lb);let s=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{s=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!s)return;s=!1;const l=r.document.selection;if(!l.isCollapsed||!l.hasAttribute("linkHref"))return;const d=l.getFirstPosition(),m=nu(d,"linkHref",l.getAttribute("linkHref"),r);(d.isTouching(m.start)||d.isTouching(m.end))&&r.change(y=>{Fb(y,zb(r.schema))})})}_enableTypingOverLink(){const e=this.editor,r=e.editing.view;let s=null,l=!1;this.listenTo(r.document,"delete",()=>{l=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const d=e.model.document.selection;d.isCollapsed||(l?l=!1:XI(e)&&function(m){const y=m.document.selection,C=y.getFirstPosition(),S=y.getLastPosition(),M=C.nodeAfter;if(!M||!M.is("$text")||!M.hasAttribute("linkHref"))return!1;const $=S.textNode||S.nodeBefore;return M===$?!0:nu(C,"linkHref",M.getAttribute("linkHref"),m).containsRange(m.createRange(C,S),!0)}(e.model)&&(s=d.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(d,[m])=>{l=!1,XI(e)&&s&&(e.model.change(y=>{for(const[C,S]of s)y.setAttribute(C,S,m)}),s=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,r=e.model,s=r.document.selection,l=e.editing.view;let d=!1,m=!1;this.listenTo(l.document,"delete",(y,C)=>{m=C.direction==="backward"},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{d=!1;const y=s.getFirstPosition(),C=s.getAttribute("linkHref");if(!C)return;const S=nu(y,"linkHref",C,r);d=S.containsPosition(y)||S.end.isEqual(y)},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{m&&(m=!1,d||e.model.enqueueChange(y=>{Fb(y,zb(r.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,r=e.model,s=this.editor.config.get("link.defaultProtocol");s&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(l,d)=>{r.change(m=>{const y=m.createRangeIn(d.content);for(const C of y.getItems())if(C.hasAttribute("linkHref")){const S=Bb(C.getAttribute("linkHref"),s);m.setAttribute("linkHref",S,C)}})})}}function Fb(a,e){a.removeSelectionAttribute("linkHref");for(const r of e)a.removeSelectionAttribute(r)}function XI(a){return a.model.change(e=>e.batch).isTyping}function zb(a){return a.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var eM=c(7754),oH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(eM.Z,oH),eM.Z.locals;class sH extends bt{constructor(e,r){super(e),this.focusTracker=new Sr,this.keystrokes=new To,this._focusables=new sa;const s=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),Dn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(s("Cancel"),Dn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(r),this.children=this._createFormChildren(r.manualDecorators),this._focusCycler=new Gc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const l=["ck","ck-link-form","ck-responsive-form"];r.manualDecorators.length&&l.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:l,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,r)=>(e[r.name]=r.isOn,e),{})}render(){super.render(),f({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,r=new gb(this.locale,mb);return r.label=e("Link URL"),r}_createButton(e,r,s,l){const d=new tn(this.locale);return d.set({label:e,icon:r,tooltip:!0}),d.extendTemplate({attributes:{class:s}}),l&&d.delegate("execute").to(this,l),d}_createManualDecoratorSwitches(e){const r=this.createCollection();for(const s of e.manualDecorators){const l=new eg(this.locale);l.set({name:s.id,label:s.label,withText:!0}),l.bind("isOn").toMany([s,e],"value",(d,m)=>m===void 0&&d===void 0?!!s.defaultValue:!!d),l.on("execute",()=>{s.set("value",!l.isOn)}),r.add(l)}return r}_createFormChildren(e){const r=this.createCollection();if(r.add(this.urlInputView),e.length){const s=new bt;s.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(l=>({tag:"li",children:[l],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),r.add(s)}return r.add(this.saveButtonView),r.add(this.cancelButtonView),r}}var tM=c(2347),aH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(tM.Z,aH),tM.Z.locals;class lH extends bt{constructor(e){super(e),this.focusTracker=new Sr,this.keystrokes=new To,this._focusables=new sa;const r=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(r("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(r("Edit link"),Dn.pencil,"edit"),this.set("href",void 0),this._focusCycler=new Gc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,r,s){const l=new tn(this.locale);return l.set({label:e,icon:r,tooltip:!0}),l.delegate("execute").to(this,s),l}_createPreviewButton(){const e=new tn(this.locale),r=this.bindTemplate,s=this.t;return e.set({withText:!0,tooltip:s("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:r.to("href",l=>l&&WI(l)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",l=>l||s("This link has no URL")),e.bind("isEnabled").to(this,"href",l=>!!l),e.template.tag="a",e.template.eventListeners={},e}}const Bo="link-ui";class cH extends De{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[yg]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(_V),this._balloon=e.plugins.get(yg),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Bo,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Bo,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,r=new lH(e.locale),s=e.commands.get("link"),l=e.commands.get("unlink");return r.bind("href").to(s,"value"),r.editButtonView.bind("isEnabled").to(s),r.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(r,"edit",()=>{this._addFormView()}),this.listenTo(r,"unlink",()=>{e.execute("unlink"),this._hideUI()}),r.keystrokes.set("Esc",(d,m)=>{this._hideUI(),m()}),r.keystrokes.set(Pb,(d,m)=>{this._addFormView(),m()}),r}_createFormView(){const e=this.editor,r=e.commands.get("link"),s=e.config.get("link.defaultProtocol"),l=new(b(sH))(e.locale,r);return l.urlInputView.fieldView.bind("value").to(r,"value"),l.urlInputView.bind("isEnabled").to(r,"isEnabled"),l.saveButtonView.bind("isEnabled").to(r),this.listenTo(l,"submit",()=>{const{value:d}=l.urlInputView.fieldView.element,m=Bb(d,s);e.execute("link",m,l.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(d,m)=>{this._closeFormView(),m()}),l}_createToolbarLinkButton(){const e=this.editor,r=e.commands.get("link"),s=e.t;e.ui.componentFactory.add("link",l=>{const d=new tn(l);return d.isEnabled=!0,d.label=s("Link"),d.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',d.keystroke=Pb,d.tooltip=!0,d.isToggleable=!0,d.bind("isEnabled").to(r,"isEnabled"),d.bind("isOn").to(r,"value",m=>!!m),this.listenTo(d,"execute",()=>this._showUI(!0)),d})}_enableBalloonActivators(){const e=this.editor,r=e.editing.view.document;this.listenTo(r,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Pb,(s,l)=>{l(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,r)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),r())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,r)=>{this._isUIVisible&&(this._hideUI(),r())}),h({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,r=e.editing.view.document;let s=this._getSelectedLinkElement(),l=m();const d=()=>{const y=this._getSelectedLinkElement(),C=m();s&&!y||!s&&C!==l?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),s=y,l=C};function m(){return r.selection.focus.getAncestors().reverse().find(y=>y.is("element"))}this.listenTo(e.ui,"update",d),this.listenTo(this._balloon,"change:visibleView",d)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,r=this.editor.model,s=e.document;let l;if(r.markers.has(Bo)){const d=Array.from(this.editor.editing.mapper.markerNameToElements(Bo)),m=e.createRange(e.createPositionBefore(d[0]),e.createPositionAfter(d[d.length-1]));l=e.domConverter.viewRangeToDom(m)}else l=()=>{const d=this._getSelectedLinkElement();return d?e.domConverter.mapViewToDom(d):e.domConverter.viewRangeToDom(s.selection.getFirstRange())};return{target:l}}_getSelectedLinkElement(){const e=this.editor.editing.view,r=e.document.selection,s=r.getSelectedElement();if(r.isCollapsed||s&&pn(s))return jb(r.getFirstPosition());{const l=r.getFirstRange().getTrimmed(),d=jb(l.start),m=jb(l.end);return d&&d==m&&e.createRangeIn(d).getTrimmed().isEqual(l)?d:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(r=>{const s=e.document.selection.getFirstRange();if(e.markers.has(Bo))r.updateMarker(Bo,{range:s});else if(s.start.isAtEnd){const l=s.start.getLastMatchingPosition(({item:d})=>!e.schema.isContent(d),{boundaries:s});r.addMarker(Bo,{usingOperation:!1,affectsData:!1,range:r.createRange(l,s.end)})}else r.addMarker(Bo,{usingOperation:!1,affectsData:!1,range:s})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Bo)&&e.change(r=>{r.removeMarker(Bo)})}}function jb(a){return a.getAncestors().find(e=>{return(r=e).is("attributeElement")&&!!r.getCustomProperty("link");var r})||null}const uH=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class dH extends De{static get requires(){return[ps]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,r=new BT(e.model,s=>{if(!function(d){return d.length>4&&d[d.length-1]===" "&&d[d.length-2]!==" "}(s))return;const l=nM(s.substr(0,s.length-1));return l?{url:l}:void 0});r.on("matched:data",(s,l)=>{const{batch:d,range:m,url:y}=l;if(!d.isTyping)return;const C=m.end.getShiftedBy(-1),S=C.getShiftedBy(-y.length),M=e.model.createRange(S,C);this._applyAutoLink(y,M)}),r.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,r=e.model,s=e.commands.get("enter");s&&s.on("execute",()=>{const l=r.document.selection.getFirstPosition();if(!l.parent.previousSibling)return;const d=r.createRangeIn(l.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(d)})}_enableShiftEnterHandling(){const e=this.editor,r=e.model,s=e.commands.get("shiftEnter");s&&s.on("execute",()=>{const l=r.document.selection.getFirstPosition(),d=r.createRange(r.createPositionAt(l.parent,0),l.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(d)})}_checkAndApplyAutoLinkOnRange(e){const r=this.editor.model,{text:s,range:l}=$T(e,r),d=nM(s);if(d){const m=r.createRange(l.end.getShiftedBy(-d.length),l.end);this._applyAutoLink(d,m)}}_applyAutoLink(e,r){const s=this.editor.model,l=Bb(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(d,m){return m.schema.checkAttributeInSelection(m.createSelection(d),"linkHref")}(r,s)&&GI(l)&&!function(d){const m=d.start.nodeAfter;return!!m&&m.hasAttribute("linkHref")}(r)&&this._persistAutoLink(l,r)}_persistAutoLink(e,r){const s=this.editor.model,l=this.editor.plugins.get("Delete");s.enqueueChange(d=>{d.setAttribute("linkHref",e,r),s.enqueueChange(()=>{l.requestUndoOnBackspace()})})}}function nM(a){const e=uH.exec(a);return e?e[2]:null}var iM=c(111),hH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(iM.Z,hH),iM.Z.locals;var rM=c(5730),fH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(rM.Z,fH),rM.Z.locals;var oM=c(4564),pH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(oM.Z,pH),oM.Z.locals;function gH(a,e){const r=e.mapper,s=e.writer,l=a.getAttribute("listType")=="numbered"?"ol":"ul",d=function(y){const C=y.createContainerElement("li");return C.getFillerOffset=wH,C}(s),m=s.createContainerElement(l,null);return s.insert(s.createPositionAt(m,0),d),r.bindElements(a,d),d}function sM(a,e,r,s){const l=e.parent,d=r.mapper,m=r.writer;let y=d.toViewPosition(s.createPositionBefore(a));const C=lM(a.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:a.getAttribute("listIndent")}),S=a.previousSibling;if(C&&C.getAttribute("listIndent")==a.getAttribute("listIndent")){const M=d.toViewElement(C);y=m.breakContainer(m.createPositionAfter(M))}else if(S&&S.name=="listItem"){y=d.toViewPosition(s.createPositionAt(S,"end"));const M=d.findMappedViewAncestor(y),$=function(U){for(const W of U.getChildren())if(W.name=="ul"||W.name=="ol")return W;return null}(M);y=$?m.createPositionBefore($):m.createPositionAt(M,"end")}else y=d.toViewPosition(s.createPositionBefore(a));if(y=aM(y),m.insert(y,l),S&&S.name=="listItem"){const M=d.toViewElement(S),$=m.createRange(m.createPositionAt(M,0),y).getWalker({ignoreElementEnd:!0});for(const U of $)if(U.item.is("element","li")){const W=m.breakContainer(m.createPositionBefore(U.item)),K=U.item.parent,q=m.createPositionAt(e,"end");Tr(m,q.nodeBefore,q.nodeAfter),m.move(m.createRangeOn(K),q),$._position=W}}else{const M=l.nextSibling;if(M&&(M.is("element","ul")||M.is("element","ol"))){let $=null;for(const U of M.getChildren()){const W=d.toModelElement(U);if(!(W&&W.getAttribute("listIndent")>a.getAttribute("listIndent")))break;$=U}$&&(m.breakContainer(m.createPositionAfter($)),m.move(m.createRangeOn($.parent),m.createPositionAt(e,"end")))}}Tr(m,l,l.nextSibling),Tr(m,l.previousSibling,l)}function Tr(a,e,r){return!e||!r||e.name!="ul"&&e.name!="ol"||e.name!=r.name||e.getAttribute("class")!==r.getAttribute("class")?null:a.mergeContainers(a.createPositionAfter(e))}function aM(a){return a.getLastMatchingPosition(e=>e.item.is("uiElement"))}function lM(a,e){const r=!!e.sameIndent,s=!!e.smallerIndent,l=e.listIndent;let d=a;for(;d&&d.name=="listItem";){const m=d.getAttribute("listIndent");if(r&&l==m||s&&l>m)return d;d=e.direction==="forward"?d.nextSibling:d.previousSibling}return null}function cM(a,e,r,s){a.ui.componentFactory.add(e,l=>{const d=a.commands.get(e),m=new tn(l);return m.set({label:r,icon:s,tooltip:!0,isToggleable:!0}),m.bind("isOn","isEnabled").to(d,"value","isEnabled"),m.on("execute",()=>{a.execute(e),a.editing.view.focus()}),m})}function Vb(a,e){const r=[],s=a.parent,l={ignoreElementEnd:!1,startPosition:a,shallow:!0,direction:e},d=s.getAttribute("listIndent"),m=[...new Oo(l)].filter(y=>y.item.is("element")).map(y=>y.item);for(const y of m){if(!y.is("element","listItem")||y.getAttribute("listIndent")<d)break;if(!(y.getAttribute("listIndent")>d)){if(y.getAttribute("listType")!==s.getAttribute("listType")||y.getAttribute("listStyle")!==s.getAttribute("listStyle")||y.getAttribute("listReversed")!==s.getAttribute("listReversed")||y.getAttribute("listStart")!==s.getAttribute("listStart"))break;e==="backward"?r.unshift(y):r.push(y)}}return r}const mH=["disc","circle","square"],vH=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function wH(){const a=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||a?0:iS.call(this)}class kH extends De{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;cM(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),cM(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const bH=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:a,typeAttribute:e,listType:r}of bH);var uM=c(4721),yH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(uM.Z,yH),uM.Z.locals;var dM=c(6082),AH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(dM.Z,AH),dM.Z.locals;var hM=c(2417),_H={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(hM.Z,_H),hM.Z.locals;class fM extends mt{constructor(e,r){super(e),this._indentBy=r=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,r=e.document;let s=Array.from(r.selection.getSelectedBlocks());e.change(l=>{const d=s[s.length-1];let m=d.nextSibling;for(;m&&m.name=="listItem"&&m.getAttribute("listIndent")>d.getAttribute("listIndent");)s.push(m),m=m.nextSibling;this._indentBy<0&&(s=s.reverse());for(const y of s){const C=y.getAttribute("listIndent")+this._indentBy;C<0?l.rename(y,"paragraph"):l.setAttribute("listIndent",C,y)}this.fire("_executeCleanup",s)})}_checkEnabled(){const e=Nn(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const r=e.getAttribute("listIndent"),s=e.getAttribute("listType");let l=e.previousSibling;for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=r;){if(l.getAttribute("listIndent")==r)return l.getAttribute("listType")==s;l=l.previousSibling}return!1}return!0}}class pM extends mt{constructor(e,r){super(e),this.type=r}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const r=this.editor.model,s=r.document,l=Array.from(s.selection.getSelectedBlocks()).filter(m=>mM(m,r.schema)),d=e.forceValue!==void 0?!e.forceValue:this.value;r.change(m=>{if(d){let y=l[l.length-1].nextSibling,C=Number.POSITIVE_INFINITY,S=[];for(;y&&y.name=="listItem"&&y.getAttribute("listIndent")!==0;){const M=y.getAttribute("listIndent");M<C&&(C=M);const $=M-C;S.push({element:y,listIndent:$}),y=y.nextSibling}S=S.reverse();for(const M of S)m.setAttribute("listIndent",M.listIndent,M.element)}if(!d){let y=Number.POSITIVE_INFINITY;for(const C of l)C.is("element","listItem")&&C.getAttribute("listIndent")<y&&(y=C.getAttribute("listIndent"));y=y===0?1:y,gM(l,!0,y),gM(l,!1,y)}for(const y of l.reverse())d&&y.name=="listItem"?m.rename(y,"paragraph"):d||y.name=="listItem"?d||y.name!="listItem"||y.getAttribute("listType")==this.type||m.setAttribute("listType",this.type,y):(m.setAttributes({listType:this.type,listIndent:0},y),m.rename(y,"listItem"));this.fire("_executeCleanup",l)})}_getValue(){const e=Nn(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,r=this.editor.model.schema,s=Nn(e.getSelectedBlocks());return!!s&&mM(s,r)}}function gM(a,e,r){const s=e?a[0]:a[a.length-1];if(s.is("element","listItem")){let l=s[e?"previousSibling":"nextSibling"],d=s.getAttribute("listIndent");for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=r;)d>l.getAttribute("listIndent")&&(d=l.getAttribute("listIndent")),l.getAttribute("listIndent")==d&&a[e?"unshift":"push"](l),l=l[e?"previousSibling":"nextSibling"]}}function mM(a,e){return e.checkChild(a.parent,"listItem")&&!e.isObject(a)}class CH extends De{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return function(r){return mH.includes(r)?"bulleted":vH.includes(r)?"numbered":null}(e)}getSelectedListItems(e){return function(r){let s=[...r.document.selection.getSelectedBlocks()].filter(l=>l.is("element","listItem")).map(l=>{const d=r.change(m=>m.createPositionAt(l,0));return[...Vb(d,"backward"),...Vb(d,"forward")]}).flat();return s=[...new Set(s)],s}(e)}getSiblingNodes(e,r){return Vb(e,r)}}function vM(a){return(e,r,s)=>{const l=s.consumable;if(!l.test(r.item,"insert")||!l.test(r.item,"attribute:listType")||!l.test(r.item,"attribute:listIndent"))return;l.consume(r.item,"insert"),l.consume(r.item,"attribute:listType"),l.consume(r.item,"attribute:listIndent");const d=r.item;sM(d,gH(d,s),s,a)}}const EH=(a,e,r)=>{if(!r.consumable.test(e.item,a.name))return;const s=r.mapper.toViewElement(e.item),l=r.writer;l.breakContainer(l.createPositionBefore(s)),l.breakContainer(l.createPositionAfter(s));const d=s.parent,m=e.attributeNewValue=="numbered"?"ol":"ul";l.rename(m,d)},SH=(a,e,r)=>{r.consumable.consume(e.item,a.name);const s=r.mapper.toViewElement(e.item).parent,l=r.writer;Tr(l,s,s.nextSibling),Tr(l,s.previousSibling,s)},wM=(a,e,r)=>{if(r.consumable.test(e.item,a.name)&&e.item.name!="listItem"){let s=r.mapper.toViewPosition(e.range.start);const l=r.writer,d=[];for(;(s.parent.name=="ul"||s.parent.name=="ol")&&(s=l.breakContainer(s),s.parent.name=="li");){const m=s,y=l.createPositionAt(s.parent,"end");if(!m.isEqual(y)){const C=l.remove(l.createRange(m,y));d.push(C)}s=l.createPositionAfter(s.parent)}if(d.length>0){for(let m=0;m<d.length;m++){const y=s.nodeBefore;if(s=l.insert(s,d[m]).end,m>0){const C=Tr(l,y,y.nextSibling);C&&C.parent==y&&s.offset--}}Tr(l,s.nodeBefore,s.nodeAfter)}}},xH=(a,e,r)=>{const s=r.mapper.toViewPosition(e.position),l=s.nodeBefore,d=s.nodeAfter;Tr(r.writer,l,d)},TH=(a,e,r)=>{if(r.consumable.consume(e.viewItem,{name:!0})){const s=r.writer,l=s.createElement("listItem"),d=function(C){let S=0,M=C.parent;for(;M;){if(M.is("element","li"))S++;else{const $=M.previousSibling;$&&$.is("element","li")&&S++}M=M.parent}return S}(e.viewItem);s.setAttribute("listIndent",d,l);const m=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(s.setAttribute("listType",m,l),!r.safeInsert(l,e.modelCursor))return;const y=function(C,S,M){const{writer:$,schema:U}=M;let W=$.createPositionAfter(C);for(const K of S)if(K.name=="ul"||K.name=="ol")W=M.convertItem(K,W).modelCursor;else{const q=M.convertItem(K,$.createPositionAt(C,"end")),X=q.modelRange.start.nodeAfter;X&&X.is("element")&&!U.checkChild(C,X.name)&&(C=q.modelCursor.parent.is("element","listItem")?q.modelCursor.parent:MH(q.modelCursor),W=$.createPositionAfter(C))}return W}(l,e.viewItem.getChildren(),r);e.modelRange=s.createRange(e.modelCursor,y),r.updateConversionResult(l,e)}},kM=(a,e,r)=>{if(r.consumable.test(e.viewItem,{name:!0})){const s=Array.from(e.viewItem.getChildren());for(const l of s)!(l.is("element","li")||su(l))&&l._remove()}},DH=(a,e,r)=>{if(r.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const s=[...e.viewItem.getChildren()];let l=!1;for(const d of s)l&&!su(d)&&d._remove(),su(d)&&(l=!0)}};function bM(a){return(e,r)=>{if(r.isPhantom)return;const s=r.modelPosition.nodeBefore;if(s&&s.is("element","listItem")){const l=r.mapper.toViewElement(s),d=l.getAncestors().find(su),m=a.createPositionAt(l,0).getWalker();for(const y of m){if(y.type=="elementStart"&&y.item.is("element","li")){r.viewPosition=y.previousPosition;break}if(y.type=="elementEnd"&&y.item==d){r.viewPosition=y.nextPosition;break}}}}}const IH=function(a,[e,r]){const s=this;let l,d=e.is("documentFragment")?e.getChild(0):e;if(l=r?s.createSelection(r):s.document.selection,d&&d.is("element","listItem")){const m=l.getFirstPosition();let y=null;if(m.parent.is("element","listItem")?y=m.parent:m.nodeBefore&&m.nodeBefore.is("element","listItem")&&(y=m.nodeBefore),y){const C=y.getAttribute("listIndent");if(C>0)for(;d&&d.is("element","listItem");)d._setAttribute("listIndent",d.getAttribute("listIndent")+C),d=d.nextSibling}}};function MH(a){const e=new Oo({startPosition:a});let r;do r=e.next();while(!r.value.item.is("element","listItem"));return r.value.item}function yM(a,e,r,s,l,d){const m=lM(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:a}),y=l.mapper,C=l.writer,S=m?m.getAttribute("listIndent"):null;let M;if(m)if(S==a){const $=y.toViewElement(m).parent;M=C.createPositionAfter($)}else{const $=d.createPositionAt(m,"end");M=y.toViewPosition($)}else M=r;M=aM(M);for(const $ of[...s.getChildren()])su($)&&(M=C.move(C.createRangeOn($),M).end,Tr(C,$,$.nextSibling),Tr(C,$.previousSibling,$))}function su(a){return a.is("element","ol")||a.is("element","ul")}class LH extends De{static get pluginName(){return"ListEditing"}static get requires(){return[Sg,ps,CH]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const r=e.data,s=e.editing;var l;e.model.document.registerPostFixer(m=>function(y,C){const S=y.document.differ.getChanges(),M=new Map;let $=!1;for(const q of S)if(q.type=="insert"&&q.name=="listItem")U(q.position);else if(q.type=="insert"&&q.name!="listItem"){if(q.name!="$text"){const X=q.position.nodeAfter;X.hasAttribute("listIndent")&&(C.removeAttribute("listIndent",X),$=!0),X.hasAttribute("listType")&&(C.removeAttribute("listType",X),$=!0),X.hasAttribute("listStyle")&&(C.removeAttribute("listStyle",X),$=!0),X.hasAttribute("listReversed")&&(C.removeAttribute("listReversed",X),$=!0),X.hasAttribute("listStart")&&(C.removeAttribute("listStart",X),$=!0);for(const ne of Array.from(y.createRangeIn(X)).filter(de=>de.item.is("element","listItem")))U(ne.previousPosition)}U(q.position.getShiftedBy(q.length))}else q.type=="remove"&&q.name=="listItem"?U(q.position):(q.type=="attribute"&&q.attributeKey=="listIndent"||q.type=="attribute"&&q.attributeKey=="listType")&&U(q.range.start);for(const q of M.values())W(q),K(q);return $;function U(q){const X=q.nodeBefore;if(X&&X.is("element","listItem")){let ne=X;if(M.has(ne))return;for(let de=ne.previousSibling;de&&de.is("element","listItem");de=ne.previousSibling)if(ne=de,M.has(ne))return;M.set(X,ne)}else{const ne=q.nodeAfter;ne&&ne.is("element","listItem")&&M.set(ne,ne)}}function W(q){let X=0,ne=null;for(;q&&q.is("element","listItem");){const de=q.getAttribute("listIndent");if(de>X){let be;ne===null?(ne=de-X,be=X):(ne>de&&(ne=de),be=de-ne),C.setAttribute("listIndent",be,q),$=!0}else ne=null,X=q.getAttribute("listIndent")+1;q=q.nextSibling}}function K(q){let X=[],ne=null;for(;q&&q.is("element","listItem");){const de=q.getAttribute("listIndent");if(ne&&ne.getAttribute("listIndent")>de&&(X=X.slice(0,de+1)),de!=0)if(X[de]){const be=X[de];q.getAttribute("listType")!=be&&(C.setAttribute("listType",be,q),$=!0)}else X[de]=q.getAttribute("listType");ne=q,q=q.nextSibling}}}(e.model,m)),s.mapper.registerViewToModelLength("li",Ub),r.mapper.registerViewToModelLength("li",Ub),s.mapper.on("modelToViewPosition",bM(s.view)),s.mapper.on("viewToModelPosition",(l=e.model,(m,y)=>{const C=y.viewPosition,S=C.parent,M=y.mapper;if(S.name=="ul"||S.name=="ol"){if(C.isAtEnd){const $=M.toModelElement(C.nodeBefore),U=M.getModelLength(C.nodeBefore);y.modelPosition=l.createPositionBefore($).getShiftedBy(U)}else{const $=M.toModelElement(C.nodeAfter);y.modelPosition=l.createPositionBefore($)}m.stop()}else if(S.name=="li"&&C.nodeBefore&&(C.nodeBefore.name=="ul"||C.nodeBefore.name=="ol")){const $=M.toModelElement(S);let U=1,W=C.nodeBefore;for(;W&&su(W);)U+=M.getModelLength(W),W=W.previousSibling;y.modelPosition=l.createPositionBefore($).getShiftedBy(U),m.stop()}})),r.mapper.on("modelToViewPosition",bM(s.view)),e.conversion.for("editingDowncast").add(m=>{m.on("insert",wM,{priority:"high"}),m.on("insert:listItem",vM(e.model)),m.on("attribute:listType:listItem",EH,{priority:"high"}),m.on("attribute:listType:listItem",SH,{priority:"low"}),m.on("attribute:listIndent:listItem",function(y){return(C,S,M)=>{if(!M.consumable.consume(S.item,"attribute:listIndent"))return;const $=M.mapper.toViewElement(S.item),U=M.writer;U.breakContainer(U.createPositionBefore($)),U.breakContainer(U.createPositionAfter($));const W=$.parent,K=W.previousSibling,q=U.createRangeOn(W);U.remove(q),K&&K.nextSibling&&Tr(U,K,K.nextSibling),yM(S.attributeOldValue+1,S.range.start,q.start,$,M,y),sM(S.item,$,M,y);for(const X of S.item.getChildren())M.consumable.consume(X,"insert")}}(e.model)),m.on("remove:listItem",function(y){return(C,S,M)=>{const $=M.mapper.toViewPosition(S.position).getLastMatchingPosition(ne=>!ne.item.is("element","li")).nodeAfter,U=M.writer;U.breakContainer(U.createPositionBefore($)),U.breakContainer(U.createPositionAfter($));const W=$.parent,K=W.previousSibling,q=U.createRangeOn(W),X=U.remove(q);K&&K.nextSibling&&Tr(U,K,K.nextSibling),yM(M.mapper.toModelElement($).getAttribute("listIndent")+1,S.position,q.start,$,M,y);for(const ne of U.createRangeIn(X).getItems())M.mapper.unbindViewElement(ne);C.stop()}}(e.model)),m.on("remove",xH,{priority:"low"})}),e.conversion.for("dataDowncast").add(m=>{m.on("insert",wM,{priority:"high"}),m.on("insert:listItem",vM(e.model))}),e.conversion.for("upcast").add(m=>{m.on("element:ul",kM,{priority:"high"}),m.on("element:ol",kM,{priority:"high"}),m.on("element:li",DH,{priority:"high"}),m.on("element:li",TH)}),e.model.on("insertContent",IH,{priority:"high"}),e.commands.add("numberedList",new pM(e,"numbered")),e.commands.add("bulletedList",new pM(e,"bulleted")),e.commands.add("indentList",new fM(e,"forward")),e.commands.add("outdentList",new fM(e,"backward"));const d=s.view.document;this.listenTo(d,"enter",(m,y)=>{const C=this.editor.model.document,S=C.selection.getLastPosition().parent;C.selection.isCollapsed&&S.name=="listItem"&&S.isEmpty&&(this.editor.execute("outdentList"),y.preventDefault(),m.stop())},{context:"li"}),this.listenTo(d,"delete",(m,y)=>{if(y.direction!=="backward")return;const C=this.editor.model.document.selection;if(!C.isCollapsed)return;const S=C.getFirstPosition();if(!S.isAtStart)return;const M=S.parent;M.name==="listItem"&&(M.previousSibling&&M.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),y.preventDefault(),m.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(m,y)=>{const C=y.shiftKey?"outdentList":"indentList";this.editor.commands.get(C).isEnabled&&(e.execute(C),y.stopPropagation(),y.preventDefault(),m.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,r=e.get("indent"),s=e.get("outdent");r&&r.registerChildCommand(e.get("indentList")),s&&s.registerChildCommand(e.get("outdentList"))}}function Ub(a){let e=1;for(const r of a.getChildren())if(r.name=="ul"||r.name=="ol")for(const s of r.getChildren())e+=Ub(s);return e}Zp("Ctrl+Enter");var AM=c(1199),RH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(AM.Z,RH),AM.Z.locals;function _M(a,e){const r=(s,l,d)=>{if(!d.consumable.consume(l.item,s.name))return;const m=l.attributeNewValue,y=d.writer,C=d.mapper.toViewElement(l.item),S=[...C.getChildren()].find($=>$.getCustomProperty("media-content"));y.remove(S);const M=a.getMediaViewElement(y,m,e);y.insert(y.createPositionAt(C,0),M)};return s=>{s.on("attribute:url:media",r)}}function CM(a,e,r,s){return a.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(a,r,s),a.createSlot()])}function EM(a){const e=a.getSelectedElement();return e&&e.is("element","media")?e:null}function SM(a,e,r,s){a.change(l=>{const d=l.createElement("media",{url:e});a.insertObject(d,r,null,{setSelection:"on",findOptimalPosition:s?"auto":void 0})})}class NH extends mt{refresh(){const e=this.editor.model,r=e.document.selection,s=EM(r);this.value=s?s.getAttribute("url"):void 0,this.isEnabled=function(l){const d=l.getSelectedElement();return!!d&&d.name==="media"}(r)||function(l,d){let y=ZT(l,d).start.parent;return y.isEmpty&&!d.schema.isLimit(y)&&(y=y.parent),d.schema.checkChild(y,"media")}(r,e)}execute(e){const r=this.editor.model,s=r.document.selection,l=EM(s);l?r.change(d=>{d.setAttribute("url",e,l)}):SM(r,e,s,!0)}}class OH{constructor(e,r){const s=r.providers,l=r.extraProviders||[],d=new Set(r.removeProviders),m=s.concat(l).filter(y=>{const C=y.name;return C?!d.has(C):(P("media-embed-no-provider-name",{provider:y}),!1)});this.locale=e,this.providerDefinitions=m}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,r,s){return this._getMedia(r).getViewElement(e,s)}_getMedia(e){if(!e)return new xM(this.locale);e=e.trim();for(const r of this.providerDefinitions){const s=r.html,l=Zn(r.url);for(const d of l){const m=this._getUrlMatches(e,d);if(m)return new xM(this.locale,e,m,s)}}return null}_getUrlMatches(e,r){let s=e.match(r);if(s)return s;let l=e.replace(/^https?:\/\//,"");return s=l.match(r),s||(l=l.replace(/^www\./,""),s=l.match(r),s||null)}}class xM{constructor(e,r,s,l){this.url=this._getValidUrl(r),this._locale=e,this._match=s,this._previewRenderer=l}getViewElement(e,r){const s={};let l;if(r.renderForEditingView||r.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(s["data-oembed-url"]=this.url),r.renderForEditingView&&(s.class="ck-media__wrapper");const d=this._getPreviewHtml(r);l=e.createRawElement("div",s,(m,y)=>{y.setContentOf(m,d)})}else this.url&&(s.url=this.url),l=e.createEmptyElement(r.elementName,s);return e.setCustomProperty("media-content",!0,l),l}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new th,r=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Gr({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":r("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var TM=c(7442),PH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(TM.Z,PH),TM.Z.locals;class Ng extends De{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:r=>{const s=r[1],l=r[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${s}${l?`?start=${l}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new OH(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,r=e.model.schema,s=e.t,l=e.conversion,d=e.config.get("mediaEmbed.previewsInData"),m=e.config.get("mediaEmbed.elementName"),y=this.registry;e.commands.add("mediaEmbed",new NH(e)),r.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),l.for("dataDowncast").elementToStructure({model:"media",view:(C,{writer:S})=>{const M=C.getAttribute("url");return CM(S,y,M,{elementName:m,renderMediaPreview:!!M&&d})}}),l.for("dataDowncast").add(_M(y,{elementName:m,renderMediaPreview:d})),l.for("editingDowncast").elementToStructure({model:"media",view:(C,{writer:S})=>{const M=C.getAttribute("url");return function($,U,W){return U.setCustomProperty("media",!0,$),Cb($,U,{label:W})}(CM(S,y,M,{elementName:m,renderForEditingView:!0}),S,s("media widget"))}}),l.for("editingDowncast").add(_M(y,{elementName:m,renderForEditingView:!0})),l.for("upcast").elementToElement({view:C=>["oembed",m].includes(C.name)&&C.getAttribute("url")?{name:!0}:null,model:(C,{writer:S})=>{const M=C.getAttribute("url");return y.hasMedia(M)?S.createElement("media",{url:M}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(C,{writer:S})=>{const M=C.getAttribute("data-oembed-url");return y.hasMedia(M)?S.createElement("media",{url:M}):null}}).add(C=>{C.on("element:figure",(S,M,$)=>{if(!$.consumable.consume(M.viewItem,{name:!0,classes:"media"}))return;const{modelRange:U,modelCursor:W}=$.convertChildren(M.viewItem,M.modelCursor);M.modelRange=U,M.modelCursor=W,Nn(U.getItems())||$.consumable.revert(M.viewItem,{name:!0,classes:"media"})})})}}const $H=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class BH extends De{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[hD,ps,kD]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,r=e.model.document,s=e.plugins.get("ClipboardPipeline");this.listenTo(s,"inputTransformation",()=>{const l=r.selection.getFirstRange(),d=ci.fromPosition(l.start);d.stickiness="toPrevious";const m=ci.fromPosition(l.end);m.stickiness="toNext",r.once("change:data",()=>{this._embedMediaBetweenPositions(d,m),d.detach(),m.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(vt.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,r){const s=this.editor,l=s.plugins.get(Ng).registry,d=new Qr(e,r),m=d.getWalker({ignoreElementEnd:!0});let y="";for(const C of m)C.item.is("$textProxy")&&(y+=C.item.data);if(y=y.trim(),!y.match($H)||!l.hasMedia(y))return void d.detach();s.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=ci.fromPosition(e),this._timeoutId=vt.window.setTimeout(()=>{s.model.change(C=>{this._timeoutId=null,C.remove(d),d.detach();let S=null;this._positionToInsert.root.rootName!=="$graveyard"&&(S=this._positionToInsert),SM(s.model,y,S,!1),this._positionToInsert.detach(),this._positionToInsert=null}),s.plugins.get(ps).requestUndoOnBackspace()},100)):d.detach()}}var DM=c(9292),FH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(DM.Z,FH),DM.Z.locals;class zH extends bt{constructor(e,r){super(r);const s=r.t;this.focusTracker=new Sr,this.keystrokes=new To,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(s("Save"),Dn.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",l=>!!l),this.cancelButtonView=this._createButton(s("Cancel"),Dn.cancel,"ck-button-cancel","cancel"),this._focusables=new sa,this._focusCycler=new Gc({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),f({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element);const e=r=>r.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(this.urlInputView.element,"selectstart",(r,s)=>{s.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const r=e(this);if(r)return this.urlInputView.errorText=r,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,r=new gb(this.locale,mb),s=r.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),r.label=e("Media URL"),r.infoText=this._urlInputViewInfoDefault,s.on("input",()=>{r.infoText=s.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=s.element.value.trim()}),r}_createButton(e,r,s,l){const d=new tn(this.locale);return d.set({label:e,icon:r,tooltip:!0}),d.extendTemplate({attributes:{class:s}}),l&&d.delegate("execute").to(this,l),d}}class jH extends De{static get requires(){return[Ng]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,r=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",s=>{const l=ca(s);return this._setUpDropdown(l,r),l})}_setUpDropdown(e,r){const s=this.editor,l=s.t,d=e.buttonView,m=s.plugins.get(Ng).registry;e.once("change:isOpen",()=>{const y=new(b(zH))(function(C,S){return[M=>{if(!M.url.length)return C("The URL must not be empty.")},M=>{if(!S.hasMedia(M.url))return C("This media URL is not supported.")}]}(s.t,m),s.locale);e.panelView.children.add(y),d.on("open",()=>{y.disableCssTransitions(),y.url=r.value||"",y.urlInputView.fieldView.select(),y.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{y.isValid()&&(s.execute("mediaEmbed",y.url),s.editing.view.focus())}),e.on("change:isOpen",()=>y.resetFormStatus()),e.on("cancel",()=>{s.editing.view.focus()}),y.delegate("submit","cancel").to(e),y.urlInputView.fieldView.bind("value").to(r,"value"),y.urlInputView.bind("isEnabled").to(r,"isEnabled")}),e.bind("isEnabled").to(r),d.set({label:l("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var IM=c(4652),VH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(IM.Z,VH),IM.Z.locals;function MM(a,e,r,{blockElements:s,inlineObjectElements:l}){let d=r.createPositionAt(a,e=="forward"?"after":"before");return d=d.getLastMatchingPosition(({item:m})=>m.is("element")&&!s.includes(m.name)&&!l.includes(m.name),{direction:e}),e=="forward"?d.nodeAfter:d.nodeBefore}function LM(a,e){return!!a&&a.is("element")&&e.includes(a.name)}function UH(a,e){if(!a.childCount)return;const r=new Xc(a.document),s=function(m,y){const C=y.createRangeIn(m),S=new Mo({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),M=[];for(const $ of C)if($.type==="elementStart"&&S.match($.item)){const U=WH($.item);M.push({element:$.item,id:U.id,order:U.order,indent:U.indent})}return M}(a,r);if(!s.length)return;let l=null,d=1;s.forEach((m,y)=>{const C=function(K,q){if(!K)return!0;if(K.id!==q.id)return q.indent-K.indent!=1;const X=q.element.previousSibling;if(!X)return!0;return ne=X,!(ne.is("element","ol")||ne.is("element","ul"));var ne}(s[y-1],m),S=C?null:s[y-1],M=(U=m,($=S)?U.indent-$.indent:U.indent-1);var $,U;if(C&&(l=null,d=1),!l||M!==0){const K=function(q,X){const ne=new RegExp(`@list l${q.id}:level${q.indent}\\s*({[^}]*)`,"gi"),de=/mso-level-number-format:([^;]{0,100});/gi,be=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,Pe=ne.exec(X);let Xe="decimal",Wt="ol",yt=null;if(Pe&&Pe[1]){const Un=de.exec(Pe[1]);if(Un&&Un[1]&&(Xe=Un[1].trim(),Wt=Xe!=="bullet"&&Xe!=="image"?"ol":"ul"),Xe==="bullet"){const On=function(lu){const Fo=function(ms){if(ms.getChild(0).is("$text"))return null;for(const vs of ms.getChildren()){if(!vs.is("element","span"))continue;const Fl=vs.getChild(0);if(Fl)return Fl.is("$text")?Fl:Fl.getChild(0)}return null}(lu);if(!Fo)return null;const Dr=Fo._data;return Dr==="o"?"circle":Dr===""?"disc":Dr===""?"square":null}(q.element);On&&(Xe=On)}else{const On=be.exec(Pe[1]);On&&On[1]&&(yt=parseInt(On[1]))}}return{type:Wt,startIndex:yt,style:HH(Xe)}}(m,e);if(l){if(m.indent>d){const q=l.getChild(l.childCount-1),X=q.getChild(q.childCount-1);l=RM(K,X,r),d+=1}else if(m.indent<d){const q=d-m.indent;l=function(X,ne){const de=X.getAncestors({parentFirst:!0});let be=null,Pe=0;for(const Xe of de)if((Xe.is("element","ul")||Xe.is("element","ol"))&&Pe++,Pe===ne){be=Xe;break}return be}(l,q),d=m.indent}}else l=RM(K,m.element,r);m.indent<=d&&(l.is("element",K.type)||(l=r.rename(K.type,l)))}const W=function(K,q){return function(X,ne){const de=new Mo({name:"span",styles:{"mso-list":"Ignore"}}),be=ne.createRangeIn(X);for(const Pe of be)Pe.type==="elementStart"&&de.match(Pe.item)&&ne.remove(Pe.item)}(K,q),q.rename("li",K)}(m.element,r);r.appendChild(W,l)})}function HH(a){if(a.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(a){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return a;default:return null}}function RM(a,e,r){const s=e.parent,l=r.createElement(a.type),d=s.getChildIndex(e)+1;return r.insertChild(d,l,s),a.style&&r.setStyle("list-style-type",a.style,l),a.startIndex&&a.startIndex>1&&r.setAttribute("start",a.startIndex,l),l}function WH(a){const e={},r=a.getStyle("mso-list");if(r){const s=r.match(/(^|\s{1,100})l(\d+)/i),l=r.match(/\s{0,100}lfo(\d+)/i),d=r.match(/\s{0,100}level(\d+)/i);s&&l&&d&&(e.id=s[2],e.order=l[1],e.indent=parseInt(d[1]))}return e}const GH=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class KH{constructor(e){this.document=e}isActive(e){return GH.test(e)}execute(e){const r=new Xc(this.document),{body:s}=e._parsedData;(function(l,d){for(const m of l.getChildren())if(m.is("element","b")&&m.getStyle("font-weight")==="normal"){const y=l.getChildIndex(m);d.remove(m),d.insertChild(y,m.getChildren(),l)}})(s,r),function(l,d){for(const m of d.createRangeIn(l)){const y=m.item;if(y.is("element","li")){const C=y.getChild(0);C&&C.is("element","p")&&d.unwrapElement(C)}}}(s,r),function(l,d){const m=new ag(d.document.stylesProcessor),y=new dg(m,{renderingMode:"data"}),C=y.blockElements,S=y.inlineObjectElements,M=[];for(const $ of d.createRangeIn(l)){const U=$.item;if(U.is("element","br")){const W=MM(U,"forward",d,{blockElements:C,inlineObjectElements:S}),K=MM(U,"backward",d,{blockElements:C,inlineObjectElements:S}),q=LM(W,C);(LM(K,C)||q)&&M.push(U)}}for(const $ of M)$.hasClass("Apple-interchange-newline")?d.remove($):d.replace($,d.createElement("p"))}(s,r),e.content=s}}function qH(a,e){if(!a.childCount)return;const r=new Xc(a.document),s=function(d,m){const y=m.createRangeIn(d),C=new Mo({name:/v:(.+)/}),S=[];for(const M of y){if(M.type!="elementStart")continue;const $=M.item,U=$.previousSibling,W=U&&U.is("element")?U.name:null;C.match($)&&$.getAttribute("o:gfxdata")&&W!=="v:shapetype"&&S.push(M.item.getAttribute("id"))}return S}(a,r);(function(d,m,y){const C=y.createRangeIn(m),S=new Mo({name:"img"}),M=[];for(const $ of C)if($.item.is("element")&&S.match($.item)){const U=$.item,W=U.getAttribute("v:shapes")?U.getAttribute("v:shapes").split(" "):[];W.length&&W.every(K=>d.indexOf(K)>-1)?M.push(U):U.getAttribute("src")||M.push(U)}for(const $ of M)y.remove($)})(s,a,r),function(d,m,y){const C=y.createRangeIn(m),S=[];for(const U of C)if(U.type=="elementStart"&&U.item.is("element","v:shape")){const W=U.item.getAttribute("id");if(d.includes(W))continue;M(U.item.parent.getChildren(),W)||S.push(U.item)}for(const U of S){const W={src:$(U)};U.hasAttribute("alt")&&(W.alt=U.getAttribute("alt"));const K=y.createElement("img",W);y.insertChild(U.index+1,K,U.parent)}function M(U,W){for(const K of U)if(K.is("element")&&(K.name=="img"&&K.getAttribute("v:shapes")==W||M(K.getChildren(),W)))return!0;return!1}function $(U){for(const W of U.getChildren())if(W.is("element")&&W.getAttribute("src"))return W.getAttribute("src")}}(s,a,r),function(d,m){const y=m.createRangeIn(d),C=new Mo({name:/v:(.+)/}),S=[];for(const M of y)M.type=="elementStart"&&C.match(M.item)&&S.push(M.item);for(const M of S)m.remove(M)}(a,r);const l=function(d,m){const y=m.createRangeIn(d),C=new Mo({name:"img"}),S=[];for(const M of y)M.item.is("element")&&C.match(M.item)&&M.item.getAttribute("src").startsWith("file://")&&S.push(M.item);return S}(a,r);l.length&&function(d,m,y){if(d.length===m.length)for(let C=0;C<d.length;C++){const S=`data:${m[C].type};base64,${QH(m[C].hex)}`;y.setAttribute("src",S,d[C])}}(l,function(d){if(!d)return[];const m=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,y=new RegExp("(?:("+m.source+"))([\\da-fA-F\\s]+)\\}","g"),C=d.match(y),S=[];if(C)for(const M of C){let $=!1;M.includes("\\pngblip")?$="image/png":M.includes("\\jpegblip")&&($="image/jpeg"),$&&S.push({hex:M.replace(m,"").replace(/[^\da-fA-F]/g,""),type:$})}return S}(e),r)}function QH(a){return btoa(a.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const YH=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,ZH=/xmlns:o="urn:schemas-microsoft-com/i;class JH{constructor(e){this.document=e}isActive(e){return YH.test(e)||ZH.test(e)}execute(e){const{body:r,stylesString:s}=e._parsedData;UH(r,s),qH(r,e.dataTransfer.getData("text/rtf")),e.content=r}}function NM(a){return a.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,r)=>r.length===1?" ":Array(r.length+1).join(" ").substr(0,r.length))}function XH(a,e){const r=new DOMParser,s=function(C){return NM(NM(C)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(C){const S="</body>",M="</html>",$=C.indexOf(S);if($<0)return C;const U=C.indexOf(M,$+S.length);return C.substring(0,$+S.length)+(U>=0?C.substring(U):"")}(a=a.replace(/<!--\[if gte vml 1]>/g,""))),l=r.parseFromString(s,"text/html");(function(C){C.querySelectorAll("span[style*=spacerun]").forEach(S=>{const M=S,$=M.innerText.length||0;M.innerText=Array($+1).join(" ").substr(0,$)})})(l);const d=l.body.innerHTML,m=function(C,S){const M=new ag(S),$=new dg(M,{renderingMode:"data"}),U=C.createDocumentFragment(),W=C.body.childNodes;for(;W.length>0;)U.appendChild(W[0]);return $.domToView(U,{skipComments:!0})}(l,e),y=function(C){const S=[],M=[],$=Array.from(C.getElementsByTagName("style"));for(const U of $)U.sheet&&U.sheet.cssRules&&U.sheet.cssRules.length&&(S.push(U.sheet),M.push(U.innerHTML));return{styles:S,stylesString:M.join(" ")}}(l);return{body:m,bodyString:d,styles:y.styles,stylesString:y.stylesString}}function _n(a,e,r,s,l=1){e!=null&&l!=null&&e>l?s.setAttribute(a,e,r):s.removeAttribute(a,r)}function Pl(a,e,r={}){const s=a.createElement("tableCell",r);return a.insertElement("paragraph",s),a.insert(s,e),s}function Hb(a,e){const r=e.parent.parent,s=parseInt(r.getAttribute("headingColumns")||"0"),{column:l}=a.getCellLocation(e);return!!s&&l<s}function e7(){return a=>{a.on("element:table",(e,r,s)=>{const l=r.viewItem;if(!s.consumable.test(l,{name:!0}))return;const{rows:d,headingRows:m,headingColumns:y}=function(M){let $,U=0;const W=[],K=[];let q;for(const X of Array.from(M.getChildren())){if(X.name!=="tbody"&&X.name!=="thead"&&X.name!=="tfoot")continue;X.name!=="thead"||q||(q=X);const ne=Array.from(X.getChildren()).filter(de=>de.is("element","tr"));for(const de of ne)if(q&&X===q||X.name==="tbody"&&Array.from(de.getChildren()).length&&Array.from(de.getChildren()).every(be=>be.is("element","th")))U++,W.push(de);else{K.push(de);const be=t7(de);(!$||be<$)&&($=be)}}return{headingRows:U,headingColumns:$||0,rows:[...W,...K]}}(l),C={};y&&(C.headingColumns=y),m&&(C.headingRows=m);const S=s.writer.createElement("table",C);if(s.safeInsert(S,r.modelCursor)){if(s.consumable.consume(l,{name:!0}),d.forEach(M=>s.convertItem(M,s.writer.createPositionAt(S,"end"))),s.convertChildren(l,s.writer.createPositionAt(S,"end")),S.isEmpty){const M=s.writer.createElement("tableRow");s.writer.insert(M,s.writer.createPositionAt(S,"end")),Pl(s.writer,s.writer.createPositionAt(M,"end"))}s.updateConversionResult(S,r)}})}}function OM(a){return e=>{e.on(`element:${a}`,(r,s,{writer:l})=>{if(!s.modelRange)return;const d=s.modelRange.start.nodeAfter,m=l.createPositionAt(d,0);if(s.viewItem.isEmpty)return void l.insertElement("paragraph",m);const y=Array.from(d.getChildren());if(y.every(C=>C.is("element","$marker"))){const C=l.createElement("paragraph");l.insert(C,l.createPositionAt(d,0));for(const S of y)l.move(l.createRangeOn(S),l.createPositionAt(C,"end"))}},{priority:"low"})}}function t7(a){let e=0,r=0;const s=Array.from(a.getChildren()).filter(l=>l.name==="th"||l.name==="td");for(;r<s.length&&s[r].name==="th";){const l=s[r];e+=parseInt(l.getAttribute("colspan")||"1"),r++}return e}class Ht{constructor(e,r={}){this._table=e,this._startRow=r.row!==void 0?r.row:r.startRow||0,this._endRow=r.row!==void 0?r.row:r.endRow,this._startColumn=r.column!==void 0?r.column:r.startColumn||0,this._endColumn=r.column!==void 0?r.column:r.endColumn,this._includeAllSlots=!!r.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let r=null;const s=this._getSpanned();if(s)this._includeAllSlots&&!this._shouldSkipSlot()&&(r=this._formatOutValue(s.cell,s.row,s.column));else{const l=e.getChild(this._cellIndex);if(!l)return this._advanceToNextRow();const d=parseInt(l.getAttribute("colspan")||"1"),m=parseInt(l.getAttribute("rowspan")||"1");(d>1||m>1)&&this._recordSpans(l,m,d),this._shouldSkipSlot()||(r=this._formatOutValue(l)),this._nextCellAtColumn=this._column+d}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,r||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,r=this._row,s=this._column){return{done:!1,value:new n7(this,e,r,s)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),r=this._row<this._startRow,s=this._column<this._startColumn,l=this._endColumn!==void 0&&this._column>this._endColumn;return e||r||s||l}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,r,s){const l={cell:e,row:this._row,column:this._column};for(let d=this._row;d<this._row+r;d++)for(let m=this._column;m<this._column+s;m++)d==this._row&&m==this._column||this._markSpannedCell(d,m,l)}_markSpannedCell(e,r,s){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(r,s)}}class n7{constructor(e,r,s,l){this.cell=r,this.row=e._row,this.column=e._column,this.cellAnchorRow=s,this.cellAnchorColumn=l,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function PM(a,e){return(r,{writer:s})=>{const l=r.getAttribute("headingRows")||0,d=s.createContainerElement("table",null,[]),m=s.createContainerElement("figure",{class:"table"},d);l>0&&s.insert(s.createPositionAt(d,"end"),s.createContainerElement("thead",null,s.createSlot(y=>y.is("element","tableRow")&&y.index<l))),l<a.getRows(r)&&s.insert(s.createPositionAt(d,"end"),s.createContainerElement("tbody",null,s.createSlot(y=>y.is("element","tableRow")&&y.index>=l)));for(const{positionOffset:y,filter:C}of e.additionalSlots)s.insert(s.createPositionAt(d,y),s.createSlot(C));return s.insert(s.createPositionAt(d,"after"),s.createSlot(y=>!y.is("element","tableRow")&&!e.additionalSlots.some(({filter:C})=>C(y)))),e.asWidget?function(y,C){return C.setCustomProperty("table",!0,y),Cb(y,C,{hasSelectionHandle:!0})}(m,s):m}}function $M(a={}){return(e,{writer:r})=>{const s=e.parent,l=s.parent,d=l.getChildIndex(s),m=new Ht(l,{row:d}),y=l.getAttribute("headingRows")||0,C=l.getAttribute("headingColumns")||0;let S=null;for(const M of m)if(M.cell==e){const $=M.row<y||M.column<C?"th":"td";S=a.asWidget?YT(r.createEditableElement($),r):r.createContainerElement($);break}return S}}function BM(a={}){return(e,{writer:r})=>{if(!e.parent.is("element","tableCell")||!FM(e))return null;if(a.asWidget)return r.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const s=r.createContainerElement("p");return r.setCustomProperty("dataPipeline:transparentRendering",!0,s),s}}}function FM(a){return a.parent.childCount==1&&!!a.getAttributeKeys().next().done}class i7 extends mt{refresh(){const e=this.editor.model,r=e.document.selection,s=e.schema;this.isEnabled=function(l,d){const m=l.getFirstPosition().parent,y=m===m.root?m:m.parent;return d.checkChild(y,"table")}(r,s)}execute(e={}){const r=this.editor,s=r.model,l=r.plugins.get("TableUtils"),d=r.config.get("table.defaultHeadings.rows"),m=r.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&d&&(e.headingRows=d),e.headingColumns===void 0&&m&&(e.headingColumns=m),s.change(y=>{const C=l.createTable(y,e);s.insertObject(C,null,null,{findOptimalPosition:"auto"}),y.setSelection(y.createPositionAt(C.getNodeByPath([0,0,0]),0))})}}class zM extends mt{constructor(e,r={}){super(e),this.order=r.order||"below"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,r=e.model.document.selection,s=e.plugins.get("TableUtils"),l=this.order==="above",d=s.getSelectionAffectedTableCells(r),m=s.getRowIndexes(d),y=l?m.first:m.last,C=d[0].findAncestor("table");s.insertRows(C,{at:l?y:y+1,copyStructureFromAbove:!l})}}class jM extends mt{constructor(e,r={}){super(e),this.order=r.order||"right"}refresh(){const e=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=r}execute(){const e=this.editor,r=e.model.document.selection,s=e.plugins.get("TableUtils"),l=this.order==="left",d=s.getSelectionAffectedTableCells(r),m=s.getColumnIndexes(d),y=l?m.first:m.last,C=d[0].findAncestor("table");s.insertColumns(C,{columns:1,at:l?y:y+1})}}class VM extends mt{constructor(e,r={}){super(e),this.direction=r.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),r=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(r,2):e.splitCellVertically(r,2)}}function UM(a,e,r){const{startRow:s,startColumn:l,endRow:d,endColumn:m}=e,y=r.createElement("table"),C=d-s+1;for(let M=0;M<C;M++)r.insertElement("tableRow",y,"end");const S=[...new Ht(a,{startRow:s,endRow:d,startColumn:l,endColumn:m,includeAllSlots:!0})];for(const{row:M,column:$,cell:U,isAnchor:W,cellAnchorRow:K,cellAnchorColumn:q}of S){const X=M-s,ne=y.getChild(X);if(W){const de=r.cloneElement(U);r.append(de,ne),qM(de,M,$,d,m,r)}else(K<s||q<l)&&Pl(r,r.createPositionAt(ne,"end"))}return function(M,$,U,W,K){const q=parseInt($.getAttribute("headingRows")||"0");q>0&&_n("headingRows",q-U,M,K,0);const X=parseInt($.getAttribute("headingColumns")||"0");X>0&&_n("headingColumns",X-W,M,K,0)}(y,a,s,l,r),y}function HM(a,e,r=0){const s=[],l=new Ht(a,{startRow:r,endRow:e-1});for(const d of l){const{row:m,cellHeight:y}=d;m<e&&e<=m+y-1&&s.push(d)}return s}function WM(a,e,r){const s=a.parent,l=s.parent,d=s.index,m=e-d,y={},C=parseInt(a.getAttribute("rowspan"))-m;C>1&&(y.rowspan=C);const S=parseInt(a.getAttribute("colspan")||"1");S>1&&(y.colspan=S);const M=d+m,$=[...new Ht(l,{startRow:d,endRow:M,includeAllSlots:!0})];let U,W=null;for(const K of $){const{row:q,column:X,cell:ne}=K;ne===a&&U===void 0&&(U=X),U!==void 0&&U===X&&q===M&&(W=Pl(r,K.getPositionBefore(),y))}return _n("rowspan",m,a,r),W}function GM(a,e){const r=[],s=new Ht(a);for(const l of s){const{column:d,cellWidth:m}=l;d<e&&e<=d+m-1&&r.push(l)}return r}function KM(a,e,r,s){const l=r-e,d={},m=parseInt(a.getAttribute("colspan"))-l;m>1&&(d.colspan=m);const y=parseInt(a.getAttribute("rowspan")||"1");y>1&&(d.rowspan=y);const C=Pl(s,s.createPositionAfter(a),d);return _n("colspan",l,a,s),C}function qM(a,e,r,s,l,d){const m=parseInt(a.getAttribute("colspan")||"1"),y=parseInt(a.getAttribute("rowspan")||"1");r+m-1>l&&_n("colspan",l-r+1,a,d,1),e+y-1>s&&_n("rowspan",s-e+1,a,d,1)}function Wb(a,e){const r=e.getColumns(a),s=new Array(r).fill(0);for(const{column:d}of new Ht(a))s[d]++;const l=s.reduce((d,m,y)=>m?d:[...d,y],[]);if(l.length>0){const d=l[l.length-1];return e.removeColumns(a,{at:d}),!0}return!1}function Gb(a,e){const r=[],s=e.getRows(a);for(let l=0;l<s;l++)a.getChild(l).isEmpty&&r.push(l);if(r.length>0){const l=r[r.length-1];return e.removeRows(a,{at:l}),!0}return!1}function Kb(a,e){Wb(a,e)||Gb(a,e)}function QM(a,e){const r=Array.from(new Ht(a,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(r.every(({cellHeight:l})=>l===1))return e.lastRow;const s=r[0].cellHeight-1;return e.lastRow+s}function YM(a,e){const r=Array.from(new Ht(a,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(r.every(({cellWidth:l})=>l===1))return e.lastColumn;const s=r[0].cellWidth-1;return e.lastColumn+s}class Og extends mt{constructor(e,r){super(e),this.direction=r.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,r=e.document,s=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(r.selection)[0],l=this.value,d=this.direction;e.change(m=>{const y=d=="right"||d=="down",C=y?s:l,S=y?l:s,M=S.parent;(function(q,X,ne){ZM(q)||(ZM(X)&&ne.remove(ne.createRangeIn(X)),ne.move(ne.createRangeIn(q),ne.createPositionAt(X,"end"))),ne.remove(q)})(S,C,m);const $=this.isHorizontal?"colspan":"rowspan",U=parseInt(s.getAttribute($)||"1"),W=parseInt(l.getAttribute($)||"1");m.setAttribute($,U+W,C),m.setSelection(m.createRangeIn(C));const K=this.editor.plugins.get("TableUtils");Kb(M.findAncestor("table"),K)})}_getMergeableCell(){const e=this.editor.model.document,r=this.editor.plugins.get("TableUtils"),s=r.getTableCellsContainingSelection(e.selection)[0];if(!s)return;const l=this.isHorizontal?function(y,C,S){const M=y.parent,$=M.parent,U=C=="right"?y.nextSibling:y.previousSibling,W=($.getAttribute("headingColumns")||0)>0;if(!U)return;const K=C=="right"?y:U,q=C=="right"?U:y,{column:X}=S.getCellLocation(K),{column:ne}=S.getCellLocation(q),de=parseInt(K.getAttribute("colspan")||"1"),be=Hb(S,K),Pe=Hb(S,q);if(!(W&&be!=Pe))return X+de===ne?U:void 0}(s,this.direction,r):function(y,C,S){const M=y.parent,$=M.parent,U=$.getChildIndex(M);if(C=="down"&&U===S.getRows($)-1||C=="up"&&U===0)return null;const W=parseInt(y.getAttribute("rowspan")||"1"),K=$.getAttribute("headingRows")||0,q=C=="down"&&U+W===K,X=C=="up"&&U===K;if(K&&(q||X))return null;const ne=parseInt(y.getAttribute("rowspan")||"1"),de=C=="down"?U+ne:U,be=[...new Ht($,{endRow:de})],Pe=be.find(yt=>yt.cell===y),Xe=Pe.column,Wt=be.find(({row:yt,cellHeight:Un,column:On})=>On===Xe&&(C=="down"?yt===de:de===yt+Un));return Wt&&Wt.cell?Wt.cell:null}(s,this.direction,r);if(!l)return;const d=this.isHorizontal?"rowspan":"colspan",m=parseInt(s.getAttribute(d)||"1");return parseInt(l.getAttribute(d)||"1")===m?l:void 0}}function ZM(a){const e=a.getChild(0);return a.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class r7 extends mt{refresh(){const e=this.editor.plugins.get("TableUtils"),r=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=r[0];if(s){const l=s.findAncestor("table"),d=e.getRows(l)-1,m=e.getRowIndexes(r),y=m.first===0&&m.last===d;this.isEnabled=!y}else this.isEnabled=!1}execute(){const e=this.editor.model,r=this.editor.plugins.get("TableUtils"),s=r.getSelectionAffectedTableCells(e.document.selection),l=r.getRowIndexes(s),d=s[0],m=d.findAncestor("table"),y=r.getCellLocation(d).column;e.change(C=>{const S=l.last-l.first+1;r.removeRows(m,{at:l.first,rows:S});const M=function($,U,W,K){const q=$.getChild(Math.min(U,K-1));let X=q.getChild(0),ne=0;for(const de of q.getChildren()){if(ne>W)return X;X=de,ne+=parseInt(de.getAttribute("colspan")||"1")}return X}(m,l.first,y,r.getRows(m));C.setSelection(C.createPositionAt(M,0))})}}class o7 extends mt{refresh(){const e=this.editor.plugins.get("TableUtils"),r=e.getSelectionAffectedTableCells(this.editor.model.document.selection),s=r[0];if(s){const l=s.findAncestor("table"),d=e.getColumns(l),{first:m,last:y}=e.getColumnIndexes(r);this.isEnabled=y-m<d-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[r,s]=function(C,S){const M=S.getSelectionAffectedTableCells(C),$=M[0],U=M.pop(),W=[$,U];return $.isBefore(U)?W:W.reverse()}(this.editor.model.document.selection,e),l=r.parent.parent,d=[...new Ht(l)],m={first:d.find(C=>C.cell===r).column,last:d.find(C=>C.cell===s).column},y=function(C,S,M,$){return parseInt(M.getAttribute("colspan")||"1")>1?M:S.previousSibling||M.nextSibling?M.nextSibling||S.previousSibling:$.first?C.reverse().find(({column:W})=>W<$.first).cell:C.reverse().find(({column:W})=>W>$.last).cell}(d,r,s,m);this.editor.model.change(C=>{const S=m.last-m.first+1;e.removeColumns(l,{at:m.first,columns:S}),C.setSelection(C.createPositionAt(y,0))})}}class s7 extends mt{refresh(){const e=this.editor.plugins.get("TableUtils"),r=this.editor.model,s=e.getSelectionAffectedTableCells(r.document.selection),l=s.length>0;this.isEnabled=l,this.value=l&&s.every(d=>this._isInHeading(d,d.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=r.getSelectionAffectedTableCells(s.document.selection),d=l[0].findAncestor("table"),{first:m,last:y}=r.getRowIndexes(l),C=this.value?m:y+1,S=d.getAttribute("headingRows")||0;s.change(M=>{if(C){const $=HM(d,C,C>S?S:0);for(const{cell:U}of $)WM(U,C,M)}_n("headingRows",C,d,M,0)})}_isInHeading(e,r){const s=parseInt(r.getAttribute("headingRows")||"0");return!!s&&e.parent.index<s}}class a7 extends mt{refresh(){const e=this.editor.model,r=this.editor.plugins.get("TableUtils"),s=r.getSelectionAffectedTableCells(e.document.selection),l=s.length>0;this.isEnabled=l,this.value=l&&s.every(d=>Hb(r,d))}execute(e={}){if(e.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),s=this.editor.model,l=r.getSelectionAffectedTableCells(s.document.selection),d=l[0].findAncestor("table"),{first:m,last:y}=r.getColumnIndexes(l),C=this.value?m:y+1;s.change(S=>{if(C){const M=GM(d,C);for(const{cell:$,column:U}of M)KM($,U,C,S)}_n("headingColumns",C,d,S,0)})}}class Ai extends De{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const r=e.parent,s=r.parent,l=s.getChildIndex(r),d=new Ht(s,{row:l});for(const{cell:m,row:y,column:C}of d)if(m===e)return{row:y,column:C}}createTable(e,r){const s=e.createElement("table"),l=r.rows||2,d=r.columns||2;return qb(e,s,0,l,d),r.headingRows&&_n("headingRows",Math.min(r.headingRows,l),s,e,0),r.headingColumns&&_n("headingColumns",Math.min(r.headingColumns,d),s,e,0),s}insertRows(e,r={}){const s=this.editor.model,l=r.at||0,d=r.rows||1,m=r.copyStructureFromAbove!==void 0,y=r.copyStructureFromAbove?l-1:l,C=this.getRows(e),S=this.getColumns(e);if(l>C)throw new N("tableutils-insertrows-insert-out-of-range",this,{options:r});s.change(M=>{const $=e.getAttribute("headingRows")||0;if($>l&&_n("headingRows",$+d,e,M,0),!m&&(l===0||l===C))return void qb(M,e,l,d,S);const U=m?Math.max(l,y):l,W=new Ht(e,{endRow:U}),K=new Array(S).fill(1);for(const{row:q,column:X,cellHeight:ne,cellWidth:de,cell:be}of W){const Pe=q+ne-1,Xe=q<=y&&y<=Pe;q<l&&l<=Pe?(M.setAttribute("rowspan",ne+d,be),K[X]=-de):m&&Xe&&(K[X]=de)}for(let q=0;q<d;q++){const X=M.createElement("tableRow");M.insert(X,e,l);for(let ne=0;ne<K.length;ne++){const de=K[ne],be=M.createPositionAt(X,"end");de>0&&Pl(M,be,de>1?{colspan:de}:void 0),ne+=Math.abs(de)-1}}})}insertColumns(e,r={}){const s=this.editor.model,l=r.at||0,d=r.columns||1;s.change(m=>{const y=e.getAttribute("headingColumns");l<y&&m.setAttribute("headingColumns",y+d,e);const C=this.getColumns(e);if(l===0||C===l){for(const M of e.getChildren())M.is("element","tableRow")&&au(d,m,m.createPositionAt(M,l?"end":0));return}const S=new Ht(e,{column:l,includeAllSlots:!0});for(const M of S){const{row:$,cell:U,cellAnchorColumn:W,cellAnchorRow:K,cellWidth:q,cellHeight:X}=M;if(W<l){m.setAttribute("colspan",q+d,U);const ne=K+X-1;for(let de=$;de<=ne;de++)S.skipRow(de)}else au(d,m,M.getPositionBefore())}})}removeRows(e,r){const s=this.editor.model,l=r.rows||1,d=this.getRows(e),m=r.at,y=m+l-1;if(y>d-1)throw new N("tableutils-removerows-row-index-out-of-range",this,{table:e,options:r});s.change(C=>{const S={first:m,last:y},{cellsToMove:M,cellsToTrim:$}=function(U,{first:W,last:K}){const q=new Map,X=[];for(const{row:ne,column:de,cellHeight:be,cell:Pe}of new Ht(U,{endRow:K})){const Xe=ne+be-1;if(ne>=W&&ne<=K&&Xe>K){const Wt=be-(K-ne+1);q.set(de,{cell:Pe,rowspan:Wt})}if(ne<W&&Xe>=W){let Wt;Wt=Xe>=K?K-W+1:Xe-W+1,X.push({cell:Pe,rowspan:be-Wt})}}return{cellsToMove:q,cellsToTrim:X}}(e,S);M.size&&function(U,W,K,q){const X=new Ht(U,{includeAllSlots:!0,row:W}),ne=[...X],de=U.getChild(W);let be;for(const{column:Pe,cell:Xe,isAnchor:Wt}of ne)if(K.has(Pe)){const{cell:yt,rowspan:Un}=K.get(Pe),On=be?q.createPositionAfter(be):q.createPositionAt(de,0);q.move(q.createRangeOn(yt),On),_n("rowspan",Un,yt,q),be=yt}else Wt&&(be=Xe)}(e,y+1,M,C);for(let U=y;U>=m;U--)C.remove(e.getChild(U));for(const{rowspan:U,cell:W}of $)_n("rowspan",U,W,C);(function(U,{first:W,last:K},q){const X=U.getAttribute("headingRows")||0;W<X&&_n("headingRows",K<X?X-(K-W+1):W,U,q,0)})(e,S,C),Wb(e,this)||Gb(e,this)})}removeColumns(e,r){const s=this.editor.model,l=r.at,d=r.columns||1,m=r.at+d-1;s.change(y=>{(function(C,S,M){const $=C.getAttribute("headingColumns")||0;if($&&S.first<$){const U=Math.min($-1,S.last)-S.first+1;M.setAttribute("headingColumns",$-U,C)}})(e,{first:l,last:m},y);for(let C=m;C>=l;C--)for(const{cell:S,column:M,cellWidth:$}of[...new Ht(e)])M<=C&&$>1&&M+$>C?_n("colspan",$-1,S,y):M===C&&y.remove(S);Gb(e,this)||Wb(e,this)})}splitCellVertically(e,r=2){const s=this.editor.model,l=e.parent.parent,d=parseInt(e.getAttribute("rowspan")||"1"),m=parseInt(e.getAttribute("colspan")||"1");s.change(y=>{if(m>1){const{newCellsSpan:C,updatedSpan:S}=JM(m,r);_n("colspan",S,e,y);const M={};C>1&&(M.colspan=C),d>1&&(M.rowspan=d),au(m>r?r-1:m-1,y,y.createPositionAfter(e),M)}if(m<r){const C=r-m,S=[...new Ht(l)],{column:M}=S.find(({cell:K})=>K===e),$=S.filter(({cell:K,cellWidth:q,column:X})=>K!==e&&X===M||X<M&&X+q>M);for(const{cell:K,cellWidth:q}of $)y.setAttribute("colspan",q+C,K);const U={};d>1&&(U.rowspan=d),au(C,y,y.createPositionAfter(e),U);const W=l.getAttribute("headingColumns")||0;W>M&&_n("headingColumns",W+C,l,y)}})}splitCellHorizontally(e,r=2){const s=this.editor.model,l=e.parent,d=l.parent,m=d.getChildIndex(l),y=parseInt(e.getAttribute("rowspan")||"1"),C=parseInt(e.getAttribute("colspan")||"1");s.change(S=>{if(y>1){const M=[...new Ht(d,{startRow:m,endRow:m+y-1,includeAllSlots:!0})],{newCellsSpan:$,updatedSpan:U}=JM(y,r);_n("rowspan",U,e,S);const{column:W}=M.find(({cell:q})=>q===e),K={};$>1&&(K.rowspan=$),C>1&&(K.colspan=C);for(const q of M){const{column:X,row:ne}=q;ne>=m+U&&X===W&&(ne+m+U)%$==0&&au(1,S,q.getPositionBefore(),K)}}if(y<r){const M=r-y,$=[...new Ht(d,{startRow:0,endRow:m})];for(const{cell:K,cellHeight:q,row:X}of $)if(K!==e&&X+q>m){const ne=q+M;S.setAttribute("rowspan",ne,K)}const U={};C>1&&(U.colspan=C),qb(S,d,m+1,M,1,U);const W=d.getAttribute("headingRows")||0;W>m&&_n("headingRows",W+M,d,S)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((r,s)=>r+parseInt(s.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((r,s)=>s.is("element","tableRow")?r+1:r,0)}createTableWalker(e,r={}){return new Ht(e,r)}getSelectedTableCells(e){const r=[];for(const s of this.sortRanges(e.getRanges())){const l=s.getContainedElement();l&&l.is("element","tableCell")&&r.push(l)}return r}getTableCellsContainingSelection(e){const r=[];for(const s of e.getRanges()){const l=s.start.findAncestor("tableCell");l&&r.push(l)}return r}getSelectionAffectedTableCells(e){const r=this.getSelectedTableCells(e);return r.length?r:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const r=e.map(s=>s.parent.index);return this._getFirstLastIndexesObject(r)}getColumnIndexes(e){const r=e[0].findAncestor("table"),s=[...new Ht(r)].filter(l=>e.includes(l.cell)).map(l=>l.column);return this._getFirstLastIndexesObject(s)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const r=new Set,s=new Set;let l=0;for(const m of e){const{row:y,column:C}=this.getCellLocation(m),S=parseInt(m.getAttribute("rowspan"))||1,M=parseInt(m.getAttribute("colspan"))||1;r.add(y),s.add(C),S>1&&r.add(y+S-1),M>1&&s.add(C+M-1),l+=S*M}return function(m,y){const C=Array.from(m.values()),S=Array.from(y.values()),M=Math.max(...C),$=Math.min(...C),U=Math.max(...S),W=Math.min(...S);return(M-$+1)*(U-W+1)}(r,s)==l}sortRanges(e){return Array.from(e).sort(l7)}_getFirstLastIndexesObject(e){const r=e.sort((s,l)=>s-l);return{first:r[0],last:r[r.length-1]}}_areCellInTheSameTableSection(e){const r=e[0].findAncestor("table"),s=this.getRowIndexes(e),l=parseInt(r.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(s,l))return!1;const d=this.getColumnIndexes(e),m=parseInt(r.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(d,m)}_areIndexesInSameSection({first:e,last:r},s){return e<s==r<s}}function qb(a,e,r,s,l,d={}){for(let m=0;m<s;m++){const y=a.createElement("tableRow");a.insert(y,e,r),au(l,a,a.createPositionAt(y,"end"),d)}}function au(a,e,r,s={}){for(let l=0;l<a;l++)Pl(e,r,s)}function JM(a,e){if(a<e)return{newCellsSpan:1,updatedSpan:1};const r=Math.floor(a/e);return{newCellsSpan:r,updatedSpan:a-r*e+r}}function l7(a,e){const r=a.start,s=e.start;return r.isBefore(s)?-1:1}class c7 extends mt{refresh(){const e=this.editor.plugins.get(Ai),r=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(r)}execute(){const e=this.editor.model,r=this.editor.plugins.get(Ai);e.change(s=>{const l=r.getSelectedTableCells(e.document.selection),d=l.shift(),{mergeWidth:m,mergeHeight:y}=function(C,S,M){let $=0,U=0;for(const ne of S){const{row:de,column:be}=M.getCellLocation(ne);$=e2(ne,be,$,"colspan"),U=e2(ne,de,U,"rowspan")}const{row:W,column:K}=M.getCellLocation(C),q=$-K,X=U-W;return{mergeWidth:q,mergeHeight:X}}(d,l,r);_n("colspan",m,d,s),_n("rowspan",y,d,s);for(const C of l)u7(C,d,s);Kb(d.findAncestor("table"),r),s.setSelection(d,"in")})}}function u7(a,e,r){XM(a)||(XM(e)&&r.remove(r.createRangeIn(e)),r.move(r.createRangeIn(a),r.createPositionAt(e,"end"))),r.remove(a)}function XM(a){const e=a.getChild(0);return a.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function e2(a,e,r,s){const l=parseInt(a.getAttribute(s)||"1");return Math.max(r,e+l)}class d7 extends mt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,r=this.editor.plugins.get("TableUtils"),s=r.getSelectionAffectedTableCells(e.document.selection),l=r.getRowIndexes(s),d=s[0].findAncestor("table"),m=[];for(let y=l.first;y<=l.last;y++)for(const C of d.getChild(y).getChildren())m.push(e.createRangeOn(C));e.change(y=>{y.setSelection(m)})}}class h7 extends mt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),r=this.editor.model,s=e.getSelectionAffectedTableCells(r.document.selection),l=s[0],d=s.pop(),m=l.findAncestor("table"),y=e.getCellLocation(l),C=e.getCellLocation(d),S=Math.min(y.column,C.column),M=Math.max(y.column,C.column),$=[];for(const U of new Ht(m,{startColumn:S,endColumn:M}))$.push(r.createRangeOn(U.cell));r.change(U=>{U.setSelection($)})}}function f7(a){a.document.registerPostFixer(e=>function(r,s){const l=s.document.differ.getChanges();let d=!1;const m=new Set;for(const y of l){let C=null;y.type=="insert"&&y.name=="table"&&(C=y.position.nodeAfter),y.type!="insert"&&y.type!="remove"||y.name!="tableRow"&&y.name!="tableCell"||(C=y.position.findAncestor("table")),m7(y)&&(C=y.range.start.findAncestor("table")),C&&!m.has(C)&&(d=p7(C,r)||d,d=g7(C,r)||d,m.add(C))}return d}(e,a))}function p7(a,e){let r=!1;const s=function(l){const d=parseInt(l.getAttribute("headingRows")||"0"),m=Array.from(l.getChildren()).reduce((C,S)=>S.is("element","tableRow")?C+1:C,0),y=[];for(const{row:C,cell:S,cellHeight:M}of new Ht(l)){if(M<2)continue;const $=C<d?d:m;if(C+M>$){const U=$-C;y.push({cell:S,rowspan:U})}}return y}(a);if(s.length){r=!0;for(const l of s)_n("rowspan",l.rowspan,l.cell,e,1)}return r}function g7(a,e){let r=!1;const s=function(y){const C=new Array(y.childCount).fill(0);for(const{rowIndex:S}of new Ht(y,{includeAllSlots:!0}))C[S]++;return C}(a),l=[];for(const[y,C]of s.entries())!C&&a.getChild(y).is("element","tableRow")&&l.push(y);if(l.length){r=!0;for(const y of l.reverse())e.remove(a.getChild(y)),s.splice(y,1)}const d=s.filter((y,C)=>a.getChild(C).is("element","tableRow")),m=d[0];if(!d.every(y=>y===m)){const y=d.reduce((C,S)=>S>C?S:C,0);for(const[C,S]of d.entries()){const M=y-S;if(M){for(let $=0;$<M;$++)Pl(e,e.createPositionAt(a.getChild(C),"end"));r=!0}}}return r}function m7(a){if(a.type!=="attribute")return!1;const e=a.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function v7(a){a.document.registerPostFixer(e=>function(r,s){const l=s.document.differ.getChanges();let d=!1;for(const m of l)m.type=="insert"&&m.name=="table"&&(d=w7(m.position.nodeAfter,r)||d),m.type=="insert"&&m.name=="tableRow"&&(d=t2(m.position.nodeAfter,r)||d),m.type=="insert"&&m.name=="tableCell"&&(d=Qb(m.position.nodeAfter,r)||d),m.type!="remove"&&m.type!="insert"||!k7(m)||(d=Qb(m.position.parent,r)||d);return d}(e,a))}function w7(a,e){let r=!1;for(const s of a.getChildren())s.is("element","tableRow")&&(r=t2(s,e)||r);return r}function t2(a,e){let r=!1;for(const s of a.getChildren())r=Qb(s,e)||r;return r}function Qb(a,e){if(a.childCount==0)return e.insertElement("paragraph",a),!0;const r=Array.from(a.getChildren()).filter(s=>s.is("$text"));for(const s of r)e.wrap(e.createRangeOn(s),"paragraph");return!!r.length}function k7(a){return!!a.position.parent.is("element","tableCell")&&(a.type=="insert"&&a.name=="$text"||a.type=="remove")}function b7(a,e){if(!a.is("element","paragraph"))return!1;const r=e.toViewElement(a);return!!r&&FM(a)!==r.is("element","span")}var n2=c(3881),y7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(n2.Z,y7),n2.Z.locals;class A7 extends De{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[Ai]}init(){const e=this.editor,r=e.model,s=r.schema,l=e.conversion,d=e.plugins.get(Ai);s.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),s.register("tableRow",{allowIn:"table",isLimit:!0}),s.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),l.for("upcast").add(m=>{m.on("element:figure",(y,C,S)=>{if(!S.consumable.test(C.viewItem,{name:!0,classes:"table"}))return;const M=function(U){for(const W of U.getChildren())if(W.is("element","table"))return W}(C.viewItem);if(!M||!S.consumable.test(M,{name:!0}))return;S.consumable.consume(C.viewItem,{name:!0,classes:"table"});const $=Nn(S.convertItem(M,C.modelCursor).modelRange.getItems());$?(S.convertChildren(C.viewItem,S.writer.createPositionAt($,"end")),S.updateConversionResult($,C)):S.consumable.revert(C.viewItem,{name:!0,classes:"table"})})}),l.for("upcast").add(e7()),l.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:PM(d,{asWidget:!0,additionalSlots:this._additionalSlots})}),l.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:PM(d,{additionalSlots:this._additionalSlots})}),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("upcast").add(m=>{m.on("element:tr",(y,C)=>{C.viewItem.isEmpty&&C.modelCursor.index==0&&y.stop()},{priority:"high"})}),l.for("downcast").elementToElement({model:"tableRow",view:(m,{writer:y})=>m.isEmpty?y.createEmptyElement("tr"):y.createContainerElement("tr")}),l.for("upcast").elementToElement({model:"tableCell",view:"td"}),l.for("upcast").elementToElement({model:"tableCell",view:"th"}),l.for("upcast").add(OM("td")),l.for("upcast").add(OM("th")),l.for("editingDowncast").elementToElement({model:"tableCell",view:$M({asWidget:!0})}),l.for("dataDowncast").elementToElement({model:"tableCell",view:$M()}),l.for("editingDowncast").elementToElement({model:"paragraph",view:BM({asWidget:!0}),converterPriority:"high"}),l.for("dataDowncast").elementToElement({model:"paragraph",view:BM(),converterPriority:"high"}),l.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),l.for("upcast").attributeToAttribute({model:{key:"colspan",value:i2("colspan")},view:"colspan"}),l.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("upcast").attributeToAttribute({model:{key:"rowspan",value:i2("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new i7(e)),e.commands.add("insertTableRowAbove",new zM(e,{order:"above"})),e.commands.add("insertTableRowBelow",new zM(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new jM(e,{order:"left"})),e.commands.add("insertTableColumnRight",new jM(e,{order:"right"})),e.commands.add("removeTableRow",new r7(e)),e.commands.add("removeTableColumn",new o7(e)),e.commands.add("splitTableCellVertically",new VM(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new VM(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new c7(e)),e.commands.add("mergeTableCellRight",new Og(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Og(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Og(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Og(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new a7(e)),e.commands.add("setTableRowHeader",new s7(e)),e.commands.add("selectTableRow",new d7(e)),e.commands.add("selectTableColumn",new h7(e)),f7(r),v7(r),this.listenTo(r.document,"change:data",()=>{(function(m,y){const C=m.document.differ;for(const S of C.getChanges()){let M,$=!1;if(S.type=="attribute"){const q=S.range.start.nodeAfter;if(!q||!q.is("element","table")||S.attributeKey!="headingRows"&&S.attributeKey!="headingColumns")continue;M=q,$=S.attributeKey=="headingRows"}else S.name!="tableRow"&&S.name!="tableCell"||(M=S.position.findAncestor("table"),$=S.name=="tableRow");if(!M)continue;const U=M.getAttribute("headingRows")||0,W=M.getAttribute("headingColumns")||0,K=new Ht(M);for(const q of K){const X=q.row<U||q.column<W?"th":"td",ne=y.mapper.toViewElement(q.cell);ne&&ne.is("element")&&ne.name!=X&&y.reconvertItem($?q.cell.parent:q.cell)}}})(r,e.editing),function(m,y){const C=m.document.differ,S=new Set;for(const M of C.getChanges()){const $=M.type=="attribute"?M.range.start.parent:M.position.parent;$.is("element","tableCell")&&S.add($)}for(const M of S.values()){const $=Array.from(M.getChildren()).filter(U=>b7(U,y.mapper));for(const U of $)y.reconvertItem(U)}}(r,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function i2(a){return e=>{const r=parseInt(e.getAttribute(a));return Number.isNaN(r)||r<=0?null:r}}var r2=c(1613),_7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(r2.Z,_7),r2.Z.locals;class C7 extends bt{constructor(e){super(e);const r=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new To,this.focusTracker=new Sr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(s,l)=>`${l}  ${s}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":r.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:r.to("label")}]}],on:{mousedown:r.to(s=>{s.preventDefault()}),click:r.to(()=>{this.fire("execute")})}}),this.on("boxover",(s,l)=>{const{row:d,column:m}=l.target.dataset;this.items.get(10*(parseInt(d,10)-1)+(parseInt(m,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(s,l,d)=>{if(!d)return;const{row:m,column:y}=d.dataset;this.set({rows:parseInt(m),columns:parseInt(y)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:e,focusTracker:r,gridItems:s,numberOfColumns:l,uiLanguageDirection:d}){const m=typeof l=="number"?()=>l:l;function y(M){return $=>{const U=s.find(q=>q.element===r.focusedElement),W=s.getIndex(U),K=M(W,s);s.get(K).focus(),$.stopPropagation(),$.preventDefault()}}function C(M,$){return M===$-1?0:M+1}function S(M,$){return M===0?$-1:M-1}e.set("arrowright",y((M,$)=>d==="rtl"?S(M,$.length):C(M,$.length))),e.set("arrowleft",y((M,$)=>d==="rtl"?C(M,$.length):S(M,$.length))),e.set("arrowup",y((M,$)=>{let U=M-m();return U<0&&(U=M+m()*Math.floor($.length/m()),U>$.length-1&&(U-=m())),U})),e.set("arrowdown",y((M,$)=>{let U=M+m();return U>$.length-1&&(U=M%m()),U}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,r=this.columns;this.items.map((s,l)=>{const d=Math.floor(l/10)<e&&l%10<r;s.set("isOn",d)})}_createGridButton(e,r,s,l){const d=new tn(e);return d.set({label:l,class:"ck-insert-table-dropdown-grid-box"}),d.extendTemplate({attributes:{"data-row":r,"data-column":s}}),d}_createGridCollection(){const e=[];for(let r=0;r<100;r++){const s=Math.floor(r/10),l=r%10,d=`${s+1}  ${l+1}`;e.push(this._createGridButton(this.locale,s+1,l+1,d))}return this.createCollection(e)}}class E7 extends De{static get pluginName(){return"TableUI"}init(){const e=this.editor,r=this.editor.t,s=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",l=>{const d=e.commands.get("insertTable"),m=ca(l);let y;return m.bind("isEnabled").to(d),m.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:r("Insert table"),tooltip:!0}),m.on("change:isOpen",()=>{y||(y=new C7(l),m.panelView.children.add(y),y.delegate("execute").to(m),m.on("execute",()=>{e.execute("insertTable",{rows:y.rows,columns:y.columns}),e.editing.view.focus()}))}),m}),e.ui.componentFactory.add("tableColumn",l=>{const d=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:r("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:r("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:r("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:r("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:r("Select column")}}];return this._prepareDropdown(r("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',d,l)}),e.ui.componentFactory.add("tableRow",l=>{const d=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:r("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:r("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:r("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:r("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:r("Select row")}}];return this._prepareDropdown(r("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',d,l)}),e.ui.componentFactory.add("mergeTableCells",l=>{const d=[{type:"button",model:{commandName:"mergeTableCellUp",label:r("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:r("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:r("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:r("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:r("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:r("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(r("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',d,l)})}_prepareDropdown(e,r,s,l){const d=this.editor,m=ca(l),y=this._fillDropdownWithListOptions(m,s);return m.buttonView.set({label:e,icon:r,tooltip:!0}),m.bind("isEnabled").toMany(y,"isEnabled",(...C)=>C.some(S=>S)),this.listenTo(m,"execute",C=>{d.execute(C.source.commandName),C.source instanceof eg||d.editing.view.focus()}),m}_prepareMergeSplitButtonDropdown(e,r,s,l){const d=this.editor,m=ca(l,Sk),y="mergeTableCells",C=d.commands.get(y),S=this._fillDropdownWithListOptions(m,s);return m.buttonView.set({label:e,icon:r,tooltip:!0,isEnabled:!0}),m.bind("isEnabled").toMany([C,...S],"isEnabled",(...M)=>M.some($=>$)),this.listenTo(m.buttonView,"execute",()=>{d.execute(y),d.editing.view.focus()}),this.listenTo(m,"execute",M=>{d.execute(M.source.commandName),d.editing.view.focus()}),m}_fillDropdownWithListOptions(e,r){const s=this.editor,l=[],d=new Wr;for(const m of r)S7(m,s,l,d);return Xx(e,d),l}}function S7(a,e,r,s){if(a.type==="button"||a.type==="switchbutton"){const l=a.model=new vT(a.model),{commandName:d,bindIsOn:m}=a.model,y=e.commands.get(d);r.push(y),l.set({commandName:d}),l.bind("isEnabled").to(y),m&&l.bind("isOn").to(y,"value"),l.set({withText:!0})}s.add(a)}var o2=c(6945),x7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(o2.Z,x7),o2.Z.locals;class $l extends De{static get pluginName(){return"TableSelection"}static get requires(){return[Ai,Ai]}init(){const e=this.editor,r=e.model,s=e.editing.view;this.listenTo(r,"deleteContent",(l,d)=>this._handleDeleteContent(l,d),{priority:"high"}),this.listenTo(s.document,"insertText",(l,d)=>this._handleInsertTextEvent(l,d),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Ai),r=this.editor.model.document.selection,s=e.getSelectedTableCells(r);return s.length==0?null:s}getSelectionAsFragment(){const e=this.editor.plugins.get(Ai),r=this.getSelectedTableCells();return r?this.editor.model.change(s=>{const l=s.createDocumentFragment(),{first:d,last:m}=e.getColumnIndexes(r),{first:y,last:C}=e.getRowIndexes(r),S=r[0].findAncestor("table");let M=C,$=m;if(e.isSelectionRectangular(r)){const W={firstColumn:d,lastColumn:m,firstRow:y,lastRow:C};M=QM(S,W),$=YM(S,W)}const U=UM(S,{startRow:y,startColumn:d,endRow:M,endColumn:$},s);return s.insert(U,l,0),l}):null}setCellSelection(e,r){const s=this._getCellsToSelect(e,r);this.editor.model.change(l=>{l.setSelection(s.cells.map(d=>l.createRangeOn(d)),{backward:s.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=Nn(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,r=new Set;e.conversion.for("editingDowncast").add(s=>s.on("selection",(l,d,m)=>{const y=m.writer;(function(M){for(const $ of r)M.removeClass("ck-editor__editable_selected",$);r.clear()})(y);const C=this.getSelectedTableCells();if(!C)return;for(const M of C){const $=m.mapper.toViewElement(M);y.addClass("ck-editor__editable_selected",$),r.add($)}const S=m.mapper.toViewElement(C[C.length-1]);y.setSelection(S,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const r=this.getSelectedTableCells();if(!r)return;e.model.change(s=>{const l=s.createPositionAt(r[0],0),d=e.model.schema.getNearestSelectionRange(l);s.setSelection(d)})}})}_handleDeleteContent(e,r){const s=this.editor.plugins.get(Ai),l=r[0],d=r[1],m=this.editor.model,y=!d||d.direction=="backward",C=s.getSelectedTableCells(l);C.length&&(e.stop(),m.change(S=>{const M=C[y?C.length-1:0];m.change(U=>{for(const W of C)m.deleteContent(U.createSelection(W,"in"))});const $=m.schema.getNearestSelectionRange(S.createPositionAt(M,0));l.is("documentSelection")?S.setSelection($):l.setTo($)}))}_handleInsertTextEvent(e,r){const s=this.editor,l=this.getSelectedTableCells();if(!l)return;const d=s.editing.view,m=s.editing.mapper,y=l.map(C=>d.createRangeOn(m.toViewElement(C)));r.selection=d.createSelection(y)}_getCellsToSelect(e,r){const s=this.editor.plugins.get("TableUtils"),l=s.getCellLocation(e),d=s.getCellLocation(r),m=Math.min(l.row,d.row),y=Math.max(l.row,d.row),C=Math.min(l.column,d.column),S=Math.max(l.column,d.column),M=new Array(y-m+1).fill(null).map(()=>[]),$={startRow:m,endRow:y,startColumn:C,endColumn:S};for(const{row:K,cell:q}of new Ht(e.findAncestor("table"),$))M[K-m].push(q);const U=d.row<l.row,W=d.column<l.column;return U&&M.reverse(),W&&M.forEach(K=>K.reverse()),{cells:M.flat(),backward:U||W}}}class T7 extends De{static get pluginName(){return"TableClipboard"}static get requires(){return[$l,Ai]}init(){const e=this.editor,r=e.editing.view.document;this.listenTo(r,"copy",(s,l)=>this._onCopyCut(s,l)),this.listenTo(r,"cut",(s,l)=>this._onCopyCut(s,l)),this.listenTo(e.model,"insertContent",(s,[l,d])=>this._onInsertContent(s,l,d),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,r){const s=this.editor.plugins.get($l);if(!s.getSelectedTableCells()||e.name=="cut"&&this.editor.isReadOnly)return;r.preventDefault(),e.stop();const l=this.editor.data,d=this.editor.editing.view.document,m=l.toView(s.getSelectionAsFragment());d.fire("clipboardOutput",{dataTransfer:r.dataTransfer,content:m,method:e.name})}_onInsertContent(e,r,s){if(s&&!s.is("documentSelection"))return;const l=this.editor.model,d=this.editor.plugins.get(Ai);let m=this.getTableIfOnlyTableInContent(r,l);if(!m)return;const y=d.getSelectionAffectedTableCells(l.document.selection);y.length?(e.stop(),l.change(C=>{const S={width:d.getColumns(m),height:d.getRows(m)},M=function(X,ne,de,be){const Pe=X[0].findAncestor("table"),Xe=be.getColumnIndexes(X),Wt=be.getRowIndexes(X),yt={firstColumn:Xe.first,lastColumn:Xe.last,firstRow:Wt.first,lastRow:Wt.last},Un=X.length===1;return Un&&(yt.lastRow+=ne.height-1,yt.lastColumn+=ne.width-1,function(On,lu,Fo,Dr){const ms=Dr.getColumns(On),vs=Dr.getRows(On);Fo>ms&&Dr.insertColumns(On,{at:ms,columns:Fo-ms}),lu>vs&&Dr.insertRows(On,{at:vs,rows:lu-vs})}(Pe,yt.lastRow+1,yt.lastColumn+1,be)),Un||!be.isSelectionRectangular(X)?function(On,lu,Fo){const{firstRow:Dr,lastRow:ms,firstColumn:vs,lastColumn:Fl}=lu,_2={first:Dr,last:ms},C2={first:vs,last:Fl};Zb(On,vs,_2,Fo),Zb(On,Fl+1,_2,Fo),Yb(On,Dr,C2,Fo),Yb(On,ms+1,C2,Fo,Dr)}(Pe,yt,de):(yt.lastRow=QM(Pe,yt),yt.lastColumn=YM(Pe,yt)),yt}(y,S,C,d),$=M.lastRow-M.firstRow+1,U=M.lastColumn-M.firstColumn+1,W={startRow:0,startColumn:0,endRow:Math.min($,S.height)-1,endColumn:Math.min(U,S.width)-1};m=UM(m,W,C);const K=y[0].findAncestor("table"),q=this._replaceSelectedCellsWithPasted(m,S,K,M,C);if(this.editor.plugins.get("TableSelection").isEnabled){const X=d.sortRanges(q.map(ne=>C.createRangeOn(ne)));C.setSelection(X)}else C.setSelection(q[0],0)})):Kb(m,d)}_replaceSelectedCellsWithPasted(e,r,s,l,d){const{width:m,height:y}=r,C=function(X,ne,de){const be=new Array(de).fill(null).map(()=>new Array(ne).fill(null));for(const{column:Pe,row:Xe,cell:Wt}of new Ht(X))be[Xe][Pe]=Wt;return be}(e,m,y),S=[...new Ht(s,{startRow:l.firstRow,endRow:l.lastRow,startColumn:l.firstColumn,endColumn:l.lastColumn,includeAllSlots:!0})],M=[];let $;for(const X of S){const{row:ne,column:de}=X;de===l.firstColumn&&($=X.getPositionBefore());const be=ne-l.firstRow,Pe=de-l.firstColumn,Xe=C[be%y][Pe%m],Wt=Xe?d.cloneElement(Xe):null,yt=this._replaceTableSlotCell(X,Wt,$,d);yt&&(qM(yt,ne,de,l.lastRow,l.lastColumn,d),M.push(yt),$=d.createPositionAfter(yt))}const U=parseInt(s.getAttribute("headingRows")||"0"),W=parseInt(s.getAttribute("headingColumns")||"0"),K=l.firstRow<U&&U<=l.lastRow,q=l.firstColumn<W&&W<=l.lastColumn;if(K){const X=Yb(s,U,{first:l.firstColumn,last:l.lastColumn},d,l.firstRow);M.push(...X)}if(q){const X=Zb(s,W,{first:l.firstRow,last:l.lastRow},d);M.push(...X)}return M}_replaceTableSlotCell(e,r,s,l){const{cell:d,isAnchor:m}=e;return m&&l.remove(d),r?(l.insert(r,s),r):null}getTableIfOnlyTableInContent(e,r){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const s=r.createRangeIn(e);for(const l of s.getItems())if(l.is("element","table")){const d=r.createRange(s.start,r.createPositionBefore(l));if(r.hasContent(d,{ignoreWhitespaces:!0}))return null;const m=r.createRange(r.createPositionAfter(l),s.end);return r.hasContent(m,{ignoreWhitespaces:!0})?null:l}return null}}function Yb(a,e,r,s,l=0){if(!(e<1))return HM(a,e,l).filter(({column:d,cellWidth:m})=>s2(d,m,r)).map(({cell:d})=>WM(d,e,s))}function Zb(a,e,r,s){if(!(e<1))return GM(a,e).filter(({row:l,cellHeight:d})=>s2(l,d,r)).map(({cell:l,column:d})=>KM(l,d,e,s))}function s2(a,e,r){const s=a+e-1,{first:l,last:d}=r;return a>=l&&a<=d||a<l&&s>=l}class D7 extends De{static get pluginName(){return"TableKeyboard"}static get requires(){return[$l,Ai]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...r)=>this._onArrowKey(...r),{context:"table"}),this.listenTo(e,"tab",(...r)=>this._handleTabOnSelectedTable(...r),{context:"figure"}),this.listenTo(e,"tab",(...r)=>this._handleTab(...r),{context:["th","td"]})}_handleTabOnSelectedTable(e,r){const s=this.editor,l=s.model.document.selection.getSelectedElement();l&&l.is("element","table")&&(r.preventDefault(),r.stopPropagation(),e.stop(),s.model.change(d=>{d.setSelection(d.createRangeIn(l.getChild(0).getChild(0)))}))}_handleTab(e,r){const s=this.editor,l=this.editor.plugins.get(Ai),d=this.editor.plugins.get("TableSelection"),m=s.model.document.selection,y=!r.shiftKey;let C=l.getTableCellsContainingSelection(m)[0];if(C||(C=d.getFocusCell()),!C)return;r.preventDefault(),r.stopPropagation(),e.stop();const S=C.parent,M=S.parent,$=M.getChildIndex(S),U=S.getChildIndex(C),W=U===0;if(!y&&W&&$===0)return void s.model.change(ne=>{ne.setSelection(ne.createRangeOn(M))});const K=U===S.childCount-1,q=$===l.getRows(M)-1;if(y&&q&&K&&(s.execute("insertTableRowBelow"),$===l.getRows(M)-1))return void s.model.change(ne=>{ne.setSelection(ne.createRangeOn(M))});let X;if(y&&K)X=M.getChild($+1).getChild(0);else if(!y&&W){const ne=M.getChild($-1);X=ne.getChild(ne.childCount-1)}else X=S.getChild(U+(y?1:-1));s.model.change(ne=>{ne.setSelection(ne.createRangeIn(X))})}_onArrowKey(e,r){const s=this.editor,l=wk(r.keyCode,s.locale.contentLanguageDirection);this._handleArrowKeys(l,r.shiftKey)&&(r.preventDefault(),r.stopPropagation(),e.stop())}_handleArrowKeys(e,r){const s=this.editor.plugins.get(Ai),l=this.editor.plugins.get("TableSelection"),d=this.editor.model,m=d.document.selection,y=["right","down"].includes(e),C=s.getSelectedTableCells(m);if(C.length){let M;return M=r?l.getFocusCell():y?C[C.length-1]:C[0],this._navigateFromCellInDirection(M,e,r),!0}const S=m.focus.findAncestor("tableCell");if(!S)return!1;if(!m.isCollapsed)if(r){if(m.isBackward==y&&!m.containsEntireContent(S))return!1}else{const M=m.getSelectedElement();if(!M||!d.schema.isObject(M))return!1}return!!this._isSelectionAtCellEdge(m,S,y)&&(this._navigateFromCellInDirection(S,e,r),!0)}_isSelectionAtCellEdge(e,r,s){const l=this.editor.model,d=this.editor.model.schema,m=s?e.getLastPosition():e.getFirstPosition();if(!d.getLimitElement(m).is("element","tableCell"))return l.createPositionAt(r,s?"end":0).isTouching(m);const y=l.createSelection(m);return l.modifySelection(y,{direction:s?"forward":"backward"}),m.isEqual(y.focus)}_navigateFromCellInDirection(e,r,s=!1){const l=this.editor.model,d=e.findAncestor("table"),m=[...new Ht(d,{includeAllSlots:!0})],{row:y,column:C}=m[m.length-1],S=m.find(({cell:q})=>q==e);let{row:M,column:$}=S;switch(r){case"left":$--;break;case"up":M--;break;case"right":$+=S.cellWidth;break;case"down":M+=S.cellHeight}if(M<0||M>y||$<0&&M<=0||$>C&&M>=y)return void l.change(q=>{q.setSelection(q.createRangeOn(d))});$<0?($=s?0:C,M--):$>C&&($=s?C:0,M++);const U=m.find(q=>q.row==M&&q.column==$).cell,W=["right","down"].includes(r),K=this.editor.plugins.get("TableSelection");if(s&&K.isEnabled){const q=K.getAnchorCell()||e;K.setCellSelection(q,U)}else{const q=l.createPositionAt(U,W?0:"end");l.change(X=>{X.setSelection(q)})}}}class I7 extends aa{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class M7 extends De{static get pluginName(){return"TableMouse"}static get requires(){return[$l,Ai]}init(){this.editor.editing.view.addObserver(I7),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,r=e.plugins.get(Ai);let s=!1;const l=e.plugins.get($l);this.listenTo(e.editing.view.document,"mousedown",(d,m)=>{const y=e.model.document.selection;if(!this.isEnabled||!l.isEnabled||!m.domEvent.shiftKey)return;const C=l.getAnchorCell()||r.getTableCellsContainingSelection(y)[0];if(!C)return;const S=this._getModelTableCellFromDomEvent(m);S&&a2(C,S)&&(s=!0,l.setCellSelection(C,S),m.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{s=!1}),this.listenTo(e.editing.view.document,"selectionChange",d=>{s&&d.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let r,s,l=!1,d=!1;const m=e.plugins.get($l);this.listenTo(e.editing.view.document,"mousedown",(y,C)=>{this.isEnabled&&m.isEnabled&&(C.domEvent.shiftKey||C.domEvent.ctrlKey||C.domEvent.altKey||(r=this._getModelTableCellFromDomEvent(C)))}),this.listenTo(e.editing.view.document,"mousemove",(y,C)=>{if(!C.domEvent.buttons||!r)return;const S=this._getModelTableCellFromDomEvent(C);S&&a2(r,S)&&(s=S,l||s==r||(l=!0)),l&&(d=!0,m.setCellSelection(r,s),C.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{l=!1,d=!1,r=null,s=null}),this.listenTo(e.editing.view.document,"selectionChange",y=>{d&&y.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const r=e.target,s=this.editor.editing.view.createPositionAt(r,0);return this.editor.editing.mapper.toModelPosition(s).parent.findAncestor("tableCell",{includeSelf:!0})}}function a2(a,e){return a.parent.parent==e.parent.parent}var l2=c(6306),L7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(l2.Z,L7),l2.Z.locals;function R7(a){const e=a.getSelectedElement();return e&&c2(e)?e:null}function N7(a){const e=a.getFirstPosition();if(!e)return null;let r=e.parent;for(;r;){if(r.is("element")&&c2(r))return r;r=r.parent}return null}function c2(a){return!!a.getCustomProperty("table")&&pn(a)}var u2=c(7368),O7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(u2.Z,O7),u2.Z.locals;var d2=c(9247),P7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(d2.Z,P7),d2.Z.locals;var h2=c(4070),$7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(h2.Z,$7),h2.Z.locals;var f2=c(6237),B7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(f2.Z,B7),f2.Z.locals;var p2=c(5087),F7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(p2.Z,F7),p2.Z.locals;const Bl=fr.defaultPositions;Bl.northArrowSouth,Bl.northArrowSouthWest,Bl.northArrowSouthEast,Bl.southArrowNorth,Bl.southArrowNorthWest,Bl.southArrowNorthEast,Bl.viewportStickyNorth;var g2=c(7341),z7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(g2.Z,z7),g2.Z.locals;var m2=c(2128),j7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(m2.Z,j7),m2.Z.locals;var v2=c(4101),V7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Ve()(v2.Z,V7),v2.Z.locals;var U7=Object.defineProperty,w2=Object.getOwnPropertySymbols,H7=Object.prototype.hasOwnProperty,W7=Object.prototype.propertyIsEnumerable,k2=(a,e,r)=>e in a?U7(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,b2=(a,e)=>{for(var r in e||(e={}))H7.call(e,r)&&k2(a,r,e[r]);if(w2)for(var r of w2(e))W7.call(e,r)&&k2(a,r,e[r]);return a};const G7={autoRefresh:!0},y2=36e5;class Jb extends Ye(){constructor(e,r={}){if(super(),!e)throw new N("token-missing-token-url",this);r.initValue&&this._validateTokenValue(r.initValue),this.set("value",r.initValue),this._refresh=typeof e=="function"?e:()=>{return s=e,new Promise((l,d)=>{const m=new XMLHttpRequest;m.open("GET",s),m.addEventListener("load",()=>{const y=m.status,C=m.response;return y<200||y>299?d(new N("token-cannot-download-new-token",null)):l(C)}),m.addEventListener("error",()=>d(new Error("Network Error"))),m.addEventListener("abort",()=>d(new Error("Abort"))),m.send()});var s},this._options=b2(b2({},G7),r)}init(){return new Promise((e,r)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(r)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const r=typeof e=="string",s=!/^".*"$/.test(e),l=r&&e.split(".").length===3;if(!s||!l)throw new N("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:r}=JSON.parse(atob(e));return r?Math.floor((1e3*r-Date.now())/2):y2}catch{return y2}}static create(e,r={}){return new Jb(e,r).init()}}const Xb=/^data:(\S*?);base64,/;class K7 extends ee(){constructor(e,r,s){if(super(),!e)throw new N("fileuploader-missing-file",null);if(!r)throw new N("fileuploader-missing-token",null);if(!s)throw new N("fileuploader-missing-api-address",null);this.file=function(l){if(typeof l!="string")return!1;const d=l.match(Xb);return!(!d||!d.length)}(e)?function(l,d=512){try{const m=l.match(Xb)[1],y=atob(l.replace(Xb,"")),C=[];for(let S=0;S<y.length;S+=d){const M=y.slice(S,S+d),$=new Array(M.length);for(let U=0;U<M.length;U++)$[U]=M.charCodeAt(U);C.push(new Uint8Array($))}return new Blob(C,{type:m})}catch{throw new N("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=r,this._apiAddress=s}onProgress(e){return this.on("progress",(r,s)=>e(s)),this}onError(e){return this.once("error",(r,s)=>e(s)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,r=s=>()=>this.fire("error",s);e.addEventListener("error",r("Network Error")),e.addEventListener("abort",r("Abort")),e.upload&&e.upload.addEventListener("progress",s=>{s.lengthComputable&&this.fire("progress",{total:s.total,uploaded:s.loaded})}),e.addEventListener("load",()=>{const s=e.status,l=e.response;if(s<200||s>299)return this.fire("error",l.message||l.error)})}_sendRequest(){const e=new FormData,r=this.xhr;return e.append("file",this.file),new Promise((s,l)=>{r.addEventListener("load",()=>{const d=r.status,m=r.response;return d<200||d>299?m.message?l(new N("fileuploader-uploading-data-failed",this,{message:m.message})):l(m.error):s(m)}),r.addEventListener("error",()=>l(new Error("Network Error"))),r.addEventListener("abort",()=>l(new Error("Abort"))),r.send(e)})}}class q7{constructor(e,r){if(!e)throw new N("uploadgateway-missing-token",null);if(!r)throw new N("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=r}upload(e){return new K7(e,this._token,this._apiAddress)}}class Q7 extends tg{static get pluginName(){return"CloudServicesCore"}createToken(e,r){return new Jb(e,r)}createUploadGateway(e,r){return new q7(e,r)}}var A2=(a,e,r)=>new Promise((s,l)=>{var d=C=>{try{y(r.next(C))}catch(S){l(S)}},m=C=>{try{y(r.throw(C))}catch(S){l(S)}},y=C=>C.done?s(C.value):Promise.resolve(C.value).then(d,m);y((r=r.apply(a,e)).next())});class ey extends Ag{}ey.builtinPlugins=[class extends De{static get requires(){return[hD,Sg,GU,CU,pU,kD]}static get pluginName(){return"Essentials"}},class extends De{static get requires(){return[Zr]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const a=this.editor.config.get("ckfinder.uploadUrl");a&&(this.editor.plugins.get(Zr).createUploadAdapter=e=>new s9(e,a,this.editor.t))}},class extends De{static get requires(){return[ps]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const a=this.editor.commands;a.get("bulletedList")&&ha(this.editor,this,/^[*-]\s$/,"bulletedList"),a.get("numberedList")&&ha(this.editor,this,/^1[.|)]\s$/,"numberedList"),a.get("todoList")&&ha(this.editor,this,/^\[\s?\]\s$/,"todoList"),a.get("checkTodoList")&&ha(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const a=this.editor.commands;if(a.get("bold")){const e=Dg(this.editor,"bold");iu(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),iu(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(a.get("italic")){const e=Dg(this.editor,"italic");iu(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),iu(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(a.get("code")){const e=Dg(this.editor,"code");iu(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(a.get("strikethrough")){const e=Dg(this.editor,"strikethrough");iu(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const a=this.editor.commands.get("heading");a&&a.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const r=e[7],s=new RegExp(`^(#{${r}})\\s$`);ha(this.editor,this,s,()=>{if(!a.isEnabled||a.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&ha(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const a=this.editor,e=a.model.document.selection;a.commands.get("codeBlock")&&ha(a,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&ha(this.editor,this,/^---$/,"horizontalLine")}},class extends De{static get requires(){return[a9,l9]}static get pluginName(){return"Bold"}},class extends De{static get requires(){return[u9,d9]}static get pluginName(){return"Italic"}},class extends De{static get requires(){return[f9,g9]}static get pluginName(){return"BlockQuote"}},class extends De{static get pluginName(){return"CKBox"}static get requires(){return[xb,m9]}},class extends De{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",I9,T9]}},class extends tg{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[Q7]}init(){return A2(this,null,function*(){const a=this.context.config.get("cloudServices")||{};for(const[r,s]of Object.entries(a))this[r]=s;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(a){return A2(this,null,function*(){if(this._tokens.has(a))return this.getTokenFor(a);const e=this.context.plugins.get("CloudServicesCore"),r=yield e.createToken(a).init();return this._tokens.set(a,r),r})}getTokenFor(a){const e=this._tokens.get(a);if(!e)throw new N("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const a of this._tokens.values())a.destroy()}},class extends De{static get pluginName(){return"EasyImage"}static get requires(){return[M9,"ImageUpload"]}init(){const a=this.editor;a.plugins.has("ImageBlockEditing")||a.plugins.has("ImageInlineEditing")||P("easy-image-image-feature-missing",a)}},class extends De{static get requires(){return[P9,B9]}static get pluginName(){return"Heading"}},class extends De{static get requires(){return[t6,i6]}static get pluginName(){return"Image"}},class extends De{static get requires(){return[o6,s6]}static get pluginName(){return"ImageCaption"}},class extends De{static get requires(){return[II,M6]}static get pluginName(){return"ImageStyle"}},class extends De{static get requires(){return[Tg,Jr]}static get pluginName(){return"ImageToolbar"}afterInit(){const a=this.editor,e=a.t,r=a.plugins.get(Tg),s=a.plugins.get("ImageUtils");var l;r.register("image",{ariaLabel:e("Image toolbar"),items:(l=a.config.get("image.toolbar")||[],l.map(d=>ye(d)?d.name:d)),getRelatedElement:d=>s.getClosestSelectedImageWidget(d)})}},class extends De{static get pluginName(){return"ImageUpload"}static get requires(){return[b6,c6,f6]}},class extends De{static get pluginName(){return"Indent"}static get requires(){return[L6,R6]}},class extends De{static get requires(){return[rH,cH,dH]}static get pluginName(){return"Link"}},class extends De{static get requires(){return[LH,kH]}static get pluginName(){return"List"}},class extends De{static get requires(){return[Ng,jH,BH,kh]}static get pluginName(){return"MediaEmbed"}},Tb,class extends De{static get pluginName(){return"PasteFromOffice"}static get requires(){return[$o]}init(){const a=this.editor,e=a.plugins.get("ClipboardPipeline"),r=a.editing.view.document,s=[];s.push(new JH(r)),s.push(new KH(r)),e.on("inputTransformation",(l,d)=>{if(d._isTransformedWithPasteFromOffice||a.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const m=d.dataTransfer.getData("text/html"),y=s.find(C=>C.isActive(m));y&&(d._parsedData=XH(m,r.stylesProcessor),y.execute(d),d._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends De{static get requires(){return[Ib,Jr]}static get pluginName(){return"PictureEditing"}afterInit(){const a=this.editor;a.plugins.has("ImageBlockEditing")&&a.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),a.plugins.has("ImageInlineEditing")&&a.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const a=this.editor,e=a.conversion,r=a.plugins.get("ImageUtils");e.for("upcast").add(function(s){const l=["srcset","media","type","sizes"],d=(m,y,C)=>{const S=y.viewItem;if(!C.consumable.test(S,{name:!0}))return;const M=new Map;for(const W of S.getChildren())if(W.is("element","source")){const K={};for(const q of l)W.hasAttribute(q)&&C.consumable.test(W,{attributes:q})&&(K[q]=W.getAttribute(q));Object.keys(K).length&&M.set(W,K)}const $=s.findViewImgElement(S);if(!$)return;let U=y.modelCursor.parent;if(!U.is("element","imageBlock")){const W=C.convertItem($,y.modelCursor);y.modelRange=W.modelRange,y.modelCursor=W.modelCursor,U=Nn(W.modelRange.getItems())}C.consumable.consume(S,{name:!0});for(const[W,K]of M)C.consumable.consume(W,{attributes:Object.keys(K)});M.size&&C.writer.setAttribute("sources",Array.from(M.values()),U),C.convertChildren(S,U)};return m=>{m.on("element:picture",d)}}(r)),e.for("downcast").add(function(s){const l=(d,m,y)=>{if(!y.consumable.consume(m.item,d.name))return;const C=y.writer,S=y.mapper.toViewElement(m.item),M=s.findViewImgElement(S),$=m.attributeNewValue;if($&&$.length){const U=C.createContainerElement("picture",null,$.map(q=>C.createEmptyElement("source",q))),W=[];let K=M.parent;for(;K&&K.is("attributeElement");){const q=K.parent;C.unwrap(C.createRangeOn(M),K),W.unshift(K),K=q}C.insert(C.createPositionBefore(M),U),C.move(C.createRangeOn(M),C.createPositionAt(U,"end"));for(const q of W)C.wrap(C.createRangeOn(U),q)}else if(M.parent.is("element","picture")){const U=M.parent;C.move(C.createRangeOn(M),C.createPositionBefore(U)),C.remove(U)}};return d=>{d.on("attribute:sources:imageBlock",l),d.on("attribute:sources:imageInline",l)}}(r))}_setupImageUploadEditingIntegration(){const a=this.editor;if(!a.plugins.has("ImageUploadEditing"))return;const e=a.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(r,{imageElement:s,data:l})=>{const d=l.sources;d&&a.model.change(m=>{m.setAttributes({sources:d},s)})})}},class extends De{static get requires(){return[A7,E7,$l,M7,D7,T7,kh]}static get pluginName(){return"Table"}},class extends De{static get requires(){return[Tg]}static get pluginName(){return"TableToolbar"}afterInit(){const a=this.editor,e=a.t,r=a.plugins.get(Tg),s=a.config.get("table.contentToolbar"),l=a.config.get("table.tableToolbar");s&&r.register("tableContent",{ariaLabel:e("Table toolbar"),items:s,getRelatedElement:N7}),l&&r.register("table",{ariaLabel:e("Table toolbar"),items:l,getRelatedElement:R7})}},class extends De{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(a){super(a),a.config.define("typing",{transformations:{include:vU}})}init(){const a=this.editor.model.document.selection;a.on("change:range",()=>{this.isEnabled=!a.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const a=this.editor,e=a.model,r=a.plugins.get("Delete"),s=function(d){const m=d.extra||[],y=d.remove||[],C=S=>!y.includes(S);return function(S){const M=new Set;for(const $ of S)if(typeof $=="string"&&VT[$])for(const U of VT[$])M.add(U);else M.add($);return Array.from(M)}(d.include.concat(m).filter(C)).filter(C).map(S=>typeof S=="string"&&jT[S]?jT[S]:S).filter(S=>typeof S=="object").map(S=>({from:wU(S.from),to:kU(S.to)}))}(a.config.get("typing.transformations")),l=new BT(a.model,d=>{for(const m of s)if(m.from.test(d))return{normalizedTransformation:m}});l.on("matched:data",(d,m)=>{if(!m.batch.isTyping)return;const{from:y,to:C}=m.normalizedTransformation,S=y.exec(m.text),M=C(S.slice(1)),$=m.range;let U=S.index;e.enqueueChange(W=>{for(let K=1;K<S.length;K++){const q=S[K],X=M[K-1];if(X==null){U+=q.length;continue}const ne=$.start.getShiftedBy(U),de=e.createRange(ne,ne.getShiftedBy(q.length)),be=bU(ne);e.insertContent(W.createText(X,be),de),U+=X.length}e.enqueueChange(()=>{r.requestUndoOnBackspace()})})}),l.bind("isEnabled").to(this)}}],ey.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),u=u.default})())})(Wv,Wv.exports);var Ote=Wv.exports;const Pte=Gf(Ote);function XA(){return ae.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:ae.jsx("span",{className:"visually-hidden",children:"Loading..."})})}function $te({loading:n,handleNewProblemSubmit:t}){const{register:i,handleSubmit:o,setValue:c,formState:{errors:u}}=I1(),[h,b]=Te.useState(1);Te.useEffect(()=>{i("description",{required:!0})});const f=w=>{const p=u[w];if(p)switch(p.type){case"required":return`${w} is required.`;default:return"unkown error."}};return ae.jsx("div",{className:"p-2 mb-3",children:ae.jsxs("form",{onSubmit:o(t),children:[ae.jsxs("button",{type:"submit",disabled:n,className:"btn btn-primary",children:[" ",n&&ae.jsx(XA,{})," Save"]}),ae.jsx("hr",{}),ae.jsxs("div",{className:"mb-3",children:[ae.jsx("label",{className:"form-label",children:"Title"}),ae.jsx("input",{type:"text",...i("title",{required:!0}),className:"form-control",placeholder:"title"}),ae.jsx("span",{className:"error",children:f("title")})]}),ae.jsxs("div",{className:"mb-3",children:[ae.jsx("label",{className:"form-label",children:"Complexity"}),ae.jsxs("select",{className:"form-select",...i("complexity",{required:!0}),"aria-label":"Default select example",children:[ae.jsx("option",{value:"",children:"Choice Complexity"}),ae.jsx("option",{value:"easy",children:"Easy"}),ae.jsx("option",{value:"mideam",children:"Mideam"}),ae.jsx("option",{value:"hard",children:"Hard"})]}),ae.jsx("span",{className:"error",children:f("complexity")})]}),ae.jsxs("div",{className:"mb-3",children:[ae.jsx("label",{className:"form-label",children:"Discription"}),ae.jsx(Nte.CKEditor,{editor:Pte,data:"",onChange:(w,p)=>{const v=p.getData();c("description",v)}}),ae.jsx("span",{className:"error",children:f("description")})]}),ae.jsxs("div",{className:"mb-3",children:[ae.jsx("label",{className:"form-label",children:"Demo code ( Python )"}),ae.jsx("textarea",{className:"form-control",...i("code",{required:!0}),rows:"5"}),ae.jsx("span",{className:"error",children:f("code")})]}),ae.jsxs("div",{children:[ae.jsx("h2",{className:"form-label",children:"Test Cases"}),[...Array(h)].map((w,p)=>ae.jsxs("div",{className:"row",children:[ae.jsx("div",{className:"col-6",children:ae.jsxs("div",{className:"mb-3",children:[ae.jsx("label",{className:"form-label",children:"Input"}),ae.jsx("textarea",{className:"form-control",...i(`input.${p}`,{required:!0}),rows:"3"})]})}),ae.jsx("div",{className:"col-6",children:ae.jsxs("div",{className:"mb-3",children:[ae.jsx("label",{className:"form-label",children:"Expected Output"}),ae.jsx("textarea",{className:"form-control",...i(`output.${p}`,{required:!0}),rows:"3"})]})})]},p)),ae.jsx("span",{className:"btn btn-primary btn-sm rounded-pill",onClick:()=>b(w=>w+1),children:" Add more test case"})]}),ae.jsx("hr",{}),ae.jsxs("button",{type:"submit",disabled:n,className:"btn btn-primary",children:[" ",n&&ae.jsx(XA,{})," Save"]})]})})}let cm;const Bte=new Uint8Array(16);function Fte(){if(!cm&&(cm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!cm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cm(Bte)}const ui=[];for(let n=0;n<256;++n)ui.push((n+256).toString(16).slice(1));function zte(n,t=0){return(ui[n[t+0]]+ui[n[t+1]]+ui[n[t+2]]+ui[n[t+3]]+"-"+ui[n[t+4]]+ui[n[t+5]]+"-"+ui[n[t+6]]+ui[n[t+7]]+"-"+ui[n[t+8]]+ui[n[t+9]]+"-"+ui[n[t+10]]+ui[n[t+11]]+ui[n[t+12]]+ui[n[t+13]]+ui[n[t+14]]+ui[n[t+15]]).toLowerCase()}const jte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bN={randomUUID:jte};function yN(n,t,i){if(bN.randomUUID&&!t&&!n)return bN.randomUUID();n=n||{};const o=n.random||(n.rng||Fte)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){i=i||0;for(let c=0;c<16;++c)t[i+c]=o[c];return t}return zte(o)}function Vte(){const n=Jf(),[t,i]=Te.useState(!1),o=async({title:f,complexity:w,description:p})=>{try{return await ste(Gw(Ds,"problems"),{title:f,complexity:w,description:p,isValid:!0})}catch(v){alert(v.message)}},c=async(f,w)=>{await ote(Hu(Ds,"problems",f),{...w})},u=async({code:f,problemId:w})=>{try{await ZA(Hu(Ds,"languageCodes",yN()),{landCode:"py",code:f,problemId:w})}catch(p){await c({isValid:!1}),alert(p.message)}},h=async({input:f,output:w,problemId:p})=>{for(let v=0;v<f.length;v++)try{await ZA(Hu(Ds,"testCases",yN()),{inputValue:f[v],outputValue:w[v],problemId:p})}catch(g){await c({isValid:!1}),alert(g.message)}},b=async f=>{console.log(f),i(!0);const w=await o({...f});if(w){const p=w.id;await u({code:f.code,problemId:p}),await h({input:f.input,output:f.output,problemId:p}),n("/")}i(!1)};return ae.jsx("div",{className:"container mt-3",children:ae.jsx($te,{loading:t,handleNewProblemSubmit:b})})}function Ute(){const n=Te.useContext(Ap),{handleSignOut:t}=E1();return ae.jsxs(ae.Fragment,{children:[ae.jsxs("ul",{className:"nav bg-primary justify-content-center sticky-top",children:[ae.jsx("li",{className:"nav-item",children:ae.jsxs(mw,{to:"/",className:"nav-link active text-light",children:["Hello, ",n.email," !"]})}),ae.jsx("li",{className:"nav-item",children:ae.jsx("span",{className:"nav-link active text-light",type:"button",onClick:t,children:"SignOut"})})]}),ae.jsx(uK,{})]})}function Hte({title:n,description:t,isValid:i,complexity:o}){return ae.jsxs("div",{className:"ms-2 overflow-auto",style:{height:"90vh"},children:[ae.jsx("h4",{children:n}),ae.jsx("span",{className:"badge text-bg-primary",children:o}),ae.jsx("hr",{}),ae.jsx("div",{dangerouslySetInnerHTML:{__html:t}})]})}var cd={},M1={},K4={exports:{}};(function(n,t){(function(){var i="ace",o=function(){return this}();!o&&typeof window<"u"&&(o=window);var c=function(p,v,g){if(typeof p!="string"){c.original?c.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(g=v),c.modules[p]||(c.payloads[p]=g,c.modules[p]=null)};c.modules={},c.payloads={};var u=function(p,v,g){if(typeof v=="string"){var k=f(p,v);if(k!=null)return g&&g(),k}else if(Object.prototype.toString.call(v)==="[object Array]"){for(var A=[],_=0,E=v.length;_<E;++_){var x=f(p,v[_]);if(x==null&&h.original)return;A.push(x)}return g&&g.apply(null,A)||!0}},h=function(p,v){var g=u("",p,v);return g==null&&h.original?h.original.apply(this,arguments):g},b=function(p,v){if(v.indexOf("!")!==-1){var g=v.split("!");return b(p,g[0])+"!"+b(p,g[1])}if(v.charAt(0)=="."){var k=p.split("/").slice(0,-1).join("/");for(v=k+"/"+v;v.indexOf(".")!==-1&&A!=v;){var A=v;v=v.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return v},f=function(p,v){v=b(p,v);var g=c.modules[v];if(!g){if(g=c.payloads[v],typeof g=="function"){var k={},A={id:v,uri:"",exports:k,packaged:!0},_=function(x,D){return u(v,x,D)},E=g(_,k,A);k=E||A.exports,c.modules[v]=k,delete c.payloads[v]}g=c.modules[v]=k||g}return g};function w(p){var v=o;p&&(o[p]||(o[p]={}),v=o[p]),(!v.define||!v.define.packaged)&&(c.original=v.define,v.define=c,v.define.packaged=!0),(!v.require||!v.require.packaged)&&(h.original=v.require,v.require=h,v.require.packaged=!0)}w(i)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(i,o,c){function u(h,b,f){Object.defineProperty(h,b,{value:f,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||u(String.prototype,"startsWith",function(h,b){return b=b||0,this.lastIndexOf(h,b)===b}),String.prototype.endsWith||u(String.prototype,"endsWith",function(h,b){var f=this;(b===void 0||b>f.length)&&(b=f.length),b-=h.length;var w=f.indexOf(h,b);return w!==-1&&w===b}),String.prototype.repeat||u(String.prototype,"repeat",function(h){for(var b="",f=this;h>0;)h&1&&(b+=f),(h>>=1)&&(f+=f);return b}),String.prototype.includes||u(String.prototype,"includes",function(h,b){return this.indexOf(h,b)!=-1}),Object.assign||(Object.assign=function(h){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(h),f=1;f<arguments.length;f++){var w=arguments[f];w!=null&&Object.keys(w).forEach(function(p){b[p]=w[p]})}return b}),Object.values||(Object.values=function(h){return Object.keys(h).map(function(b){return h[b]})}),Array.prototype.find||u(Array.prototype,"find",function(h){for(var b=this.length,f=arguments[1],w=0;w<b;w++){var p=this[w];if(h.call(f,p,w,this))return p}}),Array.prototype.findIndex||u(Array.prototype,"findIndex",function(h){for(var b=this.length,f=arguments[1],w=0;w<b;w++){var p=this[w];if(h.call(f,p,w,this))return w}}),Array.prototype.includes||u(Array.prototype,"includes",function(h,b){return this.indexOf(h,b)!=-1}),Array.prototype.fill||u(Array.prototype,"fill",function(h){for(var b=this,f=b.length>>>0,w=arguments[1],p=w>>0,v=p<0?Math.max(f+p,0):Math.min(p,f),g=arguments[2],k=g===void 0?f:g>>0,A=k<0?Math.max(f+k,0):Math.min(k,f);v<A;)b[v]=h,v++;return b}),Array.of||u(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(i,o,c){i("./es6-shim")}),ace.define("ace/lib/lang",["require","exports","module"],function(i,o,c){o.last=function(b){return b[b.length-1]},o.stringReverse=function(b){return b.split("").reverse().join("")},o.stringRepeat=function(b,f){for(var w="";f>0;)f&1&&(w+=b),(f>>=1)&&(b+=b);return w};var u=/^\s\s*/,h=/\s\s*$/;o.stringTrimLeft=function(b){return b.replace(u,"")},o.stringTrimRight=function(b){return b.replace(h,"")},o.copyObject=function(b){var f={};for(var w in b)f[w]=b[w];return f},o.copyArray=function(b){for(var f=[],w=0,p=b.length;w<p;w++)b[w]&&typeof b[w]=="object"?f[w]=this.copyObject(b[w]):f[w]=b[w];return f},o.deepCopy=function b(f){if(typeof f!="object"||!f)return f;var w;if(Array.isArray(f)){w=[];for(var p=0;p<f.length;p++)w[p]=b(f[p]);return w}if(Object.prototype.toString.call(f)!=="[object Object]")return f;w={};for(var p in f)w[p]=b(f[p]);return w},o.arrayToMap=function(b){for(var f={},w=0;w<b.length;w++)f[b[w]]=1;return f},o.createMap=function(b){var f=Object.create(null);for(var w in b)f[w]=b[w];return f},o.arrayRemove=function(b,f){for(var w=0;w<=b.length;w++)f===b[w]&&b.splice(w,1)},o.escapeRegExp=function(b){return b.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},o.escapeHTML=function(b){return(""+b).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},o.getMatchOffsets=function(b,f){var w=[];return b.replace(f,function(p){w.push({offset:arguments[arguments.length-2],length:p.length})}),w},o.deferredCall=function(b){var f=null,w=function(){f=null,b()},p=function(v){return p.cancel(),f=setTimeout(w,v||0),p};return p.schedule=p,p.call=function(){return this.cancel(),b(),p},p.cancel=function(){return clearTimeout(f),f=null,p},p.isPending=function(){return f},p},o.delayedCall=function(b,f){var w=null,p=function(){w=null,b()},v=function(g){w==null&&(w=setTimeout(p,g||f))};return v.delay=function(g){w&&clearTimeout(w),w=setTimeout(p,g||f)},v.schedule=v,v.call=function(){this.cancel(),b()},v.cancel=function(){w&&clearTimeout(w),w=null},v.isPending=function(){return w},v}}),ace.define("ace/lib/useragent",["require","exports","module"],function(i,o,c){o.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},o.getOS=function(){return o.isMac?o.OS.MAC:o.isLinux?o.OS.LINUX:o.OS.WINDOWS};var u=typeof navigator=="object"?navigator:{},h=(/mac|win|linux/i.exec(u.platform)||["other"])[0].toLowerCase(),b=u.userAgent||"",f=u.appName||"";o.isWin=h=="win",o.isMac=h=="mac",o.isLinux=h=="linux",o.isIE=f=="Microsoft Internet Explorer"||f.indexOf("MSAppHost")>=0?parseFloat((b.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((b.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),o.isOldIE=o.isIE&&o.isIE<9,o.isGecko=o.isMozilla=b.match(/ Gecko\/\d+/),o.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",o.isWebKit=parseFloat(b.split("WebKit/")[1])||void 0,o.isChrome=parseFloat(b.split(" Chrome/")[1])||void 0,o.isEdge=parseFloat(b.split(" Edge/")[1])||void 0,o.isAIR=b.indexOf("AdobeAIR")>=0,o.isAndroid=b.indexOf("Android")>=0,o.isChromeOS=b.indexOf(" CrOS ")>=0,o.isIOS=/iPad|iPhone|iPod/.test(b)&&!window.MSStream,o.isIOS&&(o.isMac=!0),o.isMobile=o.isIOS||o.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(i,o,c){var u=i("./useragent"),h="http://www.w3.org/1999/xhtml";o.buildDom=function g(k,A,_){if(typeof k=="string"&&k){var E=document.createTextNode(k);return A&&A.appendChild(E),E}if(!Array.isArray(k))return k&&k.appendChild&&A&&A.appendChild(k),k;if(typeof k[0]!="string"||!k[0]){for(var x=[],D=0;D<k.length;D++){var O=g(k[D],A,_);O&&x.push(O)}return x}var B=document.createElement(k[0]),I=k[1],R=1;I&&typeof I=="object"&&!Array.isArray(I)&&(R=2);for(var D=R;D<k.length;D++)g(k[D],B,_);return R==2&&Object.keys(I).forEach(function(j){var N=I[j];j==="class"?B.className=Array.isArray(N)?N.join(" "):N:typeof N=="function"||j=="value"||j[0]=="$"?B[j]=N:j==="ref"?_&&(_[N]=B):j==="style"?typeof N=="string"&&(B.style.cssText=N):N!=null&&B.setAttribute(j,N)}),A&&A.appendChild(B),B},o.getDocumentHead=function(g){return g||(g=document),g.head||g.getElementsByTagName("head")[0]||g.documentElement},o.createElement=function(g,k){return document.createElementNS?document.createElementNS(k||h,g):document.createElement(g)},o.removeChildren=function(g){g.innerHTML=""},o.createTextNode=function(g,k){var A=k?k.ownerDocument:document;return A.createTextNode(g)},o.createFragment=function(g){var k=g?g.ownerDocument:document;return k.createDocumentFragment()},o.hasCssClass=function(g,k){var A=(g.className+"").split(/\s+/g);return A.indexOf(k)!==-1},o.addCssClass=function(g,k){o.hasCssClass(g,k)||(g.className+=" "+k)},o.removeCssClass=function(g,k){for(var A=g.className.split(/\s+/g);;){var _=A.indexOf(k);if(_==-1)break;A.splice(_,1)}g.className=A.join(" ")},o.toggleCssClass=function(g,k){for(var A=g.className.split(/\s+/g),_=!0;;){var E=A.indexOf(k);if(E==-1)break;_=!1,A.splice(E,1)}return _&&A.push(k),g.className=A.join(" "),_},o.setCssClass=function(g,k,A){A?o.addCssClass(g,k):o.removeCssClass(g,k)},o.hasCssString=function(g,k){var A=0,_;if(k=k||document,_=k.querySelectorAll("style")){for(;A<_.length;)if(_[A++].id===g)return!0}},o.removeElementById=function(g,k){k=k||document,k.getElementById(g)&&k.getElementById(g).remove()};var b,f=[];o.useStrictCSP=function(g){b=g,g==!1?w():f||(f=[])};function w(){var g=f;f=null,g&&g.forEach(function(k){p(k[0],k[1])})}function p(g,k,A){if(!(typeof document>"u")){if(f){if(A)w();else if(A===!1)return f.push([g,k])}if(!b){var _=A;!A||!A.getRootNode?_=document:(_=A.getRootNode(),(!_||_==A)&&(_=document));var E=_.ownerDocument||_;if(k&&o.hasCssString(k,_))return null;k&&(g+=`
/*# sourceURL=ace/css/`+k+" */");var x=o.createElement("style");x.appendChild(E.createTextNode(g)),k&&(x.id=k),_==E&&(_=o.getDocumentHead(E)),_.insertBefore(x,_.firstChild)}}}if(o.importCssString=p,o.importCssStylsheet=function(g,k){o.buildDom(["link",{rel:"stylesheet",href:g}],o.getDocumentHead(k))},o.scrollbarWidth=function(g){var k=o.createElement("ace_inner");k.style.width="100%",k.style.minWidth="0px",k.style.height="200px",k.style.display="block";var A=o.createElement("ace_outer"),_=A.style;_.position="absolute",_.left="-10000px",_.overflow="hidden",_.width="200px",_.minWidth="0px",_.height="150px",_.display="block",A.appendChild(k);var E=g&&g.documentElement||document&&document.documentElement;if(!E)return 0;E.appendChild(A);var x=k.offsetWidth;_.overflow="scroll";var D=k.offsetWidth;return x===D&&(D=A.clientWidth),E.removeChild(A),x-D},o.computedStyle=function(g,k){return window.getComputedStyle(g,"")||{}},o.setStyle=function(g,k,A){g[k]!==A&&(g[k]=A)},o.HAS_CSS_ANIMATION=!1,o.HAS_CSS_TRANSFORMS=!1,o.HI_DPI=u.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,u.isChromeOS&&(o.HI_DPI=!1),typeof document<"u"){var v=document.createElement("div");o.HI_DPI&&v.style.transform!==void 0&&(o.HAS_CSS_TRANSFORMS=!0),!u.isEdge&&typeof v.style.animationName<"u"&&(o.HAS_CSS_ANIMATION=!0),v=null}o.HAS_CSS_TRANSFORMS?o.translate=function(g,k,A){g.style.transform="translate("+Math.round(k)+"px, "+Math.round(A)+"px)"}:o.translate=function(g,k,A){g.style.top=Math.round(A)+"px",g.style.left=Math.round(k)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(i,o,c){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var u=i("./dom");o.get=function(h,b){var f=new XMLHttpRequest;f.open("GET",h,!0),f.onreadystatechange=function(){f.readyState===4&&b(f.responseText)},f.send(null)},o.loadScript=function(h,b){var f=u.getDocumentHead(),w=document.createElement("script");w.src=h,f.appendChild(w),w.onload=w.onreadystatechange=function(p,v){(v||!w.readyState||w.readyState=="loaded"||w.readyState=="complete")&&(w=w.onload=w.onreadystatechange=null,v||b())}},o.qualifyURL=function(h){var b=document.createElement("a");return b.href=h,b.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(i,o,c){o.inherits=function(u,h){u.super_=h,u.prototype=Object.create(h.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}})},o.mixin=function(u,h){for(var b in h)u[b]=h[b];return u},o.implement=function(u,h){o.mixin(u,h)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(i,o,c){var u={},h=function(){this.propagationStopped=!0},b=function(){this.defaultPrevented=!0};u._emit=u._dispatchEvent=function(f,w){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var p=this._eventRegistry[f]||[],v=this._defaultHandlers[f];if(!(!p.length&&!v)){(typeof w!="object"||!w)&&(w={}),w.type||(w.type=f),w.stopPropagation||(w.stopPropagation=h),w.preventDefault||(w.preventDefault=b),p=p.slice();for(var g=0;g<p.length&&(p[g](w,this),!w.propagationStopped);g++);if(v&&!w.defaultPrevented)return v(w,this)}},u._signal=function(f,w){var p=(this._eventRegistry||{})[f];if(p){p=p.slice();for(var v=0;v<p.length;v++)p[v](w,this)}},u.once=function(f,w){var p=this;if(this.on(f,function v(){p.off(f,v),w.apply(null,arguments)}),!w)return new Promise(function(v){w=v})},u.setDefaultHandler=function(f,w){var p=this._defaultHandlers;if(p||(p=this._defaultHandlers={_disabled_:{}}),p[f]){var v=p[f],g=p._disabled_[f];g||(p._disabled_[f]=g=[]),g.push(v);var k=g.indexOf(w);k!=-1&&g.splice(k,1)}p[f]=w},u.removeDefaultHandler=function(f,w){var p=this._defaultHandlers;if(p){var v=p._disabled_[f];if(p[f]==w)v&&this.setDefaultHandler(f,v.pop());else if(v){var g=v.indexOf(w);g!=-1&&v.splice(g,1)}}},u.on=u.addEventListener=function(f,w,p){this._eventRegistry=this._eventRegistry||{};var v=this._eventRegistry[f];return v||(v=this._eventRegistry[f]=[]),v.indexOf(w)==-1&&v[p?"unshift":"push"](w),w},u.off=u.removeListener=u.removeEventListener=function(f,w){this._eventRegistry=this._eventRegistry||{};var p=this._eventRegistry[f];if(p){var v=p.indexOf(w);v!==-1&&p.splice(v,1)}},u.removeAllListeners=function(f){f||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[f]=void 0),this._defaultHandlers&&(this._defaultHandlers[f]=void 0)},o.EventEmitter=u}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(i,o,c){var u=i("./oop"),h=i("./event_emitter").EventEmitter,b={setOptions:function(v){Object.keys(v).forEach(function(g){this.setOption(g,v[g])},this)},getOptions:function(v){var g={};if(v)Array.isArray(v)||(g=v,v=Object.keys(g));else{var k=this.$options;v=Object.keys(k).filter(function(A){return!k[A].hidden})}return v.forEach(function(A){g[A]=this.getOption(A)},this),g},setOption:function(v,g){if(this["$"+v]!==g){var k=this.$options[v];if(!k)return f('misspelled option "'+v+'"');if(k.forwardTo)return this[k.forwardTo]&&this[k.forwardTo].setOption(v,g);k.handlesSet||(this["$"+v]=g),k&&k.set&&k.set.call(this,g)}},getOption:function(v){var g=this.$options[v];return g?g.forwardTo?this[g.forwardTo]&&this[g.forwardTo].getOption(v):g&&g.get?g.get.call(this):this["$"+v]:f('misspelled option "'+v+'"')}};function f(v){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}function w(v,g){var k=new Error(v);k.data=g,typeof console=="object"&&console.error&&console.error(k),setTimeout(function(){throw k})}var p=function(){function v(){this.$defaultOptions={}}return v.prototype.defineOptions=function(g,k,A){return g.$options||(this.$defaultOptions[k]=g.$options={}),Object.keys(A).forEach(function(_){var E=A[_];typeof E=="string"&&(E={forwardTo:E}),E.name||(E.name=_),g.$options[E.name]=E,"initialValue"in E&&(g["$"+E.name]=E.initialValue)}),u.implement(g,b),this},v.prototype.resetOptions=function(g){Object.keys(g.$options).forEach(function(k){var A=g.$options[k];"value"in A&&g.setOption(k,A.value)})},v.prototype.setDefaultValue=function(g,k,A){if(!g){for(g in this.$defaultOptions)if(this.$defaultOptions[g][k])break;if(!this.$defaultOptions[g][k])return!1}var _=this.$defaultOptions[g]||(this.$defaultOptions[g]={});_[k]&&(_.forwardTo?this.setDefaultValue(_.forwardTo,k,A):_[k].value=A)},v.prototype.setDefaultValues=function(g,k){Object.keys(k).forEach(function(A){this.setDefaultValue(g,A,k[A])},this)},v}();p.prototype.warn=f,p.prototype.reportError=w,u.implement(p.prototype,h),o.AppConfig=p}),ace.define("ace/theme/textmate.css",["require","exports","module"],function(i,o,c){c.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],function(i,o,c){o.isDark=!1,o.cssClass="ace-tm",o.cssText=i("./textmate.css"),o.$id="ace/theme/textmate";var u=i("../lib/dom");u.importCssString(o.cssText,o.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(i,o,c){var u=i("./lib/lang"),h=i("./lib/net"),b=i("./lib/dom"),f=i("./lib/app_config").AppConfig;c.exports=o=new f;var w={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};o.get=function(g){if(!w.hasOwnProperty(g))throw new Error("Unknown config key: "+g);return w[g]},o.set=function(g,k){if(w.hasOwnProperty(g))w[g]=k;else if(this.setDefaultValue("",g,k)==!1)throw new Error("Unknown config key: "+g);g=="useStrictCSP"&&b.useStrictCSP(k)},o.all=function(){return u.copyObject(w)},o.$modes={},o.moduleUrl=function(g,k){if(w.$moduleUrls[g])return w.$moduleUrls[g];var A=g.split("/");k=k||A[A.length-2]||"";var _=k=="snippets"?"/":"-",E=A[A.length-1];if(k=="worker"&&_=="-"){var x=new RegExp("^"+k+"[\\-_]|[\\-_]"+k+"$","g");E=E.replace(x,"")}(!E||E==k)&&A.length>1&&(E=A[A.length-2]);var D=w[k+"Path"];return D==null?D=w.basePath:_=="/"&&(k=_=""),D&&D.slice(-1)!="/"&&(D+="/"),D+k+_+E+this.get("suffix")},o.setModuleUrl=function(g,k){return w.$moduleUrls[g]=k};var p=function(g,k){return g==="ace/theme/textmate"||g==="./theme/textmate"?k(null,i("./theme/textmate")):console.error("loader is not configured")};o.setLoader=function(g){p=g},o.dynamicModules=Object.create(null),o.$loading={},o.loadModule=function(g,k){var A,_;Array.isArray(g)&&(_=g[0],g=g[1]);var E=function(x){if(x&&!o.$loading[g])return k&&k(x);if(o.$loading[g]||(o.$loading[g]=[]),o.$loading[g].push(k),!(o.$loading[g].length>1)){var D=function(){p(g,function(O,B){o._emit("load.module",{name:g,module:B});var I=o.$loading[g];o.$loading[g]=null,I.forEach(function(R){R&&R(B)})})};if(!o.get("packaged"))return D();h.loadScript(o.moduleUrl(g,_),D),v()}};if(o.dynamicModules[g])o.dynamicModules[g]().then(function(x){x.default?E(x.default):E(x)});else{try{A=i(g)}catch{}E(A)}},o.setModuleLoader=function(g,k){o.dynamicModules[g]=k};var v=function(){!w.basePath&&!w.workerPath&&!w.modePath&&!w.themePath&&!Object.keys(w.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),v=function(){})};o.version="1.18.0"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(i,o,c){i("./lib/fixoldbrowsers");var u=i("./config");u.setLoader(function(w,p){i([w],function(v){p(null,v)})});var h=function(){return this||typeof window<"u"&&window}();c.exports=function(w){u.init=b,w.require=i},b(!0);function b(w){if(!(!h||!h.document)){u.set("packaged",w||i.packaged||c.packaged||h.define&&(void 0).packaged);var p={},v="",g=document.currentScript||document._currentScript,k=g&&g.ownerDocument||document;g&&g.src&&(v=g.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var A=k.getElementsByTagName("script"),_=0;_<A.length;_++){var E=A[_],x=E.src||E.getAttribute("src");if(x){for(var D=E.attributes,O=0,B=D.length;O<B;O++){var I=D[O];I.name.indexOf("data-ace-")===0&&(p[f(I.name.replace(/^data-ace-/,""))]=I.value)}var R=x.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);R&&(v=R[1])}}v&&(p.base=p.base||v,p.packaged=!0),p.basePath=p.base,p.workerPath=p.workerPath||p.base,p.modePath=p.modePath||p.base,p.themePath=p.themePath||p.base,delete p.base;for(var j in p)typeof p[j]<"u"&&u.set(j,p[j])}}function f(w){return w.replace(/-(.)/g,function(p,v){return v.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(i,o,c){var u=function(b,f){return b.row-f.row||b.column-f.column},h=function(){function b(f,w,p,v){this.start={row:f,column:w},this.end={row:p,column:v}}return b.prototype.isEqual=function(f){return this.start.row===f.start.row&&this.end.row===f.end.row&&this.start.column===f.start.column&&this.end.column===f.end.column},b.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},b.prototype.contains=function(f,w){return this.compare(f,w)==0},b.prototype.compareRange=function(f){var w,p=f.end,v=f.start;return w=this.compare(p.row,p.column),w==1?(w=this.compare(v.row,v.column),w==1?2:w==0?1:0):w==-1?-2:(w=this.compare(v.row,v.column),w==-1?-1:w==1?42:0)},b.prototype.comparePoint=function(f){return this.compare(f.row,f.column)},b.prototype.containsRange=function(f){return this.comparePoint(f.start)==0&&this.comparePoint(f.end)==0},b.prototype.intersects=function(f){var w=this.compareRange(f);return w==-1||w==0||w==1},b.prototype.isEnd=function(f,w){return this.end.row==f&&this.end.column==w},b.prototype.isStart=function(f,w){return this.start.row==f&&this.start.column==w},b.prototype.setStart=function(f,w){typeof f=="object"?(this.start.column=f.column,this.start.row=f.row):(this.start.row=f,this.start.column=w)},b.prototype.setEnd=function(f,w){typeof f=="object"?(this.end.column=f.column,this.end.row=f.row):(this.end.row=f,this.end.column=w)},b.prototype.inside=function(f,w){return this.compare(f,w)==0?!(this.isEnd(f,w)||this.isStart(f,w)):!1},b.prototype.insideStart=function(f,w){return this.compare(f,w)==0?!this.isEnd(f,w):!1},b.prototype.insideEnd=function(f,w){return this.compare(f,w)==0?!this.isStart(f,w):!1},b.prototype.compare=function(f,w){return!this.isMultiLine()&&f===this.start.row?w<this.start.column?-1:w>this.end.column?1:0:f<this.start.row?-1:f>this.end.row?1:this.start.row===f?w>=this.start.column?0:-1:this.end.row===f?w<=this.end.column?0:1:0},b.prototype.compareStart=function(f,w){return this.start.row==f&&this.start.column==w?-1:this.compare(f,w)},b.prototype.compareEnd=function(f,w){return this.end.row==f&&this.end.column==w?1:this.compare(f,w)},b.prototype.compareInside=function(f,w){return this.end.row==f&&this.end.column==w?1:this.start.row==f&&this.start.column==w?-1:this.compare(f,w)},b.prototype.clipRows=function(f,w){if(this.end.row>w)var p={row:w+1,column:0};else if(this.end.row<f)var p={row:f,column:0};if(this.start.row>w)var v={row:w+1,column:0};else if(this.start.row<f)var v={row:f,column:0};return b.fromPoints(v||this.start,p||this.end)},b.prototype.extend=function(f,w){var p=this.compare(f,w);if(p==0)return this;if(p==-1)var v={row:f,column:w};else var g={row:f,column:w};return b.fromPoints(v||this.start,g||this.end)},b.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},b.prototype.isMultiLine=function(){return this.start.row!==this.end.row},b.prototype.clone=function(){return b.fromPoints(this.start,this.end)},b.prototype.collapseRows=function(){return this.end.column==0?new b(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new b(this.start.row,0,this.end.row,0)},b.prototype.toScreenRange=function(f){var w=f.documentToScreenPosition(this.start),p=f.documentToScreenPosition(this.end);return new b(w.row,w.column,p.row,p.column)},b.prototype.moveBy=function(f,w){this.start.row+=f,this.start.column+=w,this.end.row+=f,this.end.column+=w},b}();h.fromPoints=function(b,f){return new h(b.row,b.column,f.row,f.column)},h.comparePoints=u,h.comparePoints=function(b,f){return b.row-f.row||b.column-f.column},o.Range=h}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(i,o,c){/*! @license
	==========================================================================
	SproutCore -- JavaScript Application Framework
	copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

	Permission is hereby granted, free of charge, to any person obtaining a
	copy of this software and associated documentation files (the "Software"),
	to deal in the Software without restriction, including without limitation
	the rights to use, copy, modify, merge, publish, distribute, sublicense,
	and/or sell copies of the Software, and to permit persons to whom the
	Software is furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
	DEALINGS IN THE SOFTWARE.

	SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

	For more information about SproutCore, visit http://www.sproutcore.com


	==========================================================================
	@license */var u=i("./oop"),h=function(){var b={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};b.PRINTABLE_KEYS[173]="-";var f,w;for(w in b.FUNCTION_KEYS)f=b.FUNCTION_KEYS[w].toLowerCase(),b[f]=parseInt(w,10);for(w in b.PRINTABLE_KEYS)f=b.PRINTABLE_KEYS[w].toLowerCase(),b[f]=parseInt(w,10);return u.mixin(b,b.MODIFIER_KEYS),u.mixin(b,b.PRINTABLE_KEYS),u.mixin(b,b.FUNCTION_KEYS),b.enter=b.return,b.escape=b.esc,b.del=b.delete,function(){for(var p=["cmd","ctrl","alt","shift"],v=Math.pow(2,p.length);v--;)b.KEY_MODS[v]=p.filter(function(g){return v&b.KEY_MODS[g]}).join("-")+"-"}(),b.KEY_MODS[0]="",b.KEY_MODS[-1]="input-",b}();u.mixin(o,h),o.keyCodeToString=function(b){var f=h[b];return typeof f!="string"&&(f=String.fromCharCode(b)),f.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(i,o,c){var u=i("./keys"),h=i("./useragent"),b=null,f=0,w;function p(){w=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){w={passive:!1}}})}catch{}}function v(){return w==null&&p(),w}function g(O,B,I){this.elem=O,this.type=B,this.callback=I}g.prototype.destroy=function(){A(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var k=o.addListener=function(O,B,I,R){O.addEventListener(B,I,v()),R&&R.$toDestroy.push(new g(O,B,I))},A=o.removeListener=function(O,B,I){O.removeEventListener(B,I,v())};o.stopEvent=function(O){return o.stopPropagation(O),o.preventDefault(O),!1},o.stopPropagation=function(O){O.stopPropagation&&O.stopPropagation()},o.preventDefault=function(O){O.preventDefault&&O.preventDefault()},o.getButton=function(O){return O.type=="dblclick"?0:O.type=="contextmenu"||h.isMac&&O.ctrlKey&&!O.altKey&&!O.shiftKey?2:O.button},o.capture=function(O,B,I){var R=O&&O.ownerDocument||document;function j(N){B&&B(N),I&&I(N),A(R,"mousemove",B),A(R,"mouseup",j),A(R,"dragstart",j)}return k(R,"mousemove",B),k(R,"mouseup",j),k(R,"dragstart",j),j},o.addMouseWheelListener=function(O,B,I){k(O,"wheel",function(R){var j=.15,N=R.deltaX||0,P=R.deltaY||0;switch(R.deltaMode){case R.DOM_DELTA_PIXEL:R.wheelX=N*j,R.wheelY=P*j;break;case R.DOM_DELTA_LINE:var F=15;R.wheelX=N*F,R.wheelY=P*F;break;case R.DOM_DELTA_PAGE:var T=150;R.wheelX=N*T,R.wheelY=P*T;break}B(R)},I)},o.addMultiMouseDownListener=function(O,B,I,R,j){var N=0,P,F,T,L={2:"dblclick",3:"tripleclick",4:"quadclick"};function z(V){if(o.getButton(V)!==0?N=0:V.detail>1?(N++,N>4&&(N=1)):N=1,h.isIE){var H=Math.abs(V.clientX-P)>5||Math.abs(V.clientY-F)>5;(!T||H)&&(N=1),T&&clearTimeout(T),T=setTimeout(function(){T=null},B[N-1]||600),N==1&&(P=V.clientX,F=V.clientY)}if(V._clicks=N,I[R]("mousedown",V),N>4)N=0;else if(N>1)return I[R](L[N],V)}Array.isArray(O)||(O=[O]),O.forEach(function(V){k(V,"mousedown",z,j)})};var _=function(O){return 0|(O.ctrlKey?1:0)|(O.altKey?2:0)|(O.shiftKey?4:0)|(O.metaKey?8:0)};o.getModifierString=function(O){return u.KEY_MODS[_(O)]};function E(O,B,I){var R=_(B);if(!h.isMac&&b){if(B.getModifierState&&(B.getModifierState("OS")||B.getModifierState("Win"))&&(R|=8),b.altGr)if((3&R)!=3)b.altGr=0;else return;if(I===18||I===17){var j="location"in B?B.location:B.keyLocation;if(I===17&&j===1)b[I]==1&&(f=B.timeStamp);else if(I===18&&R===3&&j===2){var N=B.timeStamp-f;N<50&&(b.altGr=!0)}}}if(I in u.MODIFIER_KEYS&&(I=-1),!R&&I===13){var j="location"in B?B.location:B.keyLocation;if(j===3&&(O(B,R,-I),B.defaultPrevented))return}if(h.isChromeOS&&R&8){if(O(B,R,I),B.defaultPrevented)return;R&=-9}return!R&&!(I in u.FUNCTION_KEYS)&&!(I in u.PRINTABLE_KEYS)?!1:O(B,R,I)}o.addCommandKeyListener=function(O,B,I){if(h.isOldGecko||h.isOpera&&!("KeyboardEvent"in window)){var R=null;k(O,"keydown",function(N){R=N.keyCode},I),k(O,"keypress",function(N){return E(B,N,R)},I)}else{var j=null;k(O,"keydown",function(N){b[N.keyCode]=(b[N.keyCode]||0)+1;var P=E(B,N,N.keyCode);return j=N.defaultPrevented,P},I),k(O,"keypress",function(N){j&&(N.ctrlKey||N.altKey||N.shiftKey||N.metaKey)&&(o.stopEvent(N),j=null)},I),k(O,"keyup",function(N){b[N.keyCode]=null},I),b||(x(),k(window,"focus",x))}};function x(){b=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!h.isOldIE){var D=1;o.nextTick=function(O,B){B=B||window;var I="zero-timeout-message-"+D++,R=function(j){j.data==I&&(o.stopPropagation(j),A(B,"message",R),O())};k(B,"message",R),B.postMessage(I,"*")}}o.$idleBlocked=!1,o.onIdle=function(O,B){return setTimeout(function I(){o.$idleBlocked?setTimeout(I,100):O()},B)},o.$idleBlockId=null,o.blockIdle=function(O){o.$idleBlockId&&clearTimeout(o.$idleBlockId),o.$idleBlocked=!0,o.$idleBlockId=setTimeout(function(){o.$idleBlocked=!1},O||100)},o.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),o.nextFrame?o.nextFrame=o.nextFrame.bind(window):o.nextFrame=function(O){setTimeout(O,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(i,o,c){var u;c.exports={lineMode:!1,pasteCancelled:function(){return u&&u>Date.now()-50?!0:u=!1},cancel:function(){u=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(i,o,c){var u=i("../lib/event"),h=i("../lib/useragent"),b=i("../lib/dom"),f=i("../lib/lang"),w=i("../clipboard"),p=h.isChrome<18,v=h.isIE,g=h.isChrome>63,k=400,A=i("../lib/keys"),_=A.KEY_MODS,E=h.isIOS,x=E?/\s/:/\n/,D=h.isMobile,O=function(B,I){var R=b.createElement("textarea");R.className="ace_text-input",R.setAttribute("wrap","off"),R.setAttribute("autocorrect","off"),R.setAttribute("autocapitalize","off"),R.setAttribute("spellcheck",!1),R.style.opacity="0",B.insertBefore(R,B.firstChild);var j=!1,N=!1,P=!1,F=!1,T="";D||(R.style.fontSize="1px");var L=!1,z=!1,V="",H=0,G=0,J=0;try{var Y=document.activeElement===R}catch{}this.setAriaOptions=function(fe){fe.activeDescendant?(R.setAttribute("aria-haspopup","true"),R.setAttribute("aria-autocomplete",fe.inline?"both":"list"),R.setAttribute("aria-activedescendant",fe.activeDescendant)):(R.setAttribute("aria-haspopup","false"),R.setAttribute("aria-autocomplete","both"),R.removeAttribute("aria-activedescendant")),fe.role&&R.setAttribute("role",fe.role)},this.setAriaOptions({role:"textbox"}),u.addListener(R,"blur",function(fe){z||(I.onBlur(fe),Y=!1,D&&!E&&document.removeEventListener("selectionchange",pe))},I),u.addListener(R,"focus",function(fe){if(!z){if(Y=!0,h.isEdge)try{if(!document.hasFocus())return}catch{}I.onFocus(fe),h.isEdge?setTimeout(ee):ee(),D&&!E&&document.addEventListener("selectionchange",pe)}},I),this.$focusScroll=!1,this.focus=function(){if(T||g||this.$focusScroll=="browser")return R.focus({preventScroll:!0});var fe=R.style.top;R.style.position="fixed",R.style.top="0px";try{var Se=R.getBoundingClientRect().top!=0}catch{return}var Oe=[];if(Se)for(var nt=R.parentElement;nt&&nt.nodeType==1;)Oe.push(nt),nt.setAttribute("ace_nocontext",!0),!nt.parentElement&&nt.getRootNode?nt=nt.getRootNode().host:nt=nt.parentElement;R.focus({preventScroll:!0}),Se&&Oe.forEach(function(it){it.removeAttribute("ace_nocontext")}),setTimeout(function(){R.style.position="",R.style.top=="0px"&&(R.style.top=fe)},0)},this.blur=function(){R.blur()},this.isFocused=function(){return Y},I.on("beforeEndOperation",function(){var fe=I.curOp,Se=fe&&fe.command&&fe.command.name;if(Se!="insertstring"){var Oe=Se&&(fe.docChanged||fe.selectionChanged);P&&Oe&&(V=R.value="",Ye()),ee()}});var ee=E?function(fe){if(!(!Y||j&&!fe||F)){fe||(fe="");var Se=`
 ab`+fe+`cde fg
`;Se!=R.value&&(R.value=V=Se);var Oe=4,nt=4+(fe.length||(I.selection.isEmpty()?0:1));(H!=Oe||G!=nt)&&R.setSelectionRange(Oe,nt),H=Oe,G=nt}}:function(){if(!(P||F)&&!(!Y&&!ce)){P=!0;var fe=0,Se=0,Oe="";if(I.session){var nt=I.selection,it=nt.getRange(),ot=nt.cursor.row;if(fe=it.start.column,Se=it.end.column,Oe=I.session.getLine(ot),it.start.row!=ot){var Dt=I.session.getLine(ot-1);fe=it.start.row<ot-1?0:fe,Se+=Dt.length+1,Oe=Dt+`
`+Oe}else if(it.end.row!=ot){var kt=I.session.getLine(ot+1);Se=it.end.row>ot+1?kt.length:Se,Se+=Oe.length+1,Oe=Oe+`
`+kt}else D&&ot>0&&(Oe=`
`+Oe,Se+=1,fe+=1);Oe.length>k&&(fe<k&&Se<k?Oe=Oe.slice(0,k):(Oe=`
`,fe==Se?fe=Se=0:(fe=0,Se=1)))}var ut=Oe+`

`;if(ut!=V&&(R.value=V=ut,H=G=ut.length),ce&&(H=R.selectionStart,G=R.selectionEnd),G!=Se||H!=fe||R.selectionEnd!=G)try{R.setSelectionRange(fe,Se),H=fe,G=Se}catch{}P=!1}};this.resetSelection=ee,Y&&I.onFocus();var re=function(fe){return fe.selectionStart===0&&fe.selectionEnd>=V.length&&fe.value===V&&V&&fe.selectionEnd!==G},oe=function(fe){P||(j?j=!1:re(R)?(I.selectAll(),ee()):D&&R.selectionStart!=H&&ee())};function pe(fe){if((!R||!R.parentNode)&&document.removeEventListener("selectionchange",pe),!P&&R.selectionStart===R.selectionEnd){var Se=R.selectionStart-H,Oe=G-H;Se>0?Se=Math.max(Se-Oe,1):Se===0&&Oe&&(Se=-1);for(var nt=Math.abs(Se),it=Se>0?A.right:A.left,ot=0;ot<nt;ot++)I.onCommandKey({},0,it)}}var le=null;this.setInputHandler=function(fe){le=fe},this.getInputHandler=function(){return le};var ce=!1,ue=function(fe,Se){if(ce&&(ce=!1),N)return ee(),fe&&I.onPaste(fe),N=!1,"";for(var Oe=R.selectionStart,nt=R.selectionEnd,it=H,ot=V.length-G,Dt=fe,kt=fe.length-Oe,ut=fe.length-nt,pt=0;it>0&&V[pt]==fe[pt];)pt++,it--;for(Dt=Dt.slice(pt),pt=1;ot>0&&V.length-pt>H-1&&V[V.length-pt]==fe[fe.length-pt];)pt++,ot--;kt-=pt-1,ut-=pt-1;var Ln=Dt.length-pt+1;if(Ln<0&&(it=-Ln,Ln=0),Dt=Dt.slice(0,Ln),!Se&&!Dt&&!kt&&!it&&!ot&&!ut)return"";F=!0;var fo=!1;return h.isAndroid&&Dt==". "&&(Dt="  ",fo=!0),Dt&&!it&&!ot&&!kt&&!ut||L?I.onTextInput(Dt):I.onTextInput(Dt,{extendLeft:it,extendRight:ot,restoreStart:kt,restoreEnd:ut}),F=!1,V=fe,H=Oe,G=nt,J=ut,fo?`
`:Dt},ge=function(fe){if(P)return Jt();if(fe&&fe.inputType){if(fe.inputType=="historyUndo")return I.execCommand("undo");if(fe.inputType=="historyRedo")return I.execCommand("redo")}var Se=R.value,Oe=ue(Se,!0);(Se.length>k+100||x.test(Oe)||D&&H<1&&H==G)&&ee()},ye=function(fe,Se,Oe){var nt=fe.clipboardData||window.clipboardData;if(!(!nt||p)){var it=v||Oe?"Text":"text/plain";try{return Se?nt.setData(it,Se)!==!1:nt.getData(it)}catch(ot){if(!Oe)return ye(ot,Se,!0)}}},Ie=function(fe,Se){var Oe=I.getCopyText();if(!Oe)return u.preventDefault(fe);ye(fe,Oe)?(E&&(ee(Oe),j=Oe,setTimeout(function(){j=!1},10)),Se?I.onCut():I.onCopy(),u.preventDefault(fe)):(j=!0,R.value=Oe,R.select(),setTimeout(function(){j=!1,ee(),Se?I.onCut():I.onCopy()}))},xe=function(fe){Ie(fe,!0)},$e=function(fe){Ie(fe,!1)},qe=function(fe){var Se=ye(fe);w.pasteCancelled()||(typeof Se=="string"?(Se&&I.onPaste(Se,fe),h.isIE&&setTimeout(ee),u.preventDefault(fe)):(R.value="",N=!0))};u.addCommandKeyListener(R,I.onCommandKey.bind(I),I),u.addListener(R,"select",oe,I),u.addListener(R,"input",ge,I),u.addListener(R,"cut",xe,I),u.addListener(R,"copy",$e,I),u.addListener(R,"paste",qe,I),(!("oncut"in R)||!("oncopy"in R)||!("onpaste"in R))&&u.addListener(B,"keydown",function(fe){if(!(h.isMac&&!fe.metaKey||!fe.ctrlKey))switch(fe.keyCode){case 67:$e(fe);break;case 86:qe(fe);break;case 88:xe(fe);break}},I);var wt=function(fe){if(!(P||!I.onCompositionStart||I.$readOnly)&&(P={},!L)){fe.data&&(P.useTextareaForIME=!1),setTimeout(Jt,0),I._signal("compositionStart"),I.on("mousedown",Et);var Se=I.getSelectionRange();Se.end.row=Se.start.row,Se.end.column=Se.start.column,P.markerRange=Se,P.selectionStart=H,I.onCompositionStart(P),P.useTextareaForIME?(V=R.value="",H=0,G=0):(R.msGetInputContext&&(P.context=R.msGetInputContext()),R.getInputContext&&(P.context=R.getInputContext()))}},Jt=function(){if(!(!P||!I.onCompositionUpdate||I.$readOnly)){if(L)return Et();if(P.useTextareaForIME)I.onCompositionUpdate(R.value);else{var fe=R.value;ue(fe),P.markerRange&&(P.context&&(P.markerRange.start.column=P.selectionStart=P.context.compositionStartOffset),P.markerRange.end.column=P.markerRange.start.column+G-P.selectionStart+J)}}},Ye=function(fe){!I.onCompositionEnd||I.$readOnly||(P=!1,I.onCompositionEnd(),I.off("mousedown",Et),fe&&ge())};function Et(){z=!0,R.blur(),R.focus(),z=!1}var se=f.delayedCall(Jt,50).schedule.bind(null,null);function we(fe){fe.keyCode==27&&R.value.length<R.selectionStart&&(P||(V=R.value),H=G=-1,ee()),se()}u.addListener(R,"compositionstart",wt,I),u.addListener(R,"compositionupdate",Jt,I),u.addListener(R,"keyup",we,I),u.addListener(R,"keydown",se,I),u.addListener(R,"compositionend",Ye,I),this.getElement=function(){return R},this.setCommandMode=function(fe){L=fe,R.readOnly=!1},this.setReadOnly=function(fe){L||(R.readOnly=fe)},this.setCopyWithEmptySelection=function(fe){},this.onContextMenu=function(fe){ce=!0,ee(),I._emit("nativecontextmenu",{target:I,domEvent:fe}),this.moveToMouse(fe,!0)},this.moveToMouse=function(fe,Se){T||(T=R.style.cssText),R.style.cssText=(Se?"z-index:100000;":"")+(h.isIE?"opacity:0.1;":"")+"text-indent: -"+(H+G)*I.renderer.characterWidth*.5+"px;";var Oe=I.container.getBoundingClientRect(),nt=b.computedStyle(I.container),it=Oe.top+(parseInt(nt.borderTopWidth)||0),ot=Oe.left+(parseInt(Oe.borderLeftWidth)||0),Dt=Oe.bottom-it-R.clientHeight-2,kt=function(ut){b.translate(R,ut.clientX-ot-2,Math.min(ut.clientY-it-2,Dt))};kt(fe),fe.type=="mousedown"&&(I.renderer.$isMousePressed=!0,clearTimeout(ke),h.isWin&&u.capture(I.container,kt,Fe))},this.onContextMenuClose=Fe;var ke;function Fe(){clearTimeout(ke),ke=setTimeout(function(){T&&(R.style.cssText=T,T=""),I.renderer.$isMousePressed=!1,I.renderer.$keepTextAreaAtCursor&&I.renderer.$moveTextAreaToCursor()},0)}var Be=function(fe){I.textInput.onContextMenu(fe),Fe()};u.addListener(R,"mouseup",Be,I),u.addListener(R,"mousedown",function(fe){fe.preventDefault(),Fe()},I),u.addListener(I.renderer.scroller,"contextmenu",Be,I),u.addListener(R,"contextmenu",Be,I),E&&Me(B,I,R);function Me(fe,Se,Oe){var nt=null,it=!1;Oe.addEventListener("keydown",function(Dt){nt&&clearTimeout(nt),it=!0},!0),Oe.addEventListener("keyup",function(Dt){nt=setTimeout(function(){it=!1},100)},!0);var ot=function(Dt){if(document.activeElement===Oe&&!(it||P||Se.$mouseHandler.isMousePressed)&&!j){var kt=Oe.selectionStart,ut=Oe.selectionEnd,pt=null,Ln=0;if(kt==0?pt=A.up:kt==1?pt=A.home:ut>G&&V[ut]==`
`?pt=A.end:kt<H&&V[kt-1]==" "?(pt=A.left,Ln=_.option):kt<H||kt==H&&G!=H&&kt==ut?pt=A.left:ut>G&&V.slice(0,ut).split(`
`).length>2?pt=A.down:ut>G&&V[ut-1]==" "?(pt=A.right,Ln=_.option):(ut>G||ut==G&&G!=H&&kt==ut)&&(pt=A.right),kt!==ut&&(Ln|=_.shift),pt){var fo=Se.onCommandKey({},Ln,pt);if(!fo&&Se.commands){pt=A.keyCodeToString(pt);var rs=Se.commands.findKeyCommand(Ln,pt);rs&&Se.execCommand(rs)}H=kt,G=ut,ee("")}}};document.addEventListener("selectionchange",ot),Se.on("destroy",function(){document.removeEventListener("selectionchange",ot)})}this.destroy=function(){R.parentElement&&R.parentElement.removeChild(R)}};o.TextInput=O,o.$setUserAgentForTests=function(B,I){D=B,E=I}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(i,o,c){var u=i("../lib/useragent"),h=0,b=550,f=function(){function v(g){g.$clickSelection=null;var k=g.editor;k.setDefaultHandler("mousedown",this.onMouseDown.bind(g)),k.setDefaultHandler("dblclick",this.onDoubleClick.bind(g)),k.setDefaultHandler("tripleclick",this.onTripleClick.bind(g)),k.setDefaultHandler("quadclick",this.onQuadClick.bind(g)),k.setDefaultHandler("mousewheel",this.onMouseWheel.bind(g));var A=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];A.forEach(function(_){g[_]=this[_]},this),g.selectByLines=this.extendSelectionBy.bind(g,"getLineRange"),g.selectByWords=this.extendSelectionBy.bind(g,"getWordRange")}return v.prototype.onMouseDown=function(g){var k=g.inSelection(),A=g.getDocumentPosition();this.mousedownEvent=g;var _=this.editor,E=g.getButton();if(E!==0){var x=_.getSelectionRange(),D=x.isEmpty();(D||E==1)&&_.selection.moveToPosition(A),E==2&&(_.textInput.onContextMenu(g.domEvent),u.isMozilla||g.preventDefault());return}if(this.mousedownEvent.time=Date.now(),k&&!_.isFocused()&&(_.focus(),this.$focusTimeout&&!this.$clickSelection&&!_.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(g);return}return this.captureMouse(g),this.startSelect(A,g.domEvent._clicks>1),g.preventDefault()},v.prototype.startSelect=function(g,k){g=g||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var A=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?A.selection.selectToPosition(g):k||A.selection.moveToPosition(g),k||this.select(),A.setStyle("ace_selecting"),this.setState("select"))},v.prototype.select=function(){var g,k=this.editor,A=k.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var _=this.$clickSelection.comparePoint(A);if(_==-1)g=this.$clickSelection.end;else if(_==1)g=this.$clickSelection.start;else{var E=p(this.$clickSelection,A);A=E.cursor,g=E.anchor}k.selection.setSelectionAnchor(g.row,g.column)}k.selection.selectToPosition(A),k.renderer.scrollCursorIntoView()},v.prototype.extendSelectionBy=function(g){var k,A=this.editor,_=A.renderer.screenToTextCoordinates(this.x,this.y),E=A.selection[g](_.row,_.column);if(this.$clickSelection){var x=this.$clickSelection.comparePoint(E.start),D=this.$clickSelection.comparePoint(E.end);if(x==-1&&D<=0)k=this.$clickSelection.end,(E.end.row!=_.row||E.end.column!=_.column)&&(_=E.start);else if(D==1&&x>=0)k=this.$clickSelection.start,(E.start.row!=_.row||E.start.column!=_.column)&&(_=E.end);else if(x==-1&&D==1)_=E.end,k=E.start;else{var O=p(this.$clickSelection,_);_=O.cursor,k=O.anchor}A.selection.setSelectionAnchor(k.row,k.column)}A.selection.selectToPosition(_),A.renderer.scrollCursorIntoView()},v.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},v.prototype.focusWait=function(){var g=w(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),k=Date.now();(g>h||k-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},v.prototype.onDoubleClick=function(g){var k=g.getDocumentPosition(),A=this.editor,_=A.session,E=_.getBracketRange(k);E?(E.isEmpty()&&(E.start.column--,E.end.column++),this.setState("select")):(E=A.selection.getWordRange(k.row,k.column),this.setState("selectByWords")),this.$clickSelection=E,this.select()},v.prototype.onTripleClick=function(g){var k=g.getDocumentPosition(),A=this.editor;this.setState("selectByLines");var _=A.getSelectionRange();_.isMultiLine()&&_.contains(k.row,k.column)?(this.$clickSelection=A.selection.getLineRange(_.start.row),this.$clickSelection.end=A.selection.getLineRange(_.end.row).end):this.$clickSelection=A.selection.getLineRange(k.row),this.select()},v.prototype.onQuadClick=function(g){var k=this.editor;k.selectAll(),this.$clickSelection=k.getSelectionRange(),this.setState("selectAll")},v.prototype.onMouseWheel=function(g){if(!g.getAccelKey()){g.getShiftKey()&&g.wheelY&&!g.wheelX&&(g.wheelX=g.wheelY,g.wheelY=0);var k=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var A=this.$lastScroll,_=g.domEvent.timeStamp,E=_-A.t,x=E?g.wheelX/E:A.vx,D=E?g.wheelY/E:A.vy;E<b&&(x=(x+A.vx)/2,D=(D+A.vy)/2);var O=Math.abs(x/D),B=!1;if(O>=1&&k.renderer.isScrollableBy(g.wheelX*g.speed,0)&&(B=!0),O<=1&&k.renderer.isScrollableBy(0,g.wheelY*g.speed)&&(B=!0),B)A.allowed=_;else if(_-A.allowed<b){var I=Math.abs(x)<=1.5*Math.abs(A.vx)&&Math.abs(D)<=1.5*Math.abs(A.vy);I?(B=!0,A.allowed=_):A.allowed=0}if(A.t=_,A.vx=x,A.vy=D,B)return k.renderer.scrollBy(g.wheelX*g.speed,g.wheelY*g.speed),g.stop()}},v}();f.prototype.selectEnd=f.prototype.selectByLinesEnd,f.prototype.selectAllEnd=f.prototype.selectByLinesEnd,f.prototype.selectByWordsEnd=f.prototype.selectByLinesEnd,o.DefaultHandlers=f;function w(v,g,k,A){return Math.sqrt(Math.pow(k-v,2)+Math.pow(A-g,2))}function p(v,g){if(v.start.row==v.end.row)var k=2*g.column-v.start.column-v.end.column;else if(v.start.row==v.end.row-1&&!v.start.column&&!v.end.column)var k=g.column-4;else var k=2*g.row-v.start.row-v.end.row;return k<0?{cursor:v.start,anchor:v.end}:{cursor:v.end,anchor:v.start}}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/range"],function(i,o,c){var u=this&&this.__extends||function(){var A=function(_,E){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,D){x.__proto__=D}||function(x,D){for(var O in D)Object.prototype.hasOwnProperty.call(D,O)&&(x[O]=D[O])},A(_,E)};return function(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");A(_,E);function x(){this.constructor=_}_.prototype=E===null?Object.create(E):(x.prototype=E.prototype,new x)}}(),h=this&&this.__values||function(A){var _=typeof Symbol=="function"&&Symbol.iterator,E=_&&A[_],x=0;if(E)return E.call(A);if(A&&typeof A.length=="number")return{next:function(){return A&&x>=A.length&&(A=void 0),{value:A&&A[x++],done:!A}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")},b=i("./lib/dom"),f=i("./range").Range,w="ace_tooltip",p=function(){function A(_){this.isOpen=!1,this.$element=null,this.$parentNode=_}return A.prototype.$init=function(){return this.$element=b.createElement("div"),this.$element.className=w,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},A.prototype.getElement=function(){return this.$element||this.$init()},A.prototype.setText=function(_){this.getElement().textContent=_},A.prototype.setHtml=function(_){this.getElement().innerHTML=_},A.prototype.setPosition=function(_,E){this.getElement().style.left=_+"px",this.getElement().style.top=E+"px"},A.prototype.setClassName=function(_){b.addCssClass(this.getElement(),_)},A.prototype.setTheme=function(_){this.$element.className=w+" "+(_.isDark?"ace_dark ":"")+(_.cssClass||"")},A.prototype.show=function(_,E,x){_!=null&&this.setText(_),E!=null&&x!=null&&this.setPosition(E,x),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},A.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=w,this.isOpen=!1)},A.prototype.getHeight=function(){return this.getElement().offsetHeight},A.prototype.getWidth=function(){return this.getElement().offsetWidth},A.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},A}(),v=function(){function A(){this.popups=[]}return A.prototype.addPopup=function(_){this.popups.push(_),this.updatePopups()},A.prototype.removePopup=function(_){var E=this.popups.indexOf(_);E!==-1&&(this.popups.splice(E,1),this.updatePopups())},A.prototype.updatePopups=function(){var _,E,x,D;this.popups.sort(function(T,L){return L.priority-T.priority});var O=[];try{for(var B=h(this.popups),I=B.next();!I.done;I=B.next()){var R=I.value,j=!0;try{for(var N=(x=void 0,h(O)),P=N.next();!P.done;P=N.next()){var F=P.value;if(this.doPopupsOverlap(F,R)){j=!1;break}}}catch(T){x={error:T}}finally{try{P&&!P.done&&(D=N.return)&&D.call(N)}finally{if(x)throw x.error}}j?O.push(R):R.hide()}}catch(T){_={error:T}}finally{try{I&&!I.done&&(E=B.return)&&E.call(B)}finally{if(_)throw _.error}}},A.prototype.doPopupsOverlap=function(_,E){var x=_.getElement().getBoundingClientRect(),D=E.getElement().getBoundingClientRect();return x.left<D.right&&x.right>D.left&&x.top<D.bottom&&x.bottom>D.top},A}(),g=new v;o.popupManager=g,o.Tooltip=p;var k=function(A){u(_,A);function _(){var E=A.call(this,document.body)||this;E.timeout=void 0,E.lastT=0,E.idleTime=350,E.lastEvent=void 0,E.onMouseOut=E.onMouseOut.bind(E),E.onMouseMove=E.onMouseMove.bind(E),E.waitForHover=E.waitForHover.bind(E),E.hide=E.hide.bind(E);var x=E.getElement();return x.style.whiteSpace="pre-wrap",x.style.pointerEvents="auto",x.addEventListener("mouseout",E.onMouseOut),x.tabIndex=-1,x.addEventListener("blur",function(){document.activeElement!=x&&this.hide()}.bind(E)),E}return _.prototype.addToEditor=function(E){E.on("mousemove",this.onMouseMove),E.on("mousedown",this.hide),E.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},_.prototype.removeFromEditor=function(E){E.off("mousemove",this.onMouseMove),E.off("mousedown",this.hide),E.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},_.prototype.onMouseMove=function(E,x){this.lastEvent=E,this.lastT=Date.now();var D=x.$mouseHandler.isMousePressed;if(this.isOpen){var O=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(O.row,O.column)||D||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||D||(this.lastEvent=E,this.timeout=setTimeout(this.waitForHover,this.idleTime))},_.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var E=Date.now()-this.lastT;if(this.idleTime-E>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-E);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},_.prototype.isOutsideOfText=function(E){var x=E.editor,D=E.getDocumentPosition(),O=x.session.getLine(D.row);if(D.column==O.length){var B=x.renderer.pixelToScreenCoordinates(E.clientX,E.clientY),I=x.session.documentToScreenPosition(D.row,D.column);if(I.column!=B.column||I.row!=B.row)return!0}return!1},_.prototype.setDataProvider=function(E){this.$gatherData=E},_.prototype.showForRange=function(E,x,D,O){if(!(O&&O!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var B=E.renderer;this.isOpen||(g.addPopup(this),this.$registerCloseEvents(),this.setTheme(B.theme)),this.isOpen=!0,this.addMarker(x,E.session),this.range=f.fromPoints(x.start,x.end);var I=this.getElement();I.innerHTML="",I.appendChild(D),I.style.display="block";var R=B.textToScreenCoordinates(x.start.row,x.start.column),j=E.getCursorPosition(),N=I.clientHeight,P=B.scroller.getBoundingClientRect(),F=!0;this.row>j.row?F=!0:this.row<j.row&&(F=!1),R.pageY-N+B.lineHeight<P.top?F=!0:R.pageY+N>P.bottom&&(F=!1),F?R.pageY+=B.lineHeight:R.pageY-=N,I.style.maxWidth=P.width-(R.pageX-P.left)+"px",this.setPosition(R.pageX,R.pageY)}},_.prototype.addMarker=function(E,x){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=x,this.marker=x&&x.addMarker(E,"ace_highlight-marker","text")},_.prototype.hide=function(E){!E&&document.activeElement==this.getElement()||E&&E.target&&E.type!="keydown"&&this.$element.contains(E.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,g.removePopup(this)))},_.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("mousewheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},_.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("mousewheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},_.prototype.onMouseOut=function(E){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!E.relatedTarget||E.relatedTarget==this.getElement()||E&&E.currentTarget.contains(E.relatedTarget)||E.relatedTarget.classList.contains("ace_content")||this.hide())},_}(p);o.HoverTooltip=k}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip"],function(i,o,c){var u=this&&this.__extends||function(){var g=function(k,A){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(_[x]=E[x])},g(k,A)};return function(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");g(k,A);function _(){this.constructor=k}k.prototype=A===null?Object.create(A):(_.prototype=A.prototype,new _)}}(),h=this&&this.__values||function(g){var k=typeof Symbol=="function"&&Symbol.iterator,A=k&&g[k],_=0;if(A)return A.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&_>=g.length&&(g=void 0),{value:g&&g[_++],done:!g}}};throw new TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")},b=i("../lib/dom"),f=i("../lib/event"),w=i("../tooltip").Tooltip;function p(g){var k=g.editor,A=k.renderer.$gutterLayer,_=new v(k.container);g.editor.setDefaultHandler("guttermousedown",function(N){if(!(!k.isFocused()||N.getButton()!=0)){var P=A.getRegion(N);if(P!="foldWidgets"){var F=N.getDocumentPosition().row,T=k.session.selection;if(N.getShiftKey())T.selectTo(F,0);else{if(N.domEvent.detail==2)return k.selectAll(),N.preventDefault();g.$clickSelection=k.selection.getLineRange(F)}return g.setState("selectByLines"),g.captureMouse(N),N.preventDefault()}}});var E,x,D,O={error:{singular:"error",plural:"errors"},warning:{singular:"warning",plural:"warnings"},info:{singular:"information message",plural:"information messages"}};function B(){var N=x.getDocumentPosition().row,P=A.$annotations[N],F;P?F={text:Array.from(P.text),type:Array.from(P.type)}:F={text:[],type:[]};var T=A.session.getFoldLine(N);if(T&&A.$showFoldedAnnotations){for(var L={error:[],warning:[],info:[]},z,V=N+1;V<=T.end.row;V++)if(A.$annotations[V])for(var H=0;H<A.$annotations[V].text.length;H++){var G=A.$annotations[V].type[H];if(L[G].push(A.$annotations[V].text[H]),G==="error"){z="error_fold";continue}if(G==="warning"){z="warning_fold";continue}}if(z==="error_fold"||z==="warning_fold"){var J="".concat(R(L)," in folded code.");F.text.push(J),F.type.push(z)}}if(F.text.length===0)return I();var Y=k.session.getLength();if(N==Y){var ee=k.renderer.pixelToScreenCoordinates(0,x.y).row,re=x.$pos;if(ee>k.session.documentToScreenRow(re.row,re.column))return I()}for(var oe={error:[],warning:[],info:[]},pe=A.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",V=0;V<F.text.length;V++){var le="<span class='ace_".concat(F.type[V]," ").concat(pe,"' aria-label='").concat(O[F.type[V].replace("_fold","")].singular,"' role=img> </span> ").concat(F.text[V]);oe[F.type[V].replace("_fold","")].push(le)}if(D=[].concat(oe.error,oe.warning,oe.info).join("<br>"),_.setHtml(D),_.setClassName("ace_gutter-tooltip"),_.$element.setAttribute("aria-live","polite"),_.isOpen||_.setTheme(k.renderer.theme),_.show(),k._signal("showGutterTooltip",_),k.on("mousewheel",I),g.$tooltipFollowsMouse)j(x);else{var ce=A.$lines.cells[N].element.querySelector("[class*=ace_icon]"),ue=ce.getBoundingClientRect(),ge=_.getElement().style;ge.left=ue.right+"px",ge.top=ue.bottom+"px"}}function I(){E&&(E=clearTimeout(E)),D&&(_.hide(),D=null,k._signal("hideGutterTooltip",_),k.off("mousewheel",I))}function R(N){var P,F,T=[],L=["error","warning","info"];try{for(var z=h(L),V=z.next();!V.done;V=z.next()){var H=V.value;if(N[H].length){var G=N[H].length===1?O[H].singular:O[H].plural;T.push("".concat(N[H].length," ").concat(G))}}}catch(J){P={error:J}}finally{try{V&&!V.done&&(F=z.return)&&F.call(z)}finally{if(P)throw P.error}}return T.join(", ")}function j(N){_.setPosition(N.x,N.y)}g.editor.setDefaultHandler("guttermousemove",function(N){var P=N.domEvent.target||N.domEvent.srcElement;if(b.hasCssClass(P,"ace_fold-widget"))return I();D&&g.$tooltipFollowsMouse&&j(N),x=N,!E&&(E=setTimeout(function(){E=null,x&&!g.isMousePressed?B():I()},50))}),f.addListener(k.renderer.$gutter,"mouseout",function(N){x=null,!(!D||E)&&(E=setTimeout(function(){E=null,I()},50))},k),k.on("changeSession",I)}var v=function(g){u(k,g);function k(){return g!==null&&g.apply(this,arguments)||this}return k.prototype.setPosition=function(A,_){var E=window.innerWidth||document.documentElement.clientWidth,x=window.innerHeight||document.documentElement.clientHeight,D=this.getWidth(),O=this.getHeight();A+=15,_+=15,A+D>E&&(A-=A+D-E),_+O>x&&(_-=20+O),w.prototype.setPosition.call(this,A,_)},k}(w);o.GutterHandler=p}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(i,o,c){var u=i("../lib/event"),h=i("../lib/useragent"),b=function(){function f(w,p){this.domEvent=w,this.editor=p,this.x=this.clientX=w.clientX,this.y=this.clientY=w.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1,this.getAccelKey=h.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}return f.prototype.stopPropagation=function(){u.stopPropagation(this.domEvent),this.propagationStopped=!0},f.prototype.preventDefault=function(){u.preventDefault(this.domEvent),this.defaultPrevented=!0},f.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},f.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},f.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var w=this.editor,p=w.getSelectionRange();if(p.isEmpty())this.$inSelection=!1;else{var v=this.getDocumentPosition();this.$inSelection=p.contains(v.row,v.column)}return this.$inSelection},f.prototype.getButton=function(){return u.getButton(this.domEvent)},f.prototype.getShiftKey=function(){return this.domEvent.shiftKey},f}();o.MouseEvent=b}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(i,o,c){var u=i("../lib/dom"),h=i("../lib/event"),b=i("../lib/useragent"),f=200,w=200,p=5;function v(k){var A=k.editor,_=u.createElement("div");_.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",_.textContent="";var E=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];E.forEach(function(le){k[le]=this[le]},this),A.on("mousedown",this.onMouseDown.bind(k));var x=A.container,D,O,B,I,R,j,N=0,P,F,T,L,z;this.onDragStart=function(le){if(this.cancelDrag||!x.draggable){var ce=this;return setTimeout(function(){ce.startSelect(),ce.captureMouse(le)},0),le.preventDefault()}R=A.getSelectionRange();var ue=le.dataTransfer;ue.effectAllowed=A.getReadOnly()?"copy":"copyMove",A.container.appendChild(_),ue.setDragImage&&ue.setDragImage(_,0,0),setTimeout(function(){A.container.removeChild(_)}),ue.clearData(),ue.setData("Text",A.session.getTextRange()),F=!0,this.setState("drag")},this.onDragEnd=function(le){if(x.draggable=!1,F=!1,this.setState(null),!A.getReadOnly()){var ce=le.dataTransfer.dropEffect;!P&&ce=="move"&&A.session.remove(A.getSelectionRange()),A.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(le){if(!(A.getReadOnly()||!oe(le.dataTransfer)))return O=le.clientX,B=le.clientY,D||J(),N++,le.dataTransfer.dropEffect=P=pe(le),h.preventDefault(le)},this.onDragOver=function(le){if(!(A.getReadOnly()||!oe(le.dataTransfer)))return O=le.clientX,B=le.clientY,D||(J(),N++),ee!==null&&(ee=null),le.dataTransfer.dropEffect=P=pe(le),h.preventDefault(le)},this.onDragLeave=function(le){if(N--,N<=0&&D)return Y(),P=null,h.preventDefault(le)},this.onDrop=function(le){if(j){var ce=le.dataTransfer;if(F)switch(P){case"move":R.contains(j.row,j.column)?R={start:j,end:j}:R=A.moveText(R,j);break;case"copy":R=A.moveText(R,j,!0);break}else{var ue=ce.getData("Text");R={start:j,end:A.session.insert(j,ue)},A.focus(),P=null}return Y(),h.preventDefault(le)}},h.addListener(x,"dragstart",this.onDragStart.bind(k),A),h.addListener(x,"dragend",this.onDragEnd.bind(k),A),h.addListener(x,"dragenter",this.onDragEnter.bind(k),A),h.addListener(x,"dragover",this.onDragOver.bind(k),A),h.addListener(x,"dragleave",this.onDragLeave.bind(k),A),h.addListener(x,"drop",this.onDrop.bind(k),A);function V(le,ce){var ue=Date.now(),ge=!ce||le.row!=ce.row,ye=!ce||le.column!=ce.column;if(!L||ge||ye)A.moveCursorToPosition(le),L=ue,z={x:O,y:B};else{var Ie=g(z.x,z.y,O,B);Ie>p?L=null:ue-L>=w&&(A.renderer.scrollCursorIntoView(),L=null)}}function H(le,ce){var ue=Date.now(),ge=A.renderer.layerConfig.lineHeight,ye=A.renderer.layerConfig.characterWidth,Ie=A.renderer.scroller.getBoundingClientRect(),xe={x:{left:O-Ie.left,right:Ie.right-O},y:{top:B-Ie.top,bottom:Ie.bottom-B}},$e=Math.min(xe.x.left,xe.x.right),qe=Math.min(xe.y.top,xe.y.bottom),wt={row:le.row,column:le.column};$e/ye<=2&&(wt.column+=xe.x.left<xe.x.right?-3:2),qe/ge<=1&&(wt.row+=xe.y.top<xe.y.bottom?-1:1);var Jt=le.row!=wt.row,Ye=le.column!=wt.column,Et=!ce||le.row!=ce.row;Jt||Ye&&!Et?T?ue-T>=f&&A.renderer.scrollCursorIntoView(wt):T=ue:T=null}function G(){var le=j;j=A.renderer.screenToTextCoordinates(O,B),V(j,le),H(j,le)}function J(){R=A.selection.toOrientedRange(),D=A.session.addMarker(R,"ace_selection",A.getSelectionStyle()),A.clearSelection(),A.isFocused()&&A.renderer.$cursorLayer.setBlinking(!1),clearInterval(I),G(),I=setInterval(G,20),N=0,h.addListener(document,"mousemove",re)}function Y(){clearInterval(I),A.session.removeMarker(D),D=null,A.selection.fromOrientedRange(R),A.isFocused()&&!F&&A.$resetCursorStyle(),R=null,j=null,N=0,T=null,L=null,h.removeListener(document,"mousemove",re)}var ee=null;function re(){ee==null&&(ee=setTimeout(function(){ee!=null&&D&&Y()},20))}function oe(le){var ce=le.types;return!ce||Array.prototype.some.call(ce,function(ue){return ue=="text/plain"||ue=="Text"})}function pe(le){var ce=["copy","copymove","all","uninitialized"],ue=["move","copymove","linkmove","all","uninitialized"],ge=b.isMac?le.altKey:le.ctrlKey,ye="uninitialized";try{ye=le.dataTransfer.effectAllowed.toLowerCase()}catch{}var Ie="none";return ge&&ce.indexOf(ye)>=0?Ie="copy":ue.indexOf(ye)>=0?Ie="move":ce.indexOf(ye)>=0&&(Ie="copy"),Ie}}(function(){this.dragWait=function(){var k=Date.now()-this.mousedownEvent.time;k>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var k=this.editor.container;k.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(k){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var k=this.editor,A=k.container;A.draggable=!0,k.renderer.$cursorLayer.setBlinking(!1),k.setStyle("ace_dragging");var _=b.isWin?"default":"move";k.renderer.setCursorStyle(_),this.setState("dragReady")},this.onMouseDrag=function(k){var A=this.editor.container;if(b.isIE&&this.state=="dragReady"){var _=g(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);_>3&&A.dragDrop()}if(this.state==="dragWait"){var _=g(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);_>0&&(A.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(k){if(this.$dragEnabled){this.mousedownEvent=k;var A=this.editor,_=k.inSelection(),E=k.getButton(),x=k.domEvent.detail||1;if(x===1&&E===0&&_){if(k.editor.inMultiSelectMode&&(k.getAccelKey()||k.getShiftKey()))return;this.mousedownEvent.time=Date.now();var D=k.domEvent.target||k.domEvent.srcElement;if("unselectable"in D&&(D.unselectable="on"),A.getDragDelay()){if(b.isWebKit){this.cancelDrag=!0;var O=A.container;O.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(k,this.onMouseDrag.bind(this)),k.defaultPrevented=!0}}}}).call(v.prototype);function g(k,A,_,E){return Math.sqrt(Math.pow(_-k,2)+Math.pow(E-A,2))}o.DragdropHandler=v}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(i,o,c){var u=i("./mouse_event").MouseEvent,h=i("../lib/event"),b=i("../lib/dom");o.addTouchListeners=function(f,w){var p="scroll",v,g,k,A,_,E,x=0,D,O=0,B=0,I=0,R,j;function N(){var V=window.navigator&&window.navigator.clipboard,H=!1,G=function(){var Y=w.getCopyText(),ee=w.session.getUndoManager().hasUndo();j.replaceChild(b.buildDom(H?["span",!Y&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],Y&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],Y&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],V&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],ee&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),j.firstChild)},J=function(Y){var ee=Y.target.getAttribute("action");if(ee=="more"||!H)return H=!H,G();ee=="paste"?V.readText().then(function(re){w.execCommand(ee,re)}):ee&&((ee=="cut"||ee=="copy")&&(V?V.writeText(w.getCopyText()):document.execCommand("copy")),w.execCommand(ee)),j.firstChild.style.display="none",H=!1,ee!="openCommandPallete"&&w.focus()};j=b.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(Y){p="menu",Y.stopPropagation(),Y.preventDefault(),w.textInput.focus()},ontouchend:function(Y){Y.stopPropagation(),Y.preventDefault(),J(Y)},onclick:J},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],w.container)}function P(){j||N();var V=w.selection.cursor,H=w.renderer.textToScreenCoordinates(V.row,V.column),G=w.renderer.textToScreenCoordinates(0,0).pageX,J=w.renderer.scrollLeft,Y=w.container.getBoundingClientRect();j.style.top=H.pageY-Y.top-3+"px",H.pageX-Y.left<Y.width-70?(j.style.left="",j.style.right="10px"):(j.style.right="",j.style.left=G+J-Y.left+"px"),j.style.display="",j.firstChild.style.display="none",w.on("input",F)}function F(V){j&&(j.style.display="none"),w.off("input",F)}function T(){_=null,clearTimeout(_);var V=w.selection.getRange(),H=V.contains(D.row,D.column);(V.isEmpty()||!H)&&(w.selection.moveToPosition(D),w.selection.selectWord()),p="wait",P()}function L(){_=null,clearTimeout(_),w.selection.moveToPosition(D);var V=O>=2?w.selection.getLineRange(D.row):w.session.getBracketRange(D);V&&!V.isEmpty()?w.selection.setRange(V):w.selection.selectWord(),p="wait"}h.addListener(f,"contextmenu",function(V){if(R){var H=w.textInput.getElement();H.focus()}},w),h.addListener(f,"touchstart",function(V){var H=V.touches;if(_||H.length>1){clearTimeout(_),_=null,k=-1,p="zoom";return}R=w.$mouseHandler.isMousePressed=!0;var G=w.renderer.layerConfig.lineHeight,J=w.renderer.layerConfig.lineHeight,Y=V.timeStamp;A=Y;var ee=H[0],re=ee.clientX,oe=ee.clientY;Math.abs(v-re)+Math.abs(g-oe)>G&&(k=-1),v=V.clientX=re,g=V.clientY=oe,B=I=0;var pe=new u(V,w);if(D=pe.getDocumentPosition(),Y-k<500&&H.length==1&&!x)O++,V.preventDefault(),V.button=0,L();else{O=0;var le=w.selection.cursor,ce=w.selection.isEmpty()?le:w.selection.anchor,ue=w.renderer.$cursorLayer.getPixelPosition(le,!0),ge=w.renderer.$cursorLayer.getPixelPosition(ce,!0),ye=w.renderer.scroller.getBoundingClientRect(),Ie=w.renderer.layerConfig.offset,xe=w.renderer.scrollLeft,$e=function(Jt,Ye){return Jt=Jt/J,Ye=Ye/G-.75,Jt*Jt+Ye*Ye};if(V.clientX<ye.left){p="zoom";return}var qe=$e(V.clientX-ye.left-ue.left+xe,V.clientY-ye.top-ue.top+Ie),wt=$e(V.clientX-ye.left-ge.left+xe,V.clientY-ye.top-ge.top+Ie);qe<3.5&&wt<3.5&&(p=qe>wt?"cursor":"anchor"),wt<3.5?p="anchor":qe<3.5?p="cursor":p="scroll",_=setTimeout(T,450)}k=Y},w),h.addListener(f,"touchend",function(V){R=w.$mouseHandler.isMousePressed=!1,E&&clearInterval(E),p=="zoom"?(p="",x=0):_?(w.selection.moveToPosition(D),x=0,P()):p=="scroll"?(z(),F()):P(),clearTimeout(_),_=null},w),h.addListener(f,"touchmove",function(V){_&&(clearTimeout(_),_=null);var H=V.touches;if(!(H.length>1||p=="zoom")){var G=H[0],J=v-G.clientX,Y=g-G.clientY;if(p=="wait")if(J*J+Y*Y>4)p="cursor";else return V.preventDefault();v=G.clientX,g=G.clientY,V.clientX=G.clientX,V.clientY=G.clientY;var ee=V.timeStamp,re=ee-A;if(A=ee,p=="scroll"){var oe=new u(V,w);oe.speed=1,oe.wheelX=J,oe.wheelY=Y,10*Math.abs(J)<Math.abs(Y)&&(J=0),10*Math.abs(Y)<Math.abs(J)&&(Y=0),re!=0&&(B=J/re,I=Y/re),w._emit("mousewheel",oe),oe.propagationStopped||(B=I=0)}else{var pe=new u(V,w),le=pe.getDocumentPosition();p=="cursor"?w.selection.moveCursorToPosition(le):p=="anchor"&&w.selection.setSelectionAnchor(le.row,le.column),w.renderer.scrollCursorIntoView(le),V.preventDefault()}}},w);function z(){x+=60,E=setInterval(function(){x--<=0&&(clearInterval(E),E=null),Math.abs(B)<.01&&(B=0),Math.abs(I)<.01&&(I=0),x<20&&(B=.9*B),x<20&&(I=.9*I);var V=w.session.getScrollTop();w.renderer.scrollBy(10*B,10*I),V==w.session.getScrollTop()&&(x=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(i,o,c){var u=i("../lib/event"),h=i("../lib/useragent"),b=i("./default_handlers").DefaultHandlers,f=i("./default_gutter_handler").GutterHandler,w=i("./mouse_event").MouseEvent,p=i("./dragdrop_handler").DragdropHandler,v=i("./touch_handler").addTouchListeners,g=i("../config"),k=function(){function A(_){var E=this;this.editor=_,new b(this),new f(this),new p(this);var x=function(B){var I=!document.hasFocus||!document.hasFocus()||!_.isFocused()&&document.activeElement==(_.textInput&&_.textInput.getElement());I&&window.focus(),_.focus(),setTimeout(function(){_.isFocused()||_.focus()})},D=_.renderer.getMouseEventTarget();u.addListener(D,"click",this.onMouseEvent.bind(this,"click"),_),u.addListener(D,"mousemove",this.onMouseMove.bind(this,"mousemove"),_),u.addMultiMouseDownListener([D,_.renderer.scrollBarV&&_.renderer.scrollBarV.inner,_.renderer.scrollBarH&&_.renderer.scrollBarH.inner,_.textInput&&_.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",_),u.addMouseWheelListener(_.container,this.onMouseWheel.bind(this,"mousewheel"),_),v(_.container,_);var O=_.renderer.$gutter;u.addListener(O,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),_),u.addListener(O,"click",this.onMouseEvent.bind(this,"gutterclick"),_),u.addListener(O,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),_),u.addListener(O,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),_),u.addListener(D,"mousedown",x,_),u.addListener(O,"mousedown",x,_),h.isIE&&_.renderer.scrollBarV&&(u.addListener(_.renderer.scrollBarV.element,"mousedown",x,_),u.addListener(_.renderer.scrollBarH.element,"mousedown",x,_)),_.on("mousemove",function(B){if(!(E.state||E.$dragDelay||!E.$dragEnabled)){var I=_.renderer.screenToTextCoordinates(B.x,B.y),R=_.session.selection.getRange(),j=_.renderer;!R.isEmpty()&&R.insideStart(I.row,I.column)?j.setCursorStyle("default"):j.setCursorStyle("")}},_)}return A.prototype.onMouseEvent=function(_,E){this.editor.session&&this.editor._emit(_,new w(E,this.editor))},A.prototype.onMouseMove=function(_,E){var x=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!x||!x.length||this.editor._emit(_,new w(E,this.editor))},A.prototype.onMouseWheel=function(_,E){var x=new w(E,this.editor);x.speed=this.$scrollSpeed*2,x.wheelX=E.wheelX,x.wheelY=E.wheelY,this.editor._emit(_,x)},A.prototype.setState=function(_){this.state=_},A.prototype.captureMouse=function(_,E){this.x=_.x,this.y=_.y,this.isMousePressed=!0;var x=this.editor,D=this.editor.renderer;D.$isMousePressed=!0;var O=this,B=function(P){if(P){if(h.isWebKit&&!P.which&&O.releaseMouse)return O.releaseMouse();O.x=P.clientX,O.y=P.clientY,E&&E(P),O.mouseEvent=new w(P,O.editor),O.$mouseMoved=!0}},I=function(P){x.off("beforeEndOperation",j),clearInterval(N),x.session&&R(),O[O.state+"End"]&&O[O.state+"End"](P),O.state="",O.isMousePressed=D.$isMousePressed=!1,D.$keepTextAreaAtCursor&&D.$moveTextAreaToCursor(),O.$onCaptureMouseMove=O.releaseMouse=null,P&&O.onMouseEvent("mouseup",P),x.endOperation()},R=function(){O[O.state]&&O[O.state](),O.$mouseMoved=!1};if(h.isOldIE&&_.domEvent.type=="dblclick")return setTimeout(function(){I(_)});var j=function(P){O.releaseMouse&&x.curOp.command.name&&x.curOp.selectionChanged&&(O[O.state+"End"]&&O[O.state+"End"](),O.state="",O.releaseMouse())};x.on("beforeEndOperation",j),x.startOperation({command:{name:"mouse"}}),O.$onCaptureMouseMove=B,O.releaseMouse=u.capture(this.editor.container,B,I);var N=setInterval(R,20)},A.prototype.cancelContextMenu=function(){var _=function(E){E&&E.domEvent&&E.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",_),E&&E.domEvent&&u.stopEvent(E.domEvent))}.bind(this);setTimeout(_,10),this.editor.on("nativecontextmenu",_)},A.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},A}();k.prototype.releaseMouse=null,g.defineOptions(k.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:h.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),o.MouseHandler=k}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(i,o,c){var u=i("../lib/dom"),h=function(){function b(f){f.on("click",function(w){var p=w.getDocumentPosition(),v=f.session,g=v.getFoldAt(p.row,p.column,1);g&&(w.getAccelKey()?v.removeFold(g):v.expandFold(g),w.stop());var k=w.domEvent&&w.domEvent.target;k&&u.hasCssClass(k,"ace_inline_button")&&u.hasCssClass(k,"ace_toggle_wrap")&&(v.setOption("wrap",!v.getUseWrapMode()),f.renderer.scrollCursorIntoView())}),f.on("gutterclick",function(w){var p=f.renderer.$gutterLayer.getRegion(w);if(p=="foldWidgets"){var v=w.getDocumentPosition().row,g=f.session;g.foldWidgets&&g.foldWidgets[v]&&f.session.onFoldWidgetClick(v,w),f.isFocused()||f.focus(),w.stop()}}),f.on("gutterdblclick",function(w){var p=f.renderer.$gutterLayer.getRegion(w);if(p=="foldWidgets"){var v=w.getDocumentPosition().row,g=f.session,k=g.getParentFoldRangeData(v,!0),A=k.range||k.firstRange;if(A){v=A.start.row;var _=g.getFoldAt(v,g.getLine(v).length,1);_?g.removeFold(_):(g.addFold("...",A),f.renderer.scrollCursorIntoView({row:A.start.row,column:0}))}w.stop()}})}return b}();o.FoldHandler=h}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(i,o,c){var u=i("../lib/keys"),h=i("../lib/event"),b=function(){function f(w){this.$editor=w,this.$data={editor:w},this.$handlers=[],this.setDefaultHandler(w.commands)}return f.prototype.setDefaultHandler=function(w){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=w,this.addKeyboardHandler(w,0)},f.prototype.setKeyboardHandler=function(w){var p=this.$handlers;if(p[p.length-1]!=w){for(;p[p.length-1]&&p[p.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(p[p.length-1]);this.addKeyboardHandler(w,1)}},f.prototype.addKeyboardHandler=function(w,p){if(w){typeof w=="function"&&!w.handleKeyboard&&(w.handleKeyboard=w);var v=this.$handlers.indexOf(w);v!=-1&&this.$handlers.splice(v,1),p==null?this.$handlers.push(w):this.$handlers.splice(p,0,w),v==-1&&w.attach&&w.attach(this.$editor)}},f.prototype.removeKeyboardHandler=function(w){var p=this.$handlers.indexOf(w);return p==-1?!1:(this.$handlers.splice(p,1),w.detach&&w.detach(this.$editor),!0)},f.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},f.prototype.getStatusText=function(){var w=this.$data,p=w.editor;return this.$handlers.map(function(v){return v.getStatusText&&v.getStatusText(p,w)||""}).filter(Boolean).join(" ")},f.prototype.$callKeyboardHandlers=function(w,p,v,g){for(var k,A=!1,_=this.$editor.commands,E=this.$handlers.length;E--&&(k=this.$handlers[E].handleKeyboard(this.$data,w,p,v,g),!(!(!k||!k.command)&&(k.command=="null"?A=!0:A=_.exec(k.command,this.$editor,k.args,g),A&&g&&w!=-1&&k.passEvent!=!0&&k.command.passEvent!=!0&&h.stopEvent(g),A))););return!A&&w==-1&&(k={command:"insertstring"},A=_.exec("insertstring",this.$editor,p)),A&&this.$editor._signal&&this.$editor._signal("keyboardActivity",k),A},f.prototype.onCommandKey=function(w,p,v){var g=u.keyCodeToString(v);return this.$callKeyboardHandlers(p,g,v,w)},f.prototype.onTextInput=function(w){return this.$callKeyboardHandlers(-1,w)},f}();o.KeyBinding=b}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(i,o,c){var u=0,h=0,b=!1,f=!1,w=!1,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g=0,k=1,A=0,_=1,E=2,x=3,D=4,O=5,B=6,I=7,R=8,j=9,N=10,P=11,F=12,T=13,L=14,z=15,V=16,H=17,G=18,J=[G,G,G,G,G,G,G,G,G,B,O,B,R,O,G,G,G,G,G,G,G,G,G,G,G,G,G,G,O,O,O,B,R,D,D,P,P,P,D,D,D,D,D,N,j,N,j,j,E,E,E,E,E,E,E,E,E,E,j,D,D,D,D,D,D,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,D,D,D,D,D,D,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,D,D,D,D,G,G,G,G,G,G,O,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,G,j,D,P,P,P,P,D,D,D,D,A,D,D,G,D,D,P,P,E,E,D,A,D,D,D,E,A,D,D,D,D,D],Y=[R,R,R,R,R,R,R,R,R,R,R,G,G,G,A,_,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,R,O,T,L,z,V,H,j,P,P,P,P,P,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,j,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,D,R];function ee(le,ce,ue,ge){var ye=u?v:p,Ie=null,xe=null,$e=null,qe=0,wt=null,Jt=null,Ye=-1,Et=null,se=null,we=[];if(!ge)for(Et=0,ge=[];Et<ue;Et++)ge[Et]=pe(le[Et]);for(h=u,b=!1,f=!1,w=!1,se=0;se<ue;se++){if(Ie=qe,we[se]=xe=oe(le,ge,we,se),qe=ye[Ie][xe],wt=qe&240,qe&=15,ce[se]=$e=ye[qe][5],wt>0)if(wt==16){for(Et=Ye;Et<se;Et++)ce[Et]=1;Ye=-1}else Ye=-1;if(Jt=ye[qe][6],Jt)Ye==-1&&(Ye=se);else if(Ye>-1){for(Et=Ye;Et<se;Et++)ce[Et]=$e;Ye=-1}ge[se]==O&&(ce[se]=0),h|=$e}if(w){for(Et=0;Et<ue;Et++)if(ge[Et]==B){ce[Et]=u;for(var ke=Et-1;ke>=0&&ge[ke]==R;ke--)ce[ke]=u}}}function re(le,ce,ue){if(!(h<le)){if(le==1&&u==k&&!f){ue.reverse();return}for(var ge=ue.length,ye=0,Ie,xe,$e,qe;ye<ge;){if(ce[ye]>=le){for(Ie=ye+1;Ie<ge&&ce[Ie]>=le;)Ie++;for(xe=ye,$e=Ie-1;xe<$e;xe++,$e--)qe=ue[xe],ue[xe]=ue[$e],ue[$e]=qe;ye=Ie}ye++}}}function oe(le,ce,ue,ge){var ye=ce[ge],Ie,xe,$e,qe;switch(ye){case A:case _:b=!1;case D:case x:return ye;case E:return b?x:E;case I:return b=!0,_;case R:return D;case j:return ge<1||ge+1>=ce.length||(Ie=ue[ge-1])!=E&&Ie!=x||(xe=ce[ge+1])!=E&&xe!=x?D:(b&&(xe=x),xe==Ie?xe:D);case N:return Ie=ge>0?ue[ge-1]:O,Ie==E&&ge+1<ce.length&&ce[ge+1]==E?E:D;case P:if(ge>0&&ue[ge-1]==E)return E;if(b)return D;for(qe=ge+1,$e=ce.length;qe<$e&&ce[qe]==P;)qe++;return qe<$e&&ce[qe]==E?E:D;case F:for($e=ce.length,qe=ge+1;qe<$e&&ce[qe]==F;)qe++;if(qe<$e){var wt=le[ge],Jt=wt>=1425&&wt<=2303||wt==64286;if(Ie=ce[qe],Jt&&(Ie==_||Ie==I))return _}return ge<1||(Ie=ce[ge-1])==O?D:ue[ge-1];case O:return b=!1,f=!0,u;case B:return w=!0,D;case T:case L:case V:case H:case z:b=!1;case G:return D}}function pe(le){var ce=le.charCodeAt(0),ue=ce>>8;return ue==0?ce>191?A:J[ce]:ue==5?/[\u0591-\u05f4]/.test(le)?_:A:ue==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(le)?F:/[\u0660-\u0669\u066b-\u066c]/.test(le)?x:ce==1642?P:/[\u06f0-\u06f9]/.test(le)?E:I:ue==32&&ce<=8287?Y[ce&255]:ue==254&&ce>=65136?I:D}o.L=A,o.R=_,o.EN=E,o.ON_R=3,o.AN=4,o.R_H=5,o.B=6,o.RLE=7,o.DOT="",o.doBidiReorder=function(le,ce,ue){if(le.length<2)return{};var ge=le.split(""),ye=new Array(ge.length),Ie=new Array(ge.length),xe=[];u=ue?k:g,ee(ge,xe,ge.length,ce);for(var $e=0;$e<ye.length;ye[$e]=$e,$e++);re(2,xe,ye),re(1,xe,ye);for(var $e=0;$e<ye.length-1;$e++)ce[$e]===x?xe[$e]=o.AN:xe[$e]===_&&(ce[$e]>I&&ce[$e]<T||ce[$e]===D||ce[$e]===G)?xe[$e]=o.ON_R:$e>0&&ge[$e-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(ge[$e])&&(xe[$e-1]=xe[$e]=o.R_H,$e++);ge[ge.length-1]===o.DOT&&(xe[ge.length-1]=o.B),ge[0]===""&&(xe[0]=o.RLE);for(var $e=0;$e<ye.length;$e++)Ie[$e]=xe[ye[$e]];return{logicalFromVisual:ye,bidiLevels:Ie}},o.hasBidiCharacters=function(le,ce){for(var ue=!1,ge=0;ge<le.length;ge++)ce[ge]=pe(le.charAt(ge)),!ue&&(ce[ge]==_||ce[ge]==I||ce[ge]==x)&&(ue=!0);return ue},o.getVisualFromLogicalIdx=function(le,ce){for(var ue=0;ue<ce.logicalFromVisual.length;ue++)if(ce.logicalFromVisual[ue]==le)return ue;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(i,o,c){var u=i("./lib/bidiutil"),h=i("./lib/lang"),b=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,f=function(){function w(p){this.session=p,this.bidiMap={},this.currentRow=null,this.bidiUtil=u,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=b.test(p.getValue())}return w.prototype.isBidiRow=function(p,v,g){return this.seenBidi?(p!==this.currentRow&&(this.currentRow=p,this.updateRowLine(v,g),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},w.prototype.onChange=function(p){this.seenBidi?this.currentRow=null:p.action=="insert"&&b.test(p.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},w.prototype.getDocumentRow=function(){var p=0,v=this.session.$screenRowCache;if(v.length){var g=this.session.$getRowCacheIndex(v,this.currentRow);g>=0&&(p=this.session.$docRowCache[g])}return p},w.prototype.getSplitIndex=function(){var p=0,v=this.session.$screenRowCache;if(v.length)for(var g,k=this.session.$getRowCacheIndex(v,this.currentRow);this.currentRow-p>0&&(g=this.session.$getRowCacheIndex(v,this.currentRow-p-1),g===k);)k=g,p++;else p=this.currentRow;return p},w.prototype.updateRowLine=function(p,v){p===void 0&&(p=this.getDocumentRow());var g=p===this.session.getLength()-1,k=g?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(p),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var A=this.session.$wrapData[p];A&&(v===void 0&&(v=this.getSplitIndex()),v>0&&A.length?(this.wrapIndent=A.indent,this.wrapOffset=this.wrapIndent*this.charWidths[u.L],this.line=v<A.length?this.line.substring(A[v-1],A[v]):this.line.substring(A[A.length-1])):this.line=this.line.substring(0,A[v]),v==A.length&&(this.line+=this.showInvisibles?k:u.DOT))}else this.line+=this.showInvisibles?k:u.DOT;var _=this.session,E=0,x;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(D,O){return D==="	"||_.isFullWidth(D.charCodeAt(0))?(x=D==="	"?_.getScreenTabSize(O+E):2,E+=x-1,h.stringRepeat(u.DOT,x)):D}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==u.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},w.prototype.updateBidiMap=function(){var p=[];u.hasBidiCharacters(this.line,p)||this.isRtlDir?this.bidiMap=u.doBidiReorder(this.line,p,this.isRtlDir):this.bidiMap={}},w.prototype.markAsDirty=function(){this.currentRow=null},w.prototype.updateCharacterWidths=function(p){if(this.characterWidth!==p.$characterSize.width){this.fontMetrics=p;var v=this.characterWidth=p.$characterSize.width,g=p.$measureCharWidth("");this.charWidths[u.L]=this.charWidths[u.EN]=this.charWidths[u.ON_R]=v,this.charWidths[u.R]=this.charWidths[u.AN]=g,this.charWidths[u.R_H]=g*.45,this.charWidths[u.B]=this.charWidths[u.RLE]=0,this.currentRow=null}},w.prototype.setShowInvisibles=function(p){this.showInvisibles=p,this.currentRow=null},w.prototype.setEolChar=function(p){this.EOL=p},w.prototype.setContentWidth=function(p){this.contentWidth=p},w.prototype.isRtlLine=function(p){return this.$isRtl?!0:p!=null?this.session.getLine(p).charAt(0)==this.RLE:this.isRtlDir},w.prototype.setRtlDirection=function(p,v){for(var g=p.getCursorPosition(),k=p.selection.getSelectionAnchor().row;k<=g.row;k++)!v&&p.session.getLine(k).charAt(0)===p.session.$bidiHandler.RLE?p.session.doc.removeInLine(k,0,1):v&&p.session.getLine(k).charAt(0)!==p.session.$bidiHandler.RLE&&p.session.doc.insert({column:0,row:k},p.session.$bidiHandler.RLE)},w.prototype.getPosLeft=function(p){p-=this.wrapIndent;var v=this.line.charAt(0)===this.RLE?1:0,g=p>v?this.session.getOverwrite()?p:p-1:v,k=u.getVisualFromLogicalIdx(g,this.bidiMap),A=this.bidiMap.bidiLevels,_=0;!this.session.getOverwrite()&&p<=v&&A[k]%2!==0&&k++;for(var E=0;E<k;E++)_+=this.charWidths[A[E]];return!this.session.getOverwrite()&&p>v&&A[k]%2===0&&(_+=this.charWidths[A[k]]),this.wrapIndent&&(_+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(_+=this.rtlLineOffset),_},w.prototype.getSelections=function(p,v){var g=this.bidiMap,k=g.bidiLevels,A,_=[],E=0,x=Math.min(p,v)-this.wrapIndent,D=Math.max(p,v)-this.wrapIndent,O=!1,B=!1,I=0;this.wrapIndent&&(E+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var R,j=0;j<k.length;j++)R=g.logicalFromVisual[j],A=k[j],O=R>=x&&R<D,O&&!B?I=E:!O&&B&&_.push({left:I,width:E-I}),E+=this.charWidths[A],B=O;if(O&&j===k.length&&_.push({left:I,width:E-I}),this.isRtlDir)for(var N=0;N<_.length;N++)_[N].left+=this.rtlLineOffset;return _},w.prototype.offsetToCol=function(g){this.isRtlDir&&(g-=this.rtlLineOffset);var v=0,g=Math.max(g,0),k=0,A=0,_=this.bidiMap.bidiLevels,E=this.charWidths[_[A]];for(this.wrapIndent&&(g-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);g>k+E/2;){if(k+=E,A===_.length-1){E=0;break}E=this.charWidths[_[++A]]}return A>0&&_[A-1]%2!==0&&_[A]%2===0?(g<k&&A--,v=this.bidiMap.logicalFromVisual[A]):A>0&&_[A-1]%2===0&&_[A]%2!==0?v=1+(g>k?this.bidiMap.logicalFromVisual[A]:this.bidiMap.logicalFromVisual[A-1]):this.isRtlDir&&A===_.length-1&&E===0&&_[A-1]%2===0||!this.isRtlDir&&A===0&&_[A]%2!==0?v=1+this.bidiMap.logicalFromVisual[A]:(A>0&&_[A-1]%2!==0&&E!==0&&A--,v=this.bidiMap.logicalFromVisual[A]),v===0&&this.isRtlDir&&v++,v+this.wrapIndent},w}();o.BidiHandler=f}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(i,o,c){var u=i("./lib/oop"),h=i("./lib/lang"),b=i("./lib/event_emitter").EventEmitter,f=i("./range").Range,w=function(p){this.session=p,this.doc=p.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var v=this;this.cursor.on("change",function(g){v.$cursorChanged=!0,v.$silent||v._emit("changeCursor"),!v.$isEmpty&&!v.$silent&&v._emit("changeSelection"),!v.$keepDesiredColumnOnChange&&g.old.column!=g.value.column&&(v.$desiredColumn=null)}),this.anchor.on("change",function(){v.$anchorChanged=!0,!v.$isEmpty&&!v.$silent&&v._emit("changeSelection")})};(function(){u.implement(this,b),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setAnchor=function(p,v){this.$isEmpty=!1,this.anchor.setPosition(p,v)},this.setSelectionAnchor=this.setAnchor,this.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionAnchor=this.getAnchor,this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var p=this.anchor,v=this.lead;return p.row>v.row||p.row==v.row&&p.column>v.column},this.getRange=function(){var p=this.anchor,v=this.lead;return this.$isEmpty?f.fromPoints(v,v):this.isBackwards()?f.fromPoints(v,p):f.fromPoints(p,v)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(p,v){var g=v?p.end:p.start,k=v?p.start:p.end;this.$setSelection(g.row,g.column,k.row,k.column)},this.$setSelection=function(p,v,g,k){if(!this.$silent){var A=this.$isEmpty,_=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(p,v),this.cursor.setPosition(g,k),this.$isEmpty=!f.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||A!=this.$isEmpty||_)&&this._emit("changeSelection")}},this.$moveSelection=function(p){var v=this.lead;this.$isEmpty&&this.setSelectionAnchor(v.row,v.column),p.call(this)},this.selectTo=function(p,v){this.$moveSelection(function(){this.moveCursorTo(p,v)})},this.selectToPosition=function(p){this.$moveSelection(function(){this.moveCursorToPosition(p)})},this.moveTo=function(p,v){this.clearSelection(),this.moveCursorTo(p,v)},this.moveToPosition=function(p){this.clearSelection(),this.moveCursorToPosition(p)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(p,v){if(typeof v>"u"){var g=p||this.lead;p=g.row,v=g.column}return this.session.getWordRange(p,v)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var p=this.getCursor(),v=this.session.getAWordRange(p.row,p.column);this.setSelectionRange(v)},this.getLineRange=function(p,v){var g=typeof p=="number"?p:this.lead.row,k,A=this.session.getFoldLine(g);return A?(g=A.start.row,k=A.end.row):k=g,v===!0?new f(g,0,k,this.session.getLine(k).length):new f(g,0,k+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(p,v,g){var k=p.column,A=p.column+v;return g<0&&(k=p.column-v,A=p.column),this.session.isTabStop(p)&&this.doc.getLine(p.row).slice(k,A).split(" ").length-1==v},this.moveCursorLeft=function(){var p=this.lead.getPosition(),v;if(v=this.session.getFoldAt(p.row,p.column,-1))this.moveCursorTo(v.start.row,v.start.column);else if(p.column===0)p.row>0&&this.moveCursorTo(p.row-1,this.doc.getLine(p.row-1).length);else{var g=this.session.getTabSize();this.wouldMoveIntoSoftTab(p,g,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-g):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var p=this.lead.getPosition(),v;if(v=this.session.getFoldAt(p.row,p.column,1))this.moveCursorTo(v.end.row,v.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var g=this.session.getTabSize(),p=this.lead;this.wouldMoveIntoSoftTab(p,g,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,g):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var p=this.lead.row,v=this.lead.column,g=this.session.documentToScreenRow(p,v),k=this.session.screenToDocumentPosition(g,0),A=this.session.getDisplayLine(p,null,k.row,k.column),_=A.match(/^\s*/);_[0].length!=v&&!this.session.$useEmacsStyleLineStart&&(k.column+=_[0].length),this.moveCursorToPosition(k)},this.moveCursorLineEnd=function(){var p=this.lead,v=this.session.getDocumentLastRowColumnPosition(p.row,p.column);if(this.lead.column==v.column){var g=this.session.getLine(v.row);if(v.column==g.length){var k=g.search(/\s+$/);k>0&&(v.column=k)}}this.moveCursorTo(v.row,v.column)},this.moveCursorFileEnd=function(){var p=this.doc.getLength()-1,v=this.doc.getLine(p).length;this.moveCursorTo(p,v)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var p=this.lead.row,v=this.lead.column,g=this.doc.getLine(p),k=g.substring(v);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var A=this.session.getFoldAt(p,v,1);if(A){this.moveCursorTo(A.end.row,A.end.column);return}if(this.session.nonTokenRe.exec(k)&&(v+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,k=g.substring(v)),v>=g.length){this.moveCursorTo(p,g.length),this.moveCursorRight(),p<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(k)&&(v+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(p,v)},this.moveCursorLongWordLeft=function(){var p=this.lead.row,v=this.lead.column,g;if(g=this.session.getFoldAt(p,v,-1)){this.moveCursorTo(g.start.row,g.start.column);return}var k=this.session.getFoldStringAt(p,v,-1);k==null&&(k=this.doc.getLine(p).substring(0,v));var A=h.stringReverse(k);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(A)&&(v-=this.session.nonTokenRe.lastIndex,A=A.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),v<=0){this.moveCursorTo(p,0),this.moveCursorLeft(),p>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(A)&&(v-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(p,v)},this.$shortWordEndIndex=function(p){var v=0,g,k=/\s/,A=this.session.tokenRe;if(A.lastIndex=0,this.session.tokenRe.exec(p))v=this.session.tokenRe.lastIndex;else{for(;(g=p[v])&&k.test(g);)v++;if(v<1){for(A.lastIndex=0;(g=p[v])&&!A.test(g);)if(A.lastIndex=0,v++,k.test(g))if(v>2){v--;break}else{for(;(g=p[v])&&k.test(g);)v++;if(v>2)break}}}return A.lastIndex=0,v},this.moveCursorShortWordRight=function(){var p=this.lead.row,v=this.lead.column,g=this.doc.getLine(p),k=g.substring(v),A=this.session.getFoldAt(p,v,1);if(A)return this.moveCursorTo(A.end.row,A.end.column);if(v==g.length){var _=this.doc.getLength();do p++,k=this.doc.getLine(p);while(p<_&&/^\s*$/.test(k));/^\s+/.test(k)||(k=""),v=0}var E=this.$shortWordEndIndex(k);this.moveCursorTo(p,v+E)},this.moveCursorShortWordLeft=function(){var p=this.lead.row,v=this.lead.column,g;if(g=this.session.getFoldAt(p,v,-1))return this.moveCursorTo(g.start.row,g.start.column);var k=this.session.getLine(p).substring(0,v);if(v===0){do p--,k=this.doc.getLine(p);while(p>0&&/^\s*$/.test(k));v=k.length,/\s+$/.test(k)||(k="")}var A=h.stringReverse(k),_=this.$shortWordEndIndex(A);return this.moveCursorTo(p,v-_)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(p,v){var g=this.session.documentToScreenPosition(this.lead.row,this.lead.column),k;if(v===0&&(p!==0&&(this.session.$bidiHandler.isBidiRow(g.row,this.lead.row)?(k=this.session.$bidiHandler.getPosLeft(g.column),g.column=Math.round(k/this.session.$bidiHandler.charWidths[0])):k=g.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?g.column=this.$desiredColumn:this.$desiredColumn=g.column),p!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var A=this.session.lineWidgets[this.lead.row];p<0?p-=A.rowsAbove||0:p>0&&(p+=A.rowCount-(A.rowsAbove||0))}var _=this.session.screenToDocumentPosition(g.row+p,g.column,k);p!==0&&v===0&&_.row===this.lead.row&&(_.column,this.lead.column),this.moveCursorTo(_.row,_.column+v,v===0)},this.moveCursorToPosition=function(p){this.moveCursorTo(p.row,p.column)},this.moveCursorTo=function(p,v,g){var k=this.session.getFoldAt(p,v,1);k&&(p=k.start.row,v=k.start.column),this.$keepDesiredColumnOnChange=!0;var A=this.session.getLine(p);/[\uDC00-\uDFFF]/.test(A.charAt(v))&&A.charAt(v-1)&&(this.lead.row==p&&this.lead.column==v+1?v=v-1:v=v+1),this.lead.setPosition(p,v),this.$keepDesiredColumnOnChange=!1,g||(this.$desiredColumn=null)},this.moveCursorToScreen=function(p,v,g){var k=this.session.screenToDocumentPosition(p,v);this.moveCursorTo(k.row,k.column,g)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(p){this.setSelectionRange(p,p.cursor==p.start),this.$desiredColumn=p.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(p){var v=this.getRange();return p?(p.start.column=v.start.column,p.start.row=v.start.row,p.end.column=v.end.column,p.end.row=v.end.row):p=v,p.cursor=this.isBackwards()?p.start:p.end,p.desiredColumn=this.$desiredColumn,p},this.getRangeOfMovements=function(p){var v=this.getCursor();try{p(this);var g=this.getCursor();return f.fromPoints(v,g)}catch{return f.fromPoints(v,v)}finally{this.moveCursorToPosition(v)}},this.toJSON=function(){if(this.rangeCount)var p=this.ranges.map(function(v){var g=v.clone();return g.isBackwards=v.cursor==v.start,g});else{var p=this.getRange();p.isBackwards=this.isBackwards()}return p},this.fromJSON=function(p){if(p.start==null)if(this.rangeList&&p.length>1){this.toSingleRange(p[0]);for(var v=p.length;v--;){var g=f.fromPoints(p[v].start,p[v].end);p[v].isBackwards&&(g.cursor=g.start),this.addRange(g,!0)}return}else p=p[0];this.rangeList&&this.toSingleRange(p),this.setSelectionRange(p,p.isBackwards)},this.isEqual=function(p){if((p.length||this.rangeCount)&&p.length!=this.rangeCount)return!1;if(!p.length||!this.ranges)return this.getRange().isEqual(p);for(var v=this.ranges.length;v--;)if(!this.ranges[v].isEqual(p[v]))return!1;return!0}}).call(w.prototype),o.Selection=w}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(i,o,c){var u=i("./config"),h=2e3,b=function(){function f(w){this.states=w,this.regExps={},this.matchMappings={};for(var p in this.states){for(var v=this.states[p],g=[],k=0,A=this.matchMappings[p]={defaultToken:"text"},_="g",E=[],x=0;x<v.length;x++){var D=v[x];if(D.defaultToken&&(A.defaultToken=D.defaultToken),D.caseInsensitive&&_.indexOf("i")===-1&&(_+="i"),D.unicode&&_.indexOf("u")===-1&&(_+="u"),D.regex!=null){D.regex instanceof RegExp&&(D.regex=D.regex.toString().slice(1,-1));var O=D.regex,B=new RegExp("(?:("+O+")|(.))").exec("a").length-2;Array.isArray(D.token)?D.token.length==1||B==1?D.token=D.token[0]:B-1!=D.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:D,groupCount:B-1}),D.token=D.token[0]):(D.tokenArray=D.token,D.token=null,D.onMatch=this.$arrayTokens):typeof D.token=="function"&&!D.onMatch&&(B>1?D.onMatch=this.$applyToken:D.onMatch=D.token),B>1&&(/\\\d/.test(D.regex)?O=D.regex.replace(/\\([0-9]+)/g,function(I,R){return"\\"+(parseInt(R,10)+k+1)}):(B=1,O=this.removeCapturingGroups(D.regex)),!D.splitRegex&&typeof D.token!="string"&&E.push(D)),A[k]=x,k+=B,g.push(O),D.onMatch||(D.onMatch=null)}}g.length||(A[0]=0,g.push("$")),E.forEach(function(I){I.splitRegex=this.createSplitterRegexp(I.regex,_)},this),this.regExps[p]=new RegExp("("+g.join(")|(")+")|($)",_)}}return f.prototype.$setMaxTokenCount=function(w){h=w|0},f.prototype.$applyToken=function(w){var p=this.splitRegex.exec(w).slice(1),v=this.token.apply(this,p);if(typeof v=="string")return[{type:v,value:w}];for(var g=[],k=0,A=v.length;k<A;k++)p[k]&&(g[g.length]={type:v[k],value:p[k]});return g},f.prototype.$arrayTokens=function(w){if(!w)return[];var p=this.splitRegex.exec(w);if(!p)return"text";for(var v=[],g=this.tokenArray,k=0,A=g.length;k<A;k++)p[k+1]&&(v[v.length]={type:g[k],value:p[k+1]});return v},f.prototype.removeCapturingGroups=function(w){var p=w.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(v,g){return g?"(?:":v});return p},f.prototype.createSplitterRegexp=function(w,p){if(w.indexOf("(?=")!=-1){var v=0,g=!1,k={};w.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(A,_,E,x,D,O){return g?g=D!="]":D?g=!0:x?(v==k.stack&&(k.end=O+1,k.stack=-1),v--):E&&(v++,E.length!=1&&(k.stack=v,k.start=O)),A}),k.end!=null&&/^\)*$/.test(w.substr(k.end))&&(w=w.substring(0,k.start)+w.substr(k.end))}return w.charAt(0)!="^"&&(w="^"+w),w.charAt(w.length-1)!="$"&&(w+="$"),new RegExp(w,(p||"").replace("g",""))},f.prototype.getLineTokens=function(w,p){if(p&&typeof p!="string"){var v=p.slice(0);p=v[0],p==="#tmp"&&(v.shift(),p=v.shift())}else var v=[];var g=p||"start",k=this.states[g];k||(g="start",k=this.states[g]);var A=this.matchMappings[g],_=this.regExps[g];_.lastIndex=0;for(var E,x=[],D=0,O=0,B={type:null,value:""};E=_.exec(w);){var I=A.defaultToken,R=null,j=E[0],N=_.lastIndex;if(N-j.length>D){var P=w.substring(D,N-j.length);B.type==I?B.value+=P:(B.type&&x.push(B),B={type:I,value:P})}for(var F=0;F<E.length-2;F++)if(E[F+1]!==void 0){R=k[A[F]],R.onMatch?I=R.onMatch(j,g,v,w):I=R.token,R.next&&(typeof R.next=="string"?g=R.next:g=R.next(g,v),k=this.states[g],k||(this.reportError("state doesn't exist",g),g="start",k=this.states[g]),A=this.matchMappings[g],D=N,_=this.regExps[g],_.lastIndex=N),R.consumeLineEnd&&(D=N);break}if(j){if(typeof I=="string")(!R||R.merge!==!1)&&B.type===I?B.value+=j:(B.type&&x.push(B),B={type:I,value:j});else if(I){B.type&&x.push(B),B={type:null,value:""};for(var F=0;F<I.length;F++)x.push(I[F])}}if(D==w.length)break;if(D=N,O++>h){for(O>2*w.length&&this.reportError("infinite loop with in ace tokenizer",{startState:p,line:w});D<w.length;)B.type&&x.push(B),B={value:w.substring(D,D+=500),type:"overflow"};g="start",v=[];break}}return B.type&&x.push(B),v.length>1&&v[0]!==g&&v.unshift("#tmp",g),{tokens:x,state:v.length?v:g}},f}();b.prototype.reportError=u.reportError,o.Tokenizer=b}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(i,o,c){var u=i("../lib/lang"),h=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(w,p){if(!p){for(var v in w)this.$rules[v]=w[v];return}for(var v in w){for(var g=w[v],k=0;k<g.length;k++){var A=g[k];(A.next||A.onMatch)&&(typeof A.next=="string"&&A.next.indexOf(p)!==0&&(A.next=p+A.next),A.nextState&&A.nextState.indexOf(p)!==0&&(A.nextState=p+A.nextState))}this.$rules[p+v]=g}},this.getRules=function(){return this.$rules},this.embedRules=function(w,p,v,g,k){var A=typeof w=="function"?new w().getRules():w;if(g)for(var _=0;_<g.length;_++)g[_]=p+g[_];else{g=[];for(var E in A)g.push(p+E)}if(this.addRules(A,p),v)for(var x=Array.prototype[k?"push":"unshift"],_=0;_<g.length;_++)x.apply(this.$rules[g[_]],u.deepCopy(v));this.$embeds||(this.$embeds=[]),this.$embeds.push(p)},this.getEmbeds=function(){return this.$embeds};var b=function(w,p){return(w!="start"||p.length)&&p.unshift(this.nextState,w),this.nextState},f=function(w,p){return p.shift(),p.shift()||"start"};this.normalizeRules=function(){var w=0,p=this.$rules;function v(g){var k=p[g];k.processed=!0;for(var A=0;A<k.length;A++){var _=k[A],E=null;Array.isArray(_)&&(E=_,_={}),!_.regex&&_.start&&(_.regex=_.start,_.next||(_.next=[]),_.next.push({defaultToken:_.token},{token:_.token+".end",regex:_.end||_.start,next:"pop"}),_.token=_.token+".start",_.push=!0);var x=_.next||_.push;if(x&&Array.isArray(x)){var D=_.stateName;D||(D=_.token,typeof D!="string"&&(D=D[0]||""),p[D]&&(D+=w++)),p[D]=x,_.next=D,v(D)}else x=="pop"&&(_.next=f);if(_.push&&(_.nextState=_.next||_.push,_.next=b,delete _.push),_.rules)for(var O in _.rules)p[O]?p[O].push&&p[O].push.apply(p[O],_.rules[O]):p[O]=_.rules[O];var B=typeof _=="string"?_:_.include;if(B&&(B==="$self"&&(B="start"),Array.isArray(B)?E=B.map(function(R){return p[R]}):E=p[B]),E){var I=[A,1].concat(E);_.noEscape&&(I=I.filter(function(R){return!R.next})),k.splice.apply(k,I),A--}_.keywordMap&&(_.token=this.createKeywordMapper(_.keywordMap,_.defaultToken||"text",_.caseInsensitive),delete _.defaultToken)}}Object.keys(p).forEach(v,this)},this.createKeywordMapper=function(w,p,v,g){var k=Object.create(null);return this.$keywordList=[],Object.keys(w).forEach(function(A){for(var _=w[A],E=_.split(g||"|"),x=E.length;x--;){var D=E[x];this.$keywordList.push(D),v&&(D=D.toLowerCase()),k[D]=A}},this),w=null,v?function(A){return k[A.toLowerCase()]||p}:function(A){return k[A]||p}},this.getKeywords=function(){return this.$keywords}}).call(h.prototype),o.TextHighlightRules=h}),ace.define("ace/mode/behaviour",["require","exports","module"],function(i,o,c){var u=function(){this.$behaviours={}};(function(){this.add=function(h,b,f){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[h]:this.$behaviours[h]={}}this.$behaviours[h][b]=f},this.addBehaviours=function(h){for(var b in h)for(var f in h[b])this.add(b,f,h[b][f])},this.remove=function(h){this.$behaviours&&this.$behaviours[h]&&delete this.$behaviours[h]},this.inherit=function(h,b){if(typeof h=="function")var f=new h().getBehaviours(b);else var f=h.getBehaviours(b);this.addBehaviours(f)},this.getBehaviours=function(h){if(h){for(var b={},f=0;f<h.length;f++)this.$behaviours[h[f]]&&(b[h[f]]=this.$behaviours[h[f]]);return b}else return this.$behaviours}}).call(u.prototype),o.Behaviour=u}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(i,o,c){var u=i("./range").Range,h=function(){function b(f,w,p){this.$session=f,this.$row=w,this.$rowTokens=f.getTokens(w);var v=f.getTokenAt(w,p);this.$tokenIndex=v?v.index:-1}return b.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},b.prototype.stepForward=function(){this.$tokenIndex+=1;for(var f;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,f||(f=this.$session.getLength()),this.$row>=f)return this.$row=f-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},b.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},b.prototype.getCurrentTokenRow=function(){return this.$row},b.prototype.getCurrentTokenColumn=function(){var f=this.$rowTokens,w=this.$tokenIndex,p=f[w].start;if(p!==void 0)return p;for(p=0;w>0;)w-=1,p+=f[w].value.length;return p},b.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},b.prototype.getCurrentTokenRange=function(){var f=this.$rowTokens[this.$tokenIndex],w=this.getCurrentTokenColumn();return new u(this.$row,w,this.$row,w+f.value.length)},b}();o.TokenIterator=h}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(i,o,c){var u=i("../../lib/oop"),h=i("../behaviour").Behaviour,b=i("../../token_iterator").TokenIterator,f=i("../../lib/lang"),w=["text","paren.rparen","rparen","paren","punctuation.operator"],p=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],v,g={},k={'"':'"',"'":"'"},A=function(x){var D=-1;if(x.multiSelect&&(D=x.selection.index,g.rangeCount!=x.multiSelect.rangeCount&&(g={rangeCount:x.multiSelect.rangeCount})),g[D])return v=g[D];v=g[D]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},_=function(x,D,O,B){var I=x.end.row-x.start.row;return{text:O+D+B,selection:[0,x.start.column+1,I,x.end.column+(I?0:1)]}},E=function(x){this.add("braces","insertion",function(D,O,B,I,R){var j=B.getCursorPosition(),N=I.doc.getLine(j.row);if(R=="{"){A(B);var P=B.getSelectionRange(),F=I.doc.getTextRange(P);if(F!==""&&F!=="{"&&B.getWrapBehavioursEnabled())return _(P,F,"{","}");if(E.isSaneInsertion(B,I))return/[\]\}\)]/.test(N[j.column])||B.inMultiSelectMode||x&&x.braces?(E.recordAutoInsert(B,I,"}"),{text:"{}",selection:[1,1]}):(E.recordMaybeInsert(B,I,"{"),{text:"{",selection:[1,1]})}else if(R=="}"){A(B);var T=N.substring(j.column,j.column+1);if(T=="}"){var L=I.$findOpeningBracket("}",{column:j.column+1,row:j.row});if(L!==null&&E.isAutoInsertedClosing(j,N,R))return E.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(R==`
`||R==`\r
`){A(B);var z="";E.isMaybeInsertedClosing(j,N)&&(z=f.stringRepeat("}",v.maybeInsertedBrackets),E.clearMaybeInsertedClosing());var T=N.substring(j.column,j.column+1);if(T==="}"){var V=I.findMatchingBracket({row:j.row,column:j.column+1},"}");if(!V)return null;var H=this.$getIndent(I.getLine(V.row))}else if(z)var H=this.$getIndent(N);else{E.clearMaybeInsertedClosing();return}var G=H+I.getTabString();return{text:`
`+G+`
`+H+z,selection:[1,G.length,1,G.length]}}else E.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(D,O,B,I,R){var j=I.doc.getTextRange(R);if(!R.isMultiLine()&&j=="{"){A(B);var N=I.doc.getLine(R.start.row),P=N.substring(R.end.column,R.end.column+1);if(P=="}")return R.end.column++,R;v.maybeInsertedBrackets--}}),this.add("parens","insertion",function(D,O,B,I,R){if(R=="("){A(B);var j=B.getSelectionRange(),N=I.doc.getTextRange(j);if(N!==""&&B.getWrapBehavioursEnabled())return _(j,N,"(",")");if(E.isSaneInsertion(B,I))return E.recordAutoInsert(B,I,")"),{text:"()",selection:[1,1]}}else if(R==")"){A(B);var P=B.getCursorPosition(),F=I.doc.getLine(P.row),T=F.substring(P.column,P.column+1);if(T==")"){var L=I.$findOpeningBracket(")",{column:P.column+1,row:P.row});if(L!==null&&E.isAutoInsertedClosing(P,F,R))return E.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(D,O,B,I,R){var j=I.doc.getTextRange(R);if(!R.isMultiLine()&&j=="("){A(B);var N=I.doc.getLine(R.start.row),P=N.substring(R.start.column+1,R.start.column+2);if(P==")")return R.end.column++,R}}),this.add("brackets","insertion",function(D,O,B,I,R){if(R=="["){A(B);var j=B.getSelectionRange(),N=I.doc.getTextRange(j);if(N!==""&&B.getWrapBehavioursEnabled())return _(j,N,"[","]");if(E.isSaneInsertion(B,I))return E.recordAutoInsert(B,I,"]"),{text:"[]",selection:[1,1]}}else if(R=="]"){A(B);var P=B.getCursorPosition(),F=I.doc.getLine(P.row),T=F.substring(P.column,P.column+1);if(T=="]"){var L=I.$findOpeningBracket("]",{column:P.column+1,row:P.row});if(L!==null&&E.isAutoInsertedClosing(P,F,R))return E.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(D,O,B,I,R){var j=I.doc.getTextRange(R);if(!R.isMultiLine()&&j=="["){A(B);var N=I.doc.getLine(R.start.row),P=N.substring(R.start.column+1,R.start.column+2);if(P=="]")return R.end.column++,R}}),this.add("string_dquotes","insertion",function(D,O,B,I,R){var j=I.$mode.$quotes||k;if(R.length==1&&j[R]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(R)!=-1)return;A(B);var N=R,P=B.getSelectionRange(),F=I.doc.getTextRange(P);if(F!==""&&(F.length!=1||!j[F])&&B.getWrapBehavioursEnabled())return _(P,F,N,N);if(!F){var T=B.getCursorPosition(),L=I.doc.getLine(T.row),z=L.substring(T.column-1,T.column),V=L.substring(T.column,T.column+1),H=I.getTokenAt(T.row,T.column),G=I.getTokenAt(T.row,T.column+1);if(z=="\\"&&H&&/escape/.test(H.type))return null;var J=H&&/string|escape/.test(H.type),Y=!G||/string|escape/.test(G.type),ee;if(V==N)ee=J!==Y,ee&&/string\.end/.test(G.type)&&(ee=!1);else{if(J&&!Y||J&&Y)return null;var re=I.$mode.tokenRe;re.lastIndex=0;var oe=re.test(z);re.lastIndex=0;var pe=re.test(V),le=I.$mode.$pairQuotesAfter,ce=le&&le[N]&&le[N].test(z);if(!ce&&oe||pe||V&&!/[\s;,.})\]\\]/.test(V))return null;var ue=L[T.column-2];if(z==N&&(ue==N||re.test(ue)))return null;ee=!0}return{text:ee?N+N:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(D,O,B,I,R){var j=I.$mode.$quotes||k,N=I.doc.getTextRange(R);if(!R.isMultiLine()&&j.hasOwnProperty(N)){A(B);var P=I.doc.getLine(R.start.row),F=P.substring(R.start.column+1,R.start.column+2);if(F==N)return R.end.column++,R}})};E.isSaneInsertion=function(x,D){var O=x.getCursorPosition(),B=new b(D,O.row,O.column);if(!this.$matchTokenType(B.getCurrentToken()||"text",w)){if(/[)}\]]/.test(x.session.getLine(O.row)[O.column]))return!0;var I=new b(D,O.row,O.column+1);if(!this.$matchTokenType(I.getCurrentToken()||"text",w))return!1}return B.stepForward(),B.getCurrentTokenRow()!==O.row||this.$matchTokenType(B.getCurrentToken()||"text",p)},E.$matchTokenType=function(x,D){return D.indexOf(x.type||x)>-1},E.recordAutoInsert=function(x,D,O){var B=x.getCursorPosition(),I=D.doc.getLine(B.row);this.isAutoInsertedClosing(B,I,v.autoInsertedLineEnd[0])||(v.autoInsertedBrackets=0),v.autoInsertedRow=B.row,v.autoInsertedLineEnd=O+I.substr(B.column),v.autoInsertedBrackets++},E.recordMaybeInsert=function(x,D,O){var B=x.getCursorPosition(),I=D.doc.getLine(B.row);this.isMaybeInsertedClosing(B,I)||(v.maybeInsertedBrackets=0),v.maybeInsertedRow=B.row,v.maybeInsertedLineStart=I.substr(0,B.column)+O,v.maybeInsertedLineEnd=I.substr(B.column),v.maybeInsertedBrackets++},E.isAutoInsertedClosing=function(x,D,O){return v.autoInsertedBrackets>0&&x.row===v.autoInsertedRow&&O===v.autoInsertedLineEnd[0]&&D.substr(x.column)===v.autoInsertedLineEnd},E.isMaybeInsertedClosing=function(x,D){return v.maybeInsertedBrackets>0&&x.row===v.maybeInsertedRow&&D.substr(x.column)===v.maybeInsertedLineEnd&&D.substr(0,x.column)==v.maybeInsertedLineStart},E.popAutoInsertedClosing=function(){v.autoInsertedLineEnd=v.autoInsertedLineEnd.substr(1),v.autoInsertedBrackets--},E.clearMaybeInsertedClosing=function(){v&&(v.maybeInsertedBrackets=0,v.maybeInsertedRow=-1)},u.inherits(E,h),o.CstyleBehaviour=E}),ace.define("ace/unicode",["require","exports","module"],function(i,o,c){for(var u=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],h=0,b=[],f=0;f<u.length;f+=2)b.push(h+=u[f]),u[f+1]&&b.push(45,h+=u[f+1]);o.wordChars=String.fromCharCode.apply(null,b)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(i,o,c){var u=i("../config"),h=i("../tokenizer").Tokenizer,b=i("./text_highlight_rules").TextHighlightRules,f=i("./behaviour/cstyle").CstyleBehaviour,w=i("../unicode"),p=i("../lib/lang"),v=i("../token_iterator").TokenIterator,g=i("../range").Range,k=function(){this.HighlightRules=b};(function(){this.$defaultBehaviour=new f,this.tokenRe=new RegExp("^["+w.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+w.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new h(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(A,_,E,x){var D=_.doc,O=!0,B=!0,I=1/0,R=_.getTabSize(),j=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var F=this.lineCommentStart.map(p.escapeRegExp).join("|"),N=this.lineCommentStart[0];else var F=p.escapeRegExp(this.lineCommentStart),N=this.lineCommentStart;F=new RegExp("^(\\s*)(?:"+F+") ?"),j=_.getUseSoftTabs();var z=function(pe,le){var ce=pe.match(F);if(ce){var ue=ce[1].length,ge=ce[0].length;!G(pe,ue,ge)&&ce[0][ge-1]==" "&&ge--,D.removeInLine(le,ue,ge)}},H=N+" ",L=function(pe,le){(!O||/\S/.test(pe))&&(G(pe,I,I)?D.insertInLine({row:le,column:I},H):D.insertInLine({row:le,column:I},N))},V=function(pe,le){return F.test(pe)},G=function(pe,le,ce){for(var ue=0;le--&&pe.charAt(le)==" ";)ue++;if(ue%R!=0)return!1;for(var ue=0;pe.charAt(ce++)==" ";)ue++;return R>2?ue%R!=R-1:ue%R==0}}else{if(!this.blockComment)return!1;var N=this.blockComment.start,P=this.blockComment.end,F=new RegExp("^(\\s*)(?:"+p.escapeRegExp(N)+")"),T=new RegExp("(?:"+p.escapeRegExp(P)+")\\s*$"),L=function(ee,re){V(ee,re)||(!O||/\S/.test(ee))&&(D.insertInLine({row:re,column:ee.length},P),D.insertInLine({row:re,column:I},N))},z=function(ee,re){var oe;(oe=ee.match(T))&&D.removeInLine(re,ee.length-oe[0].length,ee.length),(oe=ee.match(F))&&D.removeInLine(re,oe[1].length,oe[0].length)},V=function(ee,re){if(F.test(ee))return!0;for(var oe=_.getTokens(re),pe=0;pe<oe.length;pe++)if(oe[pe].type==="comment")return!0}}function J(ee){for(var re=E;re<=x;re++)ee(D.getLine(re),re)}var Y=1/0;J(function(ee,re){var oe=ee.search(/\S/);oe!==-1?(oe<I&&(I=oe),B&&!V(ee,re)&&(B=!1)):Y>ee.length&&(Y=ee.length)}),I==1/0&&(I=Y,O=!1,B=!1),j&&I%R!=0&&(I=Math.floor(I/R)*R),J(B?z:L)},this.toggleBlockComment=function(A,_,E,x){var D=this.blockComment;if(D){!D.start&&D[0]&&(D=D[0]);var O=new v(_,x.row,x.column),B=O.getCurrentToken();_.selection;var I=_.selection.toOrientedRange(),R,j;if(B&&/comment/.test(B.type)){for(var N,P;B&&/comment/.test(B.type);){var F=B.value.indexOf(D.start);if(F!=-1){var T=O.getCurrentTokenRow(),L=O.getCurrentTokenColumn()+F;N=new g(T,L,T,L+D.start.length);break}B=O.stepBackward()}for(var O=new v(_,x.row,x.column),B=O.getCurrentToken();B&&/comment/.test(B.type);){var F=B.value.indexOf(D.end);if(F!=-1){var T=O.getCurrentTokenRow(),L=O.getCurrentTokenColumn()+F;P=new g(T,L,T,L+D.end.length);break}B=O.stepForward()}P&&_.remove(P),N&&(_.remove(N),R=N.start.row,j=-D.start.length)}else j=D.start.length,R=E.start.row,_.insert(E.end,D.end),_.insert(E.start,D.start);I.start.row==R&&(I.start.column+=j),I.end.row==R&&(I.end.column+=j),_.selection.fromOrientedRange(I)}},this.getNextLineIndent=function(A,_,E){return this.$getIndent(_)},this.checkOutdent=function(A,_,E){return!1},this.autoOutdent=function(A,_,E){},this.$getIndent=function(A){return A.match(/^\s*/)[0]},this.createWorker=function(A){return null},this.createModeDelegates=function(A){this.$embeds=[],this.$modes={};for(var _ in A)if(A[_]){var E=A[_],x=E.prototype.$id,D=u.$modes[x];D||(u.$modes[x]=D=new E),u.$modes[_]||(u.$modes[_]=D),this.$embeds.push(_),this.$modes[_]=D}for(var O=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],_=0;_<O.length;_++)(function(I){var R=O[_],j=I[R];I[O[_]]=function(){return this.$delegator(R,arguments,j)}})(this)},this.$delegator=function(A,_,E){var x=_[0]||"start";if(typeof x!="string"){if(Array.isArray(x[2])){var D=x[2][x[2].length-1],O=this.$modes[D];if(O)return O[A].apply(O,[x[1]].concat([].slice.call(_,1)))}x=x[0]||"start"}for(var B=0;B<this.$embeds.length;B++)if(this.$modes[this.$embeds[B]]){var I=x.split(this.$embeds[B]);if(!I[0]&&I[1]){_[0]=I[1];var O=this.$modes[this.$embeds[B]];return O[A].apply(O,_)}}var R=E.apply(this,_);return E?R:void 0},this.transformAction=function(A,_,E,x,D){if(this.$behaviour){var O=this.$behaviour.getBehaviours();for(var B in O)if(O[B][_]){var I=O[B][_].apply(this,arguments);if(I)return I}}},this.getKeywords=function(A){if(!this.completionKeywords){var _=this.$tokenizer.rules,E=[];for(var x in _)for(var D=_[x],O=0,B=D.length;O<B;O++)if(typeof D[O].token=="string")/keyword|support|storage/.test(D[O].token)&&E.push(D[O].regex);else if(typeof D[O].token=="object"){for(var I=0,R=D[O].token.length;I<R;I++)if(/keyword|support|storage/.test(D[O].token[I])){var x=D[O].regex.match(/\(.+?\)/g)[I];E.push(x.substr(1,x.length-2))}}this.completionKeywords=E}return A?E.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(A,_,E,x){var D=this.$keywordList||this.$createKeywordList();return D.map(function(O){return{name:O,value:O,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(k.prototype),o.Mode=k}),ace.define("ace/apply_delta",["require","exports","module"],function(i,o,c){o.applyDelta=function(u,h,b){var f=h.start.row,w=h.start.column,p=u[f]||"";switch(h.action){case"insert":var v=h.lines;if(v.length===1)u[f]=p.substring(0,w)+h.lines[0]+p.substring(w);else{var g=[f,1].concat(h.lines);u.splice.apply(u,g),u[f]=p.substring(0,w)+u[f],u[f+h.lines.length-1]+=p.substring(w)}break;case"remove":var k=h.end.column,A=h.end.row;f===A?u[f]=p.substring(0,w)+p.substring(k):u.splice(f,A-f+1,p.substring(0,w)+u[A].substring(k));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(i,o,c){var u=i("./lib/oop"),h=i("./lib/event_emitter").EventEmitter,b=function(){function p(v,g,k){this.$onChange=this.onChange.bind(this),this.attach(v),typeof k>"u"?this.setPosition(g.row,g.column):this.setPosition(g,k)}return p.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},p.prototype.getDocument=function(){return this.document},p.prototype.onChange=function(v){if(!(v.start.row==v.end.row&&v.start.row!=this.row)&&!(v.start.row>this.row)){var g=w(v,{row:this.row,column:this.column},this.$insertRight);this.setPosition(g.row,g.column,!0)}},p.prototype.setPosition=function(v,g,k){var A;if(k?A={row:v,column:g}:A=this.$clipPositionToDocument(v,g),!(this.row==A.row&&this.column==A.column)){var _={row:this.row,column:this.column};this.row=A.row,this.column=A.column,this._signal("change",{old:_,value:A})}},p.prototype.detach=function(){this.document.off("change",this.$onChange)},p.prototype.attach=function(v){this.document=v||this.document,this.document.on("change",this.$onChange)},p.prototype.$clipPositionToDocument=function(v,g){var k={};return v>=this.document.getLength()?(k.row=Math.max(0,this.document.getLength()-1),k.column=this.document.getLine(k.row).length):v<0?(k.row=0,k.column=0):(k.row=v,k.column=Math.min(this.document.getLine(k.row).length,Math.max(0,g))),g<0&&(k.column=0),k},p}();b.prototype.$insertRight=!1,u.implement(b.prototype,h);function f(p,v,g){var k=g?p.column<=v.column:p.column<v.column;return p.row<v.row||p.row==v.row&&k}function w(p,v,g){var k=p.action=="insert",A=(k?1:-1)*(p.end.row-p.start.row),_=(k?1:-1)*(p.end.column-p.start.column),E=p.start,x=k?E:p.end;return f(v,E,g)?{row:v.row,column:v.column}:f(x,v,!g)?{row:v.row+A,column:v.column+(v.row==x.row?_:0)}:{row:E.row,column:E.column}}o.Anchor=b}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(i,o,c){var u=i("./lib/oop"),h=i("./apply_delta").applyDelta,b=i("./lib/event_emitter").EventEmitter,f=i("./range").Range,w=i("./anchor").Anchor,p=function(){function v(g){this.$lines=[""],g.length===0?this.$lines=[""]:Array.isArray(g)?this.insertMergedLines({row:0,column:0},g):this.insert({row:0,column:0},g)}return v.prototype.setValue=function(g){var k=this.getLength()-1;this.remove(new f(0,0,k,this.getLine(k).length)),this.insert({row:0,column:0},g||"")},v.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},v.prototype.createAnchor=function(g,k){return new w(this,g,k)},v.prototype.$detectNewLine=function(g){var k=g.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=k?k[1]:`
`,this._signal("changeNewLineMode")},v.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},v.prototype.setNewLineMode=function(g){this.$newLineMode!==g&&(this.$newLineMode=g,this._signal("changeNewLineMode"))},v.prototype.getNewLineMode=function(){return this.$newLineMode},v.prototype.isNewLine=function(g){return g==`\r
`||g=="\r"||g==`
`},v.prototype.getLine=function(g){return this.$lines[g]||""},v.prototype.getLines=function(g,k){return this.$lines.slice(g,k+1)},v.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},v.prototype.getLength=function(){return this.$lines.length},v.prototype.getTextRange=function(g){return this.getLinesForRange(g).join(this.getNewLineCharacter())},v.prototype.getLinesForRange=function(g){var k;if(g.start.row===g.end.row)k=[this.getLine(g.start.row).substring(g.start.column,g.end.column)];else{k=this.getLines(g.start.row,g.end.row),k[0]=(k[0]||"").substring(g.start.column);var A=k.length-1;g.end.row-g.start.row==A&&(k[A]=k[A].substring(0,g.end.column))}return k},v.prototype.insertLines=function(g,k){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(g,k)},v.prototype.removeLines=function(g,k){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(g,k)},v.prototype.insertNewLine=function(g){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(g,["",""])},v.prototype.insert=function(g,k){return this.getLength()<=1&&this.$detectNewLine(k),this.insertMergedLines(g,this.$split(k))},v.prototype.insertInLine=function(g,k){var A=this.clippedPos(g.row,g.column),_=this.pos(g.row,g.column+k.length);return this.applyDelta({start:A,end:_,action:"insert",lines:[k]},!0),this.clonePos(_)},v.prototype.clippedPos=function(g,k){var A=this.getLength();g===void 0?g=A:g<0?g=0:g>=A&&(g=A-1,k=void 0);var _=this.getLine(g);return k==null&&(k=_.length),k=Math.min(Math.max(k,0),_.length),{row:g,column:k}},v.prototype.clonePos=function(g){return{row:g.row,column:g.column}},v.prototype.pos=function(g,k){return{row:g,column:k}},v.prototype.$clipPosition=function(g){var k=this.getLength();return g.row>=k?(g.row=Math.max(0,k-1),g.column=this.getLine(k-1).length):(g.row=Math.max(0,g.row),g.column=Math.min(Math.max(g.column,0),this.getLine(g.row).length)),g},v.prototype.insertFullLines=function(g,k){g=Math.min(Math.max(g,0),this.getLength());var A=0;g<this.getLength()?(k=k.concat([""]),A=0):(k=[""].concat(k),g--,A=this.$lines[g].length),this.insertMergedLines({row:g,column:A},k)},v.prototype.insertMergedLines=function(g,k){var A=this.clippedPos(g.row,g.column),_={row:A.row+k.length-1,column:(k.length==1?A.column:0)+k[k.length-1].length};return this.applyDelta({start:A,end:_,action:"insert",lines:k}),this.clonePos(_)},v.prototype.remove=function(g){var k=this.clippedPos(g.start.row,g.start.column),A=this.clippedPos(g.end.row,g.end.column);return this.applyDelta({start:k,end:A,action:"remove",lines:this.getLinesForRange({start:k,end:A})}),this.clonePos(k)},v.prototype.removeInLine=function(g,k,A){var _=this.clippedPos(g,k),E=this.clippedPos(g,A);return this.applyDelta({start:_,end:E,action:"remove",lines:this.getLinesForRange({start:_,end:E})},!0),this.clonePos(_)},v.prototype.removeFullLines=function(g,k){g=Math.min(Math.max(0,g),this.getLength()-1),k=Math.min(Math.max(0,k),this.getLength()-1);var A=k==this.getLength()-1&&g>0,_=k<this.getLength()-1,E=A?g-1:g,x=A?this.getLine(E).length:0,D=_?k+1:k,O=_?0:this.getLine(D).length,B=new f(E,x,D,O),I=this.$lines.slice(g,k+1);return this.applyDelta({start:B.start,end:B.end,action:"remove",lines:this.getLinesForRange(B)}),I},v.prototype.removeNewLine=function(g){g<this.getLength()-1&&g>=0&&this.applyDelta({start:this.pos(g,this.getLine(g).length),end:this.pos(g+1,0),action:"remove",lines:["",""]})},v.prototype.replace=function(g,k){if(g instanceof f||(g=f.fromPoints(g.start,g.end)),k.length===0&&g.isEmpty())return g.start;if(k==this.getTextRange(g))return g.end;this.remove(g);var A;return k?A=this.insert(g.start,k):A=g.start,A},v.prototype.applyDeltas=function(g){for(var k=0;k<g.length;k++)this.applyDelta(g[k])},v.prototype.revertDeltas=function(g){for(var k=g.length-1;k>=0;k--)this.revertDelta(g[k])},v.prototype.applyDelta=function(g,k){var A=g.action=="insert";(A?g.lines.length<=1&&!g.lines[0]:!f.comparePoints(g.start,g.end))||(A&&g.lines.length>2e4?this.$splitAndapplyLargeDelta(g,2e4):(h(this.$lines,g,k),this._signal("change",g)))},v.prototype.$safeApplyDelta=function(g){var k=this.$lines.length;(g.action=="remove"&&g.start.row<k&&g.end.row<k||g.action=="insert"&&g.start.row<=k)&&this.applyDelta(g)},v.prototype.$splitAndapplyLargeDelta=function(g,k){for(var A=g.lines,_=A.length-k+1,E=g.start.row,x=g.start.column,D=0,O=0;D<_;D=O){O+=k-1;var B=A.slice(D,O);B.push(""),this.applyDelta({start:this.pos(E+D,x),end:this.pos(E+O,x=0),action:g.action,lines:B},!0)}g.lines=A.slice(D),g.start.row=E+D,g.start.column=x,this.applyDelta(g,!0)},v.prototype.revertDelta=function(g){this.$safeApplyDelta({start:this.clonePos(g.start),end:this.clonePos(g.end),action:g.action=="insert"?"remove":"insert",lines:g.lines.slice()})},v.prototype.indexToPosition=function(g,k){for(var A=this.$lines||this.getAllLines(),_=this.getNewLineCharacter().length,E=k||0,x=A.length;E<x;E++)if(g-=A[E].length+_,g<0)return{row:E,column:g+A[E].length+_};return{row:x-1,column:g+A[x-1].length+_}},v.prototype.positionToIndex=function(g,k){for(var A=this.$lines||this.getAllLines(),_=this.getNewLineCharacter().length,E=0,x=Math.min(g.row,A.length),D=k||0;D<x;++D)E+=A[D].length+_;return E+g.column},v}();p.prototype.$split="aaa".split(/a/).length===0?function(v){return v.replace(/\r\n|\r/g,`
`).split(`
`)}:function(v){return v.split(/\r\n|\r|\n/)},p.prototype.$autoNewLine="",p.prototype.$newLineMode="auto",u.implement(p.prototype,b),o.Document=p}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(i,o,c){var u=i("./lib/oop"),h=i("./lib/event_emitter").EventEmitter,b=function(){function f(w,p){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=w;var v=this;this.$worker=function(){if(v.running){for(var g=new Date,k=v.currentLine,A=-1,_=v.doc,E=k;v.lines[k];)k++;var x=_.getLength(),D=0;for(v.running=!1;k<x;){v.$tokenizeRow(k),A=k;do k++;while(v.lines[k]);if(D++,D%5===0&&new Date-g>20){v.running=setTimeout(v.$worker,20);break}}v.currentLine=k,A==-1&&(A=k),E<=A&&v.fireUpdateEvent(E,A)}}}return f.prototype.setTokenizer=function(w){this.tokenizer=w,this.lines=[],this.states=[],this.start(0)},f.prototype.setDocument=function(w){this.doc=w,this.lines=[],this.states=[],this.stop()},f.prototype.fireUpdateEvent=function(w,p){var v={first:w,last:p};this._signal("update",{data:v})},f.prototype.start=function(w){this.currentLine=Math.min(w||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},f.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},f.prototype.$updateOnChange=function(w){var p=w.start.row,v=w.end.row-p;if(v===0)this.lines[p]=null;else if(w.action=="remove")this.lines.splice(p,v+1,null),this.states.splice(p,v+1,null);else{var g=Array(v+1);g.unshift(p,1),this.lines.splice.apply(this.lines,g),this.states.splice.apply(this.states,g)}this.currentLine=Math.min(p,this.currentLine,this.doc.getLength()),this.stop()},f.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},f.prototype.getTokens=function(w){return this.lines[w]||this.$tokenizeRow(w)},f.prototype.getState=function(w){return this.currentLine==w&&this.$tokenizeRow(w),this.states[w]||"start"},f.prototype.$tokenizeRow=function(w){var p=this.doc.getLine(w),v=this.states[w-1],g=this.tokenizer.getLineTokens(p,v,w);return this.states[w]+""!=g.state+""?(this.states[w]=g.state,this.lines[w+1]=null,this.currentLine>w+1&&(this.currentLine=w+1)):this.currentLine==w&&(this.currentLine=w+1),this.lines[w]=g.tokens},f.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},f}();u.implement(b.prototype,h),o.BackgroundTokenizer=b}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(i,o,c){var u=i("./lib/lang"),h=i("./range").Range,b=function(){function f(w,p,v){v===void 0&&(v="text"),this.setRegexp(w),this.clazz=p,this.type=v}return f.prototype.setRegexp=function(w){this.regExp+""!=w+""&&(this.regExp=w,this.cache=[])},f.prototype.update=function(w,p,v,g){if(this.regExp)for(var k=g.firstRow,A=g.lastRow,_={},E=k;E<=A;E++){var x=this.cache[E];x==null&&(x=u.getMatchOffsets(v.getLine(E),this.regExp),x.length>this.MAX_RANGES&&(x=x.slice(0,this.MAX_RANGES)),x=x.map(function(I){return new h(E,I.offset,E,I.offset+I.length)}),this.cache[E]=x.length?x:"");for(var D=x.length;D--;){var O=x[D].toScreenRange(v),B=O.toString();_[B]||(_[B]=!0,p.drawSingleLineMarker(w,O,this.clazz,g))}}},f}();b.prototype.MAX_RANGES=500,o.SearchHighlight=b}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(i,o,c){var u=i("../range").Range,h=function(){function b(f,w){this.foldData=f,Array.isArray(w)?this.folds=w:w=this.folds=[w];var p=w[w.length-1];this.range=new u(w[0].start.row,w[0].start.column,p.end.row,p.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(v){v.setFoldLine(this)},this)}return b.prototype.shiftRow=function(f){this.start.row+=f,this.end.row+=f,this.folds.forEach(function(w){w.start.row+=f,w.end.row+=f})},b.prototype.addFold=function(f){if(f.sameRow){if(f.start.row<this.startRow||f.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(f),this.folds.sort(function(w,p){return-w.range.compareEnd(p.start.row,p.start.column)}),this.range.compareEnd(f.start.row,f.start.column)>0?(this.end.row=f.end.row,this.end.column=f.end.column):this.range.compareStart(f.end.row,f.end.column)<0&&(this.start.row=f.start.row,this.start.column=f.start.column)}else if(f.start.row==this.end.row)this.folds.push(f),this.end.row=f.end.row,this.end.column=f.end.column;else if(f.end.row==this.start.row)this.folds.unshift(f),this.start.row=f.start.row,this.start.column=f.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");f.foldLine=this},b.prototype.containsRow=function(f){return f>=this.start.row&&f<=this.end.row},b.prototype.walk=function(f,w,p){var v=0,g=this.folds,k,A,_,E=!0;w==null&&(w=this.end.row,p=this.end.column);for(var x=0;x<g.length;x++){if(k=g[x],A=k.range.compareStart(w,p),A==-1){f(null,w,p,v,E);return}if(_=f(null,k.start.row,k.start.column,v,E),_=!_&&f(k.placeholder,k.start.row,k.start.column,v),_||A===0)return;E=!k.sameRow,v=k.end.column}f(null,w,p,v,E)},b.prototype.getNextFoldTo=function(f,w){for(var p,v,g=0;g<this.folds.length;g++){if(p=this.folds[g],v=p.range.compareEnd(f,w),v==-1)return{fold:p,kind:"after"};if(v===0)return{fold:p,kind:"inside"}}return null},b.prototype.addRemoveChars=function(f,w,p){var v=this.getNextFoldTo(f,w),g,k;if(v){if(g=v.fold,v.kind=="inside"&&g.start.column!=w&&g.start.row!=f)window.console&&window.console.log(f,w,g);else if(g.start.row==f){k=this.folds;var A=k.indexOf(g);for(A===0&&(this.start.column+=p),A;A<k.length;A++){if(g=k[A],g.start.column+=p,!g.sameRow)return;g.end.column+=p}this.end.column+=p}}},b.prototype.split=function(f,w){var p=this.getNextFoldTo(f,w);if(!p||p.kind=="inside")return null;var v=p.fold,g=this.folds,k=this.foldData,A=g.indexOf(v),_=g[A-1];this.end.row=_.end.row,this.end.column=_.end.column,g=g.splice(A,g.length-A);var E=new b(k,g);return k.splice(k.indexOf(this)+1,0,E),E},b.prototype.merge=function(f){for(var w=f.folds,p=0;p<w.length;p++)this.addFold(w[p]);var v=this.foldData;v.splice(v.indexOf(f),1)},b.prototype.toString=function(){var f=[this.range.toString()+": ["];return this.folds.forEach(function(w){f.push("  "+w.toString())}),f.push("]"),f.join(`
`)},b.prototype.idxToPosition=function(f){for(var w=0,p=0;p<this.folds.length;p++){var v=this.folds[p];if(f-=v.start.column-w,f<0)return{row:v.start.row,column:v.start.column+f};if(f-=v.placeholder.length,f<0)return v.start;w=v.end.column}return{row:this.end.row,column:this.end.column+f}},b}();o.FoldLine=h}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(i,o,c){var u=i("./range").Range,h=u.comparePoints,b=function(){function f(){this.ranges=[],this.$bias=1}return f.prototype.pointIndex=function(w,p,v){for(var g=this.ranges,k=v||0;k<g.length;k++){var A=g[k],_=h(w,A.end);if(!(_>0)){var E=h(w,A.start);return _===0?p&&E!==0?-k-2:k:E>0||E===0&&!p?k:-k-1}}return-k-1},f.prototype.add=function(w){var p=!w.isEmpty(),v=this.pointIndex(w.start,p);v<0&&(v=-v-1);var g=this.pointIndex(w.end,p,v);return g<0?g=-g-1:g++,this.ranges.splice(v,g-v,w)},f.prototype.addList=function(w){for(var p=[],v=w.length;v--;)p.push.apply(p,this.add(w[v]));return p},f.prototype.substractPoint=function(w){var p=this.pointIndex(w);if(p>=0)return this.ranges.splice(p,1)},f.prototype.merge=function(){var w=[],p=this.ranges;p=p.sort(function(_,E){return h(_.start,E.start)});for(var v=p[0],g,k=1;k<p.length;k++){g=v,v=p[k];var A=h(g.end,v.start);A<0||A==0&&!g.isEmpty()&&!v.isEmpty()||(h(g.end,v.end)<0&&(g.end.row=v.end.row,g.end.column=v.end.column),p.splice(k,1),w.push(v),v=g,k--)}return this.ranges=p,w},f.prototype.contains=function(w,p){return this.pointIndex({row:w,column:p})>=0},f.prototype.containsPoint=function(w){return this.pointIndex(w)>=0},f.prototype.rangeAtPoint=function(w){var p=this.pointIndex(w);if(p>=0)return this.ranges[p]},f.prototype.clipRows=function(w,p){var v=this.ranges;if(v[0].start.row>p||v[v.length-1].start.row<w)return[];var g=this.pointIndex({row:w,column:0});g<0&&(g=-g-1);var k=this.pointIndex({row:p,column:0},g);k<0&&(k=-k-1);for(var A=[],_=g;_<k;_++)A.push(v[_]);return A},f.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},f.prototype.attach=function(w){this.session&&this.detach(),this.session=w,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},f.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},f.prototype.$onChange=function(w){for(var p=w.start,v=w.end,g=p.row,k=v.row,A=this.ranges,_=0,E=A.length;_<E;_++){var x=A[_];if(x.end.row>=g)break}if(w.action=="insert")for(var D=k-g,O=-p.column+v.column;_<E;_++){var x=A[_];if(x.start.row>g)break;if(x.start.row==g&&x.start.column>=p.column&&(x.start.column==p.column&&this.$bias<=0||(x.start.column+=O,x.start.row+=D)),x.end.row==g&&x.end.column>=p.column){if(x.end.column==p.column&&this.$bias<0)continue;x.end.column==p.column&&O>0&&_<E-1&&x.end.column>x.start.column&&x.end.column==A[_+1].start.column&&(x.end.column-=O),x.end.column+=O,x.end.row+=D}}else for(var D=g-k,O=p.column-v.column;_<E;_++){var x=A[_];if(x.start.row>k)break;x.end.row<k&&(g<x.end.row||g==x.end.row&&p.column<x.end.column)?(x.end.row=g,x.end.column=p.column):x.end.row==k?x.end.column<=v.column?(D||x.end.column>p.column)&&(x.end.column=p.column,x.end.row=p.row):(x.end.column+=O,x.end.row+=D):x.end.row>k&&(x.end.row+=D),x.start.row<k&&(g<x.start.row||g==x.start.row&&p.column<x.start.column)?(x.start.row=g,x.start.column=p.column):x.start.row==k?x.start.column<=v.column?(D||x.start.column>p.column)&&(x.start.column=p.column,x.start.row=p.row):(x.start.column+=O,x.start.row+=D):x.start.row>k&&(x.start.row+=D)}if(D!=0&&_<E)for(;_<E;_++){var x=A[_];x.start.row+=D,x.end.row+=D}},f}();b.prototype.comparePoints=h,o.RangeList=b}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(i,o,c){var u=this&&this.__extends||function(){var g=function(k,A){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,E){_.__proto__=E}||function(_,E){for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(_[x]=E[x])},g(k,A)};return function(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");g(k,A);function _(){this.constructor=k}k.prototype=A===null?Object.create(A):(_.prototype=A.prototype,new _)}}(),h=i("../range_list").RangeList,b=function(g){u(k,g);function k(A,_){var E=g.call(this)||this;return E.foldLine=null,E.placeholder=_,E.range=A,E.start=A.start,E.end=A.end,E.sameRow=A.start.row==A.end.row,E.subFolds=E.ranges=[],E}return k.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},k.prototype.setFoldLine=function(A){this.foldLine=A,this.subFolds.forEach(function(_){_.setFoldLine(A)})},k.prototype.clone=function(){var A=this.range.clone(),_=new k(A,this.placeholder);return this.subFolds.forEach(function(E){_.subFolds.push(E.clone())}),_.collapseChildren=this.collapseChildren,_},k.prototype.addSubFold=function(A){if(!this.range.isEqual(A)){w(A,this.start);for(var O=A.start.row,B=A.start.column,_=0,E=-1;_<this.subFolds.length&&(E=this.subFolds[_].range.compare(O,B),E==1);_++);var x=this.subFolds[_],D=0;if(E==0){if(x.range.containsRange(A))return x.addSubFold(A);D=1}for(var O=A.range.end.row,B=A.range.end.column,I=_,E=-1;I<this.subFolds.length&&(E=this.subFolds[I].range.compare(O,B),E==1);I++);E==0&&I++;for(var R=this.subFolds.splice(_,I-_,A),j=E==0?R.length-1:R.length,N=D;N<j;N++)A.addSubFold(R[N]);return A.setFoldLine(this.foldLine),A}},k.prototype.restoreRange=function(A){return v(A,this.start)},k}(h);function f(g,k){g.row-=k.row,g.row==0&&(g.column-=k.column)}function w(g,k){f(g.start,k),f(g.end,k)}function p(g,k){g.row==0&&(g.column+=k.column),g.row+=k.row}function v(g,k){p(g.start,k),p(g.end,k)}o.Fold=b}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(i,o,c){var u=i("../range").Range,h=i("./fold_line").FoldLine,b=i("./fold").Fold,f=i("../token_iterator").TokenIterator;function w(){this.getFoldAt=function(p,v,g){var k=this.getFoldLine(p);if(!k)return null;for(var A=k.folds,_=0;_<A.length;_++){var E=A[_].range;if(E.contains(p,v)){if(g==1&&E.isEnd(p,v)&&!E.isEmpty())continue;if(g==-1&&E.isStart(p,v)&&!E.isEmpty())continue;return A[_]}}},this.getFoldsInRange=function(p){var v=p.start,g=p.end,k=this.$foldData,A=[];v.column+=1,g.column-=1;for(var _=0;_<k.length;_++){var E=k[_].range.compareRange(p);if(E!=2){if(E==-2)break;for(var x=k[_].folds,D=0;D<x.length;D++){var O=x[D];if(E=O.range.compareRange(p),E==-2)break;if(E==2)continue;if(E==42)break;A.push(O)}}}return v.column-=1,g.column+=1,A},this.getFoldsInRangeList=function(p){if(Array.isArray(p)){var v=[];p.forEach(function(g){v=v.concat(this.getFoldsInRange(g))},this)}else var v=this.getFoldsInRange(p);return v},this.getAllFolds=function(){for(var p=[],v=this.$foldData,g=0;g<v.length;g++)for(var k=0;k<v[g].folds.length;k++)p.push(v[g].folds[k]);return p},this.getFoldStringAt=function(p,v,g,k){if(k=k||this.getFoldLine(p),!k)return null;for(var A={end:{column:0}},_,E,x=0;x<k.folds.length;x++){E=k.folds[x];var D=E.range.compareEnd(p,v);if(D==-1){_=this.getLine(E.start.row).substring(A.end.column,E.start.column);break}else if(D===0)return null;A=E}return _||(_=this.getLine(E.start.row).substring(A.end.column)),g==-1?_.substring(0,v-A.end.column):g==1?_.substring(v-A.end.column):_},this.getFoldLine=function(p,v){var g=this.$foldData,k=0;for(v&&(k=g.indexOf(v)),k==-1&&(k=0),k;k<g.length;k++){var A=g[k];if(A.start.row<=p&&A.end.row>=p)return A;if(A.end.row>p)return null}return null},this.getNextFoldLine=function(p,v){var g=this.$foldData,k=0;for(v&&(k=g.indexOf(v)),k==-1&&(k=0),k;k<g.length;k++){var A=g[k];if(A.end.row>=p)return A}return null},this.getFoldedRowCount=function(p,v){for(var g=this.$foldData,k=v-p+1,A=0;A<g.length;A++){var _=g[A],E=_.end.row,x=_.start.row;if(E>=v){x<v&&(x>=p?k-=v-x:k=0);break}else E>=p&&(x>=p?k-=E-x:k-=E-p+1)}return k},this.$addFoldLine=function(p){return this.$foldData.push(p),this.$foldData.sort(function(v,g){return v.start.row-g.start.row}),p},this.addFold=function(p,v){var g=this.$foldData,k=!1,A;p instanceof b?A=p:(A=new b(v,p),A.collapseChildren=v.collapseChildren),this.$clipRangeToDocument(A.range);var _=A.start.row,E=A.start.column,x=A.end.row,D=A.end.column,O=this.getFoldAt(_,E,1),B=this.getFoldAt(x,D,-1);if(O&&B==O)return O.addSubFold(A);O&&!O.range.isStart(_,E)&&this.removeFold(O),B&&!B.range.isEnd(x,D)&&this.removeFold(B);var I=this.getFoldsInRange(A.range);I.length>0&&(this.removeFolds(I),A.collapseChildren||I.forEach(function(P){A.addSubFold(P)}));for(var R=0;R<g.length;R++){var j=g[R];if(x==j.start.row){j.addFold(A),k=!0;break}else if(_==j.end.row){if(j.addFold(A),k=!0,!A.sameRow){var N=g[R+1];if(N&&N.start.row==x){j.merge(N);break}}break}else if(x<=j.start.row)break}return k||(j=this.$addFoldLine(new h(this.$foldData,A))),this.$useWrapMode?this.$updateWrapData(j.start.row,j.start.row):this.$updateRowLengthCache(j.start.row,j.start.row),this.$modified=!0,this._signal("changeFold",{data:A,action:"add"}),A},this.addFolds=function(p){p.forEach(function(v){this.addFold(v)},this)},this.removeFold=function(p){var v=p.foldLine,g=v.start.row,k=v.end.row,A=this.$foldData,_=v.folds;if(_.length==1)A.splice(A.indexOf(v),1);else if(v.range.isEnd(p.end.row,p.end.column))_.pop(),v.end.row=_[_.length-1].end.row,v.end.column=_[_.length-1].end.column;else if(v.range.isStart(p.start.row,p.start.column))_.shift(),v.start.row=_[0].start.row,v.start.column=_[0].start.column;else if(p.sameRow)_.splice(_.indexOf(p),1);else{var E=v.split(p.start.row,p.start.column);_=E.folds,_.shift(),E.start.row=_[0].start.row,E.start.column=_[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(g,k):this.$updateRowLengthCache(g,k)),this.$modified=!0,this._signal("changeFold",{data:p,action:"remove"})},this.removeFolds=function(p){for(var v=[],g=0;g<p.length;g++)v.push(p[g]);v.forEach(function(k){this.removeFold(k)},this),this.$modified=!0},this.expandFold=function(p){this.removeFold(p),p.subFolds.forEach(function(v){p.restoreRange(v),this.addFold(v)},this),p.collapseChildren>0&&this.foldAll(p.start.row+1,p.end.row,p.collapseChildren-1),p.subFolds=[]},this.expandFolds=function(p){p.forEach(function(v){this.expandFold(v)},this)},this.unfold=function(p,v){var g,k;if(p==null)g=new u(0,0,this.getLength(),0),v==null&&(v=!0);else if(typeof p=="number")g=new u(p,0,p,this.getLine(p).length);else if("row"in p)g=u.fromPoints(p,p);else{if(Array.isArray(p))return k=[],p.forEach(function(_){k=k.concat(this.unfold(_))},this),k;g=p}k=this.getFoldsInRangeList(g);for(var A=k;k.length==1&&u.comparePoints(k[0].start,g.start)<0&&u.comparePoints(k[0].end,g.end)>0;)this.expandFolds(k),k=this.getFoldsInRangeList(g);if(v!=!1?this.removeFolds(k):this.expandFolds(k),A.length)return A},this.isRowFolded=function(p,v){return!!this.getFoldLine(p,v)},this.getRowFoldEnd=function(p,v){var g=this.getFoldLine(p,v);return g?g.end.row:p},this.getRowFoldStart=function(p,v){var g=this.getFoldLine(p,v);return g?g.start.row:p},this.getFoldDisplayLine=function(p,v,g,k,A){k==null&&(k=p.start.row),A==null&&(A=0),v==null&&(v=p.end.row),g==null&&(g=this.getLine(v).length);var _=this.doc,E="";return p.walk(function(x,D,O,B){if(!(D<k)){if(D==k){if(O<A)return;B=Math.max(A,B)}x!=null?E+=x:E+=_.getLine(D).substring(B,O)}},v,g),E},this.getDisplayLine=function(p,v,g,k){var A=this.getFoldLine(p);if(A)return this.getFoldDisplayLine(A,p,v,g,k);var _;return _=this.doc.getLine(p),_.substring(k||0,v||_.length)},this.$cloneFoldData=function(){var p=[];return p=this.$foldData.map(function(v){var g=v.folds.map(function(k){return k.clone()});return new h(p,g)}),p},this.toggleFold=function(p){var v=this.selection,g=v.getRange(),k,A;if(g.isEmpty()){var _=g.start;if(k=this.getFoldAt(_.row,_.column),k){this.expandFold(k);return}else(A=this.findMatchingBracket(_))?g.comparePoint(A)==1?g.end=A:(g.start=A,g.start.column++,g.end.column--):(A=this.findMatchingBracket({row:_.row,column:_.column+1}))?(g.comparePoint(A)==1?g.end=A:g.start=A,g.start.column++):g=this.getCommentFoldRange(_.row,_.column)||g}else{var E=this.getFoldsInRange(g);if(p&&E.length){this.expandFolds(E);return}else E.length==1&&(k=E[0])}if(k||(k=this.getFoldAt(g.start.row,g.start.column)),k&&k.range.toString()==g.toString()){this.expandFold(k);return}var x="...";if(!g.isMultiLine()){if(x=this.getTextRange(g),x.length<4)return;x=x.trim().substring(0,2)+".."}this.addFold(x,g)},this.getCommentFoldRange=function(p,v,g){var k=new f(this,p,v),A=k.getCurrentToken(),_=A&&A.type;if(A&&/^comment|string/.test(_)){_=_.match(/comment|string/)[0],_=="comment"&&(_+="|doc-start");var E=new RegExp(_),x=new u;if(g!=1){do A=k.stepBackward();while(A&&E.test(A.type)&&!/^comment.end/.test(A.type));A=k.stepForward()}if(x.start.row=k.getCurrentTokenRow(),x.start.column=k.getCurrentTokenColumn()+(/^comment.start/.test(A.type)?A.value.length:2),k=new f(this,p,v),g!=-1){var D=-1;do if(A=k.stepForward(),D==-1){var O=this.getState(k.$row);E.test(O)||(D=k.$row)}else if(k.$row>D)break;while(A&&E.test(A.type)&&!/^comment.start/.test(A.type));A=k.stepBackward()}else A=k.getCurrentToken();return x.end.row=k.getCurrentTokenRow(),x.end.column=k.getCurrentTokenColumn(),/^comment.end/.test(A.type)||(x.end.column+=A.value.length-2),x}},this.foldAll=function(p,v,g,k){g==null&&(g=1e5);var A=this.foldWidgets;if(A){v=v||this.getLength(),p=p||0;for(var _=p;_<v;_++)if(A[_]==null&&(A[_]=this.getFoldWidget(_)),A[_]=="start"&&!(k&&!k(_))){var E=this.getFoldWidgetRange(_);E&&E.isMultiLine()&&E.end.row<=v&&E.start.row>=p&&(_=E.end.row,E.collapseChildren=g,this.addFold("...",E))}}},this.foldToLevel=function(p){for(this.foldAll();p-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var p=this;this.foldAll(null,null,null,function(v){for(var g=p.getTokens(v),k=0;k<g.length;k++){var A=g[k];if(!(A.type=="text"&&/^\s+$/.test(A.value)))return!!/comment/.test(A.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(p){if(!this.$foldStyles[p])throw new Error("invalid fold style: "+p+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=p){this.$foldStyle=p,p=="manual"&&this.unfold();var v=this.$foldMode;this.$setFolding(null),this.$setFolding(v)}},this.$setFolding=function(p){if(this.$foldMode!=p){if(this.$foldMode=p,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!p||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=p.getFoldWidget.bind(p,this,this.$foldStyle),this.getFoldWidgetRange=p.getFoldWidgetRange.bind(p,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(p,v){var g=this.foldWidgets;if(!g||v&&g[p])return{};for(var k=p-1,A;k>=0;){var _=g[k];if(_==null&&(_=g[k]=this.getFoldWidget(k)),_=="start"){var E=this.getFoldWidgetRange(k);if(A||(A=E),E&&E.end.row>=p)break}k--}return{range:k!==-1&&E,firstRange:A}},this.onFoldWidgetClick=function(p,v){v=v.domEvent;var g={children:v.shiftKey,all:v.ctrlKey||v.metaKey,siblings:v.altKey},k=this.$toggleFoldWidget(p,g);if(!k){var A=v.target||v.srcElement;A&&/ace_fold-widget/.test(A.className)&&(A.className+=" ace_invalid")}},this.$toggleFoldWidget=function(p,v){if(this.getFoldWidget){var g=this.getFoldWidget(p),k=this.getLine(p),A=g==="end"?-1:1,_=this.getFoldAt(p,A===-1?0:k.length,A);if(_)return v.children||v.all?this.removeFold(_):this.expandFold(_),_;var E=this.getFoldWidgetRange(p,!0);if(E&&!E.isMultiLine()&&(_=this.getFoldAt(E.start.row,E.start.column,1),_&&E.isEqual(_.range)))return this.removeFold(_),_;if(v.siblings){var x=this.getParentFoldRangeData(p);if(x.range)var D=x.range.start.row+1,O=x.range.end.row;this.foldAll(D,O,v.all?1e4:0)}else v.children?(O=E?E.end.row:this.getLength(),this.foldAll(p+1,O,v.all?1e4:0)):E&&(v.all&&(E.collapseChildren=1e4),this.addFold("...",E));return E}},this.toggleFoldWidget=function(p){var v=this.selection.getCursor().row;v=this.getRowFoldStart(v);var g=this.$toggleFoldWidget(v,{});if(!g){var k=this.getParentFoldRangeData(v,!0);if(g=k.range||k.firstRange,g){v=g.start.row;var A=this.getFoldAt(v,this.getLine(v).length,1);A?this.removeFold(A):this.addFold("...",g)}}},this.updateFoldWidgets=function(p){var v=p.start.row,g=p.end.row-v;if(g===0)this.foldWidgets[v]=null;else if(p.action=="remove")this.foldWidgets.splice(v,g+1,null);else{var k=Array(g+1);k.unshift(v,1),this.foldWidgets.splice.apply(this.foldWidgets,k)}},this.tokenizerUpdateFoldWidgets=function(p){var v=p.data;v.first!=v.last&&this.foldWidgets.length>v.first&&this.foldWidgets.splice(v.first,this.foldWidgets.length)}}o.Folding=w}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(i,o,c){var u=i("../token_iterator").TokenIterator,h=i("../range").Range;function b(){this.findMatchingBracket=function(f,w){if(f.column==0)return null;var p=w||this.getLine(f.row).charAt(f.column-1);if(p=="")return null;var v=p.match(/([\(\[\{])|([\)\]\}])/);return v?v[1]?this.$findClosingBracket(v[1],f):this.$findOpeningBracket(v[2],f):null},this.getBracketRange=function(f){var w=this.getLine(f.row),p=!0,v,g=w.charAt(f.column-1),k=g&&g.match(/([\(\[\{])|([\)\]\}])/);if(k||(g=w.charAt(f.column),f={row:f.row,column:f.column+1},k=g&&g.match(/([\(\[\{])|([\)\]\}])/),p=!1),!k)return null;if(k[1]){var A=this.$findClosingBracket(k[1],f);if(!A)return null;v=h.fromPoints(f,A),p||(v.end.column++,v.start.column--),v.cursor=v.end}else{var A=this.$findOpeningBracket(k[2],f);if(!A)return null;v=h.fromPoints(A,f),p||(v.start.column++,v.end.column--),v.cursor=v.start}return v},this.getMatchingBracketRanges=function(f,w){var p=this.getLine(f.row),v=/([\(\[\{])|([\)\]\}])/,g=!w&&p.charAt(f.column-1),k=g&&g.match(v);if(k||(g=(w===void 0||w)&&p.charAt(f.column),f={row:f.row,column:f.column+1},k=g&&g.match(v)),!k)return null;var A=new h(f.row,f.column-1,f.row,f.column),_=k[1]?this.$findClosingBracket(k[1],f):this.$findOpeningBracket(k[2],f);if(!_)return[A];var E=new h(_.row,_.column,_.row,_.column+1);return[A,E]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(f,w,p){var v=this.$brackets[f],g=1,k=new u(this,w.row,w.column),A=k.getCurrentToken();if(A||(A=k.stepForward()),!!A){p||(p=new RegExp("(\\.?"+A.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var _=w.column-k.getCurrentTokenColumn()-2,E=A.value;;){for(;_>=0;){var x=E.charAt(_);if(x==v){if(g-=1,g==0)return{row:k.getCurrentTokenRow(),column:_+k.getCurrentTokenColumn()}}else x==f&&(g+=1);_-=1}do A=k.stepBackward();while(A&&!p.test(A.type));if(A==null)break;E=A.value,_=E.length-1}return null}},this.$findClosingBracket=function(f,w,p){var v=this.$brackets[f],g=1,k=new u(this,w.row,w.column),A=k.getCurrentToken();if(A||(A=k.stepForward()),!!A){p||(p=new RegExp("(\\.?"+A.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var _=w.column-k.getCurrentTokenColumn();;){for(var E=A.value,x=E.length;_<x;){var D=E.charAt(_);if(D==v){if(g-=1,g==0)return{row:k.getCurrentTokenRow(),column:_+k.getCurrentTokenColumn()}}else D==f&&(g+=1);_+=1}do A=k.stepForward();while(A&&!p.test(A.type));if(A==null)break;_=0}return null}},this.getMatchingTags=function(f){var w=new u(this,f.row,f.column),p=this.$findTagName(w);if(p){var v=w.stepBackward();return v.value==="<"?this.$findClosingTag(w,p):this.$findOpeningTag(w,p)}},this.$findTagName=function(f){var w=f.getCurrentToken(),p=!1,v=!1;if(w&&w.type.indexOf("tag-name")===-1)do v?w=f.stepBackward():w=f.stepForward(),w&&(w.value==="/>"?v=!0:w.type.indexOf("tag-name")!==-1&&(p=!0));while(w&&!p);return w},this.$findClosingTag=function(f,w){var p,v=w.value,g=w.value,k=0,A=new h(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+1);w=f.stepForward();var _=new h(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+w.value.length),E=!1;do if(p=w,w=f.stepForward(),w){if(w.value===">"&&!E){var x=new h(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+1);E=!0}if(w.type.indexOf("tag-name")!==-1){if(v=w.value,g===v){if(p.value==="<")k++;else if(p.value==="</"&&(k--,k<0)){f.stepBackward();var D=new h(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+2);w=f.stepForward();var O=new h(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+w.value.length);if(w=f.stepForward(),w&&w.value===">")var B=new h(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+1);else return}}}else if(g===v&&w.value==="/>"&&(k--,k<0))var D=new h(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+2),O=D,B=O,x=new h(_.end.row,_.end.column,_.end.row,_.end.column+1)}while(w&&k>=0);if(A&&x&&D&&B&&_&&O)return{openTag:new h(A.start.row,A.start.column,x.end.row,x.end.column),closeTag:new h(D.start.row,D.start.column,B.end.row,B.end.column),openTagName:_,closeTagName:O}},this.$findOpeningTag=function(f,w){var p=f.getCurrentToken(),v=w.value,g=0,k=f.getCurrentTokenRow(),A=f.getCurrentTokenColumn(),_=A+2,E=new h(k,A,k,_);f.stepForward();var x=new h(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+w.value.length);if(w=f.stepForward(),!(!w||w.value!==">")){var D=new h(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+1);f.stepBackward(),f.stepBackward();do if(w=p,k=f.getCurrentTokenRow(),A=f.getCurrentTokenColumn(),_=A+w.value.length,p=f.stepBackward(),w){if(w.type.indexOf("tag-name")!==-1){if(v===w.value)if(p.value==="<"){if(g++,g>0){var O=new h(k,A,k,_),B=new h(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+1);do w=f.stepForward();while(w&&w.value!==">");var I=new h(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+1)}}else p.value==="</"&&g--}else if(w.value==="/>"){for(var R=0,j=p;j;){if(j.type.indexOf("tag-name")!==-1&&j.value===v){g--;break}else if(j.value==="<")break;j=f.stepBackward(),R++}for(var N=0;N<R;N++)f.stepForward()}}while(p&&g<=0);if(B&&I&&E&&D&&O&&x)return{openTag:new h(B.start.row,B.start.column,I.end.row,I.end.column),closeTag:new h(E.start.row,E.start.column,D.end.row,D.end.column),openTagName:O,closeTagName:x}}}}o.BracketMatch=b}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(i,o,c){var u=i("./lib/oop"),h=i("./lib/lang"),b=i("./bidihandler").BidiHandler,f=i("./config"),w=i("./lib/event_emitter").EventEmitter,p=i("./selection").Selection,v=i("./mode/text").Mode,g=i("./range").Range,k=i("./document").Document,A=i("./background_tokenizer").BackgroundTokenizer,_=i("./search_highlight").SearchHighlight,E=function(){function F(T,L){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++F.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new A(new v().getTokenizer(),this);var z=this;this.bgTokenizer.on("update",function(V){z._signal("tokenizerUpdate",V)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof T!="object"||!T.getLine)&&(T=new k(T)),this.setDocument(T),this.selection=new p(this),this.$bidiHandler=new b(this),f.resetOptions(this),this.setMode(L),f._signal("session",this),this.destroyed=!1}return F.prototype.setDocument=function(T){this.doc&&this.doc.off("change",this.$onChange),this.doc=T,T.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},F.prototype.getDocument=function(){return this.doc},F.prototype.$resetRowCache=function(T){if(!T){this.$docRowCache=[],this.$screenRowCache=[];return}var L=this.$docRowCache.length,z=this.$getRowCacheIndex(this.$docRowCache,T)+1;L>z&&(this.$docRowCache.splice(z,L),this.$screenRowCache.splice(z,L))},F.prototype.$getRowCacheIndex=function(T,L){for(var z=0,V=T.length-1;z<=V;){var H=z+V>>1,G=T[H];if(L>G)z=H+1;else if(L<G)V=H-1;else return H}return z-1},F.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},F.prototype.onChangeFold=function(T){var L=T.data;this.$resetRowCache(L.start.row)},F.prototype.onChange=function(T){this.$modified=!0,this.$bidiHandler.onChange(T),this.$resetRowCache(T.start.row);var L=this.$updateInternalDataOnChange(T);!this.$fromUndo&&this.$undoManager&&(L&&L.length&&(this.$undoManager.add({action:"removeFolds",folds:L},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(T,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(T),this._signal("change",T)},F.prototype.setValue=function(T){this.doc.setValue(T),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},F.prototype.toString=function(){return this.doc.getValue()},F.prototype.getSelection=function(){return this.selection},F.prototype.getState=function(T){return this.bgTokenizer.getState(T)},F.prototype.getTokens=function(T){return this.bgTokenizer.getTokens(T)},F.prototype.getTokenAt=function(T,L){var z=this.bgTokenizer.getTokens(T),V,H=0;if(L==null){var G=z.length-1;H=this.getLine(T).length}else for(var G=0;G<z.length&&(H+=z[G].value.length,!(H>=L));G++);return V=z[G],V?(V.index=G,V.start=H-V.value.length,V):null},F.prototype.setUndoManager=function(T){if(this.$undoManager=T,this.$informUndoManager&&this.$informUndoManager.cancel(),T){var L=this;T.addSession(this),this.$syncInformUndoManager=function(){L.$informUndoManager.cancel(),L.mergeUndoDeltas=!1},this.$informUndoManager=h.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},F.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},F.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},F.prototype.getTabString=function(){return this.getUseSoftTabs()?h.stringRepeat(" ",this.getTabSize()):"	"},F.prototype.setUseSoftTabs=function(T){this.setOption("useSoftTabs",T)},F.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},F.prototype.setTabSize=function(T){this.setOption("tabSize",T)},F.prototype.getTabSize=function(){return this.$tabSize},F.prototype.isTabStop=function(T){return this.$useSoftTabs&&T.column%this.$tabSize===0},F.prototype.setNavigateWithinSoftTabs=function(T){this.setOption("navigateWithinSoftTabs",T)},F.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},F.prototype.setOverwrite=function(T){this.setOption("overwrite",T)},F.prototype.getOverwrite=function(){return this.$overwrite},F.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},F.prototype.addGutterDecoration=function(T,L){this.$decorations[T]||(this.$decorations[T]=""),this.$decorations[T]+=" "+L,this._signal("changeBreakpoint",{})},F.prototype.removeGutterDecoration=function(T,L){this.$decorations[T]=(this.$decorations[T]||"").replace(" "+L,""),this._signal("changeBreakpoint",{})},F.prototype.getBreakpoints=function(){return this.$breakpoints},F.prototype.setBreakpoints=function(T){this.$breakpoints=[];for(var L=0;L<T.length;L++)this.$breakpoints[T[L]]="ace_breakpoint";this._signal("changeBreakpoint",{})},F.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},F.prototype.setBreakpoint=function(T,L){L===void 0&&(L="ace_breakpoint"),L?this.$breakpoints[T]=L:delete this.$breakpoints[T],this._signal("changeBreakpoint",{})},F.prototype.clearBreakpoint=function(T){delete this.$breakpoints[T],this._signal("changeBreakpoint",{})},F.prototype.addMarker=function(T,L,z,V){var H=this.$markerId++,G={range:T,type:z||"line",renderer:typeof z=="function"?z:null,clazz:L,inFront:!!V,id:H};return V?(this.$frontMarkers[H]=G,this._signal("changeFrontMarker")):(this.$backMarkers[H]=G,this._signal("changeBackMarker")),H},F.prototype.addDynamicMarker=function(T,L){if(T.update){var z=this.$markerId++;return T.id=z,T.inFront=!!L,L?(this.$frontMarkers[z]=T,this._signal("changeFrontMarker")):(this.$backMarkers[z]=T,this._signal("changeBackMarker")),T}},F.prototype.removeMarker=function(T){var L=this.$frontMarkers[T]||this.$backMarkers[T];if(L){var z=L.inFront?this.$frontMarkers:this.$backMarkers;delete z[T],this._signal(L.inFront?"changeFrontMarker":"changeBackMarker")}},F.prototype.getMarkers=function(T){return T?this.$frontMarkers:this.$backMarkers},F.prototype.highlight=function(T){if(!this.$searchHighlight){var L=new _(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(L)}this.$searchHighlight.setRegexp(T)},F.prototype.highlightLines=function(T,L,z,V){typeof L!="number"&&(z=L,L=T),z||(z="ace_step");var H=new g(T,0,L,1/0);return H.id=this.addMarker(H,z,"fullLine",V),H},F.prototype.setAnnotations=function(T){this.$annotations=T,this._signal("changeAnnotation",{})},F.prototype.getAnnotations=function(){return this.$annotations||[]},F.prototype.clearAnnotations=function(){this.setAnnotations([])},F.prototype.$detectNewLine=function(T){var L=T.match(/^.*?(\r?\n)/m);L?this.$autoNewLine=L[1]:this.$autoNewLine=`
`},F.prototype.getWordRange=function(T,L){var z=this.getLine(T),V=!1;if(L>0&&(V=!!z.charAt(L-1).match(this.tokenRe)),V||(V=!!z.charAt(L).match(this.tokenRe)),V)var H=this.tokenRe;else if(/^\s+$/.test(z.slice(L-1,L+1)))var H=/\s/;else var H=this.nonTokenRe;var G=L;if(G>0){do G--;while(G>=0&&z.charAt(G).match(H));G++}for(var J=L;J<z.length&&z.charAt(J).match(H);)J++;return new g(T,G,T,J)},F.prototype.getAWordRange=function(T,L){for(var z=this.getWordRange(T,L),V=this.getLine(z.end.row);V.charAt(z.end.column).match(/[ \t]/);)z.end.column+=1;return z},F.prototype.setNewLineMode=function(T){this.doc.setNewLineMode(T)},F.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},F.prototype.setUseWorker=function(T){this.setOption("useWorker",T)},F.prototype.getUseWorker=function(){return this.$useWorker},F.prototype.onReloadTokenizer=function(T){var L=T.data;this.bgTokenizer.start(L.first),this._signal("tokenizerUpdate",T)},F.prototype.setMode=function(T,L){if(T&&typeof T=="object"){if(T.getTokenizer)return this.$onChangeMode(T);var z=T,V=z.path}else V=T||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new v),this.$modes[V]&&!z){this.$onChangeMode(this.$modes[V]),L&&L();return}this.$modeId=V,f.loadModule(["mode",V],function(H){if(this.$modeId!==V)return L&&L();this.$modes[V]&&!z?this.$onChangeMode(this.$modes[V]):H&&H.Mode&&(H=new H.Mode(z),z||(this.$modes[V]=H,H.$id=V),this.$onChangeMode(H)),L&&L()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},F.prototype.$onChangeMode=function(T,L){if(L||(this.$modeId=T.$id),this.$mode!==T){var z=this.$mode;this.$mode=T,this.$stopWorker(),this.$useWorker&&this.$startWorker();var V=T.getTokenizer();if(V.on!==void 0){var H=this.onReloadTokenizer.bind(this);V.on("update",H)}this.bgTokenizer.setTokenizer(V),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=T.tokenRe,this.nonTokenRe=T.nonTokenRe,L||(T.attachToSession&&T.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(T.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:z,mode:T}))}},F.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},F.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(T){f.warn("Could not load worker",T),this.$worker=null}},F.prototype.getMode=function(){return this.$mode},F.prototype.setScrollTop=function(T){this.$scrollTop===T||isNaN(T)||(this.$scrollTop=T,this._signal("changeScrollTop",T))},F.prototype.getScrollTop=function(){return this.$scrollTop},F.prototype.setScrollLeft=function(T){this.$scrollLeft===T||isNaN(T)||(this.$scrollLeft=T,this._signal("changeScrollLeft",T))},F.prototype.getScrollLeft=function(){return this.$scrollLeft},F.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},F.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var T=0;return this.lineWidgets.forEach(function(L){L&&L.screenWidth>T&&(T=L.screenWidth)}),this.lineWidgetWidth=T},F.prototype.$computeWidth=function(T){if(this.$modified||T){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var L=this.doc.getAllLines(),z=this.$rowLengthCache,V=0,H=0,G=this.$foldData[H],J=G?G.start.row:1/0,Y=L.length,ee=0;ee<Y;ee++){if(ee>J){if(ee=G.end.row+1,ee>=Y)break;G=this.$foldData[H++],J=G?G.start.row:1/0}z[ee]==null&&(z[ee]=this.$getStringScreenWidth(L[ee])[0]),z[ee]>V&&(V=z[ee])}this.screenWidth=V}},F.prototype.getLine=function(T){return this.doc.getLine(T)},F.prototype.getLines=function(T,L){return this.doc.getLines(T,L)},F.prototype.getLength=function(){return this.doc.getLength()},F.prototype.getTextRange=function(T){return this.doc.getTextRange(T||this.selection.getRange())},F.prototype.insert=function(T,L){return this.doc.insert(T,L)},F.prototype.remove=function(T){return this.doc.remove(T)},F.prototype.removeFullLines=function(T,L){return this.doc.removeFullLines(T,L)},F.prototype.undoChanges=function(T,L){if(T.length){this.$fromUndo=!0;for(var z=T.length-1;z!=-1;z--){var V=T[z];V.action=="insert"||V.action=="remove"?this.doc.revertDelta(V):V.folds&&this.addFolds(V.folds)}!L&&this.$undoSelect&&(T.selectionBefore?this.selection.fromJSON(T.selectionBefore):this.selection.setRange(this.$getUndoSelection(T,!0))),this.$fromUndo=!1}},F.prototype.redoChanges=function(T,L){if(T.length){this.$fromUndo=!0;for(var z=0;z<T.length;z++){var V=T[z];(V.action=="insert"||V.action=="remove")&&this.doc.$safeApplyDelta(V)}!L&&this.$undoSelect&&(T.selectionAfter?this.selection.fromJSON(T.selectionAfter):this.selection.setRange(this.$getUndoSelection(T,!1))),this.$fromUndo=!1}},F.prototype.setUndoSelect=function(T){this.$undoSelect=T},F.prototype.$getUndoSelection=function(T,L){function z(Y){return L?Y.action!=="insert":Y.action==="insert"}for(var V,H,G=0;G<T.length;G++){var J=T[G];if(J.start){if(!V){z(J)?V=g.fromPoints(J.start,J.end):V=g.fromPoints(J.start,J.start);continue}z(J)?(H=J.start,V.compare(H.row,H.column)==-1&&V.setStart(H),H=J.end,V.compare(H.row,H.column)==1&&V.setEnd(H)):(H=J.start,V.compare(H.row,H.column)==-1&&(V=g.fromPoints(J.start,J.start)))}}return V},F.prototype.replace=function(T,L){return this.doc.replace(T,L)},F.prototype.moveText=function(T,L,z){var V=this.getTextRange(T),H=this.getFoldsInRange(T),G=g.fromPoints(L,L);if(!z){this.remove(T);var J=T.start.row-T.end.row,Y=J?-T.end.column:T.start.column-T.end.column;Y&&(G.start.row==T.end.row&&G.start.column>T.end.column&&(G.start.column+=Y),G.end.row==T.end.row&&G.end.column>T.end.column&&(G.end.column+=Y)),J&&G.start.row>=T.end.row&&(G.start.row+=J,G.end.row+=J)}if(G.end=this.insert(G.start,V),H.length){var ee=T.start,re=G.start,J=re.row-ee.row,Y=re.column-ee.column;this.addFolds(H.map(function(le){return le=le.clone(),le.start.row==ee.row&&(le.start.column+=Y),le.end.row==ee.row&&(le.end.column+=Y),le.start.row+=J,le.end.row+=J,le}))}return G},F.prototype.indentRows=function(T,L,z){z=z.replace(/\t/g,this.getTabString());for(var V=T;V<=L;V++)this.doc.insertInLine({row:V,column:0},z)},F.prototype.outdentRows=function(T){for(var L=T.collapseRows(),z=new g(0,0,0,0),V=this.getTabSize(),H=L.start.row;H<=L.end.row;++H){var G=this.getLine(H);z.start.row=H,z.end.row=H;for(var J=0;J<V&&G.charAt(J)==" ";++J);J<V&&G.charAt(J)=="	"?(z.start.column=J,z.end.column=J+1):(z.start.column=0,z.end.column=J),this.remove(z)}},F.prototype.$moveLines=function(T,L,z){if(T=this.getRowFoldStart(T),L=this.getRowFoldEnd(L),z<0){var V=this.getRowFoldStart(T+z);if(V<0)return 0;var H=V-T}else if(z>0){var V=this.getRowFoldEnd(L+z);if(V>this.doc.getLength()-1)return 0;var H=V-L}else{T=this.$clipRowToDocument(T),L=this.$clipRowToDocument(L);var H=L-T+1}var G=new g(T,0,L,Number.MAX_VALUE),J=this.getFoldsInRange(G).map(function(ee){return ee=ee.clone(),ee.start.row+=H,ee.end.row+=H,ee}),Y=z==0?this.doc.getLines(T,L):this.doc.removeFullLines(T,L);return this.doc.insertFullLines(T+H,Y),J.length&&this.addFolds(J),H},F.prototype.moveLinesUp=function(T,L){return this.$moveLines(T,L,-1)},F.prototype.moveLinesDown=function(T,L){return this.$moveLines(T,L,1)},F.prototype.duplicateLines=function(T,L){return this.$moveLines(T,L,0)},F.prototype.$clipRowToDocument=function(T){return Math.max(0,Math.min(T,this.doc.getLength()-1))},F.prototype.$clipColumnToRow=function(T,L){return L<0?0:Math.min(this.doc.getLine(T).length,L)},F.prototype.$clipPositionToDocument=function(T,L){if(L=Math.max(0,L),T<0)T=0,L=0;else{var z=this.doc.getLength();T>=z?(T=z-1,L=this.doc.getLine(z-1).length):L=Math.min(this.doc.getLine(T).length,L)}return{row:T,column:L}},F.prototype.$clipRangeToDocument=function(T){T.start.row<0?(T.start.row=0,T.start.column=0):T.start.column=this.$clipColumnToRow(T.start.row,T.start.column);var L=this.doc.getLength()-1;return T.end.row>L?(T.end.row=L,T.end.column=this.doc.getLine(L).length):T.end.column=this.$clipColumnToRow(T.end.row,T.end.column),T},F.prototype.setUseWrapMode=function(T){if(T!=this.$useWrapMode){if(this.$useWrapMode=T,this.$modified=!0,this.$resetRowCache(0),T){var L=this.getLength();this.$wrapData=Array(L),this.$updateWrapData(0,L-1)}this._signal("changeWrapMode")}},F.prototype.getUseWrapMode=function(){return this.$useWrapMode},F.prototype.setWrapLimitRange=function(T,L){(this.$wrapLimitRange.min!==T||this.$wrapLimitRange.max!==L)&&(this.$wrapLimitRange={min:T,max:L},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},F.prototype.adjustWrapLimit=function(T,L){var z=this.$wrapLimitRange;z.max<0&&(z={min:L,max:L});var V=this.$constrainWrapLimit(T,z.min,z.max);return V!=this.$wrapLimit&&V>1?(this.$wrapLimit=V,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},F.prototype.$constrainWrapLimit=function(T,L,z){return L&&(T=Math.max(L,T)),z&&(T=Math.min(z,T)),T},F.prototype.getWrapLimit=function(){return this.$wrapLimit},F.prototype.setWrapLimit=function(T){this.setWrapLimitRange(T,T)},F.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},F.prototype.$updateInternalDataOnChange=function(T){var L=this.$useWrapMode,z=T.action,V=T.start,H=T.end,G=V.row,J=H.row,Y=J-G,ee=null;if(this.$updating=!0,Y!=0)if(z==="remove"){this[L?"$wrapData":"$rowLengthCache"].splice(G,Y);var re=this.$foldData;ee=this.getFoldsInRange(T),this.removeFolds(ee);var oe=this.getFoldLine(H.row),pe=0;if(oe){oe.addRemoveChars(H.row,H.column,V.column-H.column),oe.shiftRow(-Y);var le=this.getFoldLine(G);le&&le!==oe&&(le.merge(oe),oe=le),pe=re.indexOf(oe)+1}for(pe;pe<re.length;pe++){var oe=re[pe];oe.start.row>=H.row&&oe.shiftRow(-Y)}J=G}else{var ce=Array(Y);ce.unshift(G,0);var ue=L?this.$wrapData:this.$rowLengthCache;ue.splice.apply(ue,ce);var re=this.$foldData,oe=this.getFoldLine(G),pe=0;if(oe){var ge=oe.range.compareInside(V.row,V.column);ge==0?(oe=oe.split(V.row,V.column),oe&&(oe.shiftRow(Y),oe.addRemoveChars(J,0,H.column-V.column))):ge==-1&&(oe.addRemoveChars(G,0,H.column-V.column),oe.shiftRow(Y)),pe=re.indexOf(oe)+1}for(pe;pe<re.length;pe++){var oe=re[pe];oe.start.row>=G&&oe.shiftRow(Y)}}else{Y=Math.abs(T.start.column-T.end.column),z==="remove"&&(ee=this.getFoldsInRange(T),this.removeFolds(ee),Y=-Y);var oe=this.getFoldLine(G);oe&&oe.addRemoveChars(G,V.column,Y)}return L&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,L?this.$updateWrapData(G,J):this.$updateRowLengthCache(G,J),ee},F.prototype.$updateRowLengthCache=function(T,L,z){this.$rowLengthCache[T]=null,this.$rowLengthCache[L]=null},F.prototype.$updateWrapData=function(T,L){var z=this.doc.getAllLines(),V=this.getTabSize(),H=this.$wrapData,G=this.$wrapLimit,J,Y,ee=T;for(L=Math.min(L,z.length-1);ee<=L;)Y=this.getFoldLine(ee,Y),Y?(J=[],Y.walk(function(re,oe,pe,le){var ce;if(re!=null){ce=this.$getDisplayTokens(re,J.length),ce[0]=O;for(var ue=1;ue<ce.length;ue++)ce[ue]=B}else ce=this.$getDisplayTokens(z[oe].substring(le,pe),J.length);J=J.concat(ce)}.bind(this),Y.end.row,z[Y.end.row].length+1),H[Y.start.row]=this.$computeWrapSplits(J,G,V),ee=Y.end.row+1):(J=this.$getDisplayTokens(z[ee]),H[ee]=this.$computeWrapSplits(J,G,V),ee++)},F.prototype.$computeWrapSplits=function(T,L,z){if(T.length==0)return[];var V=[],H=T.length,G=0,J=0,Y=this.$wrapAsCode,ee=this.$indentedSoftWrap,re=L<=Math.max(2*z,8)||ee===!1?0:Math.floor(L/2);function oe(){var ge=0;if(re===0)return ge;if(ee)for(var ye=0;ye<T.length;ye++){var Ie=T[ye];if(Ie==R)ge+=1;else if(Ie==j)ge+=z;else{if(Ie==N)continue;break}}return Y&&ee!==!1&&(ge+=z),Math.min(ge,re)}function pe(ge){for(var ye=ge-G,Ie=G;Ie<ge;Ie++){var xe=T[Ie];(xe===12||xe===2)&&(ye-=1)}V.length||(le=oe(),V.indent=le),J+=ye,V.push(J),G=ge}for(var le=0;H-G>L-le;){var ce=G+L-le;if(T[ce-1]>=R&&T[ce]>=R){pe(ce);continue}if(T[ce]==O||T[ce]==B){for(ce;ce!=G-1&&T[ce]!=O;ce--);if(ce>G){pe(ce);continue}for(ce=G+L,ce;ce<T.length&&T[ce]==B;ce++);if(ce==T.length)break;pe(ce);continue}for(var ue=Math.max(ce-(L-(L>>2)),G-1);ce>ue&&T[ce]<O;)ce--;if(Y){for(;ce>ue&&T[ce]<O;)ce--;for(;ce>ue&&T[ce]==I;)ce--}else for(;ce>ue&&T[ce]<R;)ce--;if(ce>ue){pe(++ce);continue}ce=G+L,T[ce]==D&&ce--,pe(ce-le)}return V},F.prototype.$getDisplayTokens=function(T,L){var z=[],V;L=L||0;for(var H=0;H<T.length;H++){var G=T.charCodeAt(H);if(G==9){V=this.getScreenTabSize(z.length+L),z.push(j);for(var J=1;J<V;J++)z.push(N)}else G==32?z.push(R):G>39&&G<48||G>57&&G<64?z.push(I):G>=4352&&P(G)?z.push(x,D):z.push(x)}return z},F.prototype.$getStringScreenWidth=function(T,L,z){if(L==0)return[0,0];L==null&&(L=1/0),z=z||0;var V,H;for(H=0;H<T.length&&(V=T.charCodeAt(H),V==9?z+=this.getScreenTabSize(z):V>=4352&&P(V)?z+=2:z+=1,!(z>L));H++);return[z,H]},F.prototype.getRowLength=function(T){var L=1;return this.lineWidgets&&(L+=this.lineWidgets[T]&&this.lineWidgets[T].rowCount||0),!this.$useWrapMode||!this.$wrapData[T]?L:this.$wrapData[T].length+L},F.prototype.getRowLineCount=function(T){return!this.$useWrapMode||!this.$wrapData[T]?1:this.$wrapData[T].length+1},F.prototype.getRowWrapIndent=function(T){if(this.$useWrapMode){var L=this.screenToDocumentPosition(T,Number.MAX_VALUE),z=this.$wrapData[L.row];return z.length&&z[0]<L.column?z.indent:0}else return 0},F.prototype.getScreenLastRowColumn=function(T){var L=this.screenToDocumentPosition(T,Number.MAX_VALUE);return this.documentToScreenColumn(L.row,L.column)},F.prototype.getDocumentLastRowColumn=function(T,L){var z=this.documentToScreenRow(T,L);return this.getScreenLastRowColumn(z)},F.prototype.getDocumentLastRowColumnPosition=function(T,L){var z=this.documentToScreenRow(T,L);return this.screenToDocumentPosition(z,Number.MAX_VALUE/10)},F.prototype.getRowSplitData=function(T){if(this.$useWrapMode)return this.$wrapData[T]},F.prototype.getScreenTabSize=function(T){return this.$tabSize-(T%this.$tabSize|0)},F.prototype.screenToDocumentRow=function(T,L){return this.screenToDocumentPosition(T,L).row},F.prototype.screenToDocumentColumn=function(T,L){return this.screenToDocumentPosition(T,L).column},F.prototype.screenToDocumentPosition=function(T,L,z){if(T<0)return{row:0,column:0};var V,H=0,G=0,J,Y=0,ee=0,re=this.$screenRowCache,oe=this.$getRowCacheIndex(re,T),pe=re.length;if(pe&&oe>=0)var Y=re[oe],H=this.$docRowCache[oe],le=T>re[pe-1];else var le=!pe;for(var ce=this.getLength()-1,ue=this.getNextFoldLine(H),ge=ue?ue.start.row:1/0;Y<=T&&(ee=this.getRowLength(H),!(Y+ee>T||H>=ce));)Y+=ee,H++,H>ge&&(H=ue.end.row+1,ue=this.getNextFoldLine(H,ue),ge=ue?ue.start.row:1/0),le&&(this.$docRowCache.push(H),this.$screenRowCache.push(Y));if(ue&&ue.start.row<=H)V=this.getFoldDisplayLine(ue),H=ue.start.row;else{if(Y+ee<=T||H>ce)return{row:ce,column:this.getLine(ce).length};V=this.getLine(H),ue=null}var ye=0,Ie=Math.floor(T-Y);if(this.$useWrapMode){var xe=this.$wrapData[H];xe&&(J=xe[Ie],Ie>0&&xe.length&&(ye=xe.indent,G=xe[Ie-1]||xe[xe.length-1],V=V.substring(G)))}return z!==void 0&&this.$bidiHandler.isBidiRow(Y+Ie,H,Ie)&&(L=this.$bidiHandler.offsetToCol(z)),G+=this.$getStringScreenWidth(V,L-ye)[1],this.$useWrapMode&&G>=J&&(G=J-1),ue?ue.idxToPosition(G):{row:H,column:G}},F.prototype.documentToScreenPosition=function(T,L){if(typeof L>"u")var z=this.$clipPositionToDocument(T.row,T.column);else z=this.$clipPositionToDocument(T,L);T=z.row,L=z.column;var V=0,H=null,G=null;G=this.getFoldAt(T,L,1),G&&(T=G.start.row,L=G.start.column);var J,Y=0,ee=this.$docRowCache,re=this.$getRowCacheIndex(ee,T),oe=ee.length;if(oe&&re>=0)var Y=ee[re],V=this.$screenRowCache[re],pe=T>ee[oe-1];else var pe=!oe;for(var le=this.getNextFoldLine(Y),ce=le?le.start.row:1/0;Y<T;){if(Y>=ce){if(J=le.end.row+1,J>T)break;le=this.getNextFoldLine(J,le),ce=le?le.start.row:1/0}else J=Y+1;V+=this.getRowLength(Y),Y=J,pe&&(this.$docRowCache.push(Y),this.$screenRowCache.push(V))}var ue="";le&&Y>=ce?(ue=this.getFoldDisplayLine(le,T,L),H=le.start.row):(ue=this.getLine(T).substring(0,L),H=T);var ge=0;if(this.$useWrapMode){var ye=this.$wrapData[H];if(ye){for(var Ie=0;ue.length>=ye[Ie];)V++,Ie++;ue=ue.substring(ye[Ie-1]||0,ue.length),ge=Ie>0?ye.indent:0}}return this.lineWidgets&&this.lineWidgets[Y]&&this.lineWidgets[Y].rowsAbove&&(V+=this.lineWidgets[Y].rowsAbove),{row:V,column:ge+this.$getStringScreenWidth(ue)[0]}},F.prototype.documentToScreenColumn=function(T,L){return this.documentToScreenPosition(T,L).column},F.prototype.documentToScreenRow=function(T,L){return this.documentToScreenPosition(T,L).row},F.prototype.getScreenLength=function(){var T=0,L=null;if(this.$useWrapMode)for(var H=this.$wrapData.length,G=0,V=0,L=this.$foldData[V++],J=L?L.start.row:1/0;G<H;){var Y=this.$wrapData[G];T+=Y?Y.length+1:1,G++,G>J&&(G=L.end.row+1,L=this.$foldData[V++],J=L?L.start.row:1/0)}else{T=this.getLength();for(var z=this.$foldData,V=0;V<z.length;V++)L=z[V],T-=L.end.row-L.start.row}return this.lineWidgets&&(T+=this.$getWidgetScreenLength()),T},F.prototype.$setFontMetrics=function(T){this.$enableVarChar&&(this.$getStringScreenWidth=function(L,z,V){if(z===0)return[0,0];z||(z=1/0),V=V||0;var H,G;for(G=0;G<L.length&&(H=L.charAt(G),H==="	"?V+=this.getScreenTabSize(V):V+=T.getCharacterWidth(H),!(V>z));G++);return[V,G]})},F.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},F}();E.$uid=0,E.prototype.$modes=f.$modes,E.prototype.getValue=E.prototype.toString,E.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},E.prototype.$overwrite=!1,E.prototype.$mode=null,E.prototype.$modeId=null,E.prototype.$scrollTop=0,E.prototype.$scrollLeft=0,E.prototype.$wrapLimit=80,E.prototype.$useWrapMode=!1,E.prototype.$wrapLimitRange={min:null,max:null},E.prototype.lineWidgets=null,E.prototype.isFullWidth=P,u.implement(E.prototype,w);var x=1,D=2,O=3,B=4,I=9,R=10,j=11,N=12;function P(F){return F<4352?!1:F>=4352&&F<=4447||F>=4515&&F<=4519||F>=4602&&F<=4607||F>=9001&&F<=9002||F>=11904&&F<=11929||F>=11931&&F<=12019||F>=12032&&F<=12245||F>=12272&&F<=12283||F>=12288&&F<=12350||F>=12353&&F<=12438||F>=12441&&F<=12543||F>=12549&&F<=12589||F>=12593&&F<=12686||F>=12688&&F<=12730||F>=12736&&F<=12771||F>=12784&&F<=12830||F>=12832&&F<=12871||F>=12880&&F<=13054||F>=13056&&F<=19903||F>=19968&&F<=42124||F>=42128&&F<=42182||F>=43360&&F<=43388||F>=44032&&F<=55203||F>=55216&&F<=55238||F>=55243&&F<=55291||F>=63744&&F<=64255||F>=65040&&F<=65049||F>=65072&&F<=65106||F>=65108&&F<=65126||F>=65128&&F<=65131||F>=65281&&F<=65376||F>=65504&&F<=65510}i("./edit_session/folding").Folding.call(E.prototype),i("./edit_session/bracket_match").BracketMatch.call(E.prototype),f.defineOptions(E.prototype,"session",{wrap:{set:function(F){if(!F||F=="off"?F=!1:F=="free"?F=!0:F=="printMargin"?F=-1:typeof F=="string"&&(F=parseInt(F,10)||!1),this.$wrap!=F)if(this.$wrap=F,!F)this.setUseWrapMode(!1);else{var T=typeof F=="number"?F:null;this.setWrapLimitRange(T,T),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(F){F=F=="auto"?this.$mode.type!="text":F!="text",F!=this.$wrapAsCode&&(this.$wrapAsCode=F,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(F){this.$useWorker=F,this.$stopWorker(),F&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(F){F=parseInt(F),F>0&&this.$tabSize!==F&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=F,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(F){this.setFoldStyle(F)},handlesSet:!0},overwrite:{set:function(F){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(F){this.doc.setNewLineMode(F)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(F){this.setMode(F)},get:function(){return this.$modeId},handlesSet:!0}}),o.EditSession=E}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(i,o,c){var u=i("./lib/lang"),h=i("./lib/oop"),b=i("./range").Range,f=function(){function p(){this.$options={}}return p.prototype.set=function(v){return h.mixin(this.$options,v),this},p.prototype.getOptions=function(){return u.copyObject(this.$options)},p.prototype.setOptions=function(v){this.$options=v},p.prototype.find=function(v){var g=this.$options,k=this.$matchIterator(v,g);if(!k)return!1;var A=null;return k.forEach(function(_,E,x,D){return A=new b(_,E,x,D),E==D&&g.start&&g.start.start&&g.skipCurrent!=!1&&A.isEqual(g.start)?(A=null,!1):!0}),A},p.prototype.findAll=function(v){var g=this.$options;if(!g.needle)return[];this.$assembleRegExp(g);var k=g.range,A=k?v.getLines(k.start.row,k.end.row):v.doc.getAllLines(),_=[],E=g.re;if(g.$isMultiLine){var x=E.length,D=A.length-x,O;e:for(var B=E.offset||0;B<=D;B++){for(var I=0;I<x;I++)if(A[B+I].search(E[I])==-1)continue e;var R=A[B],j=A[B+x-1],N=R.length-R.match(E[0])[0].length,P=j.match(E[x-1])[0].length;O&&O.end.row===B&&O.end.column>N||(_.push(O=new b(B,N,B+x-1,P)),x>2&&(B=B+x-2))}}else for(var F=0;F<A.length;F++)for(var T=u.getMatchOffsets(A[F],E),I=0;I<T.length;I++){var L=T[I];_.push(new b(F,L.offset,F,L.offset+L.length))}if(k){for(var z=k.start.column,V=k.end.column,F=0,I=_.length-1;F<I&&_[F].start.column<z&&_[F].start.row==0;)F++;for(var H=k.end.row-k.start.row;F<I&&_[I].end.column>V&&_[I].end.row==H;)I--;for(_=_.slice(F,I+1),F=0,I=_.length;F<I;F++)_[F].start.row+=k.start.row,_[F].end.row+=k.start.row}return _},p.prototype.replace=function(v,g){var k=this.$options,A=this.$assembleRegExp(k);if(k.$isMultiLine)return g;if(A){var _=A.exec(v);if(!_||_[0].length!=v.length)return null;if(g=v.replace(A,g),k.preserveCase){g=g.split("");for(var E=Math.min(v.length,v.length);E--;){var x=v[E];x&&x.toLowerCase()!=x?g[E]=g[E].toUpperCase():g[E]=g[E].toLowerCase()}g=g.join("")}return g}},p.prototype.$assembleRegExp=function(v,g){if(v.needle instanceof RegExp)return v.re=v.needle;var k=v.needle;if(!v.needle)return v.re=!1;v.regExp||(k=u.escapeRegExp(k)),v.wholeWord&&(k=w(k,v));var A=v.caseSensitive?"gm":"gmi";if(v.$isMultiLine=!g&&/[\n\r]/.test(k),v.$isMultiLine)return v.re=this.$assembleMultilineRegExp(k,A);try{var _=new RegExp(k,A)}catch{_=!1}return v.re=_},p.prototype.$assembleMultilineRegExp=function(v,g){for(var k=v.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),A=[],_=0;_<k.length;_++)try{A.push(new RegExp(k[_],g))}catch{return!1}return A},p.prototype.$matchIterator=function(v,g){var k=this.$assembleRegExp(g);if(!k)return!1;var A=g.backwards==!0,_=g.skipCurrent!=!1,E=g.range,x=g.start;x||(x=E?E[A?"end":"start"]:v.selection.getRange()),x.start&&(x=x[_!=A?"end":"start"]);var D=E?E.start.row:0,O=E?E.end.row:v.getLength()-1;if(A)var B=function(j){var N=x.row;if(!R(N,x.column,j)){for(N--;N>=D;N--)if(R(N,Number.MAX_VALUE,j))return;if(g.wrap!=!1){for(N=O,D=x.row;N>=D;N--)if(R(N,Number.MAX_VALUE,j))return}}};else var B=function(N){var P=x.row;if(!R(P,x.column,N)){for(P=P+1;P<=O;P++)if(R(P,0,N))return;if(g.wrap!=!1){for(P=D,O=x.row;P<=O;P++)if(R(P,0,N))return}}};if(g.$isMultiLine)var I=k.length,R=function(j,N,P){var F=A?j-I+1:j;if(!(F<0||F+I>v.getLength())){var T=v.getLine(F),L=T.search(k[0]);if(!(!A&&L<N||L===-1)){for(var z=1;z<I;z++)if(T=v.getLine(F+z),T.search(k[z])==-1)return;var V=T.match(k[I-1])[0].length;if(!(A&&V>N)&&P(F,L,F+I-1,V))return!0}}};else if(A)var R=function(N,P,F){var T=v.getLine(N),L=[],z,V=0;for(k.lastIndex=0;z=k.exec(T);){var H=z[0].length;if(V=z.index,!H){if(V>=T.length)break;k.lastIndex=V+=1}if(z.index+H>P)break;L.push(z.index,H)}for(var G=L.length-1;G>=0;G-=2){var J=L[G-1],H=L[G];if(F(N,J,N,J+H))return!0}};else var R=function(N,P,F){var T=v.getLine(N),L,z;for(k.lastIndex=P;z=k.exec(T);){var V=z[0].length;if(L=z.index,F(N,L,N,L+V))return!0;if(!V&&(k.lastIndex=L+=1,L>=T.length))return!1}};return{forEach:B}},p}();function w(p,v){function g(k){return/\w/.test(k)||v.regExp?"\\b":""}return g(p[0])+p+g(p[p.length-1])}o.Search=f}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(i,o,c){var u=i("../lib/keys"),h=i("../lib/useragent"),b=u.KEY_MODS;function f(p,v){this.platform=v||(h.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(p),this.$singleCommand=!0}function w(p,v){f.call(this,p,v),this.$singleCommand=!1}w.prototype=f.prototype,function(){this.addCommand=function(v){this.commands[v.name]&&this.removeCommand(v),this.commands[v.name]=v,v.bindKey&&this._buildKeyHash(v)},this.removeCommand=function(v,g){var k=v&&(typeof v=="string"?v:v.name);v=this.commands[k],g||delete this.commands[k];var A=this.commandKeyBinding;for(var _ in A){var E=A[_];if(E==v)delete A[_];else if(Array.isArray(E)){var x=E.indexOf(v);x!=-1&&(E.splice(x,1),E.length==1&&(A[_]=E[0]))}}},this.bindKey=function(v,g,k){if(typeof v=="object"&&v&&(k==null&&(k=v.position),v=v[this.platform]),!!v){if(typeof g=="function")return this.addCommand({exec:g,bindKey:v,name:g.name||v});v.split("|").forEach(function(A){var _="";if(A.indexOf(" ")!=-1){var E=A.split(/\s+/);A=E.pop(),E.forEach(function(O){var B=this.parseKeys(O),I=b[B.hashId]+B.key;_+=(_?" ":"")+I,this._addCommandToBinding(_,"chainKeys")},this),_+=" "}var x=this.parseKeys(A),D=b[x.hashId]+x.key;this._addCommandToBinding(_+D,g,k)},this)}};function p(v){return typeof v=="object"&&v.bindKey&&v.bindKey.position||(v.isDefault?-100:0)}this._addCommandToBinding=function(v,g,k){var A=this.commandKeyBinding,_;if(!g)delete A[v];else if(!A[v]||this.$singleCommand)A[v]=g;else{Array.isArray(A[v])?(_=A[v].indexOf(g))!=-1&&A[v].splice(_,1):A[v]=[A[v]],typeof k!="number"&&(k=p(g));var E=A[v];for(_=0;_<E.length;_++){var x=E[_],D=p(x);if(D>k)break}E.splice(_,0,g)}},this.addCommands=function(v){v&&Object.keys(v).forEach(function(g){var k=v[g];if(k){if(typeof k=="string")return this.bindKey(k,g);typeof k=="function"&&(k={exec:k}),typeof k=="object"&&(k.name||(k.name=g),this.addCommand(k))}},this)},this.removeCommands=function(v){Object.keys(v).forEach(function(g){this.removeCommand(v[g])},this)},this.bindKeys=function(v){Object.keys(v).forEach(function(g){this.bindKey(g,v[g])},this)},this._buildKeyHash=function(v){this.bindKey(v.bindKey,v)},this.parseKeys=function(v){var g=v.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(D){return D}),k=g.pop(),A=u[k];if(u.FUNCTION_KEYS[A])k=u.FUNCTION_KEYS[A].toLowerCase();else if(g.length){if(g.length==1&&g[0]=="shift")return{key:k.toUpperCase(),hashId:-1}}else return{key:k,hashId:-1};for(var _=0,E=g.length;E--;){var x=u.KEY_MODS[g[E]];if(x==null)return typeof console<"u"&&console.error("invalid modifier "+g[E]+" in "+v),!1;_|=x}return{key:k,hashId:_}},this.findKeyCommand=function(g,k){var A=b[g]+k;return this.commandKeyBinding[A]},this.handleKeyboard=function(v,g,k,A){if(!(A<0)){var _=b[g]+k,E=this.commandKeyBinding[_];return v.$keyChain&&(v.$keyChain+=" "+_,E=this.commandKeyBinding[v.$keyChain]||E),E&&(E=="chainKeys"||E[E.length-1]=="chainKeys")?(v.$keyChain=v.$keyChain||_,{command:"null"}):(v.$keyChain&&((!g||g==4)&&k.length==1?v.$keyChain=v.$keyChain.slice(0,-_.length-1):(g==-1||A>0)&&(v.$keyChain="")),{command:E})}},this.getStatusText=function(v,g){return g.$keyChain||""}}.call(f.prototype),o.HashHandler=f,o.MultiHashHandler=w}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(i,o,c){var u=this&&this.__extends||function(){var p=function(v,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,A){k.__proto__=A}||function(k,A){for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&(k[_]=A[_])},p(v,g)};return function(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(v,g);function k(){this.constructor=v}v.prototype=g===null?Object.create(g):(k.prototype=g.prototype,new k)}}(),h=i("../lib/oop"),b=i("../keyboard/hash_handler").MultiHashHandler,f=i("../lib/event_emitter").EventEmitter,w=function(p){u(v,p);function v(g,k){var A=p.call(this,k,g)||this;return A.byName=A.commands,A.setDefaultHandler("exec",function(_){return _.args?_.command.exec(_.editor,_.args,_.event,!1):_.command.exec(_.editor,{},_.event,!0)}),A}return v.prototype.exec=function(g,k,A){if(Array.isArray(g)){for(var _=g.length;_--;)if(this.exec(g[_],k,A))return!0;return!1}if(typeof g=="string"&&(g=this.commands[g]),!g||k&&k.$readOnly&&!g.readOnly||this.$checkCommandState!=!1&&g.isAvailable&&!g.isAvailable(k))return!1;var E={editor:k,command:g,args:A};return E.returnValue=this._emit("exec",E),this._signal("afterExec",E),E.returnValue!==!1},v.prototype.toggleRecording=function(g){if(!this.$inReplay)return g&&g._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(k){this.macro.push([k.command,k.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},v.prototype.replay=function(g){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(g);try{this.$inReplay=!0,this.macro.forEach(function(k){typeof k=="string"?this.exec(k,g):this.exec(k[0],g,k[1])},this)}finally{this.$inReplay=!1}}},v.prototype.trimMacro=function(g){return g.map(function(k){return typeof k[0]!="string"&&(k[0]=k[0].name),k[1]||(k=k[0]),k})},v}(b);h.implement(w.prototype,f),o.CommandManager=w}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(i,o,c){var u=i("../lib/lang"),h=i("../config"),b=i("../range").Range;function f(p,v){return{win:p,mac:v}}o.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:f("Ctrl-,","Command-,"),exec:function(p){h.loadModule("ace/ext/settings_menu",function(v){v.init(p),p.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:f("Alt-E","F4"),exec:function(p){h.loadModule("ace/ext/error_marker",function(v){v.showErrorMarker(p,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:f("Alt-Shift-E","Shift-F4"),exec:function(p){h.loadModule("ace/ext/error_marker",function(v){v.showErrorMarker(p,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:f("Ctrl-A","Command-A"),exec:function(p){p.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:f(null,"Ctrl-L"),exec:function(p){p.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:f("Ctrl-L","Command-L"),exec:function(p,v){typeof v=="number"&&!isNaN(v)&&p.gotoLine(v),p.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:f("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(p){p.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:f("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(p){p.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:f("F2","F2"),exec:function(p){p.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:f("Alt-F2","Alt-F2"),exec:function(p){p.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:f(null,"Ctrl-Command-Option-0"),exec:function(p){p.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:f(null,"Ctrl-Command-Option-0"),exec:function(p){p.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:f("Alt-0","Command-Option-0"),exec:function(p){p.session.foldAll(),p.session.unfold(p.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:f("Alt-Shift-0","Command-Option-Shift-0"),exec:function(p){p.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:f("Ctrl-K","Command-G"),exec:function(p){p.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:f("Ctrl-Shift-K","Command-Shift-G"),exec:function(p){p.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:f("Alt-K","Ctrl-G"),exec:function(p){p.selection.isEmpty()?p.selection.selectWord():p.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:f("Alt-Shift-K","Ctrl-Shift-G"),exec:function(p){p.selection.isEmpty()?p.selection.selectWord():p.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:f("Ctrl-F","Command-F"),exec:function(p){h.loadModule("ace/ext/searchbox",function(v){v.Search(p)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(p){p.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:f("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(p){p.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:f("Ctrl-Home","Command-Home|Command-Up"),exec:function(p){p.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:f("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(p){p.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:f("Up","Up|Ctrl-P"),exec:function(p,v){p.navigateUp(v.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:f("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(p){p.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:f("Ctrl-End","Command-End|Command-Down"),exec:function(p){p.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:f("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(p){p.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:f("Down","Down|Ctrl-N"),exec:function(p,v){p.navigateDown(v.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:f("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(p){p.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:f("Ctrl-Left","Option-Left"),exec:function(p){p.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:f("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(p){p.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:f("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(p){p.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:f("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(p){p.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:f("Left","Left|Ctrl-B"),exec:function(p,v){p.navigateLeft(v.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:f("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(p){p.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:f("Ctrl-Right","Option-Right"),exec:function(p){p.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:f("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(p){p.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:f("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(p){p.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:f("Shift-Right","Shift-Right"),exec:function(p){p.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:f("Right","Right|Ctrl-F"),exec:function(p,v){p.navigateRight(v.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(p){p.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:f(null,"Option-PageDown"),exec:function(p){p.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:f("PageDown","PageDown|Ctrl-V"),exec:function(p){p.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(p){p.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:f(null,"Option-PageUp"),exec:function(p){p.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(p){p.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:f("Ctrl-Up",null),exec:function(p){p.renderer.scrollBy(0,-2*p.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:f("Ctrl-Down",null),exec:function(p){p.renderer.scrollBy(0,2*p.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(p){p.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(p){p.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:f("Ctrl-Alt-E","Command-Option-E"),exec:function(p){p.commands.toggleRecording(p)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:f("Ctrl-Shift-E","Command-Shift-E"),exec:function(p){p.commands.replay(p)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:f("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(p){p.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:f("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(p){p.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:f("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(p){p.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:f(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(p){},readOnly:!0},{name:"cut",description:"Cut",exec:function(p){var v=p.$copyWithEmptySelection&&p.selection.isEmpty(),g=v?p.selection.getLineRange():p.selection.getRange();p._emit("cut",g),g.isEmpty()||p.session.remove(g),p.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(p,v){p.$handlePaste(v)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:f("Ctrl-D","Command-D"),exec:function(p){p.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:f("Ctrl-Shift-D","Command-Shift-D"),exec:function(p){p.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:f("Ctrl-Alt-S","Command-Alt-S"),exec:function(p){p.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:f("Ctrl-/","Command-/"),exec:function(p){p.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:f("Ctrl-Shift-/","Command-Shift-/"),exec:function(p){p.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:f("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(p){p.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:f("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(p){p.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:f("Ctrl-H","Command-Option-F"),exec:function(p){h.loadModule("ace/ext/searchbox",function(v){v.Search(p,!0)})}},{name:"undo",description:"Undo",bindKey:f("Ctrl-Z","Command-Z"),exec:function(p){p.undo()}},{name:"redo",description:"Redo",bindKey:f("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(p){p.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:f("Alt-Shift-Up","Command-Option-Up"),exec:function(p){p.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:f("Alt-Up","Option-Up"),exec:function(p){p.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:f("Alt-Shift-Down","Command-Option-Down"),exec:function(p){p.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:f("Alt-Down","Option-Down"),exec:function(p){p.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:f("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(p){p.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:f("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(p){p.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:f("Shift-Delete",null),exec:function(p){if(p.selection.isEmpty())p.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:f("Alt-Backspace","Command-Backspace"),exec:function(p){p.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:f("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(p){p.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:f("Ctrl-Shift-Backspace",null),exec:function(p){var v=p.selection.getRange();v.start.column=0,p.session.remove(v)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:f("Ctrl-Shift-Delete",null),exec:function(p){var v=p.selection.getRange();v.end.column=Number.MAX_VALUE,p.session.remove(v)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:f("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(p){p.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:f("Ctrl-Delete","Alt-Delete"),exec:function(p){p.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:f("Shift-Tab","Shift-Tab"),exec:function(p){p.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:f("Tab","Tab"),exec:function(p){p.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:f("Ctrl-[","Ctrl-["),exec:function(p){p.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:f("Ctrl-]","Ctrl-]"),exec:function(p){p.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(p,v){p.insert(v)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(p,v){p.insert(u.stringRepeat(v.text||"",v.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:f(null,"Ctrl-O"),exec:function(p){p.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:f("Alt-Shift-X","Ctrl-T"),exec:function(p){p.transposeLetters()},multiSelectAction:function(p){p.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:f("Ctrl-U","Ctrl-U"),exec:function(p){p.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:f("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(p){p.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:f(null,null),exec:function(p){p.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:f("Ctrl-Shift-L","Command-Shift-L"),exec:function(p){var v=p.selection.getRange();v.start.column=v.end.column=0,v.end.row++,p.selection.setRange(v,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:f("Ctrl+F3","F3"),exec:function(p){p.openLink()}},{name:"joinlines",description:"Join lines",bindKey:f(null,null),exec:function(p){for(var v=p.selection.isBackwards(),g=v?p.selection.getSelectionLead():p.selection.getSelectionAnchor(),k=v?p.selection.getSelectionAnchor():p.selection.getSelectionLead(),A=p.session.doc.getLine(g.row).length,_=p.session.doc.getTextRange(p.selection.getRange()),E=_.replace(/\n\s*/," ").length,x=p.session.doc.getLine(g.row),D=g.row+1;D<=k.row+1;D++){var O=u.stringTrimLeft(u.stringTrimRight(p.session.doc.getLine(D)));O.length!==0&&(O=" "+O),x+=O}k.row+1<p.session.doc.getLength()-1&&(x+=p.session.doc.getNewLineCharacter()),p.clearSelection(),p.session.doc.replace(new b(g.row,0,k.row+2,0),x),E>0?(p.selection.moveCursorTo(g.row,g.column),p.selection.selectTo(g.row,g.column+E)):(A=p.session.doc.getLine(g.row).length>A?A+1:A,p.selection.moveCursorTo(g.row,A))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:f(null,null),exec:function(p){var v=p.session.doc.getLength()-1,g=p.session.doc.getLine(v).length,k=p.selection.rangeList.ranges,A=[];k.length<1&&(k=[p.selection.getRange()]);for(var _=0;_<k.length;_++)_==k.length-1&&(k[_].end.row===v&&k[_].end.column===g||A.push(new b(k[_].end.row,k[_].end.column,v,g))),_===0?k[_].start.row===0&&k[_].start.column===0||A.push(new b(0,0,k[_].start.row,k[_].start.column)):A.push(new b(k[_-1].end.row,k[_-1].end.column,k[_].start.row,k[_].start.column));p.exitMultiSelectMode(),p.clearSelection();for(var _=0;_<A.length;_++)p.selection.addRange(A[_],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(p){p.selection.clearSelection(),p.navigateLineEnd(),p.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(p){p.selection.clearSelection();var v=p.getCursorPosition();p.selection.moveTo(v.row-1,Number.MAX_VALUE),p.insert(`
`),v.row===0&&p.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:f("F1","F1"),exec:function(p){p.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:f(null,null),exec:function(p){p.prompt({$type:"modes"})},readOnly:!0}];for(var w=1;w<9;w++)o.commands.push({name:"foldToLevel"+w,description:"Fold To Level "+w,level:w,exec:function(p){p.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(i,o,c){var u=i("./lib/dom"),h=function(){function b(f){this.session=f,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return b.prototype.getRowLength=function(f){var w;return this.lineWidgets?w=this.lineWidgets[f]&&this.lineWidgets[f].rowCount||0:w=0,!this.$useWrapMode||!this.$wrapData[f]?1+w:this.$wrapData[f].length+1+w},b.prototype.$getWidgetScreenLength=function(){var f=0;return this.lineWidgets.forEach(function(w){w&&w.rowCount&&!w.hidden&&(f+=w.rowCount)}),f},b.prototype.$onChangeEditor=function(f){this.attach(f.editor)},b.prototype.attach=function(f){f&&f.widgetManager&&f.widgetManager!=this&&f.widgetManager.detach(),this.editor!=f&&(this.detach(),this.editor=f,f&&(f.widgetManager=this,f.renderer.on("beforeRender",this.measureWidgets),f.renderer.on("afterRender",this.renderWidgets)))},b.prototype.detach=function(f){var w=this.editor;if(w){this.editor=null,w.widgetManager=null,w.renderer.off("beforeRender",this.measureWidgets),w.renderer.off("afterRender",this.renderWidgets);var p=this.session.lineWidgets;p&&p.forEach(function(v){v&&v.el&&v.el.parentNode&&(v._inDocument=!1,v.el.parentNode.removeChild(v.el))})}},b.prototype.updateOnFold=function(f,w){var p=w.lineWidgets;if(!(!p||!f.action)){for(var v=f.data,g=v.start.row,k=v.end.row,A=f.action=="add",_=g+1;_<k;_++)p[_]&&(p[_].hidden=A);p[k]&&(A?p[g]?p[k].hidden=A:p[g]=p[k]:(p[g]==p[k]&&(p[g]=void 0),p[k].hidden=A))}},b.prototype.updateOnChange=function(f){var w=this.session.lineWidgets;if(w){var p=f.start.row,v=f.end.row-p;if(v!==0)if(f.action=="remove"){var g=w.splice(p+1,v);!w[p]&&g[g.length-1]&&(w[p]=g.pop()),g.forEach(function(A){A&&this.removeLineWidget(A)},this),this.$updateRows()}else{var k=new Array(v);w[p]&&w[p].column!=null&&f.start.column>w[p].column&&p++,k.unshift(p,0),w.splice.apply(w,k),this.$updateRows()}}},b.prototype.$updateRows=function(){var f=this.session.lineWidgets;if(f){var w=!0;f.forEach(function(p,v){if(p)for(w=!1,p.row=v;p.$oldWidget;)p.$oldWidget.row=v,p=p.$oldWidget}),w&&(this.session.lineWidgets=null)}},b.prototype.$registerLineWidget=function(f){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var w=this.session.lineWidgets[f.row];return w&&(f.$oldWidget=w,w.el&&w.el.parentNode&&(w.el.parentNode.removeChild(w.el),w._inDocument=!1)),this.session.lineWidgets[f.row]=f,f},b.prototype.addLineWidget=function(f){if(this.$registerLineWidget(f),f.session=this.session,!this.editor)return f;var w=this.editor.renderer;f.html&&!f.el&&(f.el=u.createElement("div"),f.el.innerHTML=f.html),f.text&&!f.el&&(f.el=u.createElement("div"),f.el.textContent=f.text),f.el&&(u.addCssClass(f.el,"ace_lineWidgetContainer"),f.className&&u.addCssClass(f.el,f.className),f.el.style.position="absolute",f.el.style.zIndex=5,w.container.appendChild(f.el),f._inDocument=!0,f.coverGutter||(f.el.style.zIndex=3),f.pixelHeight==null&&(f.pixelHeight=f.el.offsetHeight)),f.rowCount==null&&(f.rowCount=f.pixelHeight/w.layerConfig.lineHeight);var p=this.session.getFoldAt(f.row,0);if(f.$fold=p,p){var v=this.session.lineWidgets;f.row==p.end.row&&!v[p.start.row]?v[p.start.row]=f:f.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:f.row}}}),this.$updateRows(),this.renderWidgets(null,w),this.onWidgetChanged(f),f},b.prototype.removeLineWidget=function(f){if(f._inDocument=!1,f.session=null,f.el&&f.el.parentNode&&f.el.parentNode.removeChild(f.el),f.editor&&f.editor.destroy)try{f.editor.destroy()}catch{}if(this.session.lineWidgets){var w=this.session.lineWidgets[f.row];if(w==f)this.session.lineWidgets[f.row]=f.$oldWidget,f.$oldWidget&&this.onWidgetChanged(f.$oldWidget);else for(;w;){if(w.$oldWidget==f){w.$oldWidget=f.$oldWidget;break}w=w.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:f.row}}}),this.$updateRows()},b.prototype.getWidgetsAtRow=function(f){for(var w=this.session.lineWidgets,p=w&&w[f],v=[];p;)v.push(p),p=p.$oldWidget;return v},b.prototype.onWidgetChanged=function(f){this.session._changedWidgets.push(f),this.editor&&this.editor.renderer.updateFull()},b.prototype.measureWidgets=function(f,w){var p=this.session._changedWidgets,v=w.layerConfig;if(!(!p||!p.length)){for(var g=1/0,k=0;k<p.length;k++){var A=p[k];if(!(!A||!A.el)&&A.session==this.session){if(!A._inDocument){if(this.session.lineWidgets[A.row]!=A)continue;A._inDocument=!0,w.container.appendChild(A.el)}A.h=A.el.offsetHeight,A.fixedWidth||(A.w=A.el.offsetWidth,A.screenWidth=Math.ceil(A.w/v.characterWidth));var _=A.h/v.lineHeight;A.coverLine&&(_-=this.session.getRowLineCount(A.row),_<0&&(_=0)),A.rowCount!=_&&(A.rowCount=_,A.row<g&&(g=A.row))}}g!=1/0&&(this.session._emit("changeFold",{data:{start:{row:g}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},b.prototype.renderWidgets=function(f,w){var p=w.layerConfig,v=this.session.lineWidgets;if(v){for(var g=Math.min(this.firstRow,p.firstRow),k=Math.max(this.lastRow,p.lastRow,v.length);g>0&&!v[g];)g--;this.firstRow=p.firstRow,this.lastRow=p.lastRow,w.$cursorLayer.config=p;for(var A=g;A<=k;A++){var _=v[A];if(!(!_||!_.el)){if(_.hidden){_.el.style.top=-100-(_.pixelHeight||0)+"px";continue}_._inDocument||(_._inDocument=!0,w.container.appendChild(_.el));var E=w.$cursorLayer.getPixelPosition({row:A,column:0},!0).top;_.coverLine||(E+=p.lineHeight*this.session.getRowLineCount(_.row)),_.el.style.top=E-p.offset+"px";var x=_.coverGutter?0:w.gutterWidth;_.fixedWidth||(x-=w.scrollLeft),_.el.style.left=x+"px",_.fullWidth&&_.screenWidth&&(_.el.style.minWidth=p.width+2*p.padding+"px"),_.fixedWidth?_.el.style.right=w.scrollBar.getWidth()+"px":_.el.style.right=""}}}},b}();o.LineWidgets=h}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/clipboard","ace/lib/keys"],function(i,o,c){var u=this&&this.__values||function(T){var L=typeof Symbol=="function"&&Symbol.iterator,z=L&&T[L],V=0;if(z)return z.call(T);if(T&&typeof T.length=="number")return{next:function(){return T&&V>=T.length&&(T=void 0),{value:T&&T[V++],done:!T}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")},h=i("./lib/oop"),b=i("./lib/dom"),f=i("./lib/lang"),w=i("./lib/useragent"),p=i("./keyboard/textinput").TextInput,v=i("./mouse/mouse_handler").MouseHandler,g=i("./mouse/fold_handler").FoldHandler,k=i("./keyboard/keybinding").KeyBinding,A=i("./edit_session").EditSession,_=i("./search").Search,E=i("./range").Range,x=i("./lib/event_emitter").EventEmitter,D=i("./commands/command_manager").CommandManager,O=i("./commands/default_commands").commands,B=i("./config"),I=i("./token_iterator").TokenIterator,R=i("./line_widgets").LineWidgets,j=i("./clipboard"),N=i("./lib/keys"),P=function(){function T(L,z,V){this.$toDestroy=[];var H=L.getContainerElement();this.container=H,this.renderer=L,this.id="editor"+ ++T.$uid,this.commands=new D(w.isMac?"mac":"win",O),typeof document=="object"&&(this.textInput=new p(L.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new v(this),new g(this)),this.keyBinding=new k(this),this.$search=new _().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=f.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(G,J){J._$emitInputEvent.schedule(31)}),this.setSession(z||V&&V.session||new A("")),B.resetOptions(this),V&&this.setOptions(V),B._signal("editor",this)}return T.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=f.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},T.prototype.startOperation=function(L){if(this.curOp){if(!L||this.curOp.command)return;this.prevOp=this.curOp}L||(this.previousCommand=null,L={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:L.command||{},args:L.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},T.prototype.endOperation=function(L){if(this.curOp&&this.session){if(L&&L.returnValue===!1||!this.session)return this.curOp=null;if(L==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var z=this.curOp.command,V=z&&z.scrollIntoView;if(V){switch(V){case"center-animate":V="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var H=this.selection.getRange(),G=this.renderer.layerConfig;(H.start.row>=G.lastRow||H.end.row<=G.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}V=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var J=this.selection.toJSON();this.curOp.selectionAfter=J,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(J),this.prevOp=this.curOp,this.curOp=null}},T.prototype.$historyTracker=function(L){if(this.$mergeUndoDeltas){var z=this.prevOp,V=this.$mergeableCommands,H=z.command&&L.command.name==z.command.name;if(L.command.name=="insertstring"){var G=L.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),H=H&&this.mergeNextCommand&&(!/\s/.test(G)||/\s/.test(z.args)),this.mergeNextCommand=!0}else H=H&&V.indexOf(L.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(H=!1),H?this.session.mergeUndoDeltas=!0:V.indexOf(L.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},T.prototype.setKeyboardHandler=function(L,z){if(L&&typeof L=="string"&&L!="ace"){this.$keybindingId=L;var V=this;B.loadModule(["keybinding",L],function(H){V.$keybindingId==L&&V.keyBinding.setKeyboardHandler(H&&H.handler),z&&z()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(L),z&&z()},T.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},T.prototype.setSession=function(L){if(this.session!=L){this.curOp&&this.endOperation(),this.curOp={};var z=this.session;if(z){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var V=this.session.getSelection();V.off("changeCursor",this.$onCursorChange),V.off("changeSelection",this.$onSelectionChange)}this.session=L,L?(this.$onDocumentChange=this.onDocumentChange.bind(this),L.on("change",this.$onDocumentChange),this.renderer.setSession(L),this.$onChangeMode=this.onChangeMode.bind(this),L.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),L.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),L.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),L.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),L.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),L.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=L.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(L)),this._signal("changeSession",{session:L,oldSession:z}),this.curOp=null,z&&z._signal("changeEditor",{oldEditor:this}),L&&L._signal("changeEditor",{editor:this}),L&&!L.destroyed&&L.bgTokenizer.scheduleStart()}},T.prototype.getSession=function(){return this.session},T.prototype.setValue=function(L,z){return this.session.doc.setValue(L),z?z==1?this.navigateFileEnd():z==-1&&this.navigateFileStart():this.selectAll(),L},T.prototype.getValue=function(){return this.session.getValue()},T.prototype.getSelection=function(){return this.selection},T.prototype.resize=function(L){this.renderer.onResize(L)},T.prototype.setTheme=function(L,z){this.renderer.setTheme(L,z)},T.prototype.getTheme=function(){return this.renderer.getTheme()},T.prototype.setStyle=function(L){this.renderer.setStyle(L)},T.prototype.unsetStyle=function(L){this.renderer.unsetStyle(L)},T.prototype.getFontSize=function(){return this.getOption("fontSize")||b.computedStyle(this.container).fontSize},T.prototype.setFontSize=function(L){this.setOption("fontSize",L)},T.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var L=this;this.$highlightPending=!0,setTimeout(function(){L.$highlightPending=!1;var z=L.session;if(!(!z||z.destroyed)){z.$bracketHighlight&&(z.$bracketHighlight.markerIds.forEach(function(pe){z.removeMarker(pe)}),z.$bracketHighlight=null);var V=L.getCursorPosition(),H=L.getKeyboardHandler(),G=H&&H.$getDirectionForHighlight&&H.$getDirectionForHighlight(L),J=z.getMatchingBracketRanges(V,G);if(!J){var Y=new I(z,V.row,V.column),ee=Y.getCurrentToken();if(ee&&/\b(?:tag-open|tag-name)/.test(ee.type)){var re=z.getMatchingTags(V);re&&(J=[re.openTagName,re.closeTagName])}}if(!J&&z.$mode.getMatching&&(J=z.$mode.getMatching(L.session)),!J){L.getHighlightIndentGuides()&&L.renderer.$textLayer.$highlightIndentGuide();return}var oe="ace_bracket";Array.isArray(J)?J.length==1&&(oe="ace_error_bracket"):J=[J],J.length==2&&(E.comparePoints(J[0].end,J[1].start)==0?J=[E.fromPoints(J[0].start,J[1].end)]:E.comparePoints(J[0].start,J[1].end)==0&&(J=[E.fromPoints(J[1].start,J[0].end)])),z.$bracketHighlight={ranges:J,markerIds:J.map(function(pe){return z.addMarker(pe,oe,"text")})},L.getHighlightIndentGuides()&&L.renderer.$textLayer.$highlightIndentGuide()}},50)}},T.prototype.focus=function(){this.textInput.focus()},T.prototype.isFocused=function(){return this.textInput.isFocused()},T.prototype.blur=function(){this.textInput.blur()},T.prototype.onFocus=function(L){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",L))},T.prototype.onBlur=function(L){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",L))},T.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},T.prototype.onDocumentChange=function(L){var z=this.session.$useWrapMode,V=L.start.row==L.end.row?L.end.row:1/0;this.renderer.updateLines(L.start.row,V,z),this._signal("change",L),this.$cursorChange()},T.prototype.onTokenizerUpdate=function(L){var z=L.data;this.renderer.updateLines(z.first,z.last)},T.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},T.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},T.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},T.prototype.$updateHighlightActiveLine=function(){var L=this.getSession(),z;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(z=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(z=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(z=!1)),L.$highlightLineMarker&&!z)L.removeMarker(L.$highlightLineMarker.id),L.$highlightLineMarker=null;else if(!L.$highlightLineMarker&&z){var V=new E(z.row,z.column,z.row,1/0);V.id=L.addMarker(V,"ace_active-line","screenLine"),L.$highlightLineMarker=V}else z&&(L.$highlightLineMarker.start.row=z.row,L.$highlightLineMarker.end.row=z.row,L.$highlightLineMarker.start.column=z.column,L._signal("changeBackMarker"))},T.prototype.onSelectionChange=function(L){var z=this.session;if(z.$selectionMarker&&z.removeMarker(z.$selectionMarker),z.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var V=this.selection.getRange(),H=this.getSelectionStyle();z.$selectionMarker=z.addMarker(V,"ace_selection",H)}var G=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(G),this._signal("changeSelection")},T.prototype.$getSelectionHighLightRegexp=function(){var L=this.session,z=this.getSelectionRange();if(!(z.isEmpty()||z.isMultiLine())){var V=z.start.column,H=z.end.column,G=L.getLine(z.start.row),J=G.substring(V,H);if(!(J.length>5e3||!/[\w\d]/.test(J))){var Y=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:J}),ee=G.substring(V-1,H+1);if(Y.test(ee))return Y}}},T.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},T.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},T.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},T.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},T.prototype.onChangeMode=function(L){this.renderer.updateText(),this._emit("changeMode",L)},T.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},T.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},T.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},T.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},T.prototype.getCopyText=function(){var L=this.getSelectedText(),z=this.session.doc.getNewLineCharacter(),V=!1;if(!L&&this.$copyWithEmptySelection){V=!0;for(var H=this.selection.getAllRanges(),G=0;G<H.length;G++){var J=H[G];G&&H[G-1].start.row==J.start.row||(L+=this.session.getLine(J.start.row)+z)}}var Y={text:L};return this._signal("copy",Y),j.lineMode=V?Y.text:!1,Y.text},T.prototype.onCopy=function(){this.commands.exec("copy",this)},T.prototype.onCut=function(){this.commands.exec("cut",this)},T.prototype.onPaste=function(L,z){var V={text:L,event:z};this.commands.exec("paste",this,V)},T.prototype.$handlePaste=function(L){typeof L=="string"&&(L={text:L}),this._signal("paste",L);var z=L.text,V=z===j.lineMode,H=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)V?H.insert({row:this.selection.lead.row,column:0},z):this.insert(z);else if(V)this.selection.rangeList.ranges.forEach(function(oe){H.insert({row:oe.start.row,column:0},z)});else{var G=z.split(/\r\n|\r|\n/),J=this.selection.rangeList.ranges,Y=G.length==2&&(!G[0]||!G[1]);if(G.length!=J.length||Y)return this.commands.exec("insertstring",this,z);for(var ee=J.length;ee--;){var re=J[ee];re.isEmpty()||H.remove(re),H.insert(re.start,G[ee])}}},T.prototype.execCommand=function(L,z){return this.commands.exec(L,this,z)},T.prototype.insert=function(L,z){var V=this.session,H=V.getMode(),G=this.getCursorPosition();if(this.getBehavioursEnabled()&&!z){var J=H.transformAction(V.getState(G.row),"insertion",this,V,L);J&&(L!==J.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),L=J.text)}if(L=="	"&&(L=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&L.indexOf(`
`)==-1){var Y=new E.fromPoints(G,G);Y.end.column+=L.length,this.session.remove(Y)}}else{var Y=this.getSelectionRange();G=this.session.remove(Y),this.clearSelection()}if(L==`
`||L==`\r
`){var pe=V.getLine(G.row);if(G.column>pe.search(/\S|$/)){var ee=pe.substr(G.column).search(/\S|$/);V.doc.removeInLine(G.row,G.column,G.column+ee)}}this.clearSelection();var re=G.column,oe=V.getState(G.row),pe=V.getLine(G.row),le=H.checkOutdent(oe,pe,L);if(V.insert(G,L),J&&J.selection&&(J.selection.length==2?this.selection.setSelectionRange(new E(G.row,re+J.selection[0],G.row,re+J.selection[1])):this.selection.setSelectionRange(new E(G.row+J.selection[0],J.selection[1],G.row+J.selection[2],J.selection[3]))),this.$enableAutoIndent){if(V.getDocument().isNewLine(L)){var ce=H.getNextLineIndent(oe,pe.slice(0,G.column),V.getTabString());V.insert({row:G.row+1,column:0},ce)}le&&H.autoOutdent(oe,V,G.row)}},T.prototype.autoIndent=function(){var L=this.session,z=L.getMode(),V,H;if(this.selection.isEmpty())V=0,H=L.doc.getLength()-1;else{var G=this.getSelectionRange();V=G.start.row,H=G.end.row}for(var J="",Y="",ee="",re,oe,pe,le=L.getTabString(),ce=V;ce<=H;ce++)ce>0&&(J=L.getState(ce-1),Y=L.getLine(ce-1),ee=z.getNextLineIndent(J,Y,le)),re=L.getLine(ce),oe=z.$getIndent(re),ee!==oe&&(oe.length>0&&(pe=new E(ce,0,ce,oe.length),L.remove(pe)),ee.length>0&&L.insert({row:ce,column:0},ee)),z.autoOutdent(J,L,ce)},T.prototype.onTextInput=function(L,z){if(!z)return this.keyBinding.onTextInput(L);this.startOperation({command:{name:"insertstring"}});var V=this.applyComposition.bind(this,L,z);this.selection.rangeCount?this.forEachSelection(V):V(),this.endOperation()},T.prototype.applyComposition=function(L,z){if(z.extendLeft||z.extendRight){var V=this.selection.getRange();V.start.column-=z.extendLeft,V.end.column+=z.extendRight,V.start.column<0&&(V.start.row--,V.start.column+=this.session.getLine(V.start.row).length+1),this.selection.setRange(V),!L&&!V.isEmpty()&&this.remove()}if((L||!this.selection.isEmpty())&&this.insert(L,!0),z.restoreStart||z.restoreEnd){var V=this.selection.getRange();V.start.column-=z.restoreStart,V.end.column-=z.restoreEnd,this.selection.setRange(V)}},T.prototype.onCommandKey=function(L,z,V){return this.keyBinding.onCommandKey(L,z,V)},T.prototype.setOverwrite=function(L){this.session.setOverwrite(L)},T.prototype.getOverwrite=function(){return this.session.getOverwrite()},T.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},T.prototype.setScrollSpeed=function(L){this.setOption("scrollSpeed",L)},T.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},T.prototype.setDragDelay=function(L){this.setOption("dragDelay",L)},T.prototype.getDragDelay=function(){return this.getOption("dragDelay")},T.prototype.setSelectionStyle=function(L){this.setOption("selectionStyle",L)},T.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},T.prototype.setHighlightActiveLine=function(L){this.setOption("highlightActiveLine",L)},T.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},T.prototype.setHighlightGutterLine=function(L){this.setOption("highlightGutterLine",L)},T.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},T.prototype.setHighlightSelectedWord=function(L){this.setOption("highlightSelectedWord",L)},T.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},T.prototype.setAnimatedScroll=function(L){this.renderer.setAnimatedScroll(L)},T.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},T.prototype.setShowInvisibles=function(L){this.renderer.setShowInvisibles(L)},T.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},T.prototype.setDisplayIndentGuides=function(L){this.renderer.setDisplayIndentGuides(L)},T.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},T.prototype.setHighlightIndentGuides=function(L){this.renderer.setHighlightIndentGuides(L)},T.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},T.prototype.setShowPrintMargin=function(L){this.renderer.setShowPrintMargin(L)},T.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},T.prototype.setPrintMarginColumn=function(L){this.renderer.setPrintMarginColumn(L)},T.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},T.prototype.setReadOnly=function(L){this.setOption("readOnly",L)},T.prototype.getReadOnly=function(){return this.getOption("readOnly")},T.prototype.setBehavioursEnabled=function(L){this.setOption("behavioursEnabled",L)},T.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},T.prototype.setWrapBehavioursEnabled=function(L){this.setOption("wrapBehavioursEnabled",L)},T.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},T.prototype.setShowFoldWidgets=function(L){this.setOption("showFoldWidgets",L)},T.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},T.prototype.setFadeFoldWidgets=function(L){this.setOption("fadeFoldWidgets",L)},T.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},T.prototype.remove=function(L){this.selection.isEmpty()&&(L=="left"?this.selection.selectLeft():this.selection.selectRight());var z=this.getSelectionRange();if(this.getBehavioursEnabled()){var V=this.session,H=V.getState(z.start.row),G=V.getMode().transformAction(H,"deletion",this,V,z);if(z.end.column===0){var J=V.getTextRange(z);if(J[J.length-1]==`
`){var Y=V.getLine(z.end.row);/^\s+$/.test(Y)&&(z.end.column=Y.length)}}G&&(z=G)}this.session.remove(z),this.clearSelection()},T.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},T.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},T.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},T.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var L=this.getSelectionRange();L.start.column==L.end.column&&L.start.row==L.end.row&&(L.end.column=0,L.end.row++),this.session.remove(L),this.clearSelection()},T.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var L=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(L)},T.prototype.setGhostText=function(L,z){this.session.widgetManager||(this.session.widgetManager=new R(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(L,z)},T.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},T.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var L=this.getCursorPosition(),z=L.column;if(z!==0){var V=this.session.getLine(L.row),H,G;z<V.length?(H=V.charAt(z)+V.charAt(z-1),G=new E(L.row,z-1,L.row,z+1)):(H=V.charAt(z-1)+V.charAt(z-2),G=new E(L.row,z-2,L.row,z)),this.session.replace(G,H),this.session.selection.moveToPosition(G.end)}}},T.prototype.toLowerCase=function(){var L=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var z=this.getSelectionRange(),V=this.session.getTextRange(z);this.session.replace(z,V.toLowerCase()),this.selection.setSelectionRange(L)},T.prototype.toUpperCase=function(){var L=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var z=this.getSelectionRange(),V=this.session.getTextRange(z);this.session.replace(z,V.toUpperCase()),this.selection.setSelectionRange(L)},T.prototype.indent=function(){var L=this.session,z=this.getSelectionRange();if(z.start.row<z.end.row){var V=this.$getSelectedRows();L.indentRows(V.first,V.last,"	");return}else if(z.start.column<z.end.column){var H=L.getTextRange(z);if(!/^\s+$/.test(H)){var V=this.$getSelectedRows();L.indentRows(V.first,V.last,"	");return}}var G=L.getLine(z.start.row),J=z.start,Y=L.getTabSize(),ee=L.documentToScreenColumn(J.row,J.column);if(this.session.getUseSoftTabs())var re=Y-ee%Y,oe=f.stringRepeat(" ",re);else{for(var re=ee%Y;G[z.start.column-1]==" "&&re;)z.start.column--,re--;this.selection.setSelectionRange(z),oe="	"}return this.insert(oe)},T.prototype.blockIndent=function(){var L=this.$getSelectedRows();this.session.indentRows(L.first,L.last,"	")},T.prototype.blockOutdent=function(){var L=this.session.getSelection();this.session.outdentRows(L.getRange())},T.prototype.sortLines=function(){for(var L=this.$getSelectedRows(),z=this.session,V=[],H=L.first;H<=L.last;H++)V.push(z.getLine(H));V.sort(function(Y,ee){return Y.toLowerCase()<ee.toLowerCase()?-1:Y.toLowerCase()>ee.toLowerCase()?1:0});for(var G=new E(0,0,0,0),H=L.first;H<=L.last;H++){var J=z.getLine(H);G.start.row=H,G.end.row=H,G.end.column=J.length,z.replace(G,V[H-L.first])}},T.prototype.toggleCommentLines=function(){var L=this.session.getState(this.getCursorPosition().row),z=this.$getSelectedRows();this.session.getMode().toggleCommentLines(L,this.session,z.first,z.last)},T.prototype.toggleBlockComment=function(){var L=this.getCursorPosition(),z=this.session.getState(L.row),V=this.getSelectionRange();this.session.getMode().toggleBlockComment(z,this.session,V,L)},T.prototype.getNumberAt=function(L,z){var V=/[\-]?[0-9]+(?:\.[0-9]+)?/g;V.lastIndex=0;for(var H=this.session.getLine(L);V.lastIndex<z;){var G=V.exec(H);if(G.index<=z&&G.index+G[0].length>=z){var J={value:G[0],start:G.index,end:G.index+G[0].length};return J}}return null},T.prototype.modifyNumber=function(L){var z=this.selection.getCursor().row,V=this.selection.getCursor().column,H=new E(z,V-1,z,V),G=this.session.getTextRange(H);if(!isNaN(parseFloat(G))&&isFinite(G)){var J=this.getNumberAt(z,V);if(J){var Y=J.value.indexOf(".")>=0?J.start+J.value.indexOf(".")+1:J.end,ee=J.start+J.value.length-Y,re=parseFloat(J.value);re*=Math.pow(10,ee),Y!==J.end&&V<Y?L*=Math.pow(10,J.end-V-1):L*=Math.pow(10,J.end-V),re+=L,re/=Math.pow(10,ee);var oe=re.toFixed(ee),pe=new E(z,J.start,z,J.end);this.session.replace(pe,oe),this.moveCursorTo(z,Math.max(J.start+1,V+oe.length-J.value.length))}}else this.toggleWord()},T.prototype.toggleWord=function(){var L=this.selection.getCursor().row,z=this.selection.getCursor().column;this.selection.selectWord();var V=this.getSelectedText(),H=this.selection.getWordRange().start.column,G=V.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),J=z-H-1;J<0&&(J=0);var Y=0,ee=0,re=this;V.match(/[A-Za-z0-9_]+/)&&G.forEach(function(xe,$e){ee=Y+xe.length,J>=Y&&J<=ee&&(V=xe,re.selection.clearSelection(),re.moveCursorTo(L,Y+H),re.selection.selectTo(L,ee+H)),Y=ee});for(var oe=this.$toggleWordPairs,pe,le=0;le<oe.length;le++)for(var ce=oe[le],ue=0;ue<=1;ue++){var ge=+!ue,ye=V.match(new RegExp("^\\s?_?("+f.escapeRegExp(ce[ue])+")\\s?$","i"));if(ye){var Ie=V.match(new RegExp("([_]|^|\\s)("+f.escapeRegExp(ye[1])+")($|\\s)","g"));Ie&&(pe=V.replace(new RegExp(f.escapeRegExp(ce[ue]),"i"),function(xe){var $e=ce[ge];return xe.toUpperCase()==xe?$e=$e.toUpperCase():xe.charAt(0).toUpperCase()==xe.charAt(0)&&($e=$e.substr(0,0)+ce[ge].charAt(0).toUpperCase()+$e.substr(1)),$e}),this.insert(pe),pe="")}}},T.prototype.findLinkAt=function(L,z){var V,H,G=this.session.getLine(L),J=G.split(/((?:https?|ftp):\/\/[\S]+)/),Y=z;Y<0&&(Y=0);var ee=0,re=0,oe;try{for(var pe=u(J),le=pe.next();!le.done;le=pe.next()){var ce=le.value;if(re=ee+ce.length,Y>=ee&&Y<=re&&ce.match(/((?:https?|ftp):\/\/[\S]+)/)){oe=ce.replace(/[\s:.,'";}\]]+$/,"");break}ee=re}}catch(ue){V={error:ue}}finally{try{le&&!le.done&&(H=pe.return)&&H.call(pe)}finally{if(V)throw V.error}}return oe},T.prototype.openLink=function(){var L=this.selection.getCursor(),z=this.findLinkAt(L.row,L.column);return z&&window.open(z,"_blank"),z!=null},T.prototype.removeLines=function(){var L=this.$getSelectedRows();this.session.removeFullLines(L.first,L.last),this.clearSelection()},T.prototype.duplicateSelection=function(){var L=this.selection,z=this.session,V=L.getRange(),H=L.isBackwards();if(V.isEmpty()){var G=V.start.row;z.duplicateLines(G,G)}else{var J=H?V.start:V.end,Y=z.insert(J,z.getTextRange(V),!1);V.start=J,V.end=Y,L.setSelectionRange(V,H)}},T.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},T.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},T.prototype.moveText=function(L,z,V){return this.session.moveText(L,z,V)},T.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},T.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},T.prototype.$moveLines=function(L,z){var V,H,G=this.selection;if(!G.inMultiSelectMode||this.inVirtualSelectionMode){var J=G.toOrientedRange();V=this.$getSelectedRows(J),H=this.session.$moveLines(V.first,V.last,z?0:L),z&&L==-1&&(H=0),J.moveBy(H,0),G.fromOrientedRange(J)}else{var Y=G.rangeList.ranges;G.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var ee=0,re=0,oe=Y.length,pe=0;pe<oe;pe++){var le=pe;Y[pe].moveBy(ee,0),V=this.$getSelectedRows(Y[pe]);for(var ce=V.first,ue=V.last;++pe<oe;){re&&Y[pe].moveBy(re,0);var ge=this.$getSelectedRows(Y[pe]);if(z&&ge.first!=ue)break;if(!z&&ge.first>ue+1)break;ue=ge.last}for(pe--,ee=this.session.$moveLines(ce,ue,z?0:L),z&&L==-1&&(le=pe+1);le<=pe;)Y[le].moveBy(ee,0),le++;z||(ee=0),re+=ee}G.fromOrientedRange(G.ranges[0]),G.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},T.prototype.$getSelectedRows=function(L){return L=(L||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(L.start.row),last:this.session.getRowFoldEnd(L.end.row)}},T.prototype.onCompositionStart=function(L){this.renderer.showComposition(L)},T.prototype.onCompositionUpdate=function(L){this.renderer.setCompositionText(L)},T.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},T.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},T.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},T.prototype.isRowVisible=function(L){return L>=this.getFirstVisibleRow()&&L<=this.getLastVisibleRow()},T.prototype.isRowFullyVisible=function(L){return L>=this.renderer.getFirstFullyVisibleRow()&&L<=this.renderer.getLastFullyVisibleRow()},T.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},T.prototype.$moveByPage=function(L,z){var V=this.renderer,H=this.renderer.layerConfig,G=L*Math.floor(H.height/H.lineHeight);z===!0?this.selection.$moveSelection(function(){this.moveCursorBy(G,0)}):z===!1&&(this.selection.moveCursorBy(G,0),this.selection.clearSelection());var J=V.scrollTop;V.scrollBy(0,G*H.lineHeight),z!=null&&V.scrollCursorIntoView(null,.5),V.animateScrolling(J)},T.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},T.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},T.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},T.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},T.prototype.scrollPageDown=function(){this.$moveByPage(1)},T.prototype.scrollPageUp=function(){this.$moveByPage(-1)},T.prototype.scrollToRow=function(L){this.renderer.scrollToRow(L)},T.prototype.scrollToLine=function(L,z,V,H){this.renderer.scrollToLine(L,z,V,H)},T.prototype.centerSelection=function(){var L=this.getSelectionRange(),z={row:Math.floor(L.start.row+(L.end.row-L.start.row)/2),column:Math.floor(L.start.column+(L.end.column-L.start.column)/2)};this.renderer.alignCursor(z,.5)},T.prototype.getCursorPosition=function(){return this.selection.getCursor()},T.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},T.prototype.getSelectionRange=function(){return this.selection.getRange()},T.prototype.selectAll=function(){this.selection.selectAll()},T.prototype.clearSelection=function(){this.selection.clearSelection()},T.prototype.moveCursorTo=function(L,z){this.selection.moveCursorTo(L,z)},T.prototype.moveCursorToPosition=function(L){this.selection.moveCursorToPosition(L)},T.prototype.jumpToMatching=function(L,z){var V=this.getCursorPosition(),H=new I(this.session,V.row,V.column),G=H.getCurrentToken(),J=0;G&&G.type.indexOf("tag-name")!==-1&&(G=H.stepBackward());var Y=G||H.stepForward();if(Y){var ee,re=!1,oe={},pe=V.column-Y.start,le,ce={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(Y.value.match(/[{}()\[\]]/g)){for(;pe<Y.value.length&&!re;pe++)if(ce[Y.value[pe]])switch(le=ce[Y.value[pe]]+"."+Y.type.replace("rparen","lparen"),isNaN(oe[le])&&(oe[le]=0),Y.value[pe]){case"(":case"[":case"{":oe[le]++;break;case")":case"]":case"}":oe[le]--,oe[le]===-1&&(ee="bracket",re=!0);break}}else Y.type.indexOf("tag-name")!==-1&&(isNaN(oe[Y.value])&&(oe[Y.value]=0),G.value==="<"&&J>1?oe[Y.value]++:G.value==="</"&&oe[Y.value]--,oe[Y.value]===-1&&(ee="tag",re=!0));re||(G=Y,J++,Y=H.stepForward(),pe=0)}while(Y&&!re);if(ee){var ue,ge;if(ee==="bracket")ue=this.session.getBracketRange(V),ue||(ue=new E(H.getCurrentTokenRow(),H.getCurrentTokenColumn()+pe-1,H.getCurrentTokenRow(),H.getCurrentTokenColumn()+pe-1),ge=ue.start,(z||ge.row===V.row&&Math.abs(ge.column-V.column)<2)&&(ue=this.session.getBracketRange(ge)));else if(ee==="tag"){if(!Y||Y.type.indexOf("tag-name")===-1)return;if(ue=new E(H.getCurrentTokenRow(),H.getCurrentTokenColumn()-2,H.getCurrentTokenRow(),H.getCurrentTokenColumn()-2),ue.compare(V.row,V.column)===0){var ye=this.session.getMatchingTags(V);ye&&(ye.openTag.contains(V.row,V.column)?(ue=ye.closeTag,ge=ue.start):(ue=ye.openTag,ye.closeTag.start.row===V.row&&ye.closeTag.start.column===V.column?ge=ue.end:ge=ue.start))}ge=ge||ue.start}ge=ue&&ue.cursor||ge,ge&&(L?ue&&z?this.selection.setRange(ue):ue&&ue.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(ge.row,ge.column):this.selection.moveTo(ge.row,ge.column))}}},T.prototype.gotoLine=function(L,z,V){this.selection.clearSelection(),this.session.unfold({row:L-1,column:z||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(L-1,z||0),this.isRowFullyVisible(L-1)||this.scrollToLine(L-1,!0,V)},T.prototype.navigateTo=function(L,z){this.selection.moveTo(L,z)},T.prototype.navigateUp=function(L){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var z=this.selection.anchor.getPosition();return this.moveCursorToPosition(z)}this.selection.clearSelection(),this.selection.moveCursorBy(-L||-1,0)},T.prototype.navigateDown=function(L){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var z=this.selection.anchor.getPosition();return this.moveCursorToPosition(z)}this.selection.clearSelection(),this.selection.moveCursorBy(L||1,0)},T.prototype.navigateLeft=function(L){if(this.selection.isEmpty())for(L=L||1;L--;)this.selection.moveCursorLeft();else{var z=this.getSelectionRange().start;this.moveCursorToPosition(z)}this.clearSelection()},T.prototype.navigateRight=function(L){if(this.selection.isEmpty())for(L=L||1;L--;)this.selection.moveCursorRight();else{var z=this.getSelectionRange().end;this.moveCursorToPosition(z)}this.clearSelection()},T.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},T.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},T.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},T.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},T.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},T.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},T.prototype.replace=function(L,z){z&&this.$search.set(z);var V=this.$search.find(this.session),H=0;return V&&(this.$tryReplace(V,L)&&(H=1),this.selection.setSelectionRange(V),this.renderer.scrollSelectionIntoView(V.start,V.end)),H},T.prototype.replaceAll=function(L,z){z&&this.$search.set(z);var V=this.$search.findAll(this.session),H=0;if(!V.length)return H;var G=this.getSelectionRange();this.selection.moveTo(0,0);for(var J=V.length-1;J>=0;--J)this.$tryReplace(V[J],L)&&H++;return this.selection.setSelectionRange(G),H},T.prototype.$tryReplace=function(L,z){var V=this.session.getTextRange(L);return z=this.$search.replace(V,z),z!==null?(L.end=this.session.replace(L,z),L):null},T.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},T.prototype.find=function(L,z,V){z||(z={}),typeof L=="string"||L instanceof RegExp?z.needle=L:typeof L=="object"&&h.mixin(z,L);var H=this.selection.getRange();z.needle==null&&(L=this.session.getTextRange(H)||this.$search.$options.needle,L||(H=this.session.getWordRange(H.start.row,H.start.column),L=this.session.getTextRange(H)),this.$search.set({needle:L})),this.$search.set(z),z.start||this.$search.set({start:H});var G=this.$search.find(this.session);if(z.preventScroll)return G;if(G)return this.revealRange(G,V),G;z.backwards?H.start=H.end:H.end=H.start,this.selection.setRange(H)},T.prototype.findNext=function(L,z){this.find({skipCurrent:!0,backwards:!1},L,z)},T.prototype.findPrevious=function(L,z){this.find(L,{skipCurrent:!0,backwards:!0},z)},T.prototype.revealRange=function(L,z){this.session.unfold(L),this.selection.setSelectionRange(L);var V=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(L.start,L.end,.5),z!==!1&&this.renderer.animateScrolling(V)},T.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},T.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},T.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(L){L.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},T.prototype.setAutoScrollEditorIntoView=function(L){if(L){var z,V=this,H=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var G=this.$scrollAnchor;G.style.cssText="position:absolute",this.container.insertBefore(G,this.container.firstChild);var J=this.on("changeSelection",function(){H=!0}),Y=this.renderer.on("beforeRender",function(){H&&(z=V.renderer.container.getBoundingClientRect())}),ee=this.renderer.on("afterRender",function(){if(H&&z&&(V.isFocused()||V.searchBox&&V.searchBox.isFocused())){var re=V.renderer,oe=re.$cursorLayer.$pixelPos,pe=re.layerConfig,le=oe.top-pe.offset;oe.top>=0&&le+z.top<0?H=!0:oe.top<pe.height&&oe.top+z.top+pe.lineHeight>window.innerHeight?H=!1:H=null,H!=null&&(G.style.top=le+"px",G.style.left=oe.left+"px",G.style.height=pe.lineHeight+"px",G.scrollIntoView(H)),H=z=null}});this.setAutoScrollEditorIntoView=function(re){re||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",J),this.renderer.off("afterRender",ee),this.renderer.off("beforeRender",Y))}}},T.prototype.$resetCursorStyle=function(){var L=this.$cursorStyle||"ace",z=this.renderer.$cursorLayer;z&&(z.setSmoothBlinking(/smooth/.test(L)),z.isBlinking=!this.$readOnly&&L!="wide",b.setCssClass(z.element,"ace_slim-cursors",/slim/.test(L)))},T.prototype.prompt=function(L,z,V){var H=this;B.loadModule("ace/ext/prompt",function(G){G.prompt(H,L,z,V)})},T}();P.$uid=0,P.prototype.curOp=null,P.prototype.prevOp={},P.prototype.$mergeableCommands=["backspace","del","insertstring"],P.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],h.implement(P.prototype,x),B.defineOptions(P.prototype,"editor",{selectionStyle:{set:function(T){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:T})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(T){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(T){this.textInput.setReadOnly(T),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(T){this.textInput.setCopyWithEmptySelection(T)},initialValue:!1},cursorStyle:{set:function(T){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(T){this.setAutoScrollEditorIntoView(T)}},keyboardHandler:{set:function(T){this.setKeyboardHandler(T)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(T){this.session.setValue(T)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(T){this.setSession(T)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(T){this.renderer.$gutterLayer.setShowLineNumbers(T),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),T&&this.$relativeLineNumbers?F.attach(this):F.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(T){this.$showLineNumbers&&T?F.attach(this):F.detach(this)}},placeholder:{set:function(T){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var L=this.session&&(this.renderer.$composition||this.getValue());if(L&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),b.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!L&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),b.addCssClass(this.container,"ace_hasPlaceholder");var z=b.createElement("div");z.className="ace_placeholder",z.textContent=this.$placeholder||"",this.renderer.placeholderNode=z,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!L&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(T){var L={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(H){H.blur(),H.renderer.content.focus()},readOnly:!0},z=function(H){H.target==this.renderer.content&&H.keyCode===N.enter&&(H.stopPropagation(),H.preventDefault(),this.focus())},V="ace_keyboard-focus";T?(this.textInput.getElement().setAttribute("tabindex",-1),this.renderer.content.setAttribute("tabindex",0),this.renderer.content.classList.add(V),this.renderer.content.setAttribute("aria-label","Editor, press Enter key to start editing, press Escape key to exit"),this.renderer.content.addEventListener("keyup",z.bind(this)),this.commands.addCommand(L)):(this.textInput.getElement().setAttribute("tabindex",0),this.renderer.content.setAttribute("tabindex",-1),this.renderer.content.classList.remove(V),this.renderer.content.setAttribute("aria-label",""),this.renderer.content.removeEventListener("keyup",z.bind(this)),this.commands.removeCommand(L))},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var F={getText:function(T,L){return(Math.abs(T.selection.lead.row-L)||L+1+(L<9?"":""))+""},getWidth:function(T,L,z){return Math.max(L.toString().length,(z.lastRow+1).toString().length,2)*z.characterWidth},update:function(T,L){L.renderer.$loop.schedule(L.renderer.CHANGE_GUTTER)},attach:function(T){T.renderer.$gutterLayer.$renderer=this,T.on("changeSelection",this.update),this.update(null,T)},detach:function(T){T.renderer.$gutterLayer.$renderer==this&&(T.renderer.$gutterLayer.$renderer=null),T.off("changeSelection",this.update),this.update(null,T)}};o.Editor=P}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(i,o,c){var u=function(){function I(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return I.prototype.addSession=function(R){this.$session=R},I.prototype.add=function(R,j,N){if(!this.$fromUndo&&R!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),j===!1||!this.lastDeltas){this.lastDeltas=[];var P=this.$undoStack.length;P>this.$undoDepth-1&&this.$undoStack.splice(0,P-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),R.id=this.$rev=++this.$maxRev}(R.action=="remove"||R.action=="insert")&&(this.$lastDelta=R),this.lastDeltas.push(R)}},I.prototype.addSelection=function(R,j){this.selections.push({value:R,rev:j||this.$rev})},I.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},I.prototype.markIgnored=function(R,j){j==null&&(j=this.$rev+1);for(var N=this.$undoStack,P=N.length;P--;){var F=N[P][0];if(F.id<=R)break;F.id<j&&(F.ignore=!0)}this.lastDeltas=null},I.prototype.getSelection=function(R,j){for(var N=this.selections,P=N.length;P--;){var F=N[P];if(F.rev<R)return j&&(F=N[P+1]),F}},I.prototype.getRevision=function(){return this.$rev},I.prototype.getDeltas=function(R,j){j==null&&(j=this.$rev+1);for(var N=this.$undoStack,P=null,F=0,T=N.length;T--;){var L=N[T][0];if(L.id<j&&!P&&(P=T+1),L.id<=R){F=T+1;break}}return N.slice(F,P)},I.prototype.getChangedRanges=function(R,j){j==null&&(j=this.$rev+1)},I.prototype.getChangedLines=function(R,j){j==null&&(j=this.$rev+1)},I.prototype.undo=function(R,j){this.lastDeltas=null;var N=this.$undoStack;if(h(N,N.length)){R||(R=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var P=N.pop(),F=null;return P&&(F=R.undoChanges(P,j),this.$redoStack.push(P),this.$syncRev()),this.$fromUndo=!1,F}},I.prototype.redo=function(R,j){if(this.lastDeltas=null,R||(R=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var N=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);B(this.$redoStack,N),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(T){T[0].id=++this.$maxRev},this)}var P=this.$redoStack.pop(),F=null;return P&&(F=R.redoChanges(P,j),this.$undoStack.push(P),this.$syncRev()),this.$fromUndo=!1,F},I.prototype.$syncRev=function(){var R=this.$undoStack,j=R[R.length-1],N=j&&j[0].id||0;this.$redoStackBaseRev=N,this.$rev=N},I.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},I.prototype.canUndo=function(){return this.$undoStack.length>0},I.prototype.canRedo=function(){return this.$redoStack.length>0},I.prototype.bookmark=function(R){R==null&&(R=this.$rev),this.mark=R},I.prototype.isAtBookmark=function(){return this.$rev===this.mark},I.prototype.toJSON=function(){},I.prototype.fromJSON=function(){},I.prototype.$prettyPrint=function(R){return R?v(R):v(this.$undoStack)+`
---
`+v(this.$redoStack)},I}();u.prototype.hasUndo=u.prototype.canUndo,u.prototype.hasRedo=u.prototype.canRedo,u.prototype.isClean=u.prototype.isAtBookmark,u.prototype.markClean=u.prototype.bookmark;function h(I,R){for(var j=R;j--;){var N=I[j];if(N&&!N[0].ignore){for(;j<R-1;){var P=A(I[j],I[j+1]);I[j]=P[0],I[j+1]=P[1],j++}return!0}}}var b=i("./range").Range,f=b.comparePoints;b.comparePoints;function w(I){return{row:I.row,column:I.column}}function p(I){return{start:w(I.start),end:w(I.end),action:I.action,lines:I.lines.slice()}}function v(I){if(I=I||this,Array.isArray(I))return I.map(v).join(`
`);var R="";return I.action?(R=I.action=="insert"?"+":"-",R+="["+I.lines+"]"):I.value&&(Array.isArray(I.value)?R=I.value.map(g).join(`
`):R=g(I.value)),I.start&&(R+=g(I)),(I.id||I.rev)&&(R+="	("+(I.id||I.rev)+")"),R}function g(I){return I.start.row+":"+I.start.column+"=>"+I.end.row+":"+I.end.column}function k(I,R){var j=I.action=="insert",N=R.action=="insert";if(j&&N)if(f(R.start,I.end)>=0)E(R,I,-1);else if(f(R.start,I.start)<=0)E(I,R,1);else return null;else if(j&&!N)if(f(R.start,I.end)>=0)E(R,I,-1);else if(f(R.end,I.start)<=0)E(I,R,-1);else return null;else if(!j&&N)if(f(R.start,I.start)>=0)E(R,I,1);else if(f(R.start,I.start)<=0)E(I,R,1);else return null;else if(!j&&!N)if(f(R.start,I.start)>=0)E(R,I,1);else if(f(R.end,I.start)<=0)E(I,R,-1);else return null;return[R,I]}function A(I,R){for(var j=I.length;j--;)for(var N=0;N<R.length;N++)if(!k(I[j],R[N])){for(;j<I.length;){for(;N--;)k(R[N],I[j]);N=R.length,j++}return[I,R]}return I.selectionBefore=R.selectionBefore=I.selectionAfter=R.selectionAfter=null,[R,I]}function _(I,R){var j=I.action=="insert",N=R.action=="insert";if(j&&N)f(I.start,R.start)<0?E(R,I,1):E(I,R,1);else if(j&&!N)f(I.start,R.end)>=0?E(I,R,-1):(f(I.start,R.start)<=0||E(I,b.fromPoints(R.start,I.start),-1),E(R,I,1));else if(!j&&N)f(R.start,I.end)>=0?E(R,I,-1):(f(R.start,I.start)<=0||E(R,b.fromPoints(I.start,R.start),-1),E(I,R,1));else if(!j&&!N)if(f(R.start,I.end)>=0)E(R,I,-1);else if(f(R.end,I.start)<=0)E(I,R,-1);else{var P,F;return f(I.start,R.start)<0&&(P=I,I=D(I,R.start)),f(I.end,R.end)>0&&(F=D(I,R.end)),x(R.end,I.start,I.end,-1),F&&!P&&(I.lines=F.lines,I.start=F.start,I.end=F.end,F=I),[R,P,F].filter(Boolean)}return[R,I]}function E(I,R,j){x(I.start,R.start,R.end,j),x(I.end,R.start,R.end,j)}function x(I,R,j,N){I.row==(N==1?R:j).row&&(I.column+=N*(j.column-R.column)),I.row+=N*(j.row-R.row)}function D(I,R){var j=I.lines,N=I.end;I.end=w(R);var P=I.end.row-I.start.row,F=j.splice(P,j.length),T=P?R.column:R.column-I.start.column;j.push(F[0].substring(0,T)),F[0]=F[0].substr(T);var L={start:w(R),end:N,lines:F,action:I.action};return L}function O(I,R){R=p(R);for(var j=I.length;j--;){for(var N=I[j],P=0;P<N.length;P++){var F=N[P],T=_(F,R);R=T[0],T.length!=2&&(T[2]?(N.splice(P+1,1,T[1],T[2]),P++):T[1]||(N.splice(P,1),P--))}N.length||I.splice(j,1)}return I}function B(I,R){for(var j=0;j<R.length;j++)for(var N=R[j],P=0;P<N.length;P++)O(I,N[P])}o.UndoManager=u}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(i,o,c){var u=i("../lib/dom"),h=function(){function b(f,w){this.element=f,this.canvasHeight=w||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return b.prototype.moveContainer=function(f){u.translate(this.element,0,-(f.firstRowScreen*f.lineHeight%this.canvasHeight)-f.offset*this.$offsetCoefficient)},b.prototype.pageChanged=function(f,w){return Math.floor(f.firstRowScreen*f.lineHeight/this.canvasHeight)!==Math.floor(w.firstRowScreen*w.lineHeight/this.canvasHeight)},b.prototype.computeLineTop=function(f,w,p){var v=w.firstRowScreen*w.lineHeight,g=Math.floor(v/this.canvasHeight),k=p.documentToScreenRow(f,0)*w.lineHeight;return k-g*this.canvasHeight},b.prototype.computeLineHeight=function(f,w,p){return w.lineHeight*p.getRowLineCount(f)},b.prototype.getLength=function(){return this.cells.length},b.prototype.get=function(f){return this.cells[f]},b.prototype.shift=function(){this.$cacheCell(this.cells.shift())},b.prototype.pop=function(){this.$cacheCell(this.cells.pop())},b.prototype.push=function(f){if(Array.isArray(f)){this.cells.push.apply(this.cells,f);for(var w=u.createFragment(this.element),p=0;p<f.length;p++)w.appendChild(f[p].element);this.element.appendChild(w)}else this.cells.push(f),this.element.appendChild(f.element)},b.prototype.unshift=function(f){if(Array.isArray(f)){this.cells.unshift.apply(this.cells,f);for(var w=u.createFragment(this.element),p=0;p<f.length;p++)w.appendChild(f[p].element);this.element.firstChild?this.element.insertBefore(w,this.element.firstChild):this.element.appendChild(w)}else this.cells.unshift(f),this.element.insertAdjacentElement("afterbegin",f.element)},b.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},b.prototype.$cacheCell=function(f){f&&(f.element.remove(),this.cellCache.push(f))},b.prototype.createCell=function(f,w,p,v){var g=this.cellCache.pop();if(!g){var k=u.createElement("div");v&&v(k),this.element.appendChild(k),g={element:k,text:"",row:f}}return g.row=f,g},b}();o.Lines=h}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(i,o,c){var u=i("../lib/dom"),h=i("../lib/oop"),b=i("../lib/lang"),f=i("../lib/event_emitter").EventEmitter,w=i("./lines").Lines,p=function(){function g(k){this.element=u.createElement("div"),this.element.className="ace_layer ace_gutter-layer",k.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new w(this.element),this.$lines.$offsetCoefficient=1}return g.prototype.setSession=function(k){this.session&&this.session.off("change",this.$updateAnnotations),this.session=k,k&&k.on("change",this.$updateAnnotations)},g.prototype.addGutterDecoration=function(k,A){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(k,A)},g.prototype.removeGutterDecoration=function(k,A){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(k,A)},g.prototype.setAnnotations=function(k){this.$annotations=[];for(var A=0;A<k.length;A++){var _=k[A],E=_.row,x=this.$annotations[E];x||(x=this.$annotations[E]={text:[],type:[]});var D=_.text,O=_.type;D=D?b.escapeHTML(D):_.html||"",x.text.indexOf(D)===-1&&(x.text.push(D),x.type.push(O));var B=_.className;B?x.className=B:O=="error"?x.className=" ace_error":O=="warning"&&x.className!=" ace_error"?x.className=" ace_warning":O=="info"&&!x.className&&(x.className=" ace_info")}},g.prototype.$updateAnnotations=function(k){if(this.$annotations.length){var A=k.start.row,_=k.end.row-A;if(_!==0)if(k.action=="remove")this.$annotations.splice(A,_+1,null);else{var E=new Array(_+1);E.unshift(A,1),this.$annotations.splice.apply(this.$annotations,E)}}},g.prototype.update=function(k){this.config=k;var A=this.session,_=k.firstRow,E=Math.min(k.lastRow+k.gutterOffset,A.getLength()-1);this.oldLastRow=E,this.config=k,this.$lines.moveContainer(k),this.$updateCursorRow();for(var x=A.getNextFoldLine(_),D=x?x.start.row:1/0,O=null,B=-1,I=_;;){if(I>D&&(I=x.end.row+1,x=A.getNextFoldLine(I,x),D=x?x.start.row:1/0),I>E){for(;this.$lines.getLength()>B+1;)this.$lines.pop();break}O=this.$lines.get(++B),O?O.row=I:(O=this.$lines.createCell(I,k,this.session,v),this.$lines.push(O)),this.$renderCell(O,k,x,I),I++}this._signal("afterRender"),this.$updateGutterWidth(k)},g.prototype.$updateGutterWidth=function(k){var A=this.session,_=A.gutterRenderer||this.$renderer,E=A.$firstLineNumber,x=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||A.$useWrapMode)&&(x=A.getLength()+E-1);var D=_?_.getWidth(A,x,k):x.toString().length*k.characterWidth,O=this.$padding||this.$computePadding();D+=O.left+O.right,D!==this.gutterWidth&&!isNaN(D)&&(this.gutterWidth=D,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",D))},g.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var k=this.session.selection.getCursor();this.$cursorRow!==k.row&&(this.$cursorRow=k.row)}},g.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var k=this.session.selection.cursor.row;if(this.$cursorRow=k,!(this.$cursorCell&&this.$cursorCell.row==k)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var A=this.$lines.cells;this.$cursorCell=null;for(var _=0;_<A.length;_++){var E=A[_];if(E.row>=this.$cursorRow){if(E.row>this.$cursorRow){var x=this.session.getFoldLine(this.$cursorRow);if(_>0&&x&&x.start.row==A[_-1].row)E=A[_-1];else break}E.element.className="ace_gutter-active-line "+E.element.className,this.$cursorCell=E;break}}}}},g.prototype.scrollLines=function(k){var A=this.config;if(this.config=k,this.$updateCursorRow(),this.$lines.pageChanged(A,k))return this.update(k);this.$lines.moveContainer(k);var _=Math.min(k.lastRow+k.gutterOffset,this.session.getLength()-1),E=this.oldLastRow;if(this.oldLastRow=_,!A||E<k.firstRow)return this.update(k);if(_<A.firstRow)return this.update(k);if(A.firstRow<k.firstRow)for(var x=this.session.getFoldedRowCount(A.firstRow,k.firstRow-1);x>0;x--)this.$lines.shift();if(E>_)for(var x=this.session.getFoldedRowCount(_+1,E);x>0;x--)this.$lines.pop();k.firstRow<A.firstRow&&this.$lines.unshift(this.$renderLines(k,k.firstRow,A.firstRow-1)),_>E&&this.$lines.push(this.$renderLines(k,E+1,_)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(k)},g.prototype.$renderLines=function(k,A,_){for(var E=[],x=A,D=this.session.getNextFoldLine(x),O=D?D.start.row:1/0;x>O&&(x=D.end.row+1,D=this.session.getNextFoldLine(x,D),O=D?D.start.row:1/0),!(x>_);){var B=this.$lines.createCell(x,k,this.session,v);this.$renderCell(B,k,D,x),E.push(B),x++}return E},g.prototype.$renderCell=function(k,A,_,E){var x=k.element,D=this.session,O=x.childNodes[0],B=x.childNodes[1],I=x.childNodes[2],R=D.$firstLineNumber,j=D.$breakpoints,N=D.$decorations,P=D.gutterRenderer||this.$renderer,F=this.$showFoldWidgets&&D.foldWidgets,T=_?_.start.row:Number.MAX_VALUE,L=A.lineHeight+"px",z=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",V=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";if(this.$highlightGutterLine&&(E==this.$cursorRow||_&&E<this.$cursorRow&&E>=T&&this.$cursorRow<=_.end.row)&&(z+="ace_gutter-active-line ",this.$cursorCell!=k&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=k)),j[E]&&(z+=j[E]),N[E]&&(z+=N[E]),this.$annotations[E]&&E!==T&&(z+=this.$annotations[E].className),x.className!=z&&(x.className=z),F){var H=F[E];H==null&&(H=F[E]=D.getFoldWidget(E))}if(H){var z="ace_fold-widget ace_"+H;if(H=="start"&&E==T&&E<_.end.row){z+=" ace_closed";for(var G,J=!1,Y=E+1;Y<=_.end.row;Y++)if(this.$annotations[Y]){if(this.$annotations[Y].className===" ace_error"){J=!0,G=" ace_error_fold";break}if(this.$annotations[Y].className===" ace_warning"){J=!0,G=" ace_warning_fold";continue}}x.className+=G}else z+=" ace_open";B.className!=z&&(B.className=z),u.setStyle(B.style,"height",L),u.setStyle(B.style,"display","inline-block")}else B&&u.setStyle(B.style,"display","none");J&&this.$showFoldedAnnotations?(I.className=V,I.className+=G,u.setStyle(I.style,"height",L),u.setStyle(I.style,"display","block")):this.$annotations[E]?(I.className=V,this.$useSvgGutterIcons?I.className+=this.$annotations[E].className:x.classList.add(this.$annotations[E].className.replace(" ","")),u.setStyle(I.style,"height",L),u.setStyle(I.style,"display","block")):u.setStyle(I.style,"display","none");var ee=(P?P.getText(D,E):E+R).toString();return ee!==O.data&&(O.data=ee),u.setStyle(k.element.style,"height",this.$lines.computeLineHeight(E,A,D)+"px"),u.setStyle(k.element.style,"top",this.$lines.computeLineTop(E,A,D)+"px"),k.text=ee,k},g.prototype.setHighlightGutterLine=function(k){this.$highlightGutterLine=k},g.prototype.setShowLineNumbers=function(k){this.$renderer=!k&&{getWidth:function(){return 0},getText:function(){return""}}},g.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},g.prototype.setShowFoldWidgets=function(k){k?u.addCssClass(this.element,"ace_folding-enabled"):u.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=k,this.$padding=null},g.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},g.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var k=u.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(k.borderLeftWidth)||0)+(parseInt(k.paddingLeft)||0)+1,this.$padding.right=(parseInt(k.borderRightWidth)||0)+(parseInt(k.paddingRight)||0),this.$padding},g.prototype.getRegion=function(k){var A=this.$padding||this.$computePadding(),_=this.element.getBoundingClientRect();if(k.x<A.left+_.left)return"markers";if(this.$showFoldWidgets&&k.x>_.right-A.right)return"foldWidgets"},g}();p.prototype.$fixedWidth=!1,p.prototype.$highlightGutterLine=!0,p.prototype.$renderer="",p.prototype.$showLineNumbers=!0,p.prototype.$showFoldWidgets=!0,h.implement(p.prototype,f);function v(g){var k=document.createTextNode("");g.appendChild(k);var A=u.createElement("span");g.appendChild(A);var _=u.createElement("span");return g.appendChild(_),g}o.Gutter=p}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(i,o,c){var u=i("../range").Range,h=i("../lib/dom"),b=function(){function w(p){this.element=h.createElement("div"),this.element.className="ace_layer ace_marker-layer",p.appendChild(this.element)}return w.prototype.setPadding=function(p){this.$padding=p},w.prototype.setSession=function(p){this.session=p},w.prototype.setMarkers=function(p){this.markers=p},w.prototype.elt=function(p,v){var g=this.i!=-1&&this.element.childNodes[this.i];g?this.i++:(g=document.createElement("div"),this.element.appendChild(g),this.i=-1),g.style.cssText=v,g.className=p},w.prototype.update=function(p){if(p){this.config=p,this.i=0;var v;for(var g in this.markers){var k=this.markers[g];if(!k.range){k.update(v,this,this.session,p);continue}var A=k.range.clipRows(p.firstRow,p.lastRow);if(!A.isEmpty())if(A=A.toScreenRange(this.session),k.renderer){var _=this.$getTop(A.start.row,p),E=this.$padding+A.start.column*p.characterWidth;k.renderer(v,A,E,_,p)}else k.type=="fullLine"?this.drawFullLineMarker(v,A,k.clazz,p):k.type=="screenLine"?this.drawScreenLineMarker(v,A,k.clazz,p):A.isMultiLine()?k.type=="text"?this.drawTextMarker(v,A,k.clazz,p):this.drawMultiLineMarker(v,A,k.clazz,p):this.drawSingleLineMarker(v,A,k.clazz+" ace_start ace_br15",p)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},w.prototype.$getTop=function(p,v){return(p-v.firstRowScreen)*v.lineHeight},w.prototype.drawTextMarker=function(p,v,g,k,A){for(var _=this.session,E=v.start.row,x=v.end.row,D=E,O=0,B=0,I=_.getScreenLastRowColumn(D),R=new u(D,v.start.column,D,B);D<=x;D++)R.start.row=R.end.row=D,R.start.column=D==E?v.start.column:_.getRowWrapIndent(D),R.end.column=I,O=B,B=I,I=D+1<x?_.getScreenLastRowColumn(D+1):D==x?0:v.end.column,this.drawSingleLineMarker(p,R,g+(D==E?" ace_start":"")+" ace_br"+f(D==E||D==E+1&&v.start.column,O<B,B>I,D==x),k,D==x?0:1,A)},w.prototype.drawMultiLineMarker=function(p,v,g,k,A){var _=this.$padding,E=k.lineHeight,x=this.$getTop(v.start.row,k),D=_+v.start.column*k.characterWidth;if(A=A||"",this.session.$bidiHandler.isBidiRow(v.start.row)){var O=v.clone();O.end.row=O.start.row,O.end.column=this.session.getLine(O.start.row).length,this.drawBidiSingleLineMarker(p,O,g+" ace_br1 ace_start",k,null,A)}else this.elt(g+" ace_br1 ace_start","height:"+E+"px;right:0;top:"+x+"px;left:"+D+"px;"+(A||""));if(this.session.$bidiHandler.isBidiRow(v.end.row)){var O=v.clone();O.start.row=O.end.row,O.start.column=0,this.drawBidiSingleLineMarker(p,O,g+" ace_br12",k,null,A)}else{x=this.$getTop(v.end.row,k);var B=v.end.column*k.characterWidth;this.elt(g+" ace_br12","height:"+E+"px;width:"+B+"px;top:"+x+"px;left:"+_+"px;"+(A||""))}if(E=(v.end.row-v.start.row-1)*k.lineHeight,!(E<=0)){x=this.$getTop(v.start.row+1,k);var I=(v.start.column?1:0)|(v.end.column?0:8);this.elt(g+(I?" ace_br"+I:""),"height:"+E+"px;right:0;top:"+x+"px;left:"+_+"px;"+(A||""))}},w.prototype.drawSingleLineMarker=function(p,v,g,k,A,_){if(this.session.$bidiHandler.isBidiRow(v.start.row))return this.drawBidiSingleLineMarker(p,v,g,k,A,_);var E=k.lineHeight,x=(v.end.column+(A||0)-v.start.column)*k.characterWidth,D=this.$getTop(v.start.row,k),O=this.$padding+v.start.column*k.characterWidth;this.elt(g,"height:"+E+"px;width:"+x+"px;top:"+D+"px;left:"+O+"px;"+(_||""))},w.prototype.drawBidiSingleLineMarker=function(p,v,g,k,A,_){var E=k.lineHeight,x=this.$getTop(v.start.row,k),D=this.$padding,O=this.session.$bidiHandler.getSelections(v.start.column,v.end.column);O.forEach(function(B){this.elt(g,"height:"+E+"px;width:"+(B.width+(A||0))+"px;top:"+x+"px;left:"+(D+B.left)+"px;"+(_||""))},this)},w.prototype.drawFullLineMarker=function(p,v,g,k,A){var _=this.$getTop(v.start.row,k),E=k.lineHeight;v.start.row!=v.end.row&&(E+=this.$getTop(v.end.row,k)-_),this.elt(g,"height:"+E+"px;top:"+_+"px;left:0;right:0;"+(A||""))},w.prototype.drawScreenLineMarker=function(p,v,g,k,A){var _=this.$getTop(v.start.row,k),E=k.lineHeight;this.elt(g,"height:"+E+"px;top:"+_+"px;left:0;right:0;"+(A||""))},w}();b.prototype.$padding=0;function f(w,p,v,g){return(w?1:0)|(p?2:0)|(v?4:0)|(g?8:0)}o.Marker=b}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(i,o,c){var u=i("../lib/oop"),h=i("../lib/dom"),b=i("../lib/lang"),f=i("./lines").Lines,w=i("../lib/event_emitter").EventEmitter,p=function(){function v(g){this.dom=h,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",g.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new f(this.element)}return v.prototype.$updateEolChar=function(){var g=this.session.doc,k=g.getNewLineCharacter()==`
`&&g.getNewLineMode()!="windows",A=k?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=A)return this.EOL_CHAR=A,!0},v.prototype.setPadding=function(g){this.$padding=g,this.element.style.margin="0 "+g+"px"},v.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},v.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},v.prototype.$setFontMetrics=function(g){this.$fontMetrics=g,this.$fontMetrics.on("changeCharacterSize",function(k){this._signal("changeCharacterSize",k)}.bind(this)),this.$pollSizeChanges()},v.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},v.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},v.prototype.setSession=function(g){this.session=g,g&&this.$computeTabString()},v.prototype.setShowInvisibles=function(g){return this.showInvisibles==g?!1:(this.showInvisibles=g,typeof g=="string"?(this.showSpaces=/tab/i.test(g),this.showTabs=/space/i.test(g),this.showEOL=/eol/i.test(g)):this.showSpaces=this.showTabs=this.showEOL=g,this.$computeTabString(),!0)},v.prototype.setDisplayIndentGuides=function(g){return this.displayIndentGuides==g?!1:(this.displayIndentGuides=g,this.$computeTabString(),!0)},v.prototype.setHighlightIndentGuides=function(g){return this.$highlightIndentGuides===g?!1:(this.$highlightIndentGuides=g,g)},v.prototype.$computeTabString=function(){var g=this.session.getTabSize();this.tabSize=g;for(var k=this.$tabStrings=[0],A=1;A<g+1;A++)if(this.showTabs){var _=this.dom.createElement("span");_.className="ace_invisible ace_invisible_tab",_.textContent=b.stringRepeat(this.TAB_CHAR,A),k.push(_)}else k.push(this.dom.createTextNode(b.stringRepeat(" ",A),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var E="ace_indent-guide",x=this.showSpaces?" ace_invisible ace_invisible_space":"",D=this.showSpaces?b.stringRepeat(this.SPACE_CHAR,this.tabSize):b.stringRepeat(" ",this.tabSize),O=this.showTabs?" ace_invisible ace_invisible_tab":"",B=this.showTabs?b.stringRepeat(this.TAB_CHAR,this.tabSize):D,_=this.dom.createElement("span");_.className=E+x,_.textContent=D,this.$tabStrings[" "]=_;var _=this.dom.createElement("span");_.className=E+O,_.textContent=B,this.$tabStrings["	"]=_}},v.prototype.updateLines=function(g,k,A){if(this.config.lastRow!=g.lastRow||this.config.firstRow!=g.firstRow)return this.update(g);this.config=g;for(var _=Math.max(k,g.firstRow),E=Math.min(A,g.lastRow),x=this.element.childNodes,D=0,B=g.firstRow;B<_;B++){var I=this.session.getFoldLine(B);if(I)if(I.containsRow(_)){_=I.start.row;break}else B=I.end.row;D++}for(var O=!1,B=_,I=this.session.getNextFoldLine(B),R=I?I.start.row:1/0;B>R&&(B=I.end.row+1,I=this.session.getNextFoldLine(B,I),R=I?I.start.row:1/0),!(B>E);){var j=x[D++];if(j){this.dom.removeChildren(j),this.$renderLine(j,B,B==R?I:!1),O&&(j.style.top=this.$lines.computeLineTop(B,g,this.session)+"px");var N=g.lineHeight*this.session.getRowLength(B)+"px";j.style.height!=N&&(O=!0,j.style.height=N)}B++}if(O)for(;D<this.$lines.cells.length;){var P=this.$lines.cells[D++];P.element.style.top=this.$lines.computeLineTop(P.row,g,this.session)+"px"}},v.prototype.scrollLines=function(g){var k=this.config;if(this.config=g,this.$lines.pageChanged(k,g))return this.update(g);this.$lines.moveContainer(g);var A=g.lastRow,_=k?k.lastRow:-1;if(!k||_<g.firstRow)return this.update(g);if(A<k.firstRow)return this.update(g);if(!k||k.lastRow<g.firstRow)return this.update(g);if(g.lastRow<k.firstRow)return this.update(g);if(k.firstRow<g.firstRow)for(var E=this.session.getFoldedRowCount(k.firstRow,g.firstRow-1);E>0;E--)this.$lines.shift();if(k.lastRow>g.lastRow)for(var E=this.session.getFoldedRowCount(g.lastRow+1,k.lastRow);E>0;E--)this.$lines.pop();g.firstRow<k.firstRow&&this.$lines.unshift(this.$renderLinesFragment(g,g.firstRow,k.firstRow-1)),g.lastRow>k.lastRow&&this.$lines.push(this.$renderLinesFragment(g,k.lastRow+1,g.lastRow)),this.$highlightIndentGuide()},v.prototype.$renderLinesFragment=function(g,k,A){for(var _=[],E=k,x=this.session.getNextFoldLine(E),D=x?x.start.row:1/0;E>D&&(E=x.end.row+1,x=this.session.getNextFoldLine(E,x),D=x?x.start.row:1/0),!(E>A);){var O=this.$lines.createCell(E,g,this.session),B=O.element;this.dom.removeChildren(B),h.setStyle(B.style,"height",this.$lines.computeLineHeight(E,g,this.session)+"px"),h.setStyle(B.style,"top",this.$lines.computeLineTop(E,g,this.session)+"px"),this.$renderLine(B,E,E==D?x:!1),this.$useLineGroups()?B.className="ace_line_group":B.className="ace_line",_.push(O),E++}return _},v.prototype.update=function(g){this.$lines.moveContainer(g),this.config=g;for(var k=g.firstRow,A=g.lastRow,_=this.$lines;_.getLength();)_.pop();_.push(this.$renderLinesFragment(g,k,A))},v.prototype.$renderToken=function(g,k,A,_){for(var E=this,x=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,D=this.dom.createFragment(this.element),O,B=0;O=x.exec(_);){var I=O[1],R=O[2],j=O[3],N=O[4],P=O[5];if(!(!E.showSpaces&&R)){var F=B!=O.index?_.slice(B,O.index):"";if(B=O.index+O[0].length,F&&D.appendChild(this.dom.createTextNode(F,this.element)),I){var T=E.session.getScreenTabSize(k+O.index);D.appendChild(E.$tabStrings[T].cloneNode(!0)),k+=T-1}else if(R)if(E.showSpaces){var L=this.dom.createElement("span");L.className="ace_invisible ace_invisible_space",L.textContent=b.stringRepeat(E.SPACE_CHAR,R.length),D.appendChild(L)}else D.appendChild(this.com.createTextNode(R,this.element));else if(j){var L=this.dom.createElement("span");L.className="ace_invisible ace_invisible_space ace_invalid",L.textContent=b.stringRepeat(E.SPACE_CHAR,j.length),D.appendChild(L)}else if(N){k+=1;var L=this.dom.createElement("span");L.style.width=E.config.characterWidth*2+"px",L.className=E.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",L.textContent=E.showSpaces?E.SPACE_CHAR:N,D.appendChild(L)}else if(P){k+=1;var L=this.dom.createElement("span");L.style.width=E.config.characterWidth*2+"px",L.className="ace_cjk",L.textContent=P,D.appendChild(L)}}}if(D.appendChild(this.dom.createTextNode(B?_.slice(B):_,this.element)),this.$textToken[A.type])g.appendChild(D);else{var z="ace_"+A.type.replace(/\./g," ace_"),L=this.dom.createElement("span");A.type=="fold"&&(L.style.width=A.value.length*this.config.characterWidth+"px"),L.className=z,L.appendChild(D),g.appendChild(L)}return k+_.length},v.prototype.renderIndentGuide=function(g,k,A){var _=k.search(this.$indentGuideRe);if(_<=0||_>=A)return k;if(k[0]==" "){_-=_%this.tabSize;for(var E=_/this.tabSize,x=0;x<E;x++)g.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),k.substr(_)}else if(k[0]=="	"){for(var x=0;x<_;x++)g.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),k.substr(_)}return this.$highlightIndentGuide(),k},v.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var g=this.session.doc.$lines;if(g){var k=this.session.selection.getCursor(),A=/^\s*/.exec(this.session.doc.getLine(k.row))[0].length,_=Math.floor(A/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:_,start:k.row};var E=this.session.$bracketHighlight;if(E){for(var x=this.session.$bracketHighlight.ranges,D=0;D<x.length;D++)if(k.row!==x[D].start.row){this.$highlightIndentGuideMarker.end=x[D].start.row,k.row>x[D].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&g[k.row]!==""&&k.column===g[k.row].length){this.$highlightIndentGuideMarker.dir=1;for(var D=k.row+1;D<g.length;D++){var O=g[D],B=/^\s*/.exec(O)[0].length;if(O!==""&&(this.$highlightIndentGuideMarker.end=D,B<=A))break}}this.$renderHighlightIndentGuide()}}},v.prototype.$clearActiveIndentGuide=function(){for(var g=this.$lines.cells,k=0;k<g.length;k++){var A=g[k],_=A.element.childNodes;if(_.length>0){for(var E=0;E<_.length;E++)if(_[E].classList&&_[E].classList.contains("ace_indent-guide-active")){_[E].classList.remove("ace_indent-guide-active");break}}}},v.prototype.$setIndentGuideActive=function(g,k){var A=this.session.doc.getLine(g.row);if(A!==""){var _=g.element.childNodes;if(_){var E=_[k-1];E&&E.classList&&E.classList.contains("ace_indent-guide")&&E.classList.add("ace_indent-guide-active")}}},v.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var g=this.$lines.cells;this.$clearActiveIndentGuide();var k=this.$highlightIndentGuideMarker.indentLevel;if(k!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var A=0;A<g.length;A++){var _=g[A];if(this.$highlightIndentGuideMarker.end&&_.row>=this.$highlightIndentGuideMarker.start+1){if(_.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(_,k)}}else for(var A=g.length-1;A>=0;A--){var _=g[A];if(this.$highlightIndentGuideMarker.end&&_.row<this.$highlightIndentGuideMarker.start){if(_.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(_,k)}}}},v.prototype.$createLineElement=function(g){var k=this.dom.createElement("div");return k.className="ace_line",k.style.height=this.config.lineHeight+"px",k},v.prototype.$renderWrappedLine=function(g,k,A){var _=0,E=0,x=A[0],D=0,O=this.$createLineElement();g.appendChild(O);for(var B=0;B<k.length;B++){var I=k[B],R=I.value;if(B==0&&this.displayIndentGuides){if(_=R.length,R=this.renderIndentGuide(O,R,x),!R)continue;_-=R.length}if(_+R.length<x)D=this.$renderToken(O,D,I,R),_+=R.length;else{for(;_+R.length>=x;)D=this.$renderToken(O,D,I,R.substring(0,x-_)),R=R.substring(x-_),_=x,O=this.$createLineElement(),g.appendChild(O),O.appendChild(this.dom.createTextNode(b.stringRepeat("",A.indent),this.element)),E++,D=0,x=A[E]||Number.MAX_VALUE;R.length!=0&&(_+=R.length,D=this.$renderToken(O,D,I,R))}}A[A.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(O,D,null,"",!0)},v.prototype.$renderSimpleLine=function(g,k){for(var A=0,_=0;_<k.length;_++){var E=k[_],x=E.value;if(!(_==0&&this.displayIndentGuides&&(x=this.renderIndentGuide(g,x),!x))){if(A+x.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(g,A,E,x);A=this.$renderToken(g,A,E,x)}}},v.prototype.$renderOverflowMessage=function(g,k,A,_,E){A&&this.$renderToken(g,k,A,_.slice(0,this.MAX_LINE_LENGTH-k));var x=this.dom.createElement("span");x.className="ace_inline_button ace_keyword ace_toggle_wrap",x.textContent=E?"<hide>":"<click to see more...>",g.appendChild(x)},v.prototype.$renderLine=function(g,k,A){if(!A&&A!=!1&&(A=this.session.getFoldLine(k)),A)var _=this.$getFoldLineTokens(k,A);else var _=this.session.getTokens(k);var E=g;if(_.length){var x=this.session.getRowSplitData(k);if(x&&x.length){this.$renderWrappedLine(g,_,x);var E=g.lastChild}else{var E=g;this.$useLineGroups()&&(E=this.$createLineElement(),g.appendChild(E)),this.$renderSimpleLine(E,_)}}else this.$useLineGroups()&&(E=this.$createLineElement(),g.appendChild(E));if(this.showEOL&&E){A&&(k=A.end.row);var D=this.dom.createElement("span");D.className="ace_invisible ace_invisible_eol",D.textContent=k==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,E.appendChild(D)}},v.prototype.$getFoldLineTokens=function(g,k){var A=this.session,_=[];function E(D,O,B){for(var I=0,R=0;R+D[I].value.length<O;)if(R+=D[I].value.length,I++,I==D.length)return;if(R!=O){var j=D[I].value.substring(O-R);j.length>B-O&&(j=j.substring(0,B-O)),_.push({type:D[I].type,value:j}),R=O+j.length,I+=1}for(;R<B&&I<D.length;){var j=D[I].value;j.length+R>B?_.push({type:D[I].type,value:j.substring(0,B-R)}):_.push(D[I]),R+=j.length,I+=1}}var x=A.getTokens(g);return k.walk(function(D,O,B,I,R){D!=null?_.push({type:"fold",value:D}):(R&&(x=A.getTokens(O)),x.length&&E(x,I,B))},k.end.row,this.session.getLine(k.end.row).length),_},v.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},v}();p.prototype.$textToken={text:!0,rparen:!0,lparen:!0},p.prototype.EOF_CHAR="",p.prototype.EOL_CHAR_LF="",p.prototype.EOL_CHAR_CRLF="",p.prototype.EOL_CHAR=p.prototype.EOL_CHAR_LF,p.prototype.TAB_CHAR="",p.prototype.SPACE_CHAR="",p.prototype.$padding=0,p.prototype.MAX_LINE_LENGTH=1e4,p.prototype.showInvisibles=!1,p.prototype.showSpaces=!1,p.prototype.showTabs=!1,p.prototype.showEOL=!1,p.prototype.displayIndentGuides=!0,p.prototype.$highlightIndentGuides=!0,p.prototype.$tabStrings=[],p.prototype.destroy={},p.prototype.onChangeTabSize=p.prototype.$computeTabString,u.implement(p.prototype,w),o.Text=p}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(i,o,c){var u=i("../lib/dom"),h=function(){function b(f){this.element=u.createElement("div"),this.element.className="ace_layer ace_cursor-layer",f.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),u.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return b.prototype.$updateOpacity=function(f){for(var w=this.cursors,p=w.length;p--;)u.setStyle(w[p].style,"opacity",f?"":"0")},b.prototype.$startCssAnimation=function(){for(var f=this.cursors,w=f.length;w--;)f[w].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&u.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},b.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,u.removeCssClass(this.element,"ace_animate-blinking")},b.prototype.setPadding=function(f){this.$padding=f},b.prototype.setSession=function(f){this.session=f},b.prototype.setBlinking=function(f){f!=this.isBlinking&&(this.isBlinking=f,this.restartTimer())},b.prototype.setBlinkInterval=function(f){f!=this.blinkInterval&&(this.blinkInterval=f,this.restartTimer())},b.prototype.setSmoothBlinking=function(f){f!=this.smoothBlinking&&(this.smoothBlinking=f,u.setCssClass(this.element,"ace_smooth-blinking",f),this.$updateCursors(!0),this.restartTimer())},b.prototype.addCursor=function(){var f=u.createElement("div");return f.className="ace_cursor",this.element.appendChild(f),this.cursors.push(f),f},b.prototype.removeCursor=function(){if(this.cursors.length>1){var f=this.cursors.pop();return f.parentNode.removeChild(f),f}},b.prototype.hideCursor=function(){this.isVisible=!1,u.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},b.prototype.showCursor=function(){this.isVisible=!0,u.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},b.prototype.restartTimer=function(){var f=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,u.removeCssClass(this.element,"ace_smooth-blinking")),f(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&u.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),u.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var w=function(){this.timeoutId=setTimeout(function(){f(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){f(!0),w()},this.blinkInterval),w()}},b.prototype.getPixelPosition=function(f,w){if(!this.config||!this.session)return{left:0,top:0};f||(f=this.session.selection.getCursor());var p=this.session.documentToScreenPosition(f),v=this.$padding+(this.session.$bidiHandler.isBidiRow(p.row,f.row)?this.session.$bidiHandler.getPosLeft(p.column):p.column*this.config.characterWidth),g=(p.row-(w?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:v,top:g}},b.prototype.isCursorInView=function(f,w){return f.top>=0&&f.top<w.maxHeight},b.prototype.update=function(f){this.config=f;var w=this.session.$selectionMarkers,p=0,v=0;(w===void 0||w.length===0)&&(w=[{cursor:null}]);for(var p=0,g=w.length;p<g;p++){var k=this.getPixelPosition(w[p].cursor,!0);if(!((k.top>f.height+f.offset||k.top<0)&&p>1)){var A=this.cursors[v++]||this.addCursor(),_=A.style;this.drawCursor?this.drawCursor(A,k,f,w[p],this.session):this.isCursorInView(k,f)?(u.setStyle(_,"display","block"),u.translate(A,k.left,k.top),u.setStyle(_,"width",Math.round(f.characterWidth)+"px"),u.setStyle(_,"height",f.lineHeight+"px")):u.setStyle(_,"display","none")}}for(;this.cursors.length>v;)this.removeCursor();var E=this.session.getOverwrite();this.$setOverwrite(E),this.$pixelPos=k,this.restartTimer()},b.prototype.$setOverwrite=function(f){f!=this.overwrite&&(this.overwrite=f,f?u.addCssClass(this.element,"ace_overwrite-cursors"):u.removeCssClass(this.element,"ace_overwrite-cursors"))},b.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},b}();h.prototype.$padding=0,h.prototype.drawCursor=null,o.Cursor=h}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(i,o,c){var u=this&&this.__extends||function(){var A=function(_,E){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,D){x.__proto__=D}||function(x,D){for(var O in D)Object.prototype.hasOwnProperty.call(D,O)&&(x[O]=D[O])},A(_,E)};return function(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");A(_,E);function x(){this.constructor=_}_.prototype=E===null?Object.create(E):(x.prototype=E.prototype,new x)}}(),h=i("./lib/oop"),b=i("./lib/dom"),f=i("./lib/event"),w=i("./lib/event_emitter").EventEmitter,p=32768,v=function(){function A(_,E){this.element=b.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+E,this.inner=b.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),_.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,f.addListener(this.element,"scroll",this.onScroll.bind(this)),f.addListener(this.element,"mousedown",f.preventDefault)}return A.prototype.setVisible=function(_){this.element.style.display=_?"":"none",this.isVisible=_,this.coeff=1},A}();h.implement(v.prototype,w);var g=function(A){u(_,A);function _(E,x){var D=A.call(this,E,"-v")||this;return D.scrollTop=0,D.scrollHeight=0,x.$scrollbarWidth=D.width=b.scrollbarWidth(E.ownerDocument),D.inner.style.width=D.element.style.width=(D.width||15)+5+"px",D.$minWidth=0,D}return _.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var E=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-E)/(this.coeff-E)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},_.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},_.prototype.setHeight=function(E){this.element.style.height=E+"px"},_.prototype.setScrollHeight=function(E){this.scrollHeight=E,E>p?(this.coeff=p/E,E=p):this.coeff!=1&&(this.coeff=1),this.inner.style.height=E+"px"},_.prototype.setScrollTop=function(E){this.scrollTop!=E&&(this.skipEvent=!0,this.scrollTop=E,this.element.scrollTop=E*this.coeff)},_}(v);g.prototype.setInnerHeight=g.prototype.setScrollHeight;var k=function(A){u(_,A);function _(E,x){var D=A.call(this,E,"-h")||this;return D.scrollLeft=0,D.height=x.$scrollbarWidth,D.inner.style.height=D.element.style.height=(D.height||15)+5+"px",D}return _.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},_.prototype.getHeight=function(){return this.isVisible?this.height:0},_.prototype.setWidth=function(E){this.element.style.width=E+"px"},_.prototype.setInnerWidth=function(E){this.inner.style.width=E+"px"},_.prototype.setScrollWidth=function(E){this.inner.style.width=E+"px"},_.prototype.setScrollLeft=function(E){this.scrollLeft!=E&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=E)},_}(v);o.ScrollBar=g,o.ScrollBarV=g,o.ScrollBarH=k,o.VScrollBar=g,o.HScrollBar=k}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(i,o,c){var u=this&&this.__extends||function(){var k=function(A,_){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||function(E,x){for(var D in x)Object.prototype.hasOwnProperty.call(x,D)&&(E[D]=x[D])},k(A,_)};return function(A,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");k(A,_);function E(){this.constructor=A}A.prototype=_===null?Object.create(_):(E.prototype=_.prototype,new E)}}(),h=i("./lib/oop"),b=i("./lib/dom"),f=i("./lib/event"),w=i("./lib/event_emitter").EventEmitter;b.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var p=function(){function k(A,_){this.element=b.createElement("div"),this.element.className="ace_sb"+_,this.inner=b.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,A.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,f.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return k.prototype.setVisible=function(A){this.element.style.display=A?"":"none",this.isVisible=A,this.coeff=1},k}();h.implement(p.prototype,w);var v=function(k){u(A,k);function A(_,E){var x=k.call(this,_,"-v")||this;return x.scrollTop=0,x.scrollHeight=0,x.parent=_,x.width=x.VScrollWidth,x.renderer=E,x.inner.style.width=x.element.style.width=(x.width||15)+"px",x.$minWidth=0,x}return A.prototype.onMouseDown=function(_,E){if(_==="mousedown"&&!(f.getButton(E)!==0||E.detail===2)){if(E.target===this.inner){var x=this,D=E.clientY,O=function(F){D=F.clientY},B=function(){clearInterval(N)},I=E.clientY,R=this.thumbTop,j=function(){if(D!==void 0){var F=x.scrollTopFromThumbTop(R+D-I);F!==x.scrollTop&&x._emit("scroll",{data:F})}};f.capture(this.inner,O,B);var N=setInterval(j,20);return f.preventDefault(E)}var P=E.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(P)}),f.preventDefault(E)}},A.prototype.getHeight=function(){return this.height},A.prototype.scrollTopFromThumbTop=function(_){var E=_*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return E=E>>0,E<0?E=0:E>this.pageHeight-this.viewHeight&&(E=this.pageHeight-this.viewHeight),E},A.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},A.prototype.setHeight=function(_){this.height=Math.max(0,_),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},A.prototype.setScrollHeight=function(_,E){this.pageHeight===_&&!E||(this.pageHeight=_,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},A.prototype.setScrollTop=function(_){this.scrollTop=_,_<0&&(_=0),this.thumbTop=_*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},A}(p);v.prototype.setInnerHeight=v.prototype.setScrollHeight;var g=function(k){u(A,k);function A(_,E){var x=k.call(this,_,"-h")||this;return x.scrollLeft=0,x.scrollWidth=0,x.height=x.HScrollHeight,x.inner.style.height=x.element.style.height=(x.height||12)+"px",x.renderer=E,x}return A.prototype.onMouseDown=function(_,E){if(_==="mousedown"&&!(f.getButton(E)!==0||E.detail===2)){if(E.target===this.inner){var x=this,D=E.clientX,O=function(F){D=F.clientX},B=function(){clearInterval(N)},I=E.clientX,R=this.thumbLeft,j=function(){if(D!==void 0){var F=x.scrollLeftFromThumbLeft(R+D-I);F!==x.scrollLeft&&x._emit("scroll",{data:F})}};f.capture(this.inner,O,B);var N=setInterval(j,20);return f.preventDefault(E)}var P=E.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(P)}),f.preventDefault(E)}},A.prototype.getHeight=function(){return this.isVisible?this.height:0},A.prototype.scrollLeftFromThumbLeft=function(_){var E=_*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return E=E>>0,E<0?E=0:E>this.pageWidth-this.viewWidth&&(E=this.pageWidth-this.viewWidth),E},A.prototype.setWidth=function(_){this.width=Math.max(0,_),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},A.prototype.setScrollWidth=function(_,E){this.pageWidth===_&&!E||(this.pageWidth=_,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},A.prototype.setScrollLeft=function(_){this.scrollLeft=_,_<0&&(_=0),this.thumbLeft=_*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},A}(p);g.prototype.setInnerWidth=g.prototype.setScrollWidth,o.ScrollBar=v,o.ScrollBarV=v,o.ScrollBarH=g,o.VScrollBar=v,o.HScrollBar=g}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(i,o,c){var u=i("./lib/event"),h=function(){function b(f,w){this.onRender=f,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=w||window;var p=this;this._flush=function(v){p.pending=!1;var g=p.changes;if(g&&(u.blockIdle(100),p.changes=0,p.onRender(g)),p.changes){if(p.$recursionLimit--<0)return;p.schedule()}else p.$recursionLimit=2}}return b.prototype.schedule=function(f){this.changes=this.changes|f,this.changes&&!this.pending&&(u.nextFrame(this._flush),this.pending=!0)},b.prototype.clear=function(f){var w=this.changes;return this.changes=0,w},b}();o.RenderLoop=h}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(i,o,c){var u=i("../lib/oop"),h=i("../lib/dom"),b=i("../lib/lang"),f=i("../lib/event"),w=i("../lib/useragent"),p=i("../lib/event_emitter").EventEmitter,v=512,g=typeof ResizeObserver=="function",k=200,A=function(){function _(E){this.el=h.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=h.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=h.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),E.appendChild(this.el),this.$measureNode.textContent=b.stringRepeat("X",v),this.$characterSize={width:0,height:0},g?this.$addObserver():this.checkForSizeChanges()}return _.prototype.$setMeasureNodeStyles=function(E,x){E.width=E.height="auto",E.left=E.top="0px",E.visibility="hidden",E.position="absolute",E.whiteSpace="pre",w.isIE<8?E["font-family"]="inherit":E.font="inherit",E.overflow=x?"hidden":"visible"},_.prototype.checkForSizeChanges=function(E){if(E===void 0&&(E=this.$measureSizes()),E&&(this.$characterSize.width!==E.width||this.$characterSize.height!==E.height)){this.$measureNode.style.fontWeight="bold";var x=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=E,this.charSizes=Object.create(null),this.allowBoldFonts=x&&x.width===E.width&&x.height===E.height,this._emit("changeCharacterSize",{data:E})}},_.prototype.$addObserver=function(){var E=this;this.$observer=new window.ResizeObserver(function(x){E.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},_.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var E=this;return this.$pollSizeChangesTimer=f.onIdle(function x(){E.checkForSizeChanges(),f.onIdle(x,500)},500)},_.prototype.setPolling=function(E){E?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},_.prototype.$measureSizes=function(E){var x={height:(E||this.$measureNode).clientHeight,width:(E||this.$measureNode).clientWidth/v};return x.width===0||x.height===0?null:x},_.prototype.$measureCharWidth=function(E){this.$main.textContent=b.stringRepeat(E,v);var x=this.$main.getBoundingClientRect();return x.width/v},_.prototype.getCharacterWidth=function(E){var x=this.charSizes[E];return x===void 0&&(x=this.charSizes[E]=this.$measureCharWidth(E)/this.$characterSize.width),x},_.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},_.prototype.$getZoom=function(E){return!E||!E.parentElement?1:(window.getComputedStyle(E).zoom||1)*this.$getZoom(E.parentElement)},_.prototype.$initTransformMeasureNodes=function(){var E=function(x,D){return["div",{style:"position: absolute;top:"+x+"px;left:"+D+"px;"}]};this.els=h.buildDom([E(0,0),E(k,0),E(0,k),E(k,k)],this.el)},_.prototype.transformCoordinates=function(E,x){if(E){var D=this.$getZoom(this.el);E=R(1/D,E)}function O(re,oe,pe){var le=re[1]*oe[0]-re[0]*oe[1];return[(-oe[1]*pe[0]+oe[0]*pe[1])/le,(+re[1]*pe[0]-re[0]*pe[1])/le]}function B(re,oe){return[re[0]-oe[0],re[1]-oe[1]]}function I(re,oe){return[re[0]+oe[0],re[1]+oe[1]]}function R(re,oe){return[re*oe[0],re*oe[1]]}this.els||this.$initTransformMeasureNodes();function j(re){var oe=re.getBoundingClientRect();return[oe.left,oe.top]}var N=j(this.els[0]),P=j(this.els[1]),F=j(this.els[2]),T=j(this.els[3]),L=O(B(T,P),B(T,F),B(I(P,F),I(T,N))),z=R(1+L[0],B(P,N)),V=R(1+L[1],B(F,N));if(x){var H=x,G=L[0]*H[0]/k+L[1]*H[1]/k+1,J=I(R(H[0],z),R(H[1],V));return I(R(1/G/k,J),N)}var Y=B(E,N),ee=O(B(z,R(L[0],Y)),B(V,R(L[1],Y)),Y);return R(k,ee)},_}();A.prototype.$characterSize={width:0,height:0},u.implement(A.prototype,p),o.FontMetrics=A}),ace.define("ace/css/editor.css",["require","exports","module"],function(i,o,c){c.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_icon_svg {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_icon {
    margin-left: -18px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
    white-space: pre;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(i,o,c){var u=i("../lib/dom"),h=i("../lib/oop"),b=i("../lib/event_emitter").EventEmitter,f=function(){function w(p,v){this.canvas=u.createElement("canvas"),this.renderer=v,this.pixelRatio=1,this.maxHeight=v.layerConfig.maxHeight,this.lineHeight=v.layerConfig.lineHeight,this.canvasHeight=p.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=p.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},p.element.appendChild(this.canvas)}return w.prototype.$updateDecorators=function(p){var v=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(p){this.maxHeight=p.maxHeight,this.lineHeight=p.lineHeight,this.canvasHeight=p.height;var g=(p.lastRow+1)*this.lineHeight;g<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var k=this.canvas.getContext("2d");function A(T,L){return T.priority<L.priority?-1:T.priority>L.priority?1:0}var _=this.renderer.session.$annotations;if(k.clearRect(0,0,this.canvas.width,this.canvas.height),_){var E={info:1,warning:2,error:3};_.forEach(function(T){T.priority=E[T.type]||null}),_=_.sort(A);for(var x=this.renderer.session.$foldData,D=0;D<_.length;D++){var O=_[D].row,B=this.compensateFoldRows(O,x),I=Math.round((O-B)*this.lineHeight*this.heightRatio),R=Math.round((O-B)*this.lineHeight*this.heightRatio),j=Math.round(((O-B)*this.lineHeight+this.lineHeight)*this.heightRatio),N=j-R;if(N<this.minDecorationHeight){var P=(R+j)/2|0;P<this.halfMinDecorationHeight?P=this.halfMinDecorationHeight:P+this.halfMinDecorationHeight>this.canvasHeight&&(P=this.canvasHeight-this.halfMinDecorationHeight),R=Math.round(P-this.halfMinDecorationHeight),j=Math.round(P+this.halfMinDecorationHeight)}k.fillStyle=v[_[D].type]||null,k.fillRect(0,I,this.canvasWidth,j-R)}}var F=this.renderer.session.selection.getCursor();if(F){var B=this.compensateFoldRows(F.row,x),I=Math.round((F.row-B)*this.lineHeight*this.heightRatio);k.fillStyle="rgba(0, 0, 0, 0.5)",k.fillRect(0,I,this.canvasWidth,2)}},w.prototype.compensateFoldRows=function(p,v){var g=0;if(v&&v.length>0)for(var k=0;k<v.length;k++)p>v[k].start.row&&p<v[k].end.row?g+=p-v[k].start.row:p>=v[k].end.row&&(g+=v[k].end.row-v[k].start.row);return g},w}();h.implement(f.prototype,b),o.Decorator=f}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],function(i,o,c){var u=i("./lib/oop"),h=i("./lib/dom"),b=i("./lib/lang"),f=i("./config"),w=i("./layer/gutter").Gutter,p=i("./layer/marker").Marker,v=i("./layer/text").Text,g=i("./layer/cursor").Cursor,k=i("./scrollbar").HScrollBar,A=i("./scrollbar").VScrollBar,_=i("./scrollbar_custom").HScrollBar,E=i("./scrollbar_custom").VScrollBar,x=i("./renderloop").RenderLoop,D=i("./layer/font_metrics").FontMetrics,O=i("./lib/event_emitter").EventEmitter,B=i("./css/editor.css"),I=i("./layer/decorators").Decorator,R=i("./lib/useragent");h.importCssString(B,"ace_editor.css",!1);var j=function(){function N(P,F){var T=this;this.container=P||h.createElement("div"),h.addCssClass(this.container,"ace_editor"),h.HI_DPI&&h.addCssClass(this.container,"ace_hidpi"),this.setTheme(F),f.get("useStrictCSP")==null&&f.set("useStrictCSP",!1),this.$gutter=h.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=h.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=h.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new w(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new p(this.content);var L=this.$textLayer=new v(this.content);this.canvas=L.element,this.$markerFront=new p(this.content),this.$cursorLayer=new g(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new A(this.container,this),this.scrollBarH=new k(this.container,this),this.scrollBarV.on("scroll",function(z){T.$scrollAnimation||T.session.setScrollTop(z.data-T.scrollMargin.top)}),this.scrollBarH.on("scroll",function(z){T.$scrollAnimation||T.session.setScrollLeft(z.data-T.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new D(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(z){T.updateCharacterSize(),T.onResize(!0,T.gutterWidth,T.$size.width,T.$size.height),T._signal("changeCharacterSize",z)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!R.isIOS,this.$loop=new x(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),f.resetOptions(this),f._signal("renderer",this)}return N.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),h.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},N.prototype.setSession=function(P){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=P,P&&this.scrollMargin.top&&P.getScrollTop()<=0&&P.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(P),this.$markerBack.setSession(P),this.$markerFront.setSession(P),this.$gutterLayer.setSession(P),this.$textLayer.setSession(P),P&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},N.prototype.updateLines=function(P,F,T){if(F===void 0&&(F=1/0),this.$changedLines?(this.$changedLines.firstRow>P&&(this.$changedLines.firstRow=P),this.$changedLines.lastRow<F&&(this.$changedLines.lastRow=F)):this.$changedLines={firstRow:P,lastRow:F},this.$changedLines.lastRow<this.layerConfig.firstRow)if(T)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},N.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},N.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},N.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},N.prototype.updateFull=function(P){P?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},N.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},N.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},N.prototype.onResize=function(P,F,T,L){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=P?1:0;var z=this.container;L||(L=z.clientHeight||z.scrollHeight),T||(T=z.clientWidth||z.scrollWidth);var V=this.$updateCachedSize(P,F,T,L);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!T&&!L)return this.resizing=0;P&&(this.$gutterLayer.$padding=null),P?this.$renderChanges(V|this.$changes,!0):this.$loop.schedule(V|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},N.prototype.$updateCachedSize=function(P,F,T,L){L-=this.$extraHeight||0;var z=0,V=this.$size,H={width:V.width,height:V.height,scrollerHeight:V.scrollerHeight,scrollerWidth:V.scrollerWidth};if(L&&(P||V.height!=L)&&(V.height=L,z|=this.CHANGE_SIZE,V.scrollerHeight=V.height,this.$horizScroll&&(V.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(V.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",z=z|this.CHANGE_SCROLL),T&&(P||V.width!=T)){z|=this.CHANGE_SIZE,V.width=T,F==null&&(F=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=F,h.setStyle(this.scrollBarH.element.style,"left",F+"px"),h.setStyle(this.scroller.style,"left",F+this.margin.left+"px"),V.scrollerWidth=Math.max(0,T-F-this.scrollBarV.getWidth()-this.margin.h),h.setStyle(this.$gutter.style,"left",this.margin.left+"px");var G=this.scrollBarV.getWidth()+"px";h.setStyle(this.scrollBarH.element.style,"right",G),h.setStyle(this.scroller.style,"right",G),h.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(V.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||P)&&(z|=this.CHANGE_FULL)}return V.$dirty=!T||!L,z&&this._signal("resize",H),z},N.prototype.onGutterResize=function(P){var F=this.$showGutter?P:0;F!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,F,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},N.prototype.adjustWrapLimit=function(){var P=this.$size.scrollerWidth-this.$padding*2,F=Math.floor(P/this.characterWidth);return this.session.adjustWrapLimit(F,this.$showPrintMargin&&this.$printMarginColumn)},N.prototype.setAnimatedScroll=function(P){this.setOption("animatedScroll",P)},N.prototype.getAnimatedScroll=function(){return this.$animatedScroll},N.prototype.setShowInvisibles=function(P){this.setOption("showInvisibles",P),this.session.$bidiHandler.setShowInvisibles(P)},N.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},N.prototype.getDisplayIndentGuide=function(){return this.getOption("displayIndentGuides")},N.prototype.setDisplayIndentGuides=function(P){this.setOption("displayIndentGuides",P)},N.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},N.prototype.setHighlightIndentGuides=function(P){this.setOption("highlightIndentGuides",P)},N.prototype.setShowPrintMargin=function(P){this.setOption("showPrintMargin",P)},N.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},N.prototype.setPrintMarginColumn=function(P){this.setOption("printMarginColumn",P)},N.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},N.prototype.getShowGutter=function(){return this.getOption("showGutter")},N.prototype.setShowGutter=function(P){return this.setOption("showGutter",P)},N.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},N.prototype.setFadeFoldWidgets=function(P){this.setOption("fadeFoldWidgets",P)},N.prototype.setHighlightGutterLine=function(P){this.setOption("highlightGutterLine",P)},N.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},N.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var P=h.createElement("div");P.className="ace_layer ace_print-margin-layer",this.$printMarginEl=h.createElement("div"),this.$printMarginEl.className="ace_print-margin",P.appendChild(this.$printMarginEl),this.content.insertBefore(P,this.content.firstChild)}var F=this.$printMarginEl.style;F.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",F.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},N.prototype.getContainerElement=function(){return this.container},N.prototype.getMouseEventTarget=function(){return this.scroller},N.prototype.getTextAreaContainer=function(){return this.container},N.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var P=this.textarea.style,F=this.$composition;if(!this.$keepTextAreaAtCursor&&!F){h.translate(this.textarea,-100,0);return}var T=this.$cursorLayer.$pixelPos;if(T){F&&F.markerRange&&(T=this.$cursorLayer.getPixelPosition(F.markerRange.start,!0));var L=this.layerConfig,z=T.top,V=T.left;z-=L.offset;var H=F&&F.useTextareaForIME||R.isMobile?this.lineHeight:1;if(z<0||z>L.height-H){h.translate(this.textarea,0,0);return}var G=1,J=this.$size.height-H;if(!F)z+=this.lineHeight;else if(F.useTextareaForIME){var Y=this.textarea.value;G=this.characterWidth*this.session.$getStringScreenWidth(Y)[0]}else z+=this.lineHeight+2;V-=this.scrollLeft,V>this.$size.scrollerWidth-G&&(V=this.$size.scrollerWidth-G),V+=this.gutterWidth+this.margin.left,h.setStyle(P,"height",H+"px"),h.setStyle(P,"width",G+"px"),h.translate(this.textarea,Math.min(V,this.$size.scrollerWidth-G),Math.min(z,J))}}},N.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},N.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},N.prototype.getLastFullyVisibleRow=function(){var P=this.layerConfig,F=P.lastRow,T=this.session.documentToScreenRow(F,0)*P.lineHeight;return T-this.session.getScrollTop()>P.height-P.lineHeight?F-1:F},N.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},N.prototype.setPadding=function(P){this.$padding=P,this.$textLayer.setPadding(P),this.$cursorLayer.setPadding(P),this.$markerFront.setPadding(P),this.$markerBack.setPadding(P),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},N.prototype.setScrollMargin=function(P,F,T,L){var z=this.scrollMargin;z.top=P|0,z.bottom=F|0,z.right=L|0,z.left=T|0,z.v=z.top+z.bottom,z.h=z.left+z.right,z.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-z.top),this.updateFull()},N.prototype.setMargin=function(P,F,T,L){var z=this.margin;z.top=P|0,z.bottom=F|0,z.right=L|0,z.left=T|0,z.v=z.top+z.bottom,z.h=z.left+z.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},N.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},N.prototype.setHScrollBarAlwaysVisible=function(P){this.setOption("hScrollBarAlwaysVisible",P)},N.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},N.prototype.setVScrollBarAlwaysVisible=function(P){this.setOption("vScrollBarAlwaysVisible",P)},N.prototype.$updateScrollBarV=function(){var P=this.layerConfig.maxHeight,F=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(P-=(F-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>P-F&&(P=this.scrollTop+F,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(P+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},N.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},N.prototype.freeze=function(){this.$frozen=!0},N.prototype.unfreeze=function(){this.$frozen=!1},N.prototype.$renderChanges=function(P,F){if(this.$changes&&(P|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!P&&!F){this.$changes|=P;return}if(this.$size.$dirty)return this.$changes|=P,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",P),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var T=this.layerConfig;if(P&this.CHANGE_FULL||P&this.CHANGE_SIZE||P&this.CHANGE_TEXT||P&this.CHANGE_LINES||P&this.CHANGE_SCROLL||P&this.CHANGE_H_SCROLL){if(P|=this.$computeLayerConfig()|this.$loop.clear(),T.firstRow!=this.layerConfig.firstRow&&T.firstRowScreen==this.layerConfig.firstRowScreen){var L=this.scrollTop+(T.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;L>0&&(this.scrollTop=L,P=P|this.CHANGE_SCROLL,P|=this.$computeLayerConfig()|this.$loop.clear())}T=this.layerConfig,this.$updateScrollBarV(),P&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),h.translate(this.content,-this.scrollLeft,-T.offset);var z=T.width+2*this.$padding+"px",V=T.minHeight+"px";h.setStyle(this.content.style,"width",z),h.setStyle(this.content.style,"height",V)}if(P&this.CHANGE_H_SCROLL&&(h.translate(this.content,-this.scrollLeft,-T.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),P&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(T),this.$showGutter&&this.$gutterLayer.update(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T),this.$markerBack.update(T),this.$markerFront.update(T),this.$cursorLayer.update(T),this.$moveTextAreaToCursor(),this._signal("afterRender",P);return}if(P&this.CHANGE_SCROLL){this.$changedLines=null,P&this.CHANGE_TEXT||P&this.CHANGE_LINES?this.$textLayer.update(T):this.$textLayer.scrollLines(T),this.$showGutter&&(P&this.CHANGE_GUTTER||P&this.CHANGE_LINES?this.$gutterLayer.update(T):this.$gutterLayer.scrollLines(T)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T),this.$markerBack.update(T),this.$markerFront.update(T),this.$cursorLayer.update(T),this.$moveTextAreaToCursor(),this._signal("afterRender",P);return}P&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(T),this.$showGutter&&this.$gutterLayer.update(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T)):P&this.CHANGE_LINES?((this.$updateLines()||P&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T)):P&this.CHANGE_TEXT||P&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T)):P&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T)),P&this.CHANGE_CURSOR&&(this.$cursorLayer.update(T),this.$moveTextAreaToCursor()),P&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(T),P&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(T),this._signal("afterRender",P)},N.prototype.$autosize=function(){var P=this.session.getScreenLength()*this.lineHeight,F=this.$maxLines*this.lineHeight,T=Math.min(F,Math.max((this.$minLines||1)*this.lineHeight,P))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(T+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&T>this.$maxPixelHeight&&(T=this.$maxPixelHeight);var L=T<=2*this.lineHeight,z=!L&&P>F;if(T!=this.desiredHeight||this.$size.height!=this.desiredHeight||z!=this.$vScroll){z!=this.$vScroll&&(this.$vScroll=z,this.scrollBarV.setVisible(z));var V=this.container.clientWidth;this.container.style.height=T+"px",this.$updateCachedSize(!0,this.$gutterWidth,V,T),this.desiredHeight=T,this._signal("autosize")}},N.prototype.$computeLayerConfig=function(){var P=this.session,F=this.$size,T=F.height<=2*this.lineHeight,L=this.session.getScreenLength(),z=L*this.lineHeight,V=this.$getLongestLine(),H=!T&&(this.$hScrollBarAlwaysVisible||F.scrollerWidth-V-2*this.$padding<0),G=this.$horizScroll!==H;G&&(this.$horizScroll=H,this.scrollBarH.setVisible(H));var J=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var Y=F.scrollerHeight+this.lineHeight,ee=!this.$maxLines&&this.$scrollPastEnd?(F.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;z+=ee;var re=this.scrollMargin;this.session.setScrollTop(Math.max(-re.top,Math.min(this.scrollTop,z-F.scrollerHeight+re.bottom))),this.session.setScrollLeft(Math.max(-re.left,Math.min(this.scrollLeft,V+2*this.$padding-F.scrollerWidth+re.right)));var oe=!T&&(this.$vScrollBarAlwaysVisible||F.scrollerHeight-z+ee<0||this.scrollTop>re.top),pe=J!==oe;pe&&(this.$vScroll=oe,this.scrollBarV.setVisible(oe));var le=this.scrollTop%this.lineHeight,ce=Math.ceil(Y/this.lineHeight)-1,ue=Math.max(0,Math.round((this.scrollTop-le)/this.lineHeight)),ge=ue+ce,ye,Ie,xe=this.lineHeight;ue=P.screenToDocumentRow(ue,0);var $e=P.getFoldLine(ue);$e&&(ue=$e.start.row),ye=P.documentToScreenRow(ue,0),Ie=P.getRowLength(ue)*xe,ge=Math.min(P.screenToDocumentRow(ge,0),P.getLength()-1),Y=F.scrollerHeight+P.getRowLength(ge)*xe+Ie,le=this.scrollTop-ye*xe;var qe=0;return(this.layerConfig.width!=V||G)&&(qe=this.CHANGE_H_SCROLL),(G||pe)&&(qe|=this.$updateCachedSize(!0,this.gutterWidth,F.width,F.height),this._signal("scrollbarVisibilityChanged"),pe&&(V=this.$getLongestLine())),this.layerConfig={width:V,padding:this.$padding,firstRow:ue,firstRowScreen:ye,lastRow:ge,lineHeight:xe,characterWidth:this.characterWidth,minHeight:Y,maxHeight:z,offset:le,gutterOffset:xe?Math.max(0,Math.ceil((le+F.height-F.scrollerHeight)/xe)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(V-this.$padding),qe},N.prototype.$updateLines=function(){if(this.$changedLines){var P=this.$changedLines.firstRow,F=this.$changedLines.lastRow;this.$changedLines=null;var T=this.layerConfig;if(!(P>T.lastRow+1)&&!(F<T.firstRow)){if(F===1/0){this.$showGutter&&this.$gutterLayer.update(T),this.$textLayer.update(T);return}return this.$textLayer.updateLines(T,P,F),!0}}},N.prototype.$getLongestLine=function(){var P=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(P+=1),this.$textLayer&&P>this.$textLayer.MAX_LINE_LENGTH&&(P=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(P*this.characterWidth))},N.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},N.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},N.prototype.addGutterDecoration=function(P,F){this.$gutterLayer.addGutterDecoration(P,F)},N.prototype.removeGutterDecoration=function(P,F){this.$gutterLayer.removeGutterDecoration(P,F)},N.prototype.updateBreakpoints=function(P){this.$loop.schedule(this.CHANGE_GUTTER)},N.prototype.setAnnotations=function(P){this.$gutterLayer.setAnnotations(P),this.$loop.schedule(this.CHANGE_GUTTER)},N.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},N.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},N.prototype.showCursor=function(){this.$cursorLayer.showCursor()},N.prototype.scrollSelectionIntoView=function(P,F,T){this.scrollCursorIntoView(P,T),this.scrollCursorIntoView(F,T)},N.prototype.scrollCursorIntoView=function(P,F,T){if(this.$size.scrollerHeight!==0){var L=this.$cursorLayer.getPixelPosition(P),z=L.left,V=L.top,H=T&&T.top||0,G=T&&T.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var J=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;J+H>V?(F&&J+H>V+this.lineHeight&&(V-=F*this.$size.scrollerHeight),V===0&&(V=-this.scrollMargin.top),this.session.setScrollTop(V)):J+this.$size.scrollerHeight-G<V+this.lineHeight&&(F&&J+this.$size.scrollerHeight-G<V-this.lineHeight&&(V+=F*this.$size.scrollerHeight),this.session.setScrollTop(V+this.lineHeight+G-this.$size.scrollerHeight));var Y=this.scrollLeft,ee=2*this.layerConfig.characterWidth;z-ee<Y?(z-=ee,z<this.$padding+ee&&(z=-this.scrollMargin.left),this.session.setScrollLeft(z)):(z+=ee,Y+this.$size.scrollerWidth<z+this.characterWidth?this.session.setScrollLeft(Math.round(z+this.characterWidth-this.$size.scrollerWidth)):Y<=this.$padding&&z-Y<this.characterWidth&&this.session.setScrollLeft(0))}},N.prototype.getScrollTop=function(){return this.session.getScrollTop()},N.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},N.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},N.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},N.prototype.scrollToRow=function(P){this.session.setScrollTop(P*this.lineHeight)},N.prototype.alignCursor=function(P,F){typeof P=="number"&&(P={row:P,column:0});var T=this.$cursorLayer.getPixelPosition(P),L=this.$size.scrollerHeight-this.lineHeight,z=T.top-L*(F||0);return this.session.setScrollTop(z),z},N.prototype.$calcSteps=function(P,F){var T=0,L=this.STEPS,z=[],V=function(H,G,J){return J*(Math.pow(H-1,3)+1)+G};for(T=0;T<L;++T)z.push(V(T/this.STEPS,P,F-P));return z},N.prototype.scrollToLine=function(P,F,T,L){var z=this.$cursorLayer.getPixelPosition({row:P,column:0}),V=z.top;F&&(V-=this.$size.scrollerHeight/2);var H=this.scrollTop;this.session.setScrollTop(V),T!==!1&&this.animateScrolling(H,L)},N.prototype.animateScrolling=function(P,F){var T=this.scrollTop;if(!this.$animatedScroll)return;var L=this;if(P==T)return;if(this.$scrollAnimation){var z=this.$scrollAnimation.steps;if(z.length&&(P=z[0],P==T))return}var V=L.$calcSteps(P,T);this.$scrollAnimation={from:P,to:T,steps:V},clearInterval(this.$timer),L.session.setScrollTop(V.shift()),L.session.$scrollTop=T;function H(){L.$timer=clearInterval(L.$timer),L.$scrollAnimation=null,L.$stopAnimation=!1,F&&F()}this.$timer=setInterval(function(){if(L.$stopAnimation){H();return}if(!L.session)return clearInterval(L.$timer);V.length?(L.session.setScrollTop(V.shift()),L.session.$scrollTop=T):T!=null?(L.session.$scrollTop=-1,L.session.setScrollTop(T),T=null):H()},10)},N.prototype.scrollToY=function(P){this.scrollTop!==P&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=P)},N.prototype.scrollToX=function(P){this.scrollLeft!==P&&(this.scrollLeft=P),this.$loop.schedule(this.CHANGE_H_SCROLL)},N.prototype.scrollTo=function(P,F){this.session.setScrollTop(F),this.session.setScrollLeft(P)},N.prototype.scrollBy=function(P,F){F&&this.session.setScrollTop(this.session.getScrollTop()+F),P&&this.session.setScrollLeft(this.session.getScrollLeft()+P)},N.prototype.isScrollableBy=function(P,F){if(F<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||F>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||P<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||P>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},N.prototype.pixelToScreenCoordinates=function(P,F){var T;if(this.$hasCssTransforms){T={top:0,left:0};var L=this.$fontMetrics.transformCoordinates([P,F]);P=L[1]-this.gutterWidth-this.margin.left,F=L[0]}else T=this.scroller.getBoundingClientRect();var z=P+this.scrollLeft-T.left-this.$padding,V=z/this.characterWidth,H=Math.floor((F+this.scrollTop-T.top)/this.lineHeight),G=this.$blockCursor?Math.floor(V):Math.round(V);return{row:H,column:G,side:V-G>0?1:-1,offsetX:z}},N.prototype.screenToTextCoordinates=function(P,F){var T;if(this.$hasCssTransforms){T={top:0,left:0};var L=this.$fontMetrics.transformCoordinates([P,F]);P=L[1]-this.gutterWidth-this.margin.left,F=L[0]}else T=this.scroller.getBoundingClientRect();var z=P+this.scrollLeft-T.left-this.$padding,V=z/this.characterWidth,H=this.$blockCursor?Math.floor(V):Math.round(V),G=Math.floor((F+this.scrollTop-T.top)/this.lineHeight);return this.session.screenToDocumentPosition(G,Math.max(H,0),z)},N.prototype.textToScreenCoordinates=function(P,F){var T=this.scroller.getBoundingClientRect(),L=this.session.documentToScreenPosition(P,F),z=this.$padding+(this.session.$bidiHandler.isBidiRow(L.row,P)?this.session.$bidiHandler.getPosLeft(L.column):Math.round(L.column*this.characterWidth)),V=L.row*this.lineHeight;return{pageX:T.left+z-this.scrollLeft,pageY:T.top+V-this.scrollTop}},N.prototype.visualizeFocus=function(){h.addCssClass(this.container,"ace_focus")},N.prototype.visualizeBlur=function(){h.removeCssClass(this.container,"ace_focus")},N.prototype.showComposition=function(P){this.$composition=P,P.cssText||(P.cssText=this.textarea.style.cssText),P.useTextareaForIME==null&&(P.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(h.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):P.markerId=this.session.addMarker(P.markerRange,"ace_composition_marker","text")},N.prototype.setCompositionText=function(P){var F=this.session.selection.cursor;this.addToken(P,"composition_placeholder",F.row,F.column),this.$moveTextAreaToCursor()},N.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),h.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var P=this.session.selection.cursor;this.removeExtraToken(P.row,P.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},N.prototype.setGhostText=function(P,F){var T=this.session.selection.cursor,L=F||{row:T.row,column:T.column};this.removeGhostText();var z=P.split(`
`);this.addToken(z[0],"ghost_text",L.row,L.column),this.$ghostText={text:P,position:{row:L.row,column:L.column}},z.length>1&&(this.$ghostTextWidget={text:z.slice(1).join(`
`),row:L.row,column:L.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))},N.prototype.removeGhostText=function(){if(this.$ghostText){var P=this.$ghostText.position;this.removeExtraToken(P.row,P.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},N.prototype.addToken=function(P,F,T,L){var z=this.session;z.bgTokenizer.lines[T]=null;var V={type:F,value:P},H=z.getTokens(T);if(L==null||!H.length)H.push(V);else for(var G=0,J=0;J<H.length;J++){var Y=H[J];if(G+=Y.value.length,L<=G){var ee=Y.value.length-(G-L),re=Y.value.slice(0,ee),oe=Y.value.slice(ee);H.splice(J,1,{type:Y.type,value:re},V,{type:Y.type,value:oe});break}}this.updateLines(T,T)},N.prototype.removeExtraToken=function(P,F){this.session.bgTokenizer.lines[P]=null,this.updateLines(P,P)},N.prototype.setTheme=function(P,F){var T=this;if(this.$themeId=P,T._dispatchEvent("themeChange",{theme:P}),!P||typeof P=="string"){var L=P||this.$options.theme.initialValue;f.loadModule(["theme",L],z)}else z(P);function z(V){if(T.$themeId!=P)return F&&F();if(!V||!V.cssClass)throw new Error("couldn't load module "+P+" or it didn't call define");V.$id&&(T.$themeId=V.$id),h.importCssString(V.cssText,V.cssClass,T.container),T.theme&&h.removeCssClass(T.container,T.theme.cssClass);var H="padding"in V?V.padding:"padding"in(T.theme||{})?4:T.$padding;T.$padding&&H!=T.$padding&&T.setPadding(H),T.$theme=V.cssClass,T.theme=V,h.addCssClass(T.container,V.cssClass),h.setCssClass(T.container,"ace_dark",V.isDark),T.$size&&(T.$size.width=0,T.$updateSizeAsync()),T._dispatchEvent("themeLoaded",{theme:V}),F&&F()}},N.prototype.getTheme=function(){return this.$themeId},N.prototype.setStyle=function(P,F){h.setCssClass(this.container,P,F!==!1)},N.prototype.unsetStyle=function(P){h.removeCssClass(this.container,P)},N.prototype.setCursorStyle=function(P){h.setStyle(this.scroller.style,"cursor",P)},N.prototype.setMouseCursor=function(P){h.setStyle(this.scroller.style,"cursor",P)},N.prototype.attachToShadowRoot=function(){h.importCssString(B,"ace_editor.css",this.container)},N.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},N.prototype.$updateCustomScrollbar=function(P){var F=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,P===!0?(this.scrollBarV=new E(this.container,this),this.scrollBarH=new _(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(T){F.$scrollAnimation||F.session.setScrollTop(T.data-F.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(T){F.$scrollAnimation||F.session.setScrollLeft(T.data-F.scrollMargin.left)}),this.$scrollDecorator=new I(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new A(this.container,this),this.scrollBarH=new k(this.container,this),this.scrollBarV.addEventListener("scroll",function(T){F.$scrollAnimation||F.session.setScrollTop(T.data-F.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(T){F.$scrollAnimation||F.session.setScrollLeft(T.data-F.scrollMargin.left)}))},N.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var P=this;this.$resizeTimer=b.delayedCall(function(){P.destroyed||P.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(F){var T=F[0].contentRect.width,L=F[0].contentRect.height;Math.abs(P.$size.width-T)>1||Math.abs(P.$size.height-L)>1?P.$resizeTimer.delay():P.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},N}();j.prototype.CHANGE_CURSOR=1,j.prototype.CHANGE_MARKER=2,j.prototype.CHANGE_GUTTER=4,j.prototype.CHANGE_SCROLL=8,j.prototype.CHANGE_LINES=16,j.prototype.CHANGE_TEXT=32,j.prototype.CHANGE_SIZE=64,j.prototype.CHANGE_MARKER_BACK=128,j.prototype.CHANGE_MARKER_FRONT=256,j.prototype.CHANGE_FULL=512,j.prototype.CHANGE_H_SCROLL=1024,j.prototype.$changes=0,j.prototype.$padding=null,j.prototype.$frozen=!1,j.prototype.STEPS=8,u.implement(j.prototype,O),f.defineOptions(j.prototype,"renderer",{useResizeObserver:{set:function(N){!N&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):N&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(N){this.$textLayer.setShowInvisibles(N)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(N){typeof N=="number"&&(this.$printMarginColumn=N),this.$showPrintMargin=!!N,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(N){this.$gutter.style.display=N?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(N){this.$gutterLayer.$useSvgGutterIcons=N},initialValue:!1},showFoldedAnnotations:{set:function(N){this.$gutterLayer.$showFoldedAnnotations=N},initialValue:!1},fadeFoldWidgets:{set:function(N){h.setCssClass(this.$gutter,"ace_fade-fold-widgets",N)},initialValue:!1},showFoldWidgets:{set:function(N){this.$gutterLayer.setShowFoldWidgets(N),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(N){this.$textLayer.setDisplayIndentGuides(N)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(N){this.$textLayer.setHighlightIndentGuides(N)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(N){this.$gutterLayer.setHighlightGutterLine(N),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(N){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(N){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(N){typeof N=="number"&&(N=N+"px"),this.container.style.fontSize=N,this.updateFontSize()},initialValue:12},fontFamily:{set:function(N){this.container.style.fontFamily=N,this.updateFontSize()}},maxLines:{set:function(N){this.updateFull()}},minLines:{set:function(N){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(N){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(N){N=+N||0,this.$scrollPastEnd!=N&&(this.$scrollPastEnd=N,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(N){this.$gutterLayer.$fixedWidth=!!N,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(N){this.$updateCustomScrollbar(N)},initialValue:!1},theme:{set:function(N){this.setTheme(N)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!R.isMobile&&!R.isIE}}),o.VirtualRenderer=j}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(i,o,c){var u=i("../lib/oop"),h=i("../lib/net"),b=i("../lib/event_emitter").EventEmitter,f=i("../config");function w(k){var A="importScripts('"+h.qualifyURL(k)+"');";try{return new Blob([A],{type:"application/javascript"})}catch{var _=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,E=new _;return E.append(A),E.getBlob("application/javascript")}}function p(k){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(f.get("loadWorkerFromBlob")){var A=w(k),_=window.URL||window.webkitURL,E=_.createObjectURL(A);return new Worker(E)}return new Worker(k)}var v=function(k){k.postMessage||(k=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=k,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){u.implement(this,b),this.$createWorkerFromOldConfig=function(k,A,_,E,x){if(i.nameToUrl&&!i.toUrl&&(i.toUrl=i.nameToUrl),f.get("packaged")||!i.toUrl)E=E||f.moduleUrl(A,"worker");else{var D=this.$normalizePath;E=E||D(i.toUrl("ace/worker/worker.js",null,"_"));var O={};k.forEach(function(B){O[B]=D(i.toUrl(B,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=p(E),x&&this.send("importScripts",x),this.$worker.postMessage({init:!0,tlns:O,module:A,classname:_}),this.$worker},this.onMessage=function(k){var A=k.data;switch(A.type){case"event":this._signal(A.name,{data:A.data});break;case"call":var _=this.callbacks[A.id];_&&(_(A.data),delete this.callbacks[A.id]);break;case"error":this.reportError(A.data);break;case"log":window.console&&console.log&&console.log.apply(console,A.data);break}},this.reportError=function(k){window.console&&console.error&&console.error(k)},this.$normalizePath=function(k){return h.qualifyURL(k)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(k,A){this.$worker.postMessage({command:k,args:A})},this.call=function(k,A,_){if(_){var E=this.callbackId++;this.callbacks[E]=_,A.push(E)}this.send(k,A)},this.emit=function(k,A){try{A.data&&A.data.err&&(A.data.err={message:A.data.err.message,stack:A.data.err.stack,code:A.data.err.code}),this.$worker&&this.$worker.postMessage({event:k,data:{data:A.data}})}catch(_){console.error(_.stack)}},this.attachToDocument=function(k){this.$doc&&this.terminate(),this.$doc=k,this.call("setValue",[k.getValue()]),k.on("change",this.changeListener,!0)},this.changeListener=function(k){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),k.action=="insert"?this.deltaQueue.push(k.start,k.lines):this.deltaQueue.push(k.start,k.end)},this.$sendDeltaQueue=function(){var k=this.deltaQueue;k&&(this.deltaQueue=null,k.length>50&&k.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:k}))}}).call(v.prototype);var g=function(k,A,_){var E=null,x=!1,D=Object.create(b),O=[],B=new v({messageBuffer:O,terminate:function(){},postMessage:function(R){O.push(R),E&&(x?setTimeout(I):I())}});B.setEmitSync=function(R){x=R};var I=function(){var R=O.shift();R.command?E[R.command].apply(E,R.args):R.event&&D._signal(R.event,R.data)};return D.postMessage=function(R){B.onMessage({data:R})},D.callback=function(R,j){this.postMessage({type:"call",id:j,data:R})},D.emit=function(R,j){this.postMessage({type:"event",name:R,data:j})},f.loadModule(["worker",A],function(R){for(E=new R[_](D);O.length;)I()}),B};o.UIWorkerClient=g,o.WorkerClient=v,o.createWorker=p}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(i,o,c){var u=i("./range").Range,h=i("./lib/event_emitter").EventEmitter,b=i("./lib/oop"),f=function(){function w(p,v,g,k,A,_){var E=this;this.length=v,this.session=p,this.doc=p.getDocument(),this.mainClass=A,this.othersClass=_,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=k,this.$onCursorChange=function(){setTimeout(function(){E.onCursorChange()})},this.$pos=g;var x=p.getUndoManager().$undoStack||p.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=x.length,this.setup(),p.selection.on("changeCursor",this.$onCursorChange)}return w.prototype.setup=function(){var p=this,v=this.doc,g=this.session;this.selectionBefore=g.selection.toJSON(),g.selection.inMultiSelectMode&&g.selection.toSingleRange(),this.pos=v.createAnchor(this.$pos.row,this.$pos.column);var k=this.pos;k.$insertRight=!0,k.detach(),k.markerId=g.addMarker(new u(k.row,k.column,k.row,k.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(A){var _=v.createAnchor(A.row,A.column);_.$insertRight=!0,_.detach(),p.others.push(_)}),g.setUndoSelect(!1)},w.prototype.showOtherMarkers=function(){if(!this.othersActive){var p=this.session,v=this;this.othersActive=!0,this.others.forEach(function(g){g.markerId=p.addMarker(new u(g.row,g.column,g.row,g.column+v.length),v.othersClass,null,!1)})}},w.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var p=0;p<this.others.length;p++)this.session.removeMarker(this.others[p].markerId)}},w.prototype.onUpdate=function(p){if(this.$updating)return this.updateAnchors(p);var v=p;if(v.start.row===v.end.row&&v.start.row===this.pos.row){this.$updating=!0;var g=p.action==="insert"?v.end.column-v.start.column:v.start.column-v.end.column,k=v.start.column>=this.pos.column&&v.start.column<=this.pos.column+this.length+1,A=v.start.column-this.pos.column;if(this.updateAnchors(p),k&&(this.length+=g),k&&!this.session.$fromUndo){if(p.action==="insert")for(var _=this.others.length-1;_>=0;_--){var E=this.others[_],x={row:E.row,column:E.column+A};this.doc.insertMergedLines(x,p.lines)}else if(p.action==="remove")for(var _=this.others.length-1;_>=0;_--){var E=this.others[_],x={row:E.row,column:E.column+A};this.doc.remove(new u(x.row,x.column,x.row,x.column-g))}}this.$updating=!1,this.updateMarkers()}},w.prototype.updateAnchors=function(p){this.pos.onChange(p);for(var v=this.others.length;v--;)this.others[v].onChange(p);this.updateMarkers()},w.prototype.updateMarkers=function(){if(!this.$updating){var p=this,v=this.session,g=function(A,_){v.removeMarker(A.markerId),A.markerId=v.addMarker(new u(A.row,A.column,A.row,A.column+p.length),_,null,!1)};g(this.pos,this.mainClass);for(var k=this.others.length;k--;)g(this.others[k],this.othersClass)}},w.prototype.onCursorChange=function(p){if(!(this.$updating||!this.session)){var v=this.session.selection.getCursor();v.row===this.pos.row&&v.column>=this.pos.column&&v.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",p)):(this.hideOtherMarkers(),this._emit("cursorLeave",p))}},w.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},w.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var p=this.session.getUndoManager(),v=(p.$undoStack||p.$undostack).length-this.$undoStackDepth,g=0;g<v;g++)p.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},w}();b.implement(f.prototype,h),o.PlaceHolder=f}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(i,o,c){var u=i("../lib/event"),h=i("../lib/useragent");function b(w,p){return w.row==p.row&&w.column==p.column}function f(w){var p=w.domEvent,v=p.altKey,g=p.shiftKey,k=p.ctrlKey,A=w.getAccelKey(),_=w.getButton();if(k&&h.isMac&&(_=p.button),w.editor.inMultiSelectMode&&_==2){w.editor.textInput.onContextMenu(w.domEvent);return}if(!k&&!v&&!A){_===0&&w.editor.inMultiSelectMode&&w.editor.exitMultiSelectMode();return}if(_===0){var E=w.editor,x=E.selection,D=E.inMultiSelectMode,O=w.getDocumentPosition(),B=x.getCursor(),I=w.inSelection()||x.isEmpty()&&b(O,B),R=w.x,j=w.y,N=function(oe){R=oe.clientX,j=oe.clientY},P=E.session,F=E.renderer.pixelToScreenCoordinates(R,j),T=F,L;if(E.$mouseHandler.$enableJumpToDef)k&&v||A&&v?L=g?"block":"add":v&&E.$blockSelectEnabled&&(L="block");else if(A&&!v){if(L="add",!D&&g)return}else v&&E.$blockSelectEnabled&&(L="block");if(L&&h.isMac&&p.ctrlKey&&E.$mouseHandler.cancelContextMenu(),L=="add"){if(!D&&I)return;if(!D){var z=x.toOrientedRange();E.addSelectionMarker(z)}var V=x.rangeList.rangeAtPoint(O);E.inVirtualSelectionMode=!0,g&&(V=null,z=x.ranges[0]||z,E.removeSelectionMarker(z)),E.once("mouseup",function(){var oe=x.toOrientedRange();V&&oe.isEmpty()&&b(V.cursor,oe.cursor)?x.substractPoint(oe.cursor):(g?x.substractPoint(z.cursor):z&&(E.removeSelectionMarker(z),x.addRange(z)),x.addRange(oe)),E.inVirtualSelectionMode=!1})}else if(L=="block"){w.stop(),E.inVirtualSelectionMode=!0;var H,G=[],J=function(){var oe=E.renderer.pixelToScreenCoordinates(R,j),pe=P.screenToDocumentPosition(oe.row,oe.column,oe.offsetX);b(T,oe)&&b(pe,x.lead)||(T=oe,E.selection.moveToPosition(pe),E.renderer.scrollCursorIntoView(),E.removeSelectionMarkers(G),G=x.rectangularRangeBlock(T,F),E.$mouseHandler.$clickSelection&&G.length==1&&G[0].isEmpty()&&(G[0]=E.$mouseHandler.$clickSelection.clone()),G.forEach(E.addSelectionMarker,E),E.updateSelectionMarkers())};D&&!A?x.toSingleRange():!D&&A&&(H=x.toOrientedRange(),E.addSelectionMarker(H)),g?F=P.documentToScreenPosition(x.lead):x.moveToPosition(O),T={row:-1,column:-1};var Y=function(oe){J(),clearInterval(re),E.removeSelectionMarkers(G),G.length||(G=[x.toOrientedRange()]),H&&(E.removeSelectionMarker(H),x.toSingleRange(H));for(var pe=0;pe<G.length;pe++)x.addRange(G[pe]);E.inVirtualSelectionMode=!1,E.$mouseHandler.$clickSelection=null},ee=J;u.capture(E.container,N,Y);var re=setInterval(function(){ee()},20);return w.preventDefault()}}}o.onMouseDown=f}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(i,o,c){o.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(h){h.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(h){h.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(h){h.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(h){h.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(h){h.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(h){h.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(h){h.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(h){h.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(h){h.multiSelect.rangeCount>1?h.multiSelect.joinSelections():h.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(h){h.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(h){h.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(h){h.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],o.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(h){h.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(h){return h&&h.inMultiSelectMode}}];var u=i("../keyboard/hash_handler").HashHandler;o.keyboardHandler=new u(o.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(i,o,c){var u=i("./range_list").RangeList,h=i("./range").Range,b=i("./selection").Selection,f=i("./mouse/multi_select_handler").onMouseDown,w=i("./lib/event"),p=i("./lib/lang"),v=i("./commands/multi_select_commands");o.commands=v.defaultCommands.concat(v.multiSelectCommands);var g=i("./search").Search,k=new g;function A(B,I,R){return k.$options.wrap=!0,k.$options.needle=I,k.$options.backwards=R==-1,k.find(B)}var _=i("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(_.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(B,I){if(B){if(!this.inMultiSelectMode&&this.rangeCount===0){var R=this.toOrientedRange();if(this.rangeList.add(R),this.rangeList.add(B),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),I||this.fromOrientedRange(B);this.rangeList.removeAll(),this.rangeList.add(R),this.$onAddRange(R)}B.cursor||(B.cursor=B.end);var j=this.rangeList.add(B);return this.$onAddRange(B),j.length&&this.$onRemoveRange(j),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),I||this.fromOrientedRange(B)}},this.toSingleRange=function(B){B=B||this.ranges[0];var I=this.rangeList.removeAll();I.length&&this.$onRemoveRange(I),B&&this.fromOrientedRange(B)},this.substractPoint=function(B){var I=this.rangeList.substractPoint(B);if(I)return this.$onRemoveRange(I),I[0]},this.mergeOverlappingRanges=function(){var B=this.rangeList.merge();B.length&&this.$onRemoveRange(B)},this.$onAddRange=function(B){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(B),this._signal("addRange",{range:B})},this.$onRemoveRange=function(B){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var I=this.rangeList.ranges.pop();B.push(I),this.rangeCount=0}for(var R=B.length;R--;){var j=this.ranges.indexOf(B[R]);this.ranges.splice(j,1)}this._signal("removeRange",{ranges:B}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),I=I||this.ranges[0],I&&!I.isEqual(this.getRange())&&this.fromOrientedRange(I)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new u,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var B=this.ranges.length?this.ranges:[this.getRange()],I=[],R=0;R<B.length;R++){var j=B[R],N=j.start.row,P=j.end.row;if(N===P)I.push(j.clone());else{for(I.push(new h(N,j.start.column,N,this.session.getLine(N).length));++N<P;)I.push(this.getLineRange(N,!0));I.push(new h(P,0,P,j.end.column))}R==0&&!this.isBackwards()&&(I=I.reverse())}this.toSingleRange();for(var R=I.length;R--;)this.addRange(I[R])},this.joinSelections=function(){var B=this.rangeList.ranges,I=B[B.length-1],R=h.fromPoints(B[0].start,I.end);this.toSingleRange(),this.setSelectionRange(R,I.cursor==I.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var B=this.rangeList.ranges,I=B[B.length-1],R=h.fromPoints(B[0].start,I.end);this.toSingleRange(),this.setSelectionRange(R,I.cursor==I.start)}else{var j=this.session.documentToScreenPosition(this.cursor),N=this.session.documentToScreenPosition(this.anchor),P=this.rectangularRangeBlock(j,N);P.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(B,I,R){var j=[],N=B.column<I.column;if(N)var P=B.column,F=I.column,T=B.offsetX,L=I.offsetX;else var P=I.column,F=B.column,T=I.offsetX,L=B.offsetX;var z=B.row<I.row;if(z)var V=B.row,H=I.row;else var V=I.row,H=B.row;P<0&&(P=0),V<0&&(V=0),V==H&&(R=!0);for(var G,J=V;J<=H;J++){var Y=h.fromPoints(this.session.screenToDocumentPosition(J,P,T),this.session.screenToDocumentPosition(J,F,L));if(Y.isEmpty()){if(G&&x(Y.end,G))break;G=Y.end}Y.cursor=N?Y.start:Y.end,j.push(Y)}if(z&&j.reverse(),!R){for(var ee=j.length-1;j[ee].isEmpty()&&ee>0;)ee--;if(ee>0)for(var re=0;j[re].isEmpty();)re++;for(var oe=ee;oe>=re;oe--)j[oe].isEmpty()&&j.splice(oe,1)}return j}}.call(b.prototype);var E=i("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(B){B.cursor||(B.cursor=B.end);var I=this.getSelectionStyle();return B.marker=this.session.addMarker(B,"ace_selection",I),this.session.$selectionMarkers.push(B),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,B},this.removeSelectionMarker=function(B){if(B.marker){this.session.removeMarker(B.marker);var I=this.session.$selectionMarkers.indexOf(B);I!=-1&&this.session.$selectionMarkers.splice(I,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(B){for(var I=this.session.$selectionMarkers,R=B.length;R--;){var j=B[R];if(j.marker){this.session.removeMarker(j.marker);var N=I.indexOf(j);N!=-1&&I.splice(N,1)}}this.session.selectionMarkerCount=I.length},this.$onAddRange=function(B){this.addSelectionMarker(B.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(B){this.removeSelectionMarkers(B.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(B){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(v.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(B){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(v.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(B){var I=B.command,R=B.editor;if(R.multiSelect){if(I.multiSelectAction)I.multiSelectAction=="forEach"?j=R.forEachSelection(I,B.args):I.multiSelectAction=="forEachLine"?j=R.forEachSelection(I,B.args,!0):I.multiSelectAction=="single"?(R.exitMultiSelectMode(),j=I.exec(R,B.args||{})):j=I.multiSelectAction(R,B.args||{});else{var j=I.exec(R,B.args||{});R.multiSelect.addRange(R.multiSelect.toOrientedRange()),R.multiSelect.mergeOverlappingRanges()}return j}},this.forEachSelection=function(B,I,R){if(!this.inVirtualSelectionMode){var j=R&&R.keepOrder,N=R==!0||R&&R.$byLines,P=this.session,F=this.selection,T=F.rangeList,L=(j?F:T).ranges,z;if(!L.length)return B.exec?B.exec(this,I||{}):B(this,I||{});var V=F._eventRegistry;F._eventRegistry={};var H=new b(P);this.inVirtualSelectionMode=!0;for(var G=L.length;G--;){if(N)for(;G>0&&L[G].start.row==L[G-1].end.row;)G--;H.fromOrientedRange(L[G]),H.index=G,this.selection=P.selection=H;var J=B.exec?B.exec(this,I||{}):B(this,I||{});!z&&J!==void 0&&(z=J),H.toOrientedRange(L[G])}H.detach(),this.selection=P.selection=F,this.inVirtualSelectionMode=!1,F._eventRegistry=V,F.mergeOverlappingRanges(),F.ranges[0]&&F.fromOrientedRange(F.ranges[0]);var Y=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),Y&&Y.from==Y.to&&this.renderer.animateScrolling(Y.from),z}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var B="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var I=this.multiSelect.rangeList.ranges,R=[],j=0;j<I.length;j++)R.push(this.session.getTextRange(I[j]));var N=this.session.getDocument().getNewLineCharacter();B=R.join(N),B.length==(R.length-1)*N.length&&(B="")}else this.selection.isEmpty()||(B=this.session.getTextRange(this.getSelectionRange()));return B},this.$checkMultiselectChange=function(B,I){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var R=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&I==this.multiSelect.anchor)return;var j=I==this.multiSelect.anchor?R.cursor==R.start?R.end:R.start:R.cursor;j.row!=I.row||this.session.$clipPositionToDocument(j.row,j.column).column!=I.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(B,I,R){if(I=I||{},I.needle=B||I.needle,I.needle==null){var j=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();I.needle=this.session.getTextRange(j)}this.$search.set(I);var N=this.$search.findAll(this.session);if(!N.length)return 0;var P=this.multiSelect;R||P.toSingleRange(N[0]);for(var F=N.length;F--;)P.addRange(N[F],!0);return j&&P.rangeList.rangeAtPoint(j.start)&&P.addRange(j,!0),N.length},this.selectMoreLines=function(B,I){var R=this.selection.toOrientedRange(),j=R.cursor==R.end,N=this.session.documentToScreenPosition(R.cursor);this.selection.$desiredColumn&&(N.column=this.selection.$desiredColumn);var P=this.session.screenToDocumentPosition(N.row+B,N.column);if(R.isEmpty())var T=P;else var F=this.session.documentToScreenPosition(j?R.end:R.start),T=this.session.screenToDocumentPosition(F.row+B,F.column);if(j){var L=h.fromPoints(P,T);L.cursor=L.start}else{var L=h.fromPoints(T,P);L.cursor=L.end}if(L.desiredColumn=N.column,!this.selection.inMultiSelectMode)this.selection.addRange(R);else if(I)var z=R.cursor;this.selection.addRange(L),z&&this.selection.substractPoint(z)},this.transposeSelections=function(B){for(var I=this.session,R=I.multiSelect,j=R.ranges,N=j.length;N--;){var P=j[N];if(P.isEmpty()){var F=I.getWordRange(P.start.row,P.start.column);P.start.row=F.start.row,P.start.column=F.start.column,P.end.row=F.end.row,P.end.column=F.end.column}}R.mergeOverlappingRanges();for(var T=[],N=j.length;N--;){var P=j[N];T.unshift(I.getTextRange(P))}B<0?T.unshift(T.pop()):T.push(T.shift());for(var N=j.length;N--;){var P=j[N],F=P.clone();I.replace(P,T[N]),P.start.row=F.start.row,P.start.column=F.start.column}R.fromOrientedRange(R.ranges[0])},this.selectMore=function(B,I,R){var j=this.session,N=j.multiSelect,P=N.toOrientedRange();if(!(P.isEmpty()&&(P=j.getWordRange(P.start.row,P.start.column),P.cursor=B==-1?P.start:P.end,this.multiSelect.addRange(P),R))){var F=j.getTextRange(P),T=A(j,F,B);T&&(T.cursor=B==-1?T.start:T.end,this.session.unfold(T),this.multiSelect.addRange(T),this.renderer.scrollCursorIntoView(null,.5)),I&&this.multiSelect.substractPoint(P.cursor)}},this.alignCursors=function(){var B=this.session,I=B.multiSelect,R=I.ranges,j=-1,N=R.filter(function(ee){if(ee.cursor.row==j)return!0;j=ee.cursor.row});if(!R.length||N.length==R.length-1){var P=this.selection.getRange(),F=P.start.row,T=P.end.row,L=F==T;if(L){var z=this.session.getLength(),V;do V=this.session.getLine(T);while(/[=:]/.test(V)&&++T<z);do V=this.session.getLine(F);while(/[=:]/.test(V)&&--F>0);F<0&&(F=0),T>=z&&(T=z-1)}var H=this.session.removeFullLines(F,T);H=this.$reAlignText(H,L),this.session.insert({row:F,column:0},H.join(`
`)+`
`),L||(P.start.column=0,P.end.column=H[H.length-1].length),this.selection.setRange(P)}else{N.forEach(function(ee){I.substractPoint(ee.cursor)});var G=0,J=1/0,Y=R.map(function(ee){var re=ee.cursor,oe=B.getLine(re.row),pe=oe.substr(re.column).search(/\S/g);return pe==-1&&(pe=0),re.column>G&&(G=re.column),pe<J&&(J=pe),pe});R.forEach(function(ee,re){var oe=ee.cursor,pe=G-oe.column,le=Y[re]-J;pe>le?B.insert(oe,p.stringRepeat(" ",pe-le)):B.remove(new h(oe.row,oe.column,oe.row,oe.column-pe+le)),ee.start.column=ee.end.column=G,ee.start.row=ee.end.row=oe.row,ee.cursor=ee.end}),I.fromOrientedRange(R[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(B,I){var R=!0,j=!0,N,P,F;return B.map(function(H){var G=H.match(/(\s*)(.*?)(\s*)([=:].*)/);return G?N==null?(N=G[1].length,P=G[2].length,F=G[3].length,G):(N+P+F!=G[1].length+G[2].length+G[3].length&&(j=!1),N!=G[1].length&&(R=!1),N>G[1].length&&(N=G[1].length),P<G[2].length&&(P=G[2].length),F>G[3].length&&(F=G[3].length),G):[H]}).map(I?L:R?j?z:L:V);function T(H){return p.stringRepeat(" ",H)}function L(H){return H[2]?T(N)+H[2]+T(P-H[2].length+F)+H[4].replace(/^([=:])\s+/,"$1 "):H[0]}function z(H){return H[2]?T(N+P-H[2].length)+H[2]+T(F)+H[4].replace(/^([=:])\s+/,"$1 "):H[0]}function V(H){return H[2]?T(N)+H[2]+T(F)+H[4].replace(/^([=:])\s+/,"$1 "):H[0]}}}).call(E.prototype);function x(B,I){return B.row==I.row&&B.column==I.column}o.onSessionChange=function(B){var I=B.session;I&&!I.multiSelect&&(I.$selectionMarkers=[],I.selection.$initRangeList(),I.multiSelect=I.selection),this.multiSelect=I&&I.multiSelect;var R=B.oldSession;R&&(R.multiSelect.off("addRange",this.$onAddRange),R.multiSelect.off("removeRange",this.$onRemoveRange),R.multiSelect.off("multiSelect",this.$onMultiSelect),R.multiSelect.off("singleSelect",this.$onSingleSelect),R.multiSelect.lead.off("change",this.$checkMultiselectChange),R.multiSelect.anchor.off("change",this.$checkMultiselectChange)),I&&(I.multiSelect.on("addRange",this.$onAddRange),I.multiSelect.on("removeRange",this.$onRemoveRange),I.multiSelect.on("multiSelect",this.$onMultiSelect),I.multiSelect.on("singleSelect",this.$onSingleSelect),I.multiSelect.lead.on("change",this.$checkMultiselectChange),I.multiSelect.anchor.on("change",this.$checkMultiselectChange)),I&&this.inMultiSelectMode!=I.selection.inMultiSelectMode&&(I.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function D(B){B.$multiselectOnSessionChange||(B.$onAddRange=B.$onAddRange.bind(B),B.$onRemoveRange=B.$onRemoveRange.bind(B),B.$onMultiSelect=B.$onMultiSelect.bind(B),B.$onSingleSelect=B.$onSingleSelect.bind(B),B.$multiselectOnSessionChange=o.onSessionChange.bind(B),B.$checkMultiselectChange=B.$checkMultiselectChange.bind(B),B.$multiselectOnSessionChange(B),B.on("changeSession",B.$multiselectOnSessionChange),B.on("mousedown",f),B.commands.addCommands(v.defaultCommands),O(B))}function O(B){if(!B.textInput)return;var I=B.textInput.getElement(),R=!1;w.addListener(I,"keydown",function(N){var P=N.keyCode==18&&!(N.ctrlKey||N.shiftKey||N.metaKey);B.$blockSelectEnabled&&P?R||(B.renderer.setMouseCursor("crosshair"),R=!0):R&&j()},B),w.addListener(I,"keyup",j,B),w.addListener(I,"blur",j,B);function j(N){R&&(B.renderer.setMouseCursor(""),R=!1)}}o.MultiSelect=D,i("./config").defineOptions(E.prototype,"editor",{enableMultiselect:{set:function(B){D(this),B?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",f)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",f))},value:!0},enableBlockSelect:{set:function(B){this.$blockSelectEnabled=B},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(i,o,c){var u=i("../../range").Range,h=o.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(b,f,w){var p=b.getLine(w);return this.foldingStartMarker.test(p)?"start":f=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(p)?"end":""},this.getFoldWidgetRange=function(b,f,w){return null},this.indentationBlock=function(b,f,w){var p=/\S/,v=b.getLine(f),g=v.search(p);if(g!=-1){for(var k=w||v.length,A=b.getLength(),_=f,E=f;++f<A;){var x=b.getLine(f).search(p);if(x!=-1){if(x<=g){var D=b.getTokenAt(f,0);if(!D||D.type!=="string")break}E=f}}if(E>_){var O=b.getLine(E).length;return new u(_,k,E,O)}}},this.openingBracketBlock=function(b,f,w,p,v){var g={row:w,column:p+1},k=b.$findClosingBracket(f,g,v);if(k){var A=b.foldWidgets[k.row];return A==null&&(A=b.getFoldWidget(k.row)),A=="start"&&k.row>g.row&&(k.row--,k.column=b.getLine(k.row).length),u.fromPoints(g,k)}},this.closingBracketBlock=function(b,f,w,p,v){var g={row:w,column:p},k=b.$findOpeningBracket(f,g);if(k)return k.column++,g.column--,u.fromPoints(k,g)}}).call(h.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(i,o,c){var u=i("../line_widgets").LineWidgets,h=i("../lib/dom"),b=i("../range").Range;function f(p,v,g){for(var k=0,A=p.length-1;k<=A;){var _=k+A>>1,E=g(v,p[_]);if(E>0)k=_+1;else if(E<0)A=_-1;else return _}return-(k+1)}function w(p,v,g){var k=p.getAnnotations().sort(b.comparePoints);if(k.length){var A=f(k,{row:v,column:-1},b.comparePoints);A<0&&(A=-A-1),A>=k.length?A=g>0?0:k.length-1:A===0&&g<0&&(A=k.length-1);var _=k[A];if(!(!_||!g)){if(_.row===v){do _=k[A+=g];while(_&&_.row===v);if(!_)return k.slice()}var E=[];v=_.row;do E[g<0?"unshift":"push"](_),_=k[A+=g];while(_&&_.row==v);return E.length&&E}}}o.showErrorMarker=function(p,v){var g=p.session;g.widgetManager||(g.widgetManager=new u(g),g.widgetManager.attach(p));var k=p.getCursorPosition(),A=k.row,_=g.widgetManager.getWidgetsAtRow(A).filter(function(N){return N.type=="errorMarker"})[0];_?_.destroy():A-=v;var E=w(g,A,v),x;if(E){var D=E[0];k.column=(D.pos&&typeof D.column!="number"?D.pos.sc:D.column)||0,k.row=D.row,x=p.renderer.$gutterLayer.$annotations[k.row]}else{if(_)return;x={text:["Looks good!"],className:"ace_ok"}}p.session.unfold(k.row),p.selection.moveToPosition(k);var O={row:k.row,fixedWidth:!0,coverGutter:!0,el:h.createElement("div"),type:"errorMarker"},B=O.el.appendChild(h.createElement("div")),I=O.el.appendChild(h.createElement("div"));I.className="error_widget_arrow "+x.className;var R=p.renderer.$cursorLayer.getPixelPosition(k).left;I.style.left=R+p.renderer.gutterWidth-5+"px",O.el.className="error_widget_wrapper",B.className="error_widget "+x.className,B.innerHTML=x.text.join("<br>"),B.appendChild(h.createElement("div"));var j=function(N,P,F){if(P===0&&(F==="esc"||F==="return"))return O.destroy(),{command:"null"}};O.destroy=function(){p.$mouseHandler.isMousePressed||(p.keyBinding.removeKeyboardHandler(j),g.widgetManager.removeLineWidget(O),p.off("changeSelection",O.destroy),p.off("changeSession",O.destroy),p.off("mouseup",O.destroy),p.off("change",O.destroy))},p.keyBinding.addKeyboardHandler(j),p.on("changeSelection",O.destroy),p.on("changeSession",O.destroy),p.on("mouseup",O.destroy),p.on("change",O.destroy),p.session.widgetManager.addLineWidget(O),O.el.onmousedown=p.focus.bind(p),p.renderer.scrollCursorIntoView(null,.5,{bottom:O.el.offsetHeight})},h.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(i,o,c){i("./loader_build")(o);var u=i("./lib/dom"),h=i("./range").Range,b=i("./editor").Editor,f=i("./edit_session").EditSession,w=i("./undomanager").UndoManager,p=i("./virtual_renderer").VirtualRenderer;i("./worker/worker_client"),i("./keyboard/hash_handler"),i("./placeholder"),i("./multi_select"),i("./mode/folding/fold_mode"),i("./theme/textmate"),i("./ext/error_marker"),o.config=i("./config"),o.edit=function(v,g){if(typeof v=="string"){var k=v;if(v=document.getElementById(k),!v)throw new Error("ace.edit can't find div #"+k)}if(v&&v.env&&v.env.editor instanceof b)return v.env.editor;var A="";if(v&&/input|textarea/i.test(v.tagName)){var _=v;A=_.value,v=u.createElement("pre"),_.parentNode.replaceChild(v,_)}else v&&(A=v.textContent,v.innerHTML="");var E=o.createEditSession(A),x=new b(new p(v),E,g),D={document:E,editor:x,onResize:x.resize.bind(x,null)};return _&&(D.textarea=_),x.on("destroy",function(){D.editor.container.env=null}),x.container.env=x.env=D,x},o.createEditSession=function(v,g){var k=new f(v,g);return k.setUndoManager(new w),k},o.Range=h,o.Editor=b,o.EditSession=f,o.UndoManager=w,o.VirtualRenderer=p,o.version=o.config.version}),function(){ace.require(["ace/ace"],function(i){i&&(i.config.init(!0),i.define=ace.define),window.ace||(window.ace=i);for(var o in i)i.hasOwnProperty(o)&&(window.ace[o]=i[o]);window.ace.default=window.ace,n&&(n.exports=window.ace)})}()})(K4);var Uf=K4.exports;const Wte=Gf(Uf);var q4={exports:{}},Gte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kte=Gte,qte=Kte;function Q4(){}function Y4(){}Y4.resetWarningCache=Q4;var Qte=function(){function n(o,c,u,h,b,f){if(f!==qte){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}n.isRequired=n;function t(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Y4,resetWarningCache:Q4};return i.PropTypes=i,i};q4.exports=Qte();var L1=q4.exports,Gv={exports:{}};Gv.exports;(function(n,t){var i=200,o="__lodash_hash_undefined__",c=1,u=2,h=9007199254740991,b="[object Arguments]",f="[object Array]",w="[object AsyncFunction]",p="[object Boolean]",v="[object Date]",g="[object Error]",k="[object Function]",A="[object GeneratorFunction]",_="[object Map]",E="[object Number]",x="[object Null]",D="[object Object]",O="[object Promise]",B="[object Proxy]",I="[object RegExp]",R="[object Set]",j="[object String]",N="[object Symbol]",P="[object Undefined]",F="[object WeakMap]",T="[object ArrayBuffer]",L="[object DataView]",z="[object Float32Array]",V="[object Float64Array]",H="[object Int8Array]",G="[object Int16Array]",J="[object Int32Array]",Y="[object Uint8Array]",ee="[object Uint8ClampedArray]",re="[object Uint16Array]",oe="[object Uint32Array]",pe=/[\\^$.*+?()[\]{}|]/g,le=/^\[object .+?Constructor\]$/,ce=/^(?:0|[1-9]\d*)$/,ue={};ue[z]=ue[V]=ue[H]=ue[G]=ue[J]=ue[Y]=ue[ee]=ue[re]=ue[oe]=!0,ue[b]=ue[f]=ue[T]=ue[p]=ue[L]=ue[v]=ue[g]=ue[k]=ue[_]=ue[E]=ue[D]=ue[I]=ue[R]=ue[j]=ue[F]=!1;var ge=typeof Zt=="object"&&Zt&&Zt.Object===Object&&Zt,ye=typeof self=="object"&&self&&self.Object===Object&&self,Ie=ge||ye||Function("return this")(),xe=t&&!t.nodeType&&t,$e=xe&&!0&&n&&!n.nodeType&&n,qe=$e&&$e.exports===xe,wt=qe&&ge.process,Jt=function(){try{return wt&&wt.binding&&wt.binding("util")}catch{}}(),Ye=Jt&&Jt.isTypedArray;function Et(te,he){for(var _e=-1,ze=te==null?0:te.length,Pt=0,Je=[];++_e<ze;){var zt=te[_e];he(zt,_e,te)&&(Je[Pt++]=zt)}return Je}function se(te,he){for(var _e=-1,ze=he.length,Pt=te.length;++_e<ze;)te[Pt+_e]=he[_e];return te}function we(te,he){for(var _e=-1,ze=te==null?0:te.length;++_e<ze;)if(he(te[_e],_e,te))return!0;return!1}function ke(te,he){for(var _e=-1,ze=Array(te);++_e<te;)ze[_e]=he(_e);return ze}function Fe(te){return function(he){return te(he)}}function Be(te,he){return te.has(he)}function Me(te,he){return te==null?void 0:te[he]}function fe(te){var he=-1,_e=Array(te.size);return te.forEach(function(ze,Pt){_e[++he]=[Pt,ze]}),_e}function Se(te,he){return function(_e){return te(he(_e))}}function Oe(te){var he=-1,_e=Array(te.size);return te.forEach(function(ze){_e[++he]=ze}),_e}var nt=Array.prototype,it=Function.prototype,ot=Object.prototype,Dt=Ie["__core-js_shared__"],kt=it.toString,ut=ot.hasOwnProperty,pt=function(){var te=/[^.]+$/.exec(Dt&&Dt.keys&&Dt.keys.IE_PROTO||"");return te?"Symbol(src)_1."+te:""}(),Ln=ot.toString,fo=RegExp("^"+kt.call(ut).replace(pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rs=qe?Ie.Buffer:void 0,os=Ie.Symbol,lr=Ie.Uint8Array,Rn=ot.propertyIsEnumerable,kn=nt.splice,ki=os?os.toStringTag:void 0,Fr=Object.getOwnPropertySymbols,Cc=rs?rs.isBuffer:void 0,ol=Se(Object.keys,Object),sl=bo(Ie,"DataView"),ss=bo(Ie,"Map"),Hs=bo(Ie,"Promise"),al=bo(Ie,"Set"),ll=bo(Ie,"WeakMap"),Xt=bo(Object,"create"),Ec=Vr(sl),as=Vr(ss),Ws=Vr(Hs),Gs=Vr(al),Od=Vr(ll),Sc=os?os.prototype:void 0,cl=Sc?Sc.valueOf:void 0;function zr(te){var he=-1,_e=te==null?0:te.length;for(this.clear();++he<_e;){var ze=te[he];this.set(ze[0],ze[1])}}function Bi(){this.__data__=Xt?Xt(null):{},this.size=0}function Ks(te){var he=this.has(te)&&delete this.__data__[te];return this.size-=he?1:0,he}function Pd(te){var he=this.__data__;if(Xt){var _e=he[te];return _e===o?void 0:_e}return ut.call(he,te)?he[te]:void 0}function po(te){var he=this.__data__;return Xt?he[te]!==void 0:ut.call(he,te)}function $d(te,he){var _e=this.__data__;return this.size+=this.has(te)?0:1,_e[te]=Xt&&he===void 0?o:he,this}zr.prototype.clear=Bi,zr.prototype.delete=Ks,zr.prototype.get=Pd,zr.prototype.has=po,zr.prototype.set=$d;function cr(te){var he=-1,_e=te==null?0:te.length;for(this.clear();++he<_e;){var ze=te[he];this.set(ze[0],ze[1])}}function Ar(){this.__data__=[],this.size=0}function qs(te){var he=this.__data__,_e=Ys(he,te);if(_e<0)return!1;var ze=he.length-1;return _e==ze?he.pop():kn.call(he,_e,1),--this.size,!0}function xc(te){var he=this.__data__,_e=Ys(he,te);return _e<0?void 0:he[_e][1]}function Tc(te){return Ys(this.__data__,te)>-1}function Qs(te,he){var _e=this.__data__,ze=Ys(_e,te);return ze<0?(++this.size,_e.push([te,he])):_e[ze][1]=he,this}cr.prototype.clear=Ar,cr.prototype.delete=qs,cr.prototype.get=xc,cr.prototype.has=Tc,cr.prototype.set=Qs;function si(te){var he=-1,_e=te==null?0:te.length;for(this.clear();++he<_e;){var ze=te[he];this.set(ze[0],ze[1])}}function Dc(){this.size=0,this.__data__={hash:new zr,map:new(ss||cr),string:new zr}}function Ic(te){var he=jr(this,te).delete(te);return this.size-=he?1:0,he}function Bd(te){return jr(this,te).get(te)}function Fd(te){return jr(this,te).has(te)}function zd(te,he){var _e=jr(this,te),ze=_e.size;return _e.set(te,he),this.size+=_e.size==ze?0:1,this}si.prototype.clear=Dc,si.prototype.delete=Ic,si.prototype.get=Bd,si.prototype.has=Fd,si.prototype.set=zd;function go(te){var he=-1,_e=te==null?0:te.length;for(this.__data__=new si;++he<_e;)this.add(te[he])}function jd(te){return this.__data__.set(te,o),this}function Mc(te){return this.__data__.has(te)}go.prototype.add=go.prototype.push=jd,go.prototype.has=Mc;function jn(te){var he=this.__data__=new cr(te);this.size=he.size}function mo(){this.__data__=new cr,this.size=0}function vo(te){var he=this.__data__,_e=he.delete(te);return this.size=he.size,_e}function Vd(te){return this.__data__.get(te)}function Ud(te){return this.__data__.has(te)}function Lc(te,he){var _e=this.__data__;if(_e instanceof cr){var ze=_e.__data__;if(!ss||ze.length<i-1)return ze.push([te,he]),this.size=++_e.size,this;_e=this.__data__=new si(ze)}return _e.set(te,he),this.size=_e.size,this}jn.prototype.clear=mo,jn.prototype.delete=vo,jn.prototype.get=Vd,jn.prototype.has=Ud,jn.prototype.set=Lc;function Ft(te,he){var _e=cs(te),ze=!_e&&gl(te),Pt=!_e&&!ze&&us(te),Je=!_e&&!ze&&!Pt&&ta(te),zt=_e||ze||Pt||Je,en=zt?ke(te.length,String):[],fn=en.length;for(var jt in te)(he||ut.call(te,jt))&&!(zt&&(jt=="length"||Pt&&(jt=="offset"||jt=="parent")||Je&&(jt=="buffer"||jt=="byteLength"||jt=="byteOffset")||Js(jt,fn)))&&en.push(jt);return en}function Ys(te,he){for(var _e=te.length;_e--;)if(Xs(te[_e][0],he))return _e;return-1}function ul(te,he,_e){var ze=he(te);return cs(te)?ze:se(ze,_e(te))}function wo(te){return te==null?te===void 0?P:x:ki&&ki in Object(te)?yo(te):Cr(te)}function Fi(te){return Yi(te)&&wo(te)==b}function ls(te,he,_e,ze,Pt){return te===he?!0:te==null||he==null||!Yi(te)&&!Yi(he)?te!==te&&he!==he:ko(te,he,_e,ze,ls,Pt)}function ko(te,he,_e,ze,Pt,Je){var zt=cs(te),en=cs(he),fn=zt?f:Qi(te),jt=en?f:Qi(he);fn=fn==b?D:fn,jt=jt==b?D:jt;var Qn=fn==D,Yn=jt==D,Sn=fn==jt;if(Sn&&us(te)){if(!us(he))return!1;zt=!0,Qn=!1}if(Sn&&!Qn)return Je||(Je=new jn),zt||ta(te)?dl(te,he,_e,ze,Pt,Je):Wd(te,he,fn,_e,ze,Pt,Je);if(!(_e&c)){var ai=Qn&&ut.call(te,"__wrapped__"),bi=Yn&&ut.call(he,"__wrapped__");if(ai||bi){var zi=ai?te.value():te,ji=bi?he.value():he;return Je||(Je=new jn),Pt(zi,ji,_e,ze,Je)}}return Sn?(Je||(Je=new jn),hl(te,he,_e,ze,Pt,Je)):!1}function Rc(te){if(!vl(te)||Gd(te))return!1;var he=ml(te)?fo:le;return he.test(Vr(te))}function Zs(te){return Yi(te)&&ea(te.length)&&!!ue[wo(te)]}function Hd(te){if(!pl(te))return ol(te);var he=[];for(var _e in Object(te))ut.call(te,_e)&&_e!="constructor"&&he.push(_e);return he}function dl(te,he,_e,ze,Pt,Je){var zt=_e&c,en=te.length,fn=he.length;if(en!=fn&&!(zt&&fn>en))return!1;var jt=Je.get(te);if(jt&&Je.get(he))return jt==he;var Qn=-1,Yn=!0,Sn=_e&u?new go:void 0;for(Je.set(te,he),Je.set(he,te);++Qn<en;){var ai=te[Qn],bi=he[Qn];if(ze)var zi=zt?ze(bi,ai,Qn,he,te,Je):ze(ai,bi,Qn,te,he,Je);if(zi!==void 0){if(zi)continue;Yn=!1;break}if(Sn){if(!we(he,function(ji,Ur){if(!Be(Sn,Ur)&&(ai===ji||Pt(ai,ji,_e,ze,Je)))return Sn.push(Ur)})){Yn=!1;break}}else if(!(ai===bi||Pt(ai,bi,_e,ze,Je))){Yn=!1;break}}return Je.delete(te),Je.delete(he),Yn}function Wd(te,he,_e,ze,Pt,Je,zt){switch(_e){case L:if(te.byteLength!=he.byteLength||te.byteOffset!=he.byteOffset)return!1;te=te.buffer,he=he.buffer;case T:return!(te.byteLength!=he.byteLength||!Je(new lr(te),new lr(he)));case p:case v:case E:return Xs(+te,+he);case g:return te.name==he.name&&te.message==he.message;case I:case j:return te==he+"";case _:var en=fe;case R:var fn=ze&c;if(en||(en=Oe),te.size!=he.size&&!fn)return!1;var jt=zt.get(te);if(jt)return jt==he;ze|=u,zt.set(te,he);var Qn=dl(en(te),en(he),ze,Pt,Je,zt);return zt.delete(te),Qn;case N:if(cl)return cl.call(te)==cl.call(he)}return!1}function hl(te,he,_e,ze,Pt,Je){var zt=_e&c,en=_r(te),fn=en.length,jt=_r(he),Qn=jt.length;if(fn!=Qn&&!zt)return!1;for(var Yn=fn;Yn--;){var Sn=en[Yn];if(!(zt?Sn in he:ut.call(he,Sn)))return!1}var ai=Je.get(te);if(ai&&Je.get(he))return ai==he;var bi=!0;Je.set(te,he),Je.set(he,te);for(var zi=zt;++Yn<fn;){Sn=en[Yn];var ji=te[Sn],Ur=he[Sn];if(ze)var Oc=zt?ze(Ur,ji,Sn,he,te,Je):ze(ji,Ur,Sn,te,he,Je);if(!(Oc===void 0?ji===Ur||Pt(ji,Ur,_e,ze,Je):Oc)){bi=!1;break}zi||(zi=Sn=="constructor")}if(bi&&!zi){var Zi=te.constructor,_o=he.constructor;Zi!=_o&&"constructor"in te&&"constructor"in he&&!(typeof Zi=="function"&&Zi instanceof Zi&&typeof _o=="function"&&_o instanceof _o)&&(bi=!1)}return Je.delete(te),Je.delete(he),bi}function _r(te){return ul(te,wl,Ao)}function jr(te,he){var _e=te.__data__;return fl(he)?_e[typeof he=="string"?"string":"hash"]:_e.map}function bo(te,he){var _e=Me(te,he);return Rc(_e)?_e:void 0}function yo(te){var he=ut.call(te,ki),_e=te[ki];try{te[ki]=void 0;var ze=!0}catch{}var Pt=Ln.call(te);return ze&&(he?te[ki]=_e:delete te[ki]),Pt}var Ao=Fr?function(te){return te==null?[]:(te=Object(te),Et(Fr(te),function(he){return Rn.call(te,he)}))}:kl,Qi=wo;(sl&&Qi(new sl(new ArrayBuffer(1)))!=L||ss&&Qi(new ss)!=_||Hs&&Qi(Hs.resolve())!=O||al&&Qi(new al)!=R||ll&&Qi(new ll)!=F)&&(Qi=function(te){var he=wo(te),_e=he==D?te.constructor:void 0,ze=_e?Vr(_e):"";if(ze)switch(ze){case Ec:return L;case as:return _;case Ws:return O;case Gs:return R;case Od:return F}return he});function Js(te,he){return he=he??h,!!he&&(typeof te=="number"||ce.test(te))&&te>-1&&te%1==0&&te<he}function fl(te){var he=typeof te;return he=="string"||he=="number"||he=="symbol"||he=="boolean"?te!=="__proto__":te===null}function Gd(te){return!!pt&&pt in te}function pl(te){var he=te&&te.constructor,_e=typeof he=="function"&&he.prototype||ot;return te===_e}function Cr(te){return Ln.call(te)}function Vr(te){if(te!=null){try{return kt.call(te)}catch{}try{return te+""}catch{}}return""}function Xs(te,he){return te===he||te!==te&&he!==he}var gl=Fi(function(){return arguments}())?Fi:function(te){return Yi(te)&&ut.call(te,"callee")&&!Rn.call(te,"callee")},cs=Array.isArray;function Nc(te){return te!=null&&ea(te.length)&&!ml(te)}var us=Cc||Ot;function Kd(te,he){return ls(te,he)}function ml(te){if(!vl(te))return!1;var he=wo(te);return he==k||he==A||he==w||he==B}function ea(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=h}function vl(te){var he=typeof te;return te!=null&&(he=="object"||he=="function")}function Yi(te){return te!=null&&typeof te=="object"}var ta=Ye?Fe(Ye):Zs;function wl(te){return Nc(te)?Ft(te):Hd(te)}function kl(){return[]}function Ot(){return!1}n.exports=Kd})(Gv,Gv.exports);var Z4=Gv.exports,ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.getAceInstance=ro.debounce=ro.editorEvents=ro.editorOptions=void 0;var Yte=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];ro.editorOptions=Yte;var Zte=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];ro.editorEvents=Zte;var Jte=function(){var n;return typeof window>"u"?(Zt.window={},n=Uf,delete Zt.window):window.ace?(n=window.ace,n.acequire=window.ace.require||window.ace.acequire):n=Uf,n};ro.getAceInstance=Jte;var Xte=function(n,t){var i=null;return function(){var o=this,c=arguments;clearTimeout(i),i=setTimeout(function(){n.apply(o,c)},t)}};ro.debounce=Xte;var ene=Zt&&Zt.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(o[u]=c[u])},n(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function o(){this.constructor=t}t.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}}(),e_=Zt&&Zt.__assign||function(){return e_=Object.assign||function(n){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(n[c]=t[c])}return n},e_.apply(this,arguments)};Object.defineProperty(M1,"__esModule",{value:!0});var tne=Uf,Ze=L1,AN=Te,um=Z4,gu=ro,_N=(0,gu.getAceInstance)(),nne=function(n){ene(t,n);function t(i){var o=n.call(this,i)||this;return gu.editorEvents.forEach(function(c){o[c]=o[c].bind(o)}),o.debounce=gu.debounce,o}return t.prototype.isInShadow=function(i){for(var o=i&&i.parentNode;o;){if(o.toString()==="[object ShadowRoot]")return!0;o=o.parentNode}return!1},t.prototype.componentDidMount=function(){var i=this,o=this.props,c=o.className,u=o.onBeforeLoad,h=o.onValidate,b=o.mode,f=o.focus,w=o.theme,p=o.fontSize,v=o.value,g=o.defaultValue,k=o.showGutter,A=o.wrapEnabled,_=o.showPrintMargin,E=o.scrollMargin,x=E===void 0?[0,0,0,0]:E,D=o.keyboardHandler,O=o.onLoad,B=o.commands,I=o.annotations,R=o.markers,j=o.placeholder;this.editor=_N.edit(this.refEditor),u&&u(_N);for(var N=Object.keys(this.props.editorProps),P=0;P<N.length;P++)this.editor[N[P]]=this.props.editorProps[N[P]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(x[0],x[1],x[2],x[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof b=="string"?"ace/mode/".concat(b):b),w&&w!==""&&this.editor.setTheme("ace/theme/".concat(w)),this.editor.setFontSize(typeof p=="number"?"".concat(p,"px"):p),this.editor.getSession().setValue(g||v||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(k),this.editor.getSession().setUseWrapMode(A),this.editor.setShowPrintMargin(_),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),j&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),h&&this.editor.getSession().on("changeAnnotation",function(){var T=i.editor.getSession().getAnnotations();i.props.onValidate(T)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(I||[]),R&&R.length>0&&this.handleMarkers(R);var F=this.editor.$options;gu.editorOptions.forEach(function(T){F.hasOwnProperty(T)?i.editor.setOption(T,i.props[T]):i.props[T]&&console.warn("ReactAce: editor option ".concat(T," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(B)&&B.forEach(function(T){typeof T.exec=="string"?i.editor.commands.bindKey(T.bindKey,T.exec):i.editor.commands.addCommand(T)}),D&&this.editor.setKeyboardHandler("ace/keyboard/"+D),c&&(this.refEditor.className+=" "+c),O&&O(this.editor),this.editor.resize(),f&&this.editor.focus()},t.prototype.componentDidUpdate=function(i){for(var o=i,c=this.props,u=0;u<gu.editorOptions.length;u++){var h=gu.editorOptions[u];c[h]!==o[h]&&this.editor.setOption(h,c[h])}if(c.className!==o.className){var b=this.refEditor.className,f=b.trim().split(" "),w=o.className.trim().split(" ");w.forEach(function(g){var k=f.indexOf(g);f.splice(k,1)}),this.refEditor.className=" "+c.className+" "+f.join(" ")}var p=this.editor&&c.value!=null&&this.editor.getValue()!==c.value;if(p){this.silent=!0;var v=this.editor.session.selection.toJSON();this.editor.setValue(c.value,c.cursorStart),this.editor.session.selection.fromJSON(v),this.silent=!1}c.placeholder!==o.placeholder&&this.updatePlaceholder(),c.mode!==o.mode&&this.editor.getSession().setMode(typeof c.mode=="string"?"ace/mode/".concat(c.mode):c.mode),c.theme!==o.theme&&this.editor.setTheme("ace/theme/"+c.theme),c.keyboardHandler!==o.keyboardHandler&&(c.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+c.keyboardHandler):this.editor.setKeyboardHandler(null)),c.fontSize!==o.fontSize&&this.editor.setFontSize(typeof c.fontSize=="number"?"".concat(c.fontSize,"px"):c.fontSize),c.wrapEnabled!==o.wrapEnabled&&this.editor.getSession().setUseWrapMode(c.wrapEnabled),c.showPrintMargin!==o.showPrintMargin&&this.editor.setShowPrintMargin(c.showPrintMargin),c.showGutter!==o.showGutter&&this.editor.renderer.setShowGutter(c.showGutter),um(c.setOptions,o.setOptions)||this.handleOptions(c),(p||!um(c.annotations,o.annotations))&&this.editor.getSession().setAnnotations(c.annotations||[]),!um(c.markers,o.markers)&&Array.isArray(c.markers)&&this.handleMarkers(c.markers),um(c.scrollMargin,o.scrollMargin)||this.handleScrollMargins(c.scrollMargin),(i.height!==this.props.height||i.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!i.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(i){i===void 0&&(i=[0,0,0,0]),this.editor.renderer.setScrollMargin(i[0],i[1],i[2],i[3])},t.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},t.prototype.onChange=function(i){if(this.props.onChange&&!this.silent){var o=this.editor.getValue();this.props.onChange(o,i)}},t.prototype.onSelectionChange=function(i){if(this.props.onSelectionChange){var o=this.editor.getSelection();this.props.onSelectionChange(o,i)}},t.prototype.onCursorChange=function(i){if(this.props.onCursorChange){var o=this.editor.getSelection();this.props.onCursorChange(o,i)}},t.prototype.onInput=function(i){this.props.onInput&&this.props.onInput(i),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(i){this.props.onFocus&&this.props.onFocus(i,this.editor)},t.prototype.onBlur=function(i){this.props.onBlur&&this.props.onBlur(i,this.editor)},t.prototype.onCopy=function(i){var o=i.text;this.props.onCopy&&this.props.onCopy(o)},t.prototype.onPaste=function(i){var o=i.text;this.props.onPaste&&this.props.onPaste(o)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(i){for(var o=Object.keys(i.setOptions),c=0;c<o.length;c++)this.editor.setOption(o[c],i.setOptions[o[c]])},t.prototype.handleMarkers=function(i){var o=this,c=this.editor.getSession().getMarkers(!0);for(var u in c)c.hasOwnProperty(u)&&this.editor.getSession().removeMarker(c[u].id);c=this.editor.getSession().getMarkers(!1);for(var u in c)c.hasOwnProperty(u)&&c[u].clazz!=="ace_active-line"&&c[u].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(c[u].id);i.forEach(function(h){var b=h.startRow,f=h.startCol,w=h.endRow,p=h.endCol,v=h.className,g=h.type,k=h.inFront,A=k===void 0?!1:k,_=new tne.Range(b,f,w,p);o.editor.getSession().addMarker(_,v,g,A)})},t.prototype.updatePlaceholder=function(){var i=this.editor,o=this.props.placeholder,c=!i.session.getValue().length,u=i.renderer.placeholderNode;!c&&u?(i.renderer.scroller.removeChild(i.renderer.placeholderNode),i.renderer.placeholderNode=null):c&&!u?(u=i.renderer.placeholderNode=document.createElement("div"),u.textContent=o||"",u.className="ace_comment ace_placeholder",u.style.padding="0 9px",u.style.position="absolute",u.style.zIndex="3",i.renderer.scroller.appendChild(u)):c&&u&&(u.textContent=o)},t.prototype.updateRef=function(i){this.refEditor=i},t.prototype.render=function(){var i=this.props,o=i.name,c=i.width,u=i.height,h=i.style,b=e_({width:c,height:u},h);return AN.createElement("div",{ref:this.updateRef,id:o,style:b})},t.propTypes={mode:Ze.oneOfType([Ze.string,Ze.object]),focus:Ze.bool,theme:Ze.string,name:Ze.string,className:Ze.string,height:Ze.string,width:Ze.string,fontSize:Ze.oneOfType([Ze.number,Ze.string]),showGutter:Ze.bool,onChange:Ze.func,onCopy:Ze.func,onPaste:Ze.func,onFocus:Ze.func,onInput:Ze.func,onBlur:Ze.func,onScroll:Ze.func,value:Ze.string,defaultValue:Ze.string,onLoad:Ze.func,onSelectionChange:Ze.func,onCursorChange:Ze.func,onBeforeLoad:Ze.func,onValidate:Ze.func,minLines:Ze.number,maxLines:Ze.number,readOnly:Ze.bool,highlightActiveLine:Ze.bool,tabSize:Ze.number,showPrintMargin:Ze.bool,cursorStart:Ze.number,debounceChangePeriod:Ze.number,editorProps:Ze.object,setOptions:Ze.object,style:Ze.object,scrollMargin:Ze.array,annotations:Ze.array,markers:Ze.array,keyboardHandler:Ze.string,wrapEnabled:Ze.bool,enableSnippets:Ze.bool,enableBasicAutocompletion:Ze.oneOfType([Ze.bool,Ze.array]),enableLiveAutocompletion:Ze.oneOfType([Ze.bool,Ze.array]),navigateToFileEnd:Ze.bool,commands:Ze.array,placeholder:Ze.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(AN.Component);M1.default=nne;var R1={},Zw={},J4={exports:{}};(function(n,t){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(i,o,c){var u=i("./lib/oop");i("./lib/lang");var h=i("./lib/event_emitter").EventEmitter,b=i("./editor").Editor,f=i("./virtual_renderer").VirtualRenderer,w=i("./edit_session").EditSession,p=function(v,g,k){this.BELOW=1,this.BESIDE=0,this.$container=v,this.$theme=g,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(k||1),this.$cEditor=this.$editors[0],this.on("focus",function(A){this.$cEditor=A}.bind(this))};(function(){u.implement(this,h),this.$createEditor=function(){var v=document.createElement("div");v.className=this.$editorCSS,v.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(v);var g=new b(new f(v,this.$theme));return g.on("focus",function(){this._emit("focus",g)}.bind(this)),this.$editors.push(g),g.setFontSize(this.$fontSize),g},this.setSplits=function(v){var g;if(v<1)throw"The number of splits have to be > 0!";if(v!=this.$splits){if(v>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<v;)g=this.$editors[this.$splits],this.$container.appendChild(g.container),g.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<v;)this.$createEditor(),this.$splits++}else for(;this.$splits>v;)g=this.$editors[this.$splits-1],this.$container.removeChild(g.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(v){return this.$editors[v]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(v){this.$editors.forEach(function(g){g.setTheme(v)})},this.setKeyboardHandler=function(v){this.$editors.forEach(function(g){g.setKeyboardHandler(v)})},this.forEach=function(v,g){this.$editors.forEach(v,g)},this.$fontSize="",this.setFontSize=function(v){this.$fontSize=v,this.forEach(function(g){g.setFontSize(v)})},this.$cloneSession=function(v){var g=new w(v.getDocument(),v.getMode()),k=v.getUndoManager();return g.setUndoManager(k),g.setTabSize(v.getTabSize()),g.setUseSoftTabs(v.getUseSoftTabs()),g.setOverwrite(v.getOverwrite()),g.setBreakpoints(v.getBreakpoints()),g.setUseWrapMode(v.getUseWrapMode()),g.setUseWorker(v.getUseWorker()),g.setWrapLimitRange(v.$wrapLimitRange.min,v.$wrapLimitRange.max),g.$foldData=v.$cloneFoldData(),g},this.setSession=function(v,g){var k;g==null?k=this.$cEditor:k=this.$editors[g];var A=this.$editors.some(function(_){return _.session===v});return A&&(v=this.$cloneSession(v)),k.setSession(v),v},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(v){this.$orientation!=v&&(this.$orientation=v,this.resize())},this.resize=function(){var v=this.$container.clientWidth,g=this.$container.clientHeight,k;if(this.$orientation==this.BESIDE)for(var A=v/this.$splits,_=0;_<this.$splits;_++)k=this.$editors[_],k.container.style.width=A+"px",k.container.style.top="0px",k.container.style.left=_*A+"px",k.container.style.height=g+"px",k.resize();else for(var E=g/this.$splits,_=0;_<this.$splits;_++)k=this.$editors[_],k.container.style.width=v+"px",k.container.style.top=_*E+"px",k.container.style.left="0px",k.container.style.height=E+"px",k.resize()}}).call(p.prototype),o.Split=p}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(i,o,c){c.exports=i("../split")}),function(){ace.require(["ace/ext/split"],function(i){n&&(n.exports=i)})}()})(J4);var ine=J4.exports,rne="Expected a function",X4="__lodash_hash_undefined__",eF=1/0,one="[object Function]",sne="[object GeneratorFunction]",ane="[object Symbol]",lne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cne=/^\w*$/,une=/^\./,dne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hne=/[\\^$.*+?()[\]{}|]/g,fne=/\\(\\)?/g,pne=/^\[object .+?Constructor\]$/,gne=typeof Zt=="object"&&Zt&&Zt.Object===Object&&Zt,mne=typeof self=="object"&&self&&self.Object===Object&&self,N1=gne||mne||Function("return this")();function vne(n,t){return n==null?void 0:n[t]}function wne(n){var t=!1;if(n!=null&&typeof n.toString!="function")try{t=!!(n+"")}catch{}return t}var kne=Array.prototype,bne=Function.prototype,tF=Object.prototype,n0=N1["__core-js_shared__"],CN=function(){var n=/[^.]+$/.exec(n0&&n0.keys&&n0.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),nF=bne.toString,O1=tF.hasOwnProperty,iF=tF.toString,yne=RegExp("^"+nF.call(O1).replace(hne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),EN=N1.Symbol,Ane=kne.splice,_ne=rF(N1,"Map"),Hf=rF(Object,"create"),SN=EN?EN.prototype:void 0,xN=SN?SN.toString:void 0;function vc(n){var t=-1,i=n?n.length:0;for(this.clear();++t<i;){var o=n[t];this.set(o[0],o[1])}}function Cne(){this.__data__=Hf?Hf(null):{}}function Ene(n){return this.has(n)&&delete this.__data__[n]}function Sne(n){var t=this.__data__;if(Hf){var i=t[n];return i===X4?void 0:i}return O1.call(t,n)?t[n]:void 0}function xne(n){var t=this.__data__;return Hf?t[n]!==void 0:O1.call(t,n)}function Tne(n,t){var i=this.__data__;return i[n]=Hf&&t===void 0?X4:t,this}vc.prototype.clear=Cne;vc.prototype.delete=Ene;vc.prototype.get=Sne;vc.prototype.has=xne;vc.prototype.set=Tne;function Ld(n){var t=-1,i=n?n.length:0;for(this.clear();++t<i;){var o=n[t];this.set(o[0],o[1])}}function Dne(){this.__data__=[]}function Ine(n){var t=this.__data__,i=Jw(t,n);if(i<0)return!1;var o=t.length-1;return i==o?t.pop():Ane.call(t,i,1),!0}function Mne(n){var t=this.__data__,i=Jw(t,n);return i<0?void 0:t[i][1]}function Lne(n){return Jw(this.__data__,n)>-1}function Rne(n,t){var i=this.__data__,o=Jw(i,n);return o<0?i.push([n,t]):i[o][1]=t,this}Ld.prototype.clear=Dne;Ld.prototype.delete=Ine;Ld.prototype.get=Mne;Ld.prototype.has=Lne;Ld.prototype.set=Rne;function _c(n){var t=-1,i=n?n.length:0;for(this.clear();++t<i;){var o=n[t];this.set(o[0],o[1])}}function Nne(){this.__data__={hash:new vc,map:new(_ne||Ld),string:new vc}}function One(n){return Xw(this,n).delete(n)}function Pne(n){return Xw(this,n).get(n)}function $ne(n){return Xw(this,n).has(n)}function Bne(n,t){return Xw(this,n).set(n,t),this}_c.prototype.clear=Nne;_c.prototype.delete=One;_c.prototype.get=Pne;_c.prototype.has=$ne;_c.prototype.set=Bne;function Jw(n,t){for(var i=n.length;i--;)if(Qne(n[i][0],t))return i;return-1}function Fne(n,t){t=Une(t,n)?[t]:Vne(t);for(var i=0,o=t.length;n!=null&&i<o;)n=n[Kne(t[i++])];return i&&i==o?n:void 0}function zne(n){if(!sF(n)||Wne(n))return!1;var t=Yne(n)||wne(n)?yne:pne;return t.test(qne(n))}function jne(n){if(typeof n=="string")return n;if($1(n))return xN?xN.call(n):"";var t=n+"";return t=="0"&&1/n==-eF?"-0":t}function Vne(n){return oF(n)?n:Gne(n)}function Xw(n,t){var i=n.__data__;return Hne(t)?i[typeof t=="string"?"string":"hash"]:i.map}function rF(n,t){var i=vne(n,t);return zne(i)?i:void 0}function Une(n,t){if(oF(n))return!1;var i=typeof n;return i=="number"||i=="symbol"||i=="boolean"||n==null||$1(n)?!0:cne.test(n)||!lne.test(n)||t!=null&&n in Object(t)}function Hne(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function Wne(n){return!!CN&&CN in n}var Gne=P1(function(n){n=Jne(n);var t=[];return une.test(n)&&t.push(""),n.replace(dne,function(i,o,c,u){t.push(c?u.replace(fne,"$1"):o||i)}),t});function Kne(n){if(typeof n=="string"||$1(n))return n;var t=n+"";return t=="0"&&1/n==-eF?"-0":t}function qne(n){if(n!=null){try{return nF.call(n)}catch{}try{return n+""}catch{}}return""}function P1(n,t){if(typeof n!="function"||t&&typeof t!="function")throw new TypeError(rne);var i=function(){var o=arguments,c=t?t.apply(this,o):o[0],u=i.cache;if(u.has(c))return u.get(c);var h=n.apply(this,o);return i.cache=u.set(c,h),h};return i.cache=new(P1.Cache||_c),i}P1.Cache=_c;function Qne(n,t){return n===t||n!==n&&t!==t}var oF=Array.isArray;function Yne(n){var t=sF(n)?iF.call(n):"";return t==one||t==sne}function sF(n){var t=typeof n;return!!n&&(t=="object"||t=="function")}function Zne(n){return!!n&&typeof n=="object"}function $1(n){return typeof n=="symbol"||Zne(n)&&iF.call(n)==ane}function Jne(n){return n==null?"":jne(n)}function Xne(n,t,i){var o=n==null?void 0:Fne(n,t);return o===void 0?i:o}var eie=Xne,tie=Zt&&Zt.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(o[u]=c[u])},n(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function o(){this.constructor=t}t.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}}(),t_=Zt&&Zt.__assign||function(){return t_=Object.assign||function(n){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(n[c]=t[c])}return n},t_.apply(this,arguments)};Object.defineProperty(Zw,"__esModule",{value:!0});var Hl=ro,i0=(0,Hl.getAceInstance)(),nie=Uf,iie=ine,et=L1,TN=Te,r0=Z4,ks=eie,rie=function(n){tie(t,n);function t(i){var o=n.call(this,i)||this;return Hl.editorEvents.forEach(function(c){o[c]=o[c].bind(o)}),o.debounce=Hl.debounce,o}return t.prototype.isInShadow=function(i){for(var o=i&&i.parentNode;o;){if(o.toString()==="[object ShadowRoot]")return!0;o=o.parentNode}return!1},t.prototype.componentDidMount=function(){var i=this,o=this.props,c=o.className,u=o.onBeforeLoad,h=o.mode,b=o.focus,f=o.theme,w=o.fontSize,p=o.value,v=o.defaultValue,g=o.cursorStart,k=o.showGutter,A=o.wrapEnabled,_=o.showPrintMargin,E=o.scrollMargin,x=E===void 0?[0,0,0,0]:E,D=o.keyboardHandler,O=o.onLoad,B=o.commands,I=o.annotations,R=o.markers,j=o.splits;this.editor=i0.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(f)),u&&u(i0);var N=Object.keys(this.props.editorProps),P=new iie.Split(this.editor.container,"ace/theme/".concat(f),j);this.editor.env.split=P,this.splitEditor=P.getEditor(0),this.split=P,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var F=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),P.forEach(function(L,z){for(var V=0;V<N.length;V++)L[N[V]]=i.props.editorProps[N[V]];var H=ks(v,z),G=ks(p,z,"");L.session.setUndoManager(new i0.UndoManager),L.setTheme("ace/theme/".concat(f)),L.renderer.setScrollMargin(x[0],x[1],x[2],x[3]),L.getSession().setMode("ace/mode/".concat(h)),L.setFontSize(w),L.renderer.setShowGutter(k),L.getSession().setUseWrapMode(A),L.setShowPrintMargin(_),L.on("focus",i.onFocus),L.on("blur",i.onBlur),L.on("input",i.onInput),L.on("copy",i.onCopy),L.on("paste",i.onPaste),L.on("change",i.onChange),L.getSession().selection.on("changeSelection",i.onSelectionChange),L.getSession().selection.on("changeCursor",i.onCursorChange),L.session.on("changeScrollTop",i.onScroll),L.setValue(H===void 0?G:H,g);var J=ks(I,z,[]),Y=ks(R,z,[]);L.getSession().setAnnotations(J),Y&&Y.length>0&&i.handleMarkers(Y,L);for(var V=0;V<Hl.editorOptions.length;V++){var ee=Hl.editorOptions[V];F.hasOwnProperty(ee)?L.setOption(ee,i.props[ee]):i.props[ee]&&console.warn("ReaceAce: editor option ".concat(ee," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}i.handleOptions(i.props,L),Array.isArray(B)&&B.forEach(function(re){typeof re.exec=="string"?L.commands.bindKey(re.bindKey,re.exec):L.commands.addCommand(re)}),D&&L.setKeyboardHandler("ace/keyboard/"+D)}),c&&(this.refEditor.className+=" "+c),b&&this.splitEditor.focus();var T=this.editor.env.split;T.setOrientation(this.props.orientation==="below"?T.BELOW:T.BESIDE),T.resize(!0),O&&O(T)},t.prototype.componentDidUpdate=function(i){var o=this,c=i,u=this.props,h=this.editor.env.split;if(u.splits!==c.splits&&h.setSplits(u.splits),u.orientation!==c.orientation&&h.setOrientation(u.orientation==="below"?h.BELOW:h.BESIDE),h.forEach(function(p,v){u.mode!==c.mode&&p.getSession().setMode("ace/mode/"+u.mode),u.keyboardHandler!==c.keyboardHandler&&(u.keyboardHandler?p.setKeyboardHandler("ace/keyboard/"+u.keyboardHandler):p.setKeyboardHandler(null)),u.fontSize!==c.fontSize&&p.setFontSize(u.fontSize),u.wrapEnabled!==c.wrapEnabled&&p.getSession().setUseWrapMode(u.wrapEnabled),u.showPrintMargin!==c.showPrintMargin&&p.setShowPrintMargin(u.showPrintMargin),u.showGutter!==c.showGutter&&p.renderer.setShowGutter(u.showGutter);for(var g=0;g<Hl.editorOptions.length;g++){var k=Hl.editorOptions[g];u[k]!==c[k]&&p.setOption(k,u[k])}r0(u.setOptions,c.setOptions)||o.handleOptions(u,p);var A=ks(u.value,v,"");if(p.getValue()!==A){o.silent=!0;var _=p.session.selection.toJSON();p.setValue(A,u.cursorStart),p.session.selection.fromJSON(_),o.silent=!1}var E=ks(u.annotations,v,[]),x=ks(c.annotations,v,[]);r0(E,x)||p.getSession().setAnnotations(E);var D=ks(u.markers,v,[]),O=ks(c.markers,v,[]);!r0(D,O)&&Array.isArray(D)&&o.handleMarkers(D,p)}),u.className!==c.className){var b=this.refEditor.className,f=b.trim().split(" "),w=c.className.trim().split(" ");w.forEach(function(p){var v=f.indexOf(p);f.splice(v,1)}),this.refEditor.className=" "+u.className+" "+f.join(" ")}u.theme!==c.theme&&h.setTheme("ace/theme/"+u.theme),u.focus&&!c.focus&&this.splitEditor.focus(),(u.height!==this.props.height||u.width!==this.props.width)&&this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(i){if(this.props.onChange&&!this.silent){var o=[];this.editor.env.split.forEach(function(c){o.push(c.getValue())}),this.props.onChange(o,i)}},t.prototype.onSelectionChange=function(i){if(this.props.onSelectionChange){var o=[];this.editor.env.split.forEach(function(c){o.push(c.getSelection())}),this.props.onSelectionChange(o,i)}},t.prototype.onCursorChange=function(i){if(this.props.onCursorChange){var o=[];this.editor.env.split.forEach(function(c){o.push(c.getSelection())}),this.props.onCursorChange(o,i)}},t.prototype.onFocus=function(i){this.props.onFocus&&this.props.onFocus(i)},t.prototype.onInput=function(i){this.props.onInput&&this.props.onInput(i)},t.prototype.onBlur=function(i){this.props.onBlur&&this.props.onBlur(i)},t.prototype.onCopy=function(i){this.props.onCopy&&this.props.onCopy(i)},t.prototype.onPaste=function(i){this.props.onPaste&&this.props.onPaste(i)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(i,o){for(var c=Object.keys(i.setOptions),u=0;u<c.length;u++)o.setOption(c[u],i.setOptions[c[u]])},t.prototype.handleMarkers=function(i,o){var c=o.getSession().getMarkers(!0);for(var u in c)c.hasOwnProperty(u)&&o.getSession().removeMarker(c[u].id);c=o.getSession().getMarkers(!1);for(var u in c)c.hasOwnProperty(u)&&o.getSession().removeMarker(c[u].id);i.forEach(function(h){var b=h.startRow,f=h.startCol,w=h.endRow,p=h.endCol,v=h.className,g=h.type,k=h.inFront,A=k===void 0?!1:k,_=new nie.Range(b,f,w,p);o.getSession().addMarker(_,v,g,A)})},t.prototype.updateRef=function(i){this.refEditor=i},t.prototype.render=function(){var i=this.props,o=i.name,c=i.width,u=i.height,h=i.style,b=t_({width:c,height:u},h);return TN.createElement("div",{ref:this.updateRef,id:o,style:b})},t.propTypes={className:et.string,debounceChangePeriod:et.number,defaultValue:et.arrayOf(et.string),focus:et.bool,fontSize:et.oneOfType([et.number,et.string]),height:et.string,mode:et.string,name:et.string,onBlur:et.func,onChange:et.func,onCopy:et.func,onFocus:et.func,onInput:et.func,onLoad:et.func,onPaste:et.func,onScroll:et.func,orientation:et.string,showGutter:et.bool,splits:et.number,theme:et.string,value:et.arrayOf(et.string),width:et.string,onSelectionChange:et.func,onCursorChange:et.func,onBeforeLoad:et.func,minLines:et.number,maxLines:et.number,readOnly:et.bool,highlightActiveLine:et.bool,tabSize:et.number,showPrintMargin:et.bool,cursorStart:et.number,editorProps:et.object,setOptions:et.object,style:et.object,scrollMargin:et.array,annotations:et.array,markers:et.array,keyboardHandler:et.string,wrapEnabled:et.bool,enableBasicAutocompletion:et.oneOfType([et.bool,et.array]),enableLiveAutocompletion:et.oneOfType([et.bool,et.array]),commands:et.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(TN.Component);Zw.default=rie;var aF={exports:{}};(function(n){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},i=-1,o=1,c=0;t.Diff=function(u,h){return[u,h]},t.prototype.diff_main=function(u,h,b,f){typeof f>"u"&&(this.Diff_Timeout<=0?f=Number.MAX_VALUE:f=new Date().getTime()+this.Diff_Timeout*1e3);var w=f;if(u==null||h==null)throw new Error("Null input. (diff_main)");if(u==h)return u?[new t.Diff(c,u)]:[];typeof b>"u"&&(b=!0);var p=b,v=this.diff_commonPrefix(u,h),g=u.substring(0,v);u=u.substring(v),h=h.substring(v),v=this.diff_commonSuffix(u,h);var k=u.substring(u.length-v);u=u.substring(0,u.length-v),h=h.substring(0,h.length-v);var A=this.diff_compute_(u,h,p,w);return g&&A.unshift(new t.Diff(c,g)),k&&A.push(new t.Diff(c,k)),this.diff_cleanupMerge(A),A},t.prototype.diff_compute_=function(u,h,b,f){var w;if(!u)return[new t.Diff(o,h)];if(!h)return[new t.Diff(i,u)];var p=u.length>h.length?u:h,v=u.length>h.length?h:u,g=p.indexOf(v);if(g!=-1)return w=[new t.Diff(o,p.substring(0,g)),new t.Diff(c,v),new t.Diff(o,p.substring(g+v.length))],u.length>h.length&&(w[0][0]=w[2][0]=i),w;if(v.length==1)return[new t.Diff(i,u),new t.Diff(o,h)];var k=this.diff_halfMatch_(u,h);if(k){var A=k[0],_=k[1],E=k[2],x=k[3],D=k[4],O=this.diff_main(A,E,b,f),B=this.diff_main(_,x,b,f);return O.concat([new t.Diff(c,D)],B)}return b&&u.length>100&&h.length>100?this.diff_lineMode_(u,h,f):this.diff_bisect_(u,h,f)},t.prototype.diff_lineMode_=function(u,h,b){var f=this.diff_linesToChars_(u,h);u=f.chars1,h=f.chars2;var w=f.lineArray,p=this.diff_main(u,h,!1,b);this.diff_charsToLines_(p,w),this.diff_cleanupSemantic(p),p.push(new t.Diff(c,""));for(var v=0,g=0,k=0,A="",_="";v<p.length;){switch(p[v][0]){case o:k++,_+=p[v][1];break;case i:g++,A+=p[v][1];break;case c:if(g>=1&&k>=1){p.splice(v-g-k,g+k),v=v-g-k;for(var E=this.diff_main(A,_,!1,b),x=E.length-1;x>=0;x--)p.splice(v,0,E[x]);v=v+E.length}k=0,g=0,A="",_="";break}v++}return p.pop(),p},t.prototype.diff_bisect_=function(u,h,b){for(var f=u.length,w=h.length,p=Math.ceil((f+w)/2),v=p,g=2*p,k=new Array(g),A=new Array(g),_=0;_<g;_++)k[_]=-1,A[_]=-1;k[v+1]=0,A[v+1]=0;for(var E=f-w,x=E%2!=0,D=0,O=0,B=0,I=0,R=0;R<p&&!(new Date().getTime()>b);R++){for(var j=-R+D;j<=R-O;j+=2){var N=v+j,P;j==-R||j!=R&&k[N-1]<k[N+1]?P=k[N+1]:P=k[N-1]+1;for(var F=P-j;P<f&&F<w&&u.charAt(P)==h.charAt(F);)P++,F++;if(k[N]=P,P>f)O+=2;else if(F>w)D+=2;else if(x){var T=v+E-j;if(T>=0&&T<g&&A[T]!=-1){var L=f-A[T];if(P>=L)return this.diff_bisectSplit_(u,h,P,F,b)}}}for(var z=-R+B;z<=R-I;z+=2){var T=v+z,L;z==-R||z!=R&&A[T-1]<A[T+1]?L=A[T+1]:L=A[T-1]+1;for(var V=L-z;L<f&&V<w&&u.charAt(f-L-1)==h.charAt(w-V-1);)L++,V++;if(A[T]=L,L>f)I+=2;else if(V>w)B+=2;else if(!x){var N=v+E-z;if(N>=0&&N<g&&k[N]!=-1){var P=k[N],F=v+P-N;if(L=f-L,P>=L)return this.diff_bisectSplit_(u,h,P,F,b)}}}}return[new t.Diff(i,u),new t.Diff(o,h)]},t.prototype.diff_bisectSplit_=function(u,h,b,f,w){var p=u.substring(0,b),v=h.substring(0,f),g=u.substring(b),k=h.substring(f),A=this.diff_main(p,v,!1,w),_=this.diff_main(g,k,!1,w);return A.concat(_)},t.prototype.diff_linesToChars_=function(u,h){var b=[],f={};b[0]="";function w(k){for(var A="",_=0,E=-1,x=b.length;E<k.length-1;){E=k.indexOf(`
`,_),E==-1&&(E=k.length-1);var D=k.substring(_,E+1);(f.hasOwnProperty?f.hasOwnProperty(D):f[D]!==void 0)?A+=String.fromCharCode(f[D]):(x==p&&(D=k.substring(_),E=k.length),A+=String.fromCharCode(x),f[D]=x,b[x++]=D),_=E+1}return A}var p=4e4,v=w(u);p=65535;var g=w(h);return{chars1:v,chars2:g,lineArray:b}},t.prototype.diff_charsToLines_=function(u,h){for(var b=0;b<u.length;b++){for(var f=u[b][1],w=[],p=0;p<f.length;p++)w[p]=h[f.charCodeAt(p)];u[b][1]=w.join("")}},t.prototype.diff_commonPrefix=function(u,h){if(!u||!h||u.charAt(0)!=h.charAt(0))return 0;for(var b=0,f=Math.min(u.length,h.length),w=f,p=0;b<w;)u.substring(p,w)==h.substring(p,w)?(b=w,p=b):f=w,w=Math.floor((f-b)/2+b);return w},t.prototype.diff_commonSuffix=function(u,h){if(!u||!h||u.charAt(u.length-1)!=h.charAt(h.length-1))return 0;for(var b=0,f=Math.min(u.length,h.length),w=f,p=0;b<w;)u.substring(u.length-w,u.length-p)==h.substring(h.length-w,h.length-p)?(b=w,p=b):f=w,w=Math.floor((f-b)/2+b);return w},t.prototype.diff_commonOverlap_=function(u,h){var b=u.length,f=h.length;if(b==0||f==0)return 0;b>f?u=u.substring(b-f):b<f&&(h=h.substring(0,b));var w=Math.min(b,f);if(u==h)return w;for(var p=0,v=1;;){var g=u.substring(w-v),k=h.indexOf(g);if(k==-1)return p;v+=k,(k==0||u.substring(w-v)==h.substring(0,v))&&(p=v,v++)}},t.prototype.diff_halfMatch_=function(u,h){if(this.Diff_Timeout<=0)return null;var b=u.length>h.length?u:h,f=u.length>h.length?h:u;if(b.length<4||f.length*2<b.length)return null;var w=this;function p(O,B,I){for(var R=O.substring(I,I+Math.floor(O.length/4)),j=-1,N="",P,F,T,L;(j=B.indexOf(R,j+1))!=-1;){var z=w.diff_commonPrefix(O.substring(I),B.substring(j)),V=w.diff_commonSuffix(O.substring(0,I),B.substring(0,j));N.length<V+z&&(N=B.substring(j-V,j)+B.substring(j,j+z),P=O.substring(0,I-V),F=O.substring(I+z),T=B.substring(0,j-V),L=B.substring(j+z))}return N.length*2>=O.length?[P,F,T,L,N]:null}var v=p(b,f,Math.ceil(b.length/4)),g=p(b,f,Math.ceil(b.length/2)),k;if(!v&&!g)return null;g?v?k=v[4].length>g[4].length?v:g:k=g:k=v;var A,_,E,x;u.length>h.length?(A=k[0],_=k[1],E=k[2],x=k[3]):(E=k[0],x=k[1],A=k[2],_=k[3]);var D=k[4];return[A,_,E,x,D]},t.prototype.diff_cleanupSemantic=function(u){for(var h=!1,b=[],f=0,w=null,p=0,v=0,g=0,k=0,A=0;p<u.length;)u[p][0]==c?(b[f++]=p,v=k,g=A,k=0,A=0,w=u[p][1]):(u[p][0]==o?k+=u[p][1].length:A+=u[p][1].length,w&&w.length<=Math.max(v,g)&&w.length<=Math.max(k,A)&&(u.splice(b[f-1],0,new t.Diff(i,w)),u[b[f-1]+1][0]=o,f--,f--,p=f>0?b[f-1]:-1,v=0,g=0,k=0,A=0,w=null,h=!0)),p++;for(h&&this.diff_cleanupMerge(u),this.diff_cleanupSemanticLossless(u),p=1;p<u.length;){if(u[p-1][0]==i&&u[p][0]==o){var _=u[p-1][1],E=u[p][1],x=this.diff_commonOverlap_(_,E),D=this.diff_commonOverlap_(E,_);x>=D?(x>=_.length/2||x>=E.length/2)&&(u.splice(p,0,new t.Diff(c,E.substring(0,x))),u[p-1][1]=_.substring(0,_.length-x),u[p+1][1]=E.substring(x),p++):(D>=_.length/2||D>=E.length/2)&&(u.splice(p,0,new t.Diff(c,_.substring(0,D))),u[p-1][0]=o,u[p-1][1]=E.substring(0,E.length-D),u[p+1][0]=i,u[p+1][1]=_.substring(D),p++),p++}p++}},t.prototype.diff_cleanupSemanticLossless=function(u){function h(D,O){if(!D||!O)return 6;var B=D.charAt(D.length-1),I=O.charAt(0),R=B.match(t.nonAlphaNumericRegex_),j=I.match(t.nonAlphaNumericRegex_),N=R&&B.match(t.whitespaceRegex_),P=j&&I.match(t.whitespaceRegex_),F=N&&B.match(t.linebreakRegex_),T=P&&I.match(t.linebreakRegex_),L=F&&D.match(t.blanklineEndRegex_),z=T&&O.match(t.blanklineStartRegex_);return L||z?5:F||T?4:R&&!N&&P?3:N||P?2:R||j?1:0}for(var b=1;b<u.length-1;){if(u[b-1][0]==c&&u[b+1][0]==c){var f=u[b-1][1],w=u[b][1],p=u[b+1][1],v=this.diff_commonSuffix(f,w);if(v){var g=w.substring(w.length-v);f=f.substring(0,f.length-v),w=g+w.substring(0,w.length-v),p=g+p}for(var k=f,A=w,_=p,E=h(f,w)+h(w,p);w.charAt(0)===p.charAt(0);){f+=w.charAt(0),w=w.substring(1)+p.charAt(0),p=p.substring(1);var x=h(f,w)+h(w,p);x>=E&&(E=x,k=f,A=w,_=p)}u[b-1][1]!=k&&(k?u[b-1][1]=k:(u.splice(b-1,1),b--),u[b][1]=A,_?u[b+1][1]=_:(u.splice(b+1,1),b--))}b++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(u){for(var h=!1,b=[],f=0,w=null,p=0,v=!1,g=!1,k=!1,A=!1;p<u.length;)u[p][0]==c?(u[p][1].length<this.Diff_EditCost&&(k||A)?(b[f++]=p,v=k,g=A,w=u[p][1]):(f=0,w=null),k=A=!1):(u[p][0]==i?A=!0:k=!0,w&&(v&&g&&k&&A||w.length<this.Diff_EditCost/2&&v+g+k+A==3)&&(u.splice(b[f-1],0,new t.Diff(i,w)),u[b[f-1]+1][0]=o,f--,w=null,v&&g?(k=A=!0,f=0):(f--,p=f>0?b[f-1]:-1,k=A=!1),h=!0)),p++;h&&this.diff_cleanupMerge(u)},t.prototype.diff_cleanupMerge=function(u){u.push(new t.Diff(c,""));for(var h=0,b=0,f=0,w="",p="",v;h<u.length;)switch(u[h][0]){case o:f++,p+=u[h][1],h++;break;case i:b++,w+=u[h][1],h++;break;case c:b+f>1?(b!==0&&f!==0&&(v=this.diff_commonPrefix(p,w),v!==0&&(h-b-f>0&&u[h-b-f-1][0]==c?u[h-b-f-1][1]+=p.substring(0,v):(u.splice(0,0,new t.Diff(c,p.substring(0,v))),h++),p=p.substring(v),w=w.substring(v)),v=this.diff_commonSuffix(p,w),v!==0&&(u[h][1]=p.substring(p.length-v)+u[h][1],p=p.substring(0,p.length-v),w=w.substring(0,w.length-v))),h-=b+f,u.splice(h,b+f),w.length&&(u.splice(h,0,new t.Diff(i,w)),h++),p.length&&(u.splice(h,0,new t.Diff(o,p)),h++),h++):h!==0&&u[h-1][0]==c?(u[h-1][1]+=u[h][1],u.splice(h,1)):h++,f=0,b=0,w="",p="";break}u[u.length-1][1]===""&&u.pop();var g=!1;for(h=1;h<u.length-1;)u[h-1][0]==c&&u[h+1][0]==c&&(u[h][1].substring(u[h][1].length-u[h-1][1].length)==u[h-1][1]?(u[h][1]=u[h-1][1]+u[h][1].substring(0,u[h][1].length-u[h-1][1].length),u[h+1][1]=u[h-1][1]+u[h+1][1],u.splice(h-1,1),g=!0):u[h][1].substring(0,u[h+1][1].length)==u[h+1][1]&&(u[h-1][1]+=u[h+1][1],u[h][1]=u[h][1].substring(u[h+1][1].length)+u[h+1][1],u.splice(h+1,1),g=!0)),h++;g&&this.diff_cleanupMerge(u)},t.prototype.diff_xIndex=function(u,h){var b=0,f=0,w=0,p=0,v;for(v=0;v<u.length&&(u[v][0]!==o&&(b+=u[v][1].length),u[v][0]!==i&&(f+=u[v][1].length),!(b>h));v++)w=b,p=f;return u.length!=v&&u[v][0]===i?p:p+(h-w)},t.prototype.diff_prettyHtml=function(u){for(var h=[],b=/&/g,f=/</g,w=/>/g,p=/\n/g,v=0;v<u.length;v++){var g=u[v][0],k=u[v][1],A=k.replace(b,"&amp;").replace(f,"&lt;").replace(w,"&gt;").replace(p,"&para;<br>");switch(g){case o:h[v]='<ins style="background:#e6ffe6;">'+A+"</ins>";break;case i:h[v]='<del style="background:#ffe6e6;">'+A+"</del>";break;case c:h[v]="<span>"+A+"</span>";break}}return h.join("")},t.prototype.diff_text1=function(u){for(var h=[],b=0;b<u.length;b++)u[b][0]!==o&&(h[b]=u[b][1]);return h.join("")},t.prototype.diff_text2=function(u){for(var h=[],b=0;b<u.length;b++)u[b][0]!==i&&(h[b]=u[b][1]);return h.join("")},t.prototype.diff_levenshtein=function(u){for(var h=0,b=0,f=0,w=0;w<u.length;w++){var p=u[w][0],v=u[w][1];switch(p){case o:b+=v.length;break;case i:f+=v.length;break;case c:h+=Math.max(b,f),b=0,f=0;break}}return h+=Math.max(b,f),h},t.prototype.diff_toDelta=function(u){for(var h=[],b=0;b<u.length;b++)switch(u[b][0]){case o:h[b]="+"+encodeURI(u[b][1]);break;case i:h[b]="-"+u[b][1].length;break;case c:h[b]="="+u[b][1].length;break}return h.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(u,h){for(var b=[],f=0,w=0,p=h.split(/\t/g),v=0;v<p.length;v++){var g=p[v].substring(1);switch(p[v].charAt(0)){case"+":try{b[f++]=new t.Diff(o,decodeURI(g))}catch{throw new Error("Illegal escape in diff_fromDelta: "+g)}break;case"-":case"=":var k=parseInt(g,10);if(isNaN(k)||k<0)throw new Error("Invalid number in diff_fromDelta: "+g);var A=u.substring(w,w+=k);p[v].charAt(0)=="="?b[f++]=new t.Diff(c,A):b[f++]=new t.Diff(i,A);break;default:if(p[v])throw new Error("Invalid diff operation in diff_fromDelta: "+p[v])}}if(w!=u.length)throw new Error("Delta length ("+w+") does not equal source text length ("+u.length+").");return b},t.prototype.match_main=function(u,h,b){if(u==null||h==null||b==null)throw new Error("Null input. (match_main)");return b=Math.max(0,Math.min(b,u.length)),u==h?0:u.length?u.substring(b,b+h.length)==h?b:this.match_bitap_(u,h,b):-1},t.prototype.match_bitap_=function(u,h,b){if(h.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var f=this.match_alphabet_(h),w=this;function p(P,F){var T=P/h.length,L=Math.abs(b-F);return w.Match_Distance?T+L/w.Match_Distance:L?1:T}var v=this.Match_Threshold,g=u.indexOf(h,b);g!=-1&&(v=Math.min(p(0,g),v),g=u.lastIndexOf(h,b+h.length),g!=-1&&(v=Math.min(p(0,g),v)));var k=1<<h.length-1;g=-1;for(var A,_,E=h.length+u.length,x,D=0;D<h.length;D++){for(A=0,_=E;A<_;)p(D,b+_)<=v?A=_:E=_,_=Math.floor((E-A)/2+A);E=_;var O=Math.max(1,b-_+1),B=Math.min(b+_,u.length)+h.length,I=Array(B+2);I[B+1]=(1<<D)-1;for(var R=B;R>=O;R--){var j=f[u.charAt(R-1)];if(D===0?I[R]=(I[R+1]<<1|1)&j:I[R]=(I[R+1]<<1|1)&j|((x[R+1]|x[R])<<1|1)|x[R+1],I[R]&k){var N=p(D,R-1);if(N<=v)if(v=N,g=R-1,g>b)O=Math.max(1,2*b-g);else break}}if(p(D+1,b)>v)break;x=I}return g},t.prototype.match_alphabet_=function(u){for(var h={},b=0;b<u.length;b++)h[u.charAt(b)]=0;for(var b=0;b<u.length;b++)h[u.charAt(b)]|=1<<u.length-b-1;return h},t.prototype.patch_addContext_=function(u,h){if(h.length!=0){if(u.start2===null)throw Error("patch not initialized");for(var b=h.substring(u.start2,u.start2+u.length1),f=0;h.indexOf(b)!=h.lastIndexOf(b)&&b.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)f+=this.Patch_Margin,b=h.substring(u.start2-f,u.start2+u.length1+f);f+=this.Patch_Margin;var w=h.substring(u.start2-f,u.start2);w&&u.diffs.unshift(new t.Diff(c,w));var p=h.substring(u.start2+u.length1,u.start2+u.length1+f);p&&u.diffs.push(new t.Diff(c,p)),u.start1-=w.length,u.start2-=w.length,u.length1+=w.length+p.length,u.length2+=w.length+p.length}},t.prototype.patch_make=function(u,h,b){var f,w;if(typeof u=="string"&&typeof h=="string"&&typeof b>"u")f=u,w=this.diff_main(f,h,!0),w.length>2&&(this.diff_cleanupSemantic(w),this.diff_cleanupEfficiency(w));else if(u&&typeof u=="object"&&typeof h>"u"&&typeof b>"u")w=u,f=this.diff_text1(w);else if(typeof u=="string"&&h&&typeof h=="object"&&typeof b>"u")f=u,w=h;else if(typeof u=="string"&&typeof h=="string"&&b&&typeof b=="object")f=u,w=b;else throw new Error("Unknown call format to patch_make.");if(w.length===0)return[];for(var p=[],v=new t.patch_obj,g=0,k=0,A=0,_=f,E=f,x=0;x<w.length;x++){var D=w[x][0],O=w[x][1];switch(!g&&D!==c&&(v.start1=k,v.start2=A),D){case o:v.diffs[g++]=w[x],v.length2+=O.length,E=E.substring(0,A)+O+E.substring(A);break;case i:v.length1+=O.length,v.diffs[g++]=w[x],E=E.substring(0,A)+E.substring(A+O.length);break;case c:O.length<=2*this.Patch_Margin&&g&&w.length!=x+1?(v.diffs[g++]=w[x],v.length1+=O.length,v.length2+=O.length):O.length>=2*this.Patch_Margin&&g&&(this.patch_addContext_(v,_),p.push(v),v=new t.patch_obj,g=0,_=E,k=A);break}D!==o&&(k+=O.length),D!==i&&(A+=O.length)}return g&&(this.patch_addContext_(v,_),p.push(v)),p},t.prototype.patch_deepCopy=function(u){for(var h=[],b=0;b<u.length;b++){var f=u[b],w=new t.patch_obj;w.diffs=[];for(var p=0;p<f.diffs.length;p++)w.diffs[p]=new t.Diff(f.diffs[p][0],f.diffs[p][1]);w.start1=f.start1,w.start2=f.start2,w.length1=f.length1,w.length2=f.length2,h[b]=w}return h},t.prototype.patch_apply=function(u,h){if(u.length==0)return[h,[]];u=this.patch_deepCopy(u);var b=this.patch_addPadding(u);h=b+h+b,this.patch_splitMax(u);for(var f=0,w=[],p=0;p<u.length;p++){var v=u[p].start2+f,g=this.diff_text1(u[p].diffs),k,A=-1;if(g.length>this.Match_MaxBits?(k=this.match_main(h,g.substring(0,this.Match_MaxBits),v),k!=-1&&(A=this.match_main(h,g.substring(g.length-this.Match_MaxBits),v+g.length-this.Match_MaxBits),(A==-1||k>=A)&&(k=-1))):k=this.match_main(h,g,v),k==-1)w[p]=!1,f-=u[p].length2-u[p].length1;else{w[p]=!0,f=k-v;var _;if(A==-1?_=h.substring(k,k+g.length):_=h.substring(k,A+this.Match_MaxBits),g==_)h=h.substring(0,k)+this.diff_text2(u[p].diffs)+h.substring(k+g.length);else{var E=this.diff_main(g,_,!1);if(g.length>this.Match_MaxBits&&this.diff_levenshtein(E)/g.length>this.Patch_DeleteThreshold)w[p]=!1;else{this.diff_cleanupSemanticLossless(E);for(var x=0,D,O=0;O<u[p].diffs.length;O++){var B=u[p].diffs[O];B[0]!==c&&(D=this.diff_xIndex(E,x)),B[0]===o?h=h.substring(0,k+D)+B[1]+h.substring(k+D):B[0]===i&&(h=h.substring(0,k+D)+h.substring(k+this.diff_xIndex(E,x+B[1].length))),B[0]!==i&&(x+=B[1].length)}}}}}return h=h.substring(b.length,h.length-b.length),[h,w]},t.prototype.patch_addPadding=function(u){for(var h=this.Patch_Margin,b="",f=1;f<=h;f++)b+=String.fromCharCode(f);for(var f=0;f<u.length;f++)u[f].start1+=h,u[f].start2+=h;var w=u[0],p=w.diffs;if(p.length==0||p[0][0]!=c)p.unshift(new t.Diff(c,b)),w.start1-=h,w.start2-=h,w.length1+=h,w.length2+=h;else if(h>p[0][1].length){var v=h-p[0][1].length;p[0][1]=b.substring(p[0][1].length)+p[0][1],w.start1-=v,w.start2-=v,w.length1+=v,w.length2+=v}if(w=u[u.length-1],p=w.diffs,p.length==0||p[p.length-1][0]!=c)p.push(new t.Diff(c,b)),w.length1+=h,w.length2+=h;else if(h>p[p.length-1][1].length){var v=h-p[p.length-1][1].length;p[p.length-1][1]+=b.substring(0,v),w.length1+=v,w.length2+=v}return b},t.prototype.patch_splitMax=function(u){for(var h=this.Match_MaxBits,b=0;b<u.length;b++)if(!(u[b].length1<=h)){var f=u[b];u.splice(b--,1);for(var w=f.start1,p=f.start2,v="";f.diffs.length!==0;){var g=new t.patch_obj,k=!0;for(g.start1=w-v.length,g.start2=p-v.length,v!==""&&(g.length1=g.length2=v.length,g.diffs.push(new t.Diff(c,v)));f.diffs.length!==0&&g.length1<h-this.Patch_Margin;){var A=f.diffs[0][0],_=f.diffs[0][1];A===o?(g.length2+=_.length,p+=_.length,g.diffs.push(f.diffs.shift()),k=!1):A===i&&g.diffs.length==1&&g.diffs[0][0]==c&&_.length>2*h?(g.length1+=_.length,w+=_.length,k=!1,g.diffs.push(new t.Diff(A,_)),f.diffs.shift()):(_=_.substring(0,h-g.length1-this.Patch_Margin),g.length1+=_.length,w+=_.length,A===c?(g.length2+=_.length,p+=_.length):k=!1,g.diffs.push(new t.Diff(A,_)),_==f.diffs[0][1]?f.diffs.shift():f.diffs[0][1]=f.diffs[0][1].substring(_.length))}v=this.diff_text2(g.diffs),v=v.substring(v.length-this.Patch_Margin);var E=this.diff_text1(f.diffs).substring(0,this.Patch_Margin);E!==""&&(g.length1+=E.length,g.length2+=E.length,g.diffs.length!==0&&g.diffs[g.diffs.length-1][0]===c?g.diffs[g.diffs.length-1][1]+=E:g.diffs.push(new t.Diff(c,E))),k||u.splice(++b,0,g)}}},t.prototype.patch_toText=function(u){for(var h=[],b=0;b<u.length;b++)h[b]=u[b];return h.join("")},t.prototype.patch_fromText=function(u){var h=[];if(!u)return h;for(var b=u.split(`
`),f=0,w=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;f<b.length;){var p=b[f].match(w);if(!p)throw new Error("Invalid patch string: "+b[f]);var v=new t.patch_obj;for(h.push(v),v.start1=parseInt(p[1],10),p[2]===""?(v.start1--,v.length1=1):p[2]=="0"?v.length1=0:(v.start1--,v.length1=parseInt(p[2],10)),v.start2=parseInt(p[3],10),p[4]===""?(v.start2--,v.length2=1):p[4]=="0"?v.length2=0:(v.start2--,v.length2=parseInt(p[4],10)),f++;f<b.length;){var g=b[f].charAt(0);try{var k=decodeURI(b[f].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+k)}if(g=="-")v.diffs.push(new t.Diff(i,k));else if(g=="+")v.diffs.push(new t.Diff(o,k));else if(g==" ")v.diffs.push(new t.Diff(c,k));else{if(g=="@")break;if(g!=="")throw new Error('Invalid patch mode "'+g+'" in: '+k)}f++}}return h},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var u,h;this.length1===0?u=this.start1+",0":this.length1==1?u=this.start1+1:u=this.start1+1+","+this.length1,this.length2===0?h=this.start2+",0":this.length2==1?h=this.start2+1:h=this.start2+1+","+this.length2;for(var b=["@@ -"+u+" +"+h+` @@
`],f,w=0;w<this.diffs.length;w++){switch(this.diffs[w][0]){case o:f="+";break;case i:f="-";break;case c:f=" ";break}b[w+1]=f+encodeURI(this.diffs[w][1])+`
`}return b.join("").replace(/%20/g," ")},n.exports=t,n.exports.diff_match_patch=t,n.exports.DIFF_DELETE=i,n.exports.DIFF_INSERT=o,n.exports.DIFF_EQUAL=c})(aF);var oie=aF.exports,sie=Zt&&Zt.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(o[u]=c[u])},n(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);function o(){this.constructor=t}t.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}}();Object.defineProperty(R1,"__esModule",{value:!0});var Bt=L1,DN=Te,aie=Zw,lie=oie,cie=function(n){sie(t,n);function t(i){var o=n.call(this,i)||this;return o.state={value:o.props.value},o.onChange=o.onChange.bind(o),o.diff=o.diff.bind(o),o}return t.prototype.componentDidUpdate=function(){var i=this.props.value;i!==this.state.value&&this.setState({value:i})},t.prototype.onChange=function(i){this.setState({value:i}),this.props.onChange&&this.props.onChange(i)},t.prototype.diff=function(){var i=new lie,o=this.state.value[0],c=this.state.value[1];if(o.length===0&&c.length===0)return[];var u=i.diff_main(o,c);i.diff_cleanupSemantic(u);var h=this.generateDiffedLines(u),b=this.setCodeMarkers(h);return b},t.prototype.generateDiffedLines=function(i){var o={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},c={left:[],right:[]},u={left:1,right:1};return i.forEach(function(h){var b=h[0],f=h[1],w=f.split(`
`).length-1;if(f.length!==0){var p=f[0],v=f[f.length-1],g=0;switch(b){case o.DIFF_EQUAL:u.left+=w,u.right+=w;break;case o.DIFF_DELETE:p===`
`&&(u.left++,w--),g=w,g===0&&c.right.push({startLine:u.right,endLine:u.right}),v===`
`&&(g-=1),c.left.push({startLine:u.left,endLine:u.left+g}),u.left+=w;break;case o.DIFF_INSERT:p===`
`&&(u.right++,w--),g=w,g===0&&c.left.push({startLine:u.left,endLine:u.left}),v===`
`&&(g-=1),c.right.push({startLine:u.right,endLine:u.right+g}),u.right+=w;break;default:throw new Error("Diff type was not defined.")}}}),c},t.prototype.setCodeMarkers=function(i){i===void 0&&(i={left:[],right:[]});for(var o=[],c={left:[],right:[]},u=0;u<i.left.length;u++){var h={startRow:i.left[u].startLine-1,endRow:i.left[u].endLine,type:"text",className:"codeMarker"};c.left.push(h)}for(var u=0;u<i.right.length;u++){var h={startRow:i.right[u].startLine-1,endRow:i.right[u].endLine,type:"text",className:"codeMarker"};c.right.push(h)}return o[0]=c.left,o[1]=c.right,o},t.prototype.render=function(){var i=this.diff();return DN.createElement(aie.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:i})},t.propTypes={cursorStart:Bt.number,editorProps:Bt.object,enableBasicAutocompletion:Bt.bool,enableLiveAutocompletion:Bt.bool,focus:Bt.bool,fontSize:Bt.number,height:Bt.string,highlightActiveLine:Bt.bool,maxLines:Bt.number,minLines:Bt.number,mode:Bt.string,name:Bt.string,className:Bt.string,onLoad:Bt.func,onPaste:Bt.func,onScroll:Bt.func,onChange:Bt.func,orientation:Bt.string,readOnly:Bt.bool,scrollMargin:Bt.array,setOptions:Bt.object,showGutter:Bt.bool,showPrintMargin:Bt.bool,splits:Bt.number,style:Bt.object,tabSize:Bt.number,theme:Bt.string,value:Bt.array,width:Bt.string,wrapEnabled:Bt.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(DN.Component);R1.default=cie;Object.defineProperty(cd,"__esModule",{value:!0});cd.diff=cd.split=void 0;var uie=M1,die=R1;cd.diff=die.default;var hie=Zw;cd.split=hie.default;var fie=cd.default=uie.default,pie={exports:{}};(function(n,t){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(i,o,c){var u=i("./lib/dom"),h=i("./lib/oop"),b=i("./lib/event_emitter").EventEmitter,f=i("./lib/lang"),w=i("./range").Range,p=i("./range_list").RangeList,v=i("./keyboard/hash_handler").HashHandler,g=i("./tokenizer").Tokenizer,k=i("./clipboard"),A={CURRENT_WORD:function(I){return I.session.getTextRange(I.session.getWordRange())},SELECTION:function(I,R,j){var N=I.session.getTextRange();return j?N.replace(/\n\r?([ \t]*\S)/g,`
`+j+"$1"):N},CURRENT_LINE:function(I){return I.session.getLine(I.getCursorPosition().row)},PREV_LINE:function(I){return I.session.getLine(I.getCursorPosition().row-1)},LINE_INDEX:function(I){return I.getCursorPosition().row},LINE_NUMBER:function(I){return I.getCursorPosition().row+1},SOFT_TABS:function(I){return I.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(I){return I.session.getTabSize()},CLIPBOARD:function(I){return k.getText&&k.getText()},FILENAME:function(I){return/[^/\\]*$/.exec(this.FILEPATH(I))[0]},FILENAME_BASE:function(I){return/[^/\\]*$/.exec(this.FILEPATH(I))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(I){return this.FILEPATH(I).replace(/[^/\\]*$/,"")},FILEPATH:function(I){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(I){var R=I.session.$mode||{};return R.blockComment&&R.blockComment.start||""},BLOCK_COMMENT_END:function(I){var R=I.session.$mode||{};return R.blockComment&&R.blockComment.end||""},LINE_COMMENT:function(I){var R=I.session.$mode||{};return R.lineCommentStart||""},CURRENT_YEAR:_.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:_.bind(null,{year:"2-digit"}),CURRENT_MONTH:_.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:_.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:_.bind(null,{month:"short"}),CURRENT_DATE:_.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:_.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:_.bind(null,{weekday:"short"}),CURRENT_HOUR:_.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:_.bind(null,{minute:"2-digit"}),CURRENT_SECOND:_.bind(null,{second:"2-digit"})};A.SELECTED_TEXT=A.SELECTION;function _(I){var R=new Date().toLocaleString("en-us",I);return R.length==1?"0"+R:R}var E=function(){this.snippetMap={},this.snippetNameMap={}};(function(){h.implement(this,b),this.getTokenizer=function(){return E.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function R(P){return P=P.substr(1),/^\d+$/.test(P)?[{tabstopId:parseInt(P,10)}]:[{text:P}]}function j(P){return"(?:[^\\\\"+P+"]|\\\\.)"}var N={regex:"/("+j("/")+"+)/",onMatch:function(P,F,T){var L=T[0];return L.fmtString=!0,L.guard=P.slice(1,-1),L.flag="",""},next:"formatString"};return E.$tokenizer=new g({start:[{regex:/\\./,onMatch:function(P,F,T){var L=P[1];return(L=="}"&&T.length||"`$\\".indexOf(L)!=-1)&&(P=L),[P]}},{regex:/}/,onMatch:function(P,F,T){return[T.length?T.shift():P]}},{regex:/\$(?:\d+|\w+)/,onMatch:R},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(P,F,T){var L=R(P.substr(1));return T.unshift(L[0]),L},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+j("\\|")+"*\\|",onMatch:function(P,F,T){var L=P.slice(1,-1).replace(/\\[,|\\]|,/g,function(z){return z.length==2?z[1]:"\0"}).split("\0").map(function(z){return{value:z}});return T[0].choices=L,[L[0]]},next:"start"},N,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(P,F,T){return T.length&&T[0].expectElse?(T[0].expectElse=!1,T[0].ifEnd={elseEnd:T[0]},[T[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(P,F,T){var L=P[1];return L=="}"&&T.length||"`$\\".indexOf(L)!=-1?P=L:L=="n"?P=`
`:L=="t"?P="	":"ulULE".indexOf(L)!=-1&&(P={changeCase:L,local:L>"a"}),[P]}},{regex:"/\\w*}",onMatch:function(P,F,T){var L=T.shift();return L&&(L.flag=P.slice(1,-1)),this.next=L&&L.tabstopId?"start":"",[L||P]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(P,F,T){return[{text:P.slice(1)}]}},{regex:/\${\w+/,onMatch:function(P,F,T){var L={text:P.slice(2)};return T.unshift(L),[L]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(P,F,T){var L=T.shift();return this.next=L&&L.tabstopId?"start":"",[L||P]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(P,F,T){var L=T[0];return L.formatFunction=P.slice(2,-1),[T.shift()]},next:"formatString"},N,{regex:/:[\?\-+]?/,onMatch:function(P,F,T){P[1]=="+"&&(T[0].ifEnd=T[0]),P[1]=="?"&&(T[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),E.$tokenizer},this.tokenizeTmSnippet=function(R,j){return this.getTokenizer().getLineTokens(R,j).tokens.map(function(N){return N.value||N})},this.getVariableValue=function(R,j,N){if(/^\d+$/.test(j))return(this.variables.__||{})[j]||"";if(/^[A-Z]\d+$/.test(j))return(this.variables[j[0]+"__"]||{})[j.substr(1)]||"";if(j=j.replace(/^TM_/,""),!this.variables.hasOwnProperty(j))return"";var P=this.variables[j];return typeof P=="function"&&(P=this.variables[j](R,j,N)),P??""},this.variables=A,this.tmStrFormat=function(R,j,N){if(!j.fmt)return R;var P=j.flag||"",F=j.guard;F=new RegExp(F,P.replace(/[^gim]/g,""));var T=typeof j.fmt=="string"?this.tokenizeTmSnippet(j.fmt,"formatString"):j.fmt,L=this,z=R.replace(F,function(){var V=L.variables.__;L.variables.__=[].slice.call(arguments);for(var H=L.resolveVariables(T,N),G="E",J=0;J<H.length;J++){var Y=H[J];if(typeof Y=="object")if(H[J]="",Y.changeCase&&Y.local){var ee=H[J+1];ee&&typeof ee=="string"&&(Y.changeCase=="u"?H[J]=ee[0].toUpperCase():H[J]=ee[0].toLowerCase(),H[J+1]=ee.substr(1))}else Y.changeCase&&(G=Y.changeCase);else G=="U"?H[J]=Y.toUpperCase():G=="L"&&(H[J]=Y.toLowerCase())}return L.variables.__=V,H.join("")});return z},this.tmFormatFunction=function(R,j,N){return j.formatFunction=="upcase"?R.toUpperCase():j.formatFunction=="downcase"?R.toLowerCase():R},this.resolveVariables=function(R,j){for(var N=[],P="",F=!0,T=0;T<R.length;T++){var L=R[T];if(typeof L=="string"){N.push(L),L==`
`?(F=!0,P=""):F&&(P=/^\t*/.exec(L)[0],F=/\S/.test(L));continue}if(L){if(F=!1,L.fmtString){var z=R.indexOf(L,T+1);z==-1&&(z=R.length),L.fmt=R.slice(T+1,z),T=z}if(L.text){var V=this.getVariableValue(j,L.text,P)+"";L.fmtString&&(V=this.tmStrFormat(V,L,j)),L.formatFunction&&(V=this.tmFormatFunction(V,L,j)),V&&!L.ifEnd?(N.push(V),H(L)):!V&&L.ifEnd&&H(L.ifEnd)}else L.elseEnd?H(L.elseEnd):(L.tabstopId!=null||L.changeCase!=null)&&N.push(L)}}function H(G){var J=R.indexOf(G,T+1);J!=-1&&(T=J)}return N};var I=function(R,j,N){var P=R.getCursorPosition(),F=R.session.getLine(P.row),T=R.session.getTabString(),L=F.match(/^\s*/)[0];P.column<L.length&&(L=L.slice(0,P.column)),j=j.replace(/\r/g,"");var z=this.tokenizeTmSnippet(j);z=this.resolveVariables(z,R),z=z.map(function(ge){return ge==`
`?ge+L:typeof ge=="string"?ge.replace(/\t/g,T):ge});var V=[];z.forEach(function(ge,ye){if(typeof ge=="object"){var Ie=ge.tabstopId,xe=V[Ie];if(xe||(xe=V[Ie]=[],xe.index=Ie,xe.value="",xe.parents={}),xe.indexOf(ge)===-1){ge.choices&&!xe.choices&&(xe.choices=ge.choices),xe.push(ge);var $e=z.indexOf(ge,ye+1);if($e!==-1){var qe=z.slice(ye+1,$e),wt=qe.some(function(Jt){return typeof Jt=="object"});wt&&!xe.value?xe.value=qe:qe.length&&(!xe.value||typeof xe.value!="string")&&(xe.value=qe.join(""))}}}}),V.forEach(function(ge){ge.length=0});var H={};function G(ge){for(var ye=[],Ie=0;Ie<ge.length;Ie++){var xe=ge[Ie];if(typeof xe=="object"){if(H[xe.tabstopId])continue;var $e=ge.lastIndexOf(xe,Ie-1);xe=ye[$e]||{tabstopId:xe.tabstopId}}ye[Ie]=xe}return ye}for(var J=0;J<z.length;J++){var Y=z[J];if(typeof Y=="object"){var ee=Y.tabstopId,re=V[ee],oe=z.indexOf(Y,J+1);if(H[ee]){H[ee]===Y&&(delete H[ee],Object.keys(H).forEach(function(ge){re.parents[ge]=!0}));continue}H[ee]=Y;var pe=re.value;typeof pe!="string"?pe=G(pe):Y.fmt&&(pe=this.tmStrFormat(pe,Y,R)),z.splice.apply(z,[J+1,Math.max(0,oe-J)].concat(pe,Y)),re.indexOf(Y)===-1&&re.push(Y)}}var le=0,ce=0,ue="";return z.forEach(function(ge){if(typeof ge=="string"){var ye=ge.split(`
`);ye.length>1?(ce=ye[ye.length-1].length,le+=ye.length-1):ce+=ge.length,ue+=ge}else ge&&(ge.start?ge.end={row:le,column:ce}:ge.start={row:le,column:ce})}),{text:ue,tabstops:V,tokens:z}};this.getDisplayTextForSnippet=function(R,j){var N=I.call(this,R,j);return N.text},this.insertSnippetForSelection=function(R,j,N){var P=I.call(this,R,j),F=R.getSelectionRange();N&&N.compareRange(F)===0&&(F=N);var T=R.session.replace(F,P.text),L=new x(R),z=R.inVirtualSelectionMode&&R.selection.index;L.addTabstops(P.tabstops,F.start,T,z)},this.insertSnippet=function(R,j,N){var P=this;if(R.inVirtualSelectionMode)return P.insertSnippetForSelection(R,j,N);R.forEachSelection(function(){P.insertSnippetForSelection(R,j,N)},null,{keepOrder:!0}),R.tabstopManager&&R.tabstopManager.tabNext()},this.$getScope=function(R){var j=R.session.$mode.$id||"";if(j=j.split("/").pop(),j==="html"||j==="php"){j==="php"&&!R.session.$mode.inlinePhp&&(j="html");var N=R.getCursorPosition(),P=R.session.getState(N.row);typeof P=="object"&&(P=P[0]),P.substring&&(P.substring(0,3)=="js-"?j="javascript":P.substring(0,4)=="css-"?j="css":P.substring(0,4)=="php-"&&(j="php"))}return j},this.getActiveScopes=function(R){var j=this.$getScope(R),N=[j],P=this.snippetMap;return P[j]&&P[j].includeScopes&&N.push.apply(N,P[j].includeScopes),N.push("_"),N},this.expandWithTab=function(R,j){var N=this,P=R.forEachSelection(function(){return N.expandSnippetForSelection(R,j)},null,{keepOrder:!0});return P&&R.tabstopManager&&R.tabstopManager.tabNext(),P},this.expandSnippetForSelection=function(R,j){var N=R.getCursorPosition(),P=R.session.getLine(N.row),F=P.substring(0,N.column),T=P.substr(N.column),L=this.snippetMap,z;return this.getActiveScopes(R).some(function(V){var H=L[V];return H&&(z=this.findMatchingSnippet(H,F,T)),!!z},this),z?(j&&j.dryRun||(R.session.doc.removeInLine(N.row,N.column-z.replaceBefore.length,N.column+z.replaceAfter.length),this.variables.M__=z.matchBefore,this.variables.T__=z.matchAfter,this.insertSnippetForSelection(R,z.content),this.variables.M__=this.variables.T__=null),!0):!1},this.findMatchingSnippet=function(R,j,N){for(var P=R.length;P--;){var F=R[P];if(!(F.startRe&&!F.startRe.test(j))&&!(F.endRe&&!F.endRe.test(N))&&!(!F.startRe&&!F.endRe))return F.matchBefore=F.startRe?F.startRe.exec(j):[""],F.matchAfter=F.endRe?F.endRe.exec(N):[""],F.replaceBefore=F.triggerRe?F.triggerRe.exec(j)[0]:"",F.replaceAfter=F.endTriggerRe?F.endTriggerRe.exec(N)[0]:"",F}},this.snippetMap={},this.snippetNameMap={},this.register=function(R,j){var N=this.snippetMap,P=this.snippetNameMap,F=this;R||(R=[]);function T(V){return V&&!/^\^?\(.*\)\$?$|^\\b$/.test(V)&&(V="(?:"+V+")"),V||""}function L(V,H,G){return V=T(V),H=T(H),G?(V=H+V,V&&V[V.length-1]!="$"&&(V=V+"$")):(V=V+H,V&&V[0]!="^"&&(V="^"+V)),new RegExp(V)}function z(V){V.scope||(V.scope=j||"_"),j=V.scope,N[j]||(N[j]=[],P[j]={});var H=P[j];if(V.name){var G=H[V.name];G&&F.unregister(G),H[V.name]=V}N[j].push(V),V.prefix&&(V.tabTrigger=V.prefix),!V.content&&V.body&&(V.content=Array.isArray(V.body)?V.body.join(`
`):V.body),V.tabTrigger&&!V.trigger&&(!V.guard&&/^\w/.test(V.tabTrigger)&&(V.guard="\\b"),V.trigger=f.escapeRegExp(V.tabTrigger)),!(!V.trigger&&!V.guard&&!V.endTrigger&&!V.endGuard)&&(V.startRe=L(V.trigger,V.guard,!0),V.triggerRe=new RegExp(V.trigger),V.endRe=L(V.endTrigger,V.endGuard,!0),V.endTriggerRe=new RegExp(V.endTrigger))}Array.isArray(R)?R.forEach(z):Object.keys(R).forEach(function(V){z(R[V])}),this._signal("registerSnippets",{scope:j})},this.unregister=function(R,j){var N=this.snippetMap,P=this.snippetNameMap;function F(T){var L=P[T.scope||j];if(L&&L[T.name]){delete L[T.name];var z=N[T.scope||j],V=z&&z.indexOf(T);V>=0&&z.splice(V,1)}}R.content?F(R):Array.isArray(R)&&R.forEach(F)},this.parseSnippetFile=function(R){R=R.replace(/\r/g,"");for(var j=[],N={},P=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,F;F=P.exec(R);){if(F[1])try{N=JSON.parse(F[1]),j.push(N)}catch{}if(F[4])N.content=F[4].replace(/^\t/gm,""),j.push(N),N={};else{var T=F[2],L=F[3];if(T=="regex"){var z=/\/((?:[^\/\\]|\\.)*)|$/g;N.guard=z.exec(L)[1],N.trigger=z.exec(L)[1],N.endTrigger=z.exec(L)[1],N.endGuard=z.exec(L)[1]}else T=="snippet"?(N.tabTrigger=L.match(/^\S*/)[0],N.name||(N.name=L)):T&&(N[T]=L)}}return j},this.getSnippetByName=function(R,j){var N=this.snippetNameMap,P;return this.getActiveScopes(j).some(function(F){var T=N[F];return T&&(P=T[R]),!!P},this),P}}).call(E.prototype);var x=function(I){if(I.tabstopManager)return I.tabstopManager;I.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=f.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(I)};(function(){this.attach=function(I){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=I,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(I){for(var R=I.action[0]=="r",j=this.selectedTabstop||{},N=j.parents||{},P=(this.tabstops||[]).slice(),F=0;F<P.length;F++){var T=P[F],L=T==j||N[T.index];if(T.rangeList.$bias=L?0:1,I.action=="remove"&&T!==j){var z=T.parents&&T.parents[j.index],V=T.rangeList.pointIndex(I.start,z);V=V<0?-V-1:V+1;var H=T.rangeList.pointIndex(I.end,z);H=H<0?-H-1:H-1;for(var G=T.rangeList.ranges.slice(V,H),J=0;J<G.length;J++)this.removeRange(G[J])}T.rangeList.$onChange(I)}var Y=this.editor.session;!this.$inChange&&R&&Y.getLength()==1&&!Y.getValue()&&this.detach()},this.updateLinkedFields=function(){var I=this.selectedTabstop;if(!(!I||!I.hasLinkedRanges||!I.firstNonLinked)){this.$inChange=!0;for(var R=this.editor.session,j=R.getTextRange(I.firstNonLinked),N=0;N<I.length;N++){var P=I[N];if(P.linked){var F=P.original,T=o.snippetManager.tmStrFormat(j,F,this.editor);R.replace(P,T)}}this.$inChange=!1}},this.onAfterExec=function(I){I.command&&!I.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var I=this.editor.selection.lead,R=this.editor.selection.anchor,j=this.editor.selection.isEmpty(),N=0;N<this.ranges.length;N++)if(!this.ranges[N].linked){var P=this.ranges[N].contains(I.row,I.column),F=j||this.ranges[N].contains(R.row,R.column);if(P&&F)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(I){var R=this.tabstops.length,j=this.index+(I||1);j=Math.min(Math.max(j,1),R),j==R&&(j=0),this.selectTabstop(j),j===0&&this.detach()},this.selectTabstop=function(I){this.$openTabstops=null;var R=this.tabstops[this.index];if(R&&this.addTabstopMarkers(R),this.index=I,R=this.tabstops[this.index],!(!R||!R.length)){this.selectedTabstop=R;var j=R.firstNonLinked||R;if(R.choices&&(j.cursor=j.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(j);else{var N=this.editor.multiSelect;N.toSingleRange(j);for(var P=0;P<R.length;P++)R.hasLinkedRanges&&R[P].linked||N.addRange(R[P].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(I,R,j){var N=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!I[0]){var P=w.fromPoints(j,j);O(P.start,R),O(P.end,R),I[0]=[P],I[0].index=0}var F=this.index,T=[F+1,0],L=this.ranges;I.forEach(function(z,V){for(var H=this.$openTabstops[V]||z,G=0;G<z.length;G++){var J=z[G],Y=w.fromPoints(J.start,J.end||J.start);D(Y.start,R),D(Y.end,R),Y.original=J,Y.tabstop=H,L.push(Y),H!=z?H.unshift(Y):H[G]=Y,J.fmtString||H.firstNonLinked&&N?(Y.linked=!0,H.hasLinkedRanges=!0):H.firstNonLinked||(H.firstNonLinked=Y)}H.firstNonLinked||(H.hasLinkedRanges=!1),H===z&&(T.push(H),this.$openTabstops[V]=H),this.addTabstopMarkers(H),H.rangeList=H.rangeList||new p,H.rangeList.$bias=0,H.rangeList.addList(H)},this),T.length>2&&(this.tabstops.length&&T.push(T.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,T))},this.addTabstopMarkers=function(I){var R=this.editor.session;I.forEach(function(j){j.markerId||(j.markerId=R.addMarker(j,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(I){var R=this.editor.session;I.forEach(function(j){R.removeMarker(j.markerId),j.markerId=null})},this.removeRange=function(I){var R=I.tabstop.indexOf(I);R!=-1&&I.tabstop.splice(R,1),R=this.ranges.indexOf(I),R!=-1&&this.ranges.splice(R,1),R=I.tabstop.rangeList.ranges.indexOf(I),R!=-1&&I.tabstop.splice(R,1),this.editor.session.removeMarker(I.markerId),I.tabstop.length||(R=this.tabstops.indexOf(I.tabstop),R!=-1&&this.tabstops.splice(R,1),this.tabstops.length||this.detach())},this.keyboardHandler=new v,this.keyboardHandler.bindKeys({Tab:function(I){o.snippetManager&&o.snippetManager.expandWithTab(I)||(I.tabstopManager.tabNext(1),I.renderer.scrollCursorIntoView())},"Shift-Tab":function(I){I.tabstopManager.tabNext(-1),I.renderer.scrollCursorIntoView()},Esc:function(I){I.tabstopManager.detach()}})}).call(x.prototype);var D=function(I,R){I.row==0&&(I.column+=R.column),I.row+=R.row},O=function(I,R){I.row==R.row&&(I.column-=R.column),I.row-=R.row};u.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),o.snippetManager=new E;var B=i("./editor").Editor;(function(){this.insertSnippet=function(I,R){return o.snippetManager.insertSnippet(this,I,R)},this.expandSnippet=function(I){return o.snippetManager.expandWithTab(this,I)}}).call(B.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(i,o,c){var u=i("../virtual_renderer").VirtualRenderer,h=i("../editor").Editor,b=i("../range").Range,f=i("../lib/event"),w=i("../lib/lang"),p=i("../lib/dom"),v=function(A){return"suggest-aria-id:".concat(A)},g=function(A){var _=new u(A);_.$maxLines=4;var E=new h(_);return E.setHighlightActiveLine(!1),E.setShowPrintMargin(!1),E.renderer.setShowGutter(!1),E.renderer.setHighlightGutterLine(!1),E.$mouseHandler.$focusTimeout=0,E.$highlightTagPending=!0,E},k=function(){function A(_){var E=p.createElement("div"),x=new g(E);_&&_.appendChild(E),E.style.display="none",x.renderer.content.style.cursor="default",x.renderer.setStyle("ace_autocomplete"),x.renderer.container.setAttribute("role","listbox"),x.renderer.container.setAttribute("aria-label","Autocomplete suggestions"),x.setOption("displayIndentGuides",!1),x.setOption("dragDelay",150);var D=function(){};x.focus=D,x.$isFocused=!0,x.renderer.$cursorLayer.restartTimer=D,x.renderer.$cursorLayer.element.style.opacity=0,x.renderer.$maxLines=8,x.renderer.$keepTextAreaAtCursor=!1,x.setHighlightActiveLine(!1),x.session.highlight(""),x.session.$searchHighlight.clazz="ace_highlight-marker",x.on("mousedown",function(P){var F=P.getDocumentPosition();x.selection.moveToPosition(F),I.start.row=I.end.row=F.row,P.stop()});var O,B=new b(-1,0,-1,1/0),I=new b(-1,0,-1,1/0);I.id=x.session.addMarker(I,"ace_active-line","fullLine"),x.setSelectOnHover=function(P){P?B.id&&(x.session.removeMarker(B.id),B.id=null):B.id=x.session.addMarker(B,"ace_line-hover","fullLine")},x.setSelectOnHover(!1),x.on("mousemove",function(P){if(!O){O=P;return}if(!(O.x==P.x&&O.y==P.y)){O=P,O.scrollTop=x.renderer.scrollTop;var F=O.getDocumentPosition().row;B.start.row!=F&&(B.id||x.setRow(F),j(F))}}),x.renderer.on("beforeRender",function(){if(O&&B.start.row!=-1){O.$pos=null;var P=O.getDocumentPosition().row;B.id||x.setRow(P),j(P,!0)}}),x.renderer.on("afterRender",function(){var P=x.getRow(),F=x.renderer.$textLayer,T=F.element.childNodes[P-F.config.firstRow],L=document.activeElement;if(T!==F.selectedNode&&F.selectedNode&&(p.removeCssClass(F.selectedNode,"ace_selected"),L.removeAttribute("aria-activedescendant"),F.selectedNode.removeAttribute("id")),F.selectedNode=T,T){p.addCssClass(T,"ace_selected");var z=v(P);T.id=z,x.renderer.container.setAttribute("aria-activedescendant",z),L.setAttribute("aria-activedescendant",z),T.setAttribute("role","option"),T.setAttribute("aria-label",x.getData(P).value),T.setAttribute("aria-setsize",x.data.length),T.setAttribute("aria-posinset",P)}});var R=function(){j(-1)},j=function(P,F){P!==B.start.row&&(B.start.row=B.end.row=P,F||x.session._emit("changeBackMarker"),x._emit("changeHoverMarker"))};x.getHoveredRow=function(){return B.start.row},f.addListener(x.container,"mouseout",R),x.on("hide",R),x.on("changeSelection",R),x.session.doc.getLength=function(){return x.data.length},x.session.doc.getLine=function(P){var F=x.data[P];return typeof F=="string"?F:F&&F.value||""};var N=x.session.bgTokenizer;return N.$tokenizeRow=function(P){var F=x.data[P],T=[];if(!F)return T;typeof F=="string"&&(F={value:F});var L=F.caption||F.value||F.name;function z(oe,pe){oe&&T.push({type:(F.className||"")+(pe||""),value:oe})}for(var V=L.toLowerCase(),H=(x.filterText||"").toLowerCase(),G=0,J=0,Y=0;Y<=H.length;Y++)if(Y!=J&&(F.matchMask&1<<Y||Y==H.length)){var ee=H.slice(J,Y);J=Y;var re=V.indexOf(ee,G);if(re==-1)continue;z(L.slice(G,re),""),G=re+ee.length,z(L.slice(re,G),"completion-highlight")}return z(L.slice(G,L.length),""),F.meta&&T.push({type:"completion-meta",value:F.meta}),F.message&&T.push({type:"completion-message",value:F.message}),T},N.$updateOnChange=D,N.start=D,x.session.$computeWidth=function(){return this.screenWidth=0},x.isOpen=!1,x.isTopdown=!1,x.autoSelect=!0,x.filterText="",x.data=[],x.setData=function(P,F){x.filterText=F||"",x.setValue(w.stringRepeat(`
`,P.length),-1),x.data=P||[],x.setRow(0)},x.getData=function(P){return x.data[P]},x.getRow=function(){return I.start.row},x.setRow=function(P){P=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,P)),I.start.row!=P&&(x.selection.clearSelection(),I.start.row=I.end.row=P||0,x.session._emit("changeBackMarker"),x.moveCursorTo(P||0,0),x.isOpen&&x._signal("select"))},x.on("changeSelection",function(){x.isOpen&&x.setRow(x.selection.lead.row),x.renderer.scrollCursorIntoView()}),x.hide=function(){this.container.style.display="none",x.anchorPos=null,x.anchor=null,x.isOpen&&(x.isOpen=!1,this._signal("hide"))},x.tryShow=function(P,F,T,L){if(!L&&x.isOpen&&x.anchorPos&&x.anchor&&x.anchorPos.top===P.top&&x.anchorPos.left===P.left&&x.anchor===T)return!0;var z=this.container,V=window.innerHeight,H=window.innerWidth,G=this.renderer,J=G.$maxLines*F*1.4,Y={top:0,bottom:0,left:0},ee=V-P.top-3*this.$borderSize-F,re=P.top-3*this.$borderSize;T||(re<=ee||ee>=J?T="bottom":T="top"),T==="top"?(Y.bottom=P.top-this.$borderSize,Y.top=Y.bottom-J):T==="bottom"&&(Y.top=P.top+F+this.$borderSize,Y.bottom=Y.top+J);var oe=Y.top>=0&&Y.bottom<=V;if(!L&&!oe)return!1;oe?G.$maxPixelHeight=null:T==="top"?G.$maxPixelHeight=re:G.$maxPixelHeight=ee,T==="top"?(z.style.top="",z.style.bottom=V-Y.bottom+"px",x.isTopdown=!1):(z.style.top=Y.top+"px",z.style.bottom="",x.isTopdown=!0),z.style.display="";var pe=P.left;return pe+z.offsetWidth>H&&(pe=H-z.offsetWidth),z.style.left=pe+"px",z.style.right="",x.isOpen||(x.isOpen=!0,this._signal("show"),O=null),x.anchorPos=P,x.anchor=T,!0},x.show=function(P,F,T){this.tryShow(P,F,T?"bottom":void 0,!0)},x.goTo=function(P){var F=this.getRow(),T=this.session.getLength()-1;switch(P){case"up":F=F<=0?T:F-1;break;case"down":F=F>=T?-1:F+1;break;case"start":F=0;break;case"end":F=T;break}this.setRow(F)},x.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},x.$imageSize=0,x.$borderSize=1,x}return A}();p.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin: 0 0.9em;
}
.ace_completion-message {
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete_right .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete_right .ace_line {
    display: flex;
}
.ace_autocomplete_right .ace_completion-meta {
    flex: 1;
    text-align: right;
}
`,"autocompletion.css",!1),o.AcePopup=k,o.$singleLineEditor=g,o.getAriaId=v}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets"],function(i,o,c){var u=i("../snippets").snippetManager,h=function(){function b(){this.editor=null}return b.prototype.show=function(f,w,p){if(p=p||"",f&&this.editor&&this.editor!==f&&(this.hide(),this.editor=null),!f||!w)return!1;var v=w.snippet?u.getDisplayTextForSnippet(f,w.snippet):w.value;return!v||!v.startsWith(p)?!1:(this.editor=f,v=v.slice(p.length),v===""?f.removeGhostText():f.setGhostText(v),!0)},b.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},b.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},b.prototype.destroy=function(){this.hide(),this.editor=null},b}();o.AceInline=h}),ace.define("ace/autocomplete/util",["require","exports","module"],function(i,o,c){o.parForEach=function(h,b,f){var w=0,p=h.length;p===0&&f();for(var v=0;v<p;v++)b(h[v],function(g,k){w++,w===p&&f(g,k)})};var u=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;o.retrievePrecedingIdentifier=function(h,b,f){f=f||u;for(var w=[],p=b-1;p>=0&&f.test(h[p]);p--)w.push(h[p]);return w.reverse().join("")},o.retrieveFollowingIdentifier=function(h,b,f){f=f||u;for(var w=[],p=b;p<h.length&&f.test(h[p]);p++)w.push(h[p]);return w},o.getCompletionPrefix=function(h){var b=h.getCursorPosition(),f=h.session.getLine(b.row),w;return h.completers.forEach(function(p){p.identifierRegexps&&p.identifierRegexps.forEach(function(v){!w&&v&&(w=this.retrievePrecedingIdentifier(f,b.column,v))}.bind(this))}.bind(this)),w||this.retrievePrecedingIdentifier(f,b.column)}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],function(i,o,c){var u=i("./keyboard/hash_handler").HashHandler,h=i("./autocomplete/popup").AcePopup,b=i("./autocomplete/inline").AceInline,f=i("./autocomplete/popup").getAriaId,w=i("./autocomplete/util"),p=i("./lib/lang"),v=i("./lib/dom"),g=i("./snippets").snippetManager,k=i("./config"),A=function(D,O){O.completer&&O.completer.destroy()},_=function(){function D(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new u,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=p.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=p.delayedCall(this.updateDocTooltip.bind(this),50)}return D.prototype.$init=function(){return this.popup=new h(document.body||document.documentElement),this.popup.on("click",function(O){this.insertMatch(),O.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupChange.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},D.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new b,this.inlineRenderer},D.prototype.getPopup=function(){return this.popup||this.$init()},D.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip()},D.prototype.$onPopupChange=function(O){if(this.inlineRenderer&&this.inlineEnabled){var B=O?null:this.popup.getData(this.popup.getRow()),I=w.getCompletionPrefix(this.editor);this.inlineRenderer.show(this.editor,B,I)||this.inlineRenderer.hide(),this.$updatePopupPosition()}this.tooltipTimer.call(null,null)},D.prototype.$updatePopupPosition=function(){var O=this.editor,B=O.renderer,I=B.layerConfig.lineHeight,R=B.$cursorLayer.getPixelPosition(this.base,!0);R.left-=this.popup.getTextLeftOffset();var j=O.container.getBoundingClientRect();R.top+=j.top-B.layerConfig.offset,R.left+=j.left-O.renderer.scrollLeft,R.left+=B.gutterWidth;var N={top:R.top,left:R.left};B.$ghostText&&B.$ghostTextWidget&&this.base.row===B.$ghostText.position.row&&(N.top+=B.$ghostTextWidget.el.offsetHeight),!this.popup.tryShow(N,I,"bottom")&&(this.popup.tryShow(R,I,"top")||this.popup.show(R,I))},D.prototype.openPopup=function(O,B,I){this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:f(this.popup.getRow()),inline:this.inlineEnabled}),O.keyBinding.addKeyboardHandler(this.keyboardHandler),this.popup.setRow(this.autoSelect?0:-1),I?I&&!B&&this.detach():(this.popup.setTheme(O.getTheme()),this.popup.setFontSize(O.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel()},D.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null},D.prototype.changeListener=function(O){var B=this.editor.selection.lead;(B.row!=this.base.row||B.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},D.prototype.blurListener=function(O){var B=document.activeElement,I=this.editor.textInput.getElement(),R=O.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(O.relatedTarget),j=this.popup&&this.popup.container;B!=I&&B.parentNode!=j&&!R&&B!=this.tooltipNode&&O.relatedTarget!=I&&this.detach()},D.prototype.mousedownListener=function(O){this.detach()},D.prototype.mousewheelListener=function(O){this.detach()},D.prototype.goTo=function(O){this.popup.goTo(O)},D.prototype.insertMatch=function(O,B){if(O||(O=this.popup.getData(this.popup.getRow())),!O)return!1;var I=this.completions,R=this.getCompletionProvider().insertMatch(this.editor,O,I.filterText,B);return this.completions==I&&this.detach(),R},D.prototype.showPopup=function(O,B){this.editor&&this.detach(),this.activated=!0,this.editor=O,O.completer!=this&&(O.completer&&O.completer.detach(),O.completer=this),O.on("changeSelection",this.changeListener),O.on("blur",this.blurListener),O.on("mousedown",this.mousedownListener),O.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,B)},D.prototype.getCompletionProvider=function(){return this.completionProvider||(this.completionProvider=new E),this.completionProvider},D.prototype.gatherCompletions=function(O,B){return this.getCompletionProvider().gatherCompletions(O,B)},D.prototype.updateCompletions=function(O,B){if(O&&this.base&&this.completions){var R=this.editor.getCursorPosition(),j=this.editor.session.getTextRange({start:this.base,end:R});if(j==this.completions.filterText)return;if(this.completions.setFilter(j),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==j&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,j,O);return}if(B&&B.matches){var R=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(R.row,R.column),this.base.$insertRight=!0,this.completions=new x(B.matches),this.openPopup(this.editor,"",O)}var I=this.editor.getSession(),R=this.editor.getCursorPosition(),j=w.getCompletionPrefix(this.editor);this.base=I.doc.createAnchor(R.row,R.column-j.length),this.base.$insertRight=!0;var N={exactMatch:this.exactMatch};this.getCompletionProvider().provideCompletions(this.editor,N,function(P,F,T){var L=F.filtered,z=w.getCompletionPrefix(this.editor);if(T){if(!L.length)return this.detach();if(L.length==1&&L[0].value==z&&!L[0].snippet)return this.detach();if(this.autoInsert&&L.length==1)return this.insertMatch(L[0])}this.completions=F,this.openPopup(this.editor,z,O)}.bind(this))},D.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},D.prototype.updateDocTooltip=function(){var O=this.popup,B=O.data,I=B&&(B[O.getHoveredRow()]||B[O.getRow()]),R=null;if(!I||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var j=this.editor.completers.length,N=0;N<j;N++){var P=this.editor.completers[N];if(P.getDocTooltip&&I.completerId===P.id){R=P.getDocTooltip(I);break}}if(!R&&typeof I!="string"&&(R=I),typeof R=="string"&&(R={docText:R}),!R||!(R.docHTML||R.docText))return this.hideDocTooltip();this.showDocTooltip(R)},D.prototype.showDocTooltip=function(O){this.tooltipNode||(this.tooltipNode=v.createElement("div"),this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var B=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(B.isDark?"ace_dark ":"")+(B.cssClass||"");var I=this.tooltipNode;O.docHTML?I.innerHTML=O.docHTML:O.docText&&(I.textContent=O.docText),I.parentNode||document.body.appendChild(I);var R=this.popup,j=R.container.getBoundingClientRect();I.style.top=R.container.style.top,I.style.bottom=R.container.style.bottom,I.style.display="block",window.innerWidth-j.right<320?j.left<320?R.isTopdown?(I.style.top=j.bottom+"px",I.style.left=j.left+"px",I.style.right="",I.style.bottom=""):(I.style.top=R.container.offsetTop-I.offsetHeight+"px",I.style.left=j.left+"px",I.style.right="",I.style.bottom=""):(I.style.right=window.innerWidth-j.left+"px",I.style.left=""):(I.style.left=j.right+1+"px",I.style.right="")},D.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var O=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==O&&this.editor.focus(),this.tooltipNode=null,O.parentNode&&O.parentNode.removeChild(O)}},D.prototype.onTooltipClick=function(O){for(var B=O.target;B&&B!=this.tooltipNode;){if(B.nodeName=="A"&&B.href){B.rel="noreferrer",B.target="_blank";break}B=B.parentNode}},D.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var O=this.popup.container;O&&O.parentNode&&O.parentNode.removeChild(O)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",A),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},D}();_.prototype.commands={Up:function(D){D.completer.goTo("up")},Down:function(D){D.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(D){D.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(D){D.completer.goTo("end")},Esc:function(D){D.completer.detach()},Return:function(D){return D.completer.insertMatch()},"Shift-Return":function(D){D.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(D){var O=D.completer.insertMatch();if(!O&&!D.tabstopManager)D.completer.goTo("down");else return O},PageUp:function(D){D.completer.popup.gotoPageUp()},PageDown:function(D){D.completer.popup.gotoPageDown()}},_.for=function(D){return D.completer instanceof _||(D.completer&&(D.completer.destroy(),D.completer=null),k.get("sharedPopups")?(_.$sharedInstance||(_.$sharedInstance=new _),D.completer=_.$sharedInstance):(D.completer=new _,D.once("destroy",A))),D.completer},_.startCommand={name:"startAutocomplete",exec:function(D,O){var B=_.for(D);B.autoInsert=!1,B.autoSelect=!0,B.showPopup(D,O),B.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var E=function(){function D(){this.active=!0}return D.prototype.insertByIndex=function(O,B,I){return!this.completions||!this.completions.filtered?!1:this.insertMatch(O,this.completions.filtered[B],I)},D.prototype.insertMatch=function(O,B,I){if(!B)return!1;if(O.startOperation({command:{name:"insertMatch"}}),B.completer&&B.completer.insertMatch)B.completer.insertMatch(O,B);else{if(!this.completions)return!1;if(this.completions.filterText)for(var R=O.selection.getAllRanges(),j=0,N;N=R[j];j++)N.start.column-=this.completions.filterText.length,O.session.remove(N);B.snippet?g.insertSnippet(O,B.snippet,B.range):this.$insertString(O,B),B.command&&B.command==="startAutocomplete"&&O.execCommand(B.command)}return O.endOperation(),!0},D.prototype.$insertString=function(O,B){var I=B.value||B;if(B.range){if(O.inVirtualSelectionMode)return O.session.replace(B.range,I);O.forEachSelection(function(){var R=O.getSelectionRange();B.range.compareRange(R)===0?O.session.replace(B.range,I):O.insert(I)},null,{keepOrder:!0})}else O.execCommand("insertstring",I)},D.prototype.gatherCompletions=function(O,B){var I=O.getSession(),R=O.getCursorPosition(),j=w.getCompletionPrefix(O),N=[],P=O.completers.length;return O.completers.forEach(function(F,T){F.getCompletions(O,I,R,j,function(L,z){!L&&z&&(N=N.concat(z)),B(null,{prefix:w.getCompletionPrefix(O),matches:N,finished:--P===0})})}),!0},D.prototype.provideCompletions=function(O,B,I){var R=function(F){var T=F.prefix,L=F.matches;this.completions=new x(L),B.exactMatch&&(this.completions.exactMatch=!0),B.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(T),(F.finished||this.completions.filtered.length)&&I(null,this.completions,F.finished)}.bind(this),j=!0,N=null;if(this.gatherCompletions(O,function(F,T){if(this.active){F&&(I(F,[],!0),this.detach());var L=T.prefix;if(L.indexOf(T.prefix)===0){if(j){N=T;return}R(T)}}}.bind(this)),j=!1,N){var P=N;N=null,R(P)}},D.prototype.detach=function(){this.active=!1},D}(),x=function(){function D(O,B){this.all=O,this.filtered=O,this.filterText=B||"",this.exactMatch=!1,this.ignoreCaption=!1}return D.prototype.setFilter=function(O){if(O.length>this.filterText&&O.lastIndexOf(this.filterText,0)===0)var B=this.filtered;else var B=this.all;this.filterText=O,B=this.filterCompletions(B,this.filterText),B=B.sort(function(R,j){return j.exactMatch-R.exactMatch||j.$score-R.$score||(R.caption||R.value).localeCompare(j.caption||j.value)});var I=null;B=B.filter(function(R){var j=R.snippet||R.caption||R.value;return j===I?!1:(I=j,!0)}),this.filtered=B},D.prototype.filterCompletions=function(O,B){var I=[],R=B.toUpperCase(),j=B.toLowerCase();e:for(var N=0,P;P=O[N];N++){var F=!this.ignoreCaption&&P.caption||P.value||P.snippet;if(F){var T=-1,L=0,z=0,V,H;if(this.exactMatch){if(B!==F.substr(0,B.length))continue e}else{var G=F.toLowerCase().indexOf(j);if(G>-1)z=G;else for(var J=0;J<B.length;J++){var Y=F.indexOf(j[J],T+1),ee=F.indexOf(R[J],T+1);if(V=Y>=0&&(ee<0||Y<ee)?Y:ee,V<0)continue e;H=V-T-1,H>0&&(T===-1&&(z+=10),z+=H,L=L|1<<J),T=V}}P.matchMask=L,P.exactMatch=z?0:1,P.$score=(P.score||0)-z,I.push(P)}}return I},D}();o.Autocomplete=_,o.CompletionProvider=E,o.FilteredList=x}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(i,o,c){var u=i("../range").Range,h=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function b(w,p){var v=w.getTextRange(u.fromPoints({row:0,column:0},p));return v.split(h).length-1}function f(w,p){var v=b(w,p),g=w.getValue().split(h),k=Object.create(null),A=g[v];return g.forEach(function(_,E){if(!(!_||_===A)){var x=Math.abs(v-E),D=g.length-x;k[_]?k[_]=Math.max(D,k[_]):k[_]=D}}),k}o.getCompletions=function(w,p,v,g,k){var A=f(p,v),_=Object.keys(A);k(null,_.map(function(E){return{caption:E,value:E,score:A[E],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(i,o,c){var u=i("../snippets").snippetManager,h=i("../autocomplete").Autocomplete,b=i("../config"),f=i("../lib/lang"),w=i("../autocomplete/util"),p=i("../autocomplete/text_completer"),v={getCompletions:function(I,R,j,N,P){if(R.$mode.completer)return R.$mode.completer.getCompletions(I,R,j,N,P);var F=I.session.getState(j.row),T=R.$mode.getCompletions(F,R,j,N);T=T.map(function(L){return L.completerId=v.id,L}),P(null,T)},id:"keywordCompleter"},g=function(I){var R={};return I.replace(/\${(\d+)(:(.*?))?}/g,function(j,N,P,F){return R[N]=F||""}).replace(/\$(\d+?)/g,function(j,N){return R[N]})},k={getCompletions:function(I,R,j,N,P){var F=[],T=R.getTokenAt(j.row,j.column);T&&T.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?F.push("html-tag"):F=u.getActiveScopes(I);var L=u.snippetMap,z=[];F.forEach(function(V){for(var H=L[V]||[],G=H.length;G--;){var J=H[G],Y=J.name||J.tabTrigger;Y&&z.push({caption:Y,snippet:J.content,meta:J.tabTrigger&&!J.name?J.tabTrigger+" ":"snippet",completerId:k.id})}},this),P(null,z)},getDocTooltip:function(I){I.snippet&&!I.docHTML&&(I.docHTML=["<b>",f.escapeHTML(I.caption),"</b>","<hr></hr>",f.escapeHTML(g(I.snippet))].join(""))},id:"snippetCompleter"},A=[k,p,v];o.setCompleters=function(I){A.length=0,I&&A.push.apply(A,I)},o.addCompleter=function(I){A.push(I)},o.textCompleter=p,o.keyWordCompleter=v,o.snippetCompleter=k;var _={name:"expandSnippet",exec:function(I){return u.expandWithTab(I)},bindKey:"Tab"},E=function(I,R){x(R.session.$mode)},x=function(I){typeof I=="string"&&(I=b.$modes[I]),I&&(u.files||(u.files={}),D(I.$id,I.snippetFileId),I.modes&&I.modes.forEach(x))},D=function(I,R){!R||!I||u.files[I]||(u.files[I]={},b.loadModule(R,function(j){j&&(u.files[I]=j,!j.snippets&&j.snippetText&&(j.snippets=u.parseSnippetFile(j.snippetText)),u.register(j.snippets||[],j.scope),j.includeScopes&&(u.snippetMap[j.scope].includeScopes=j.includeScopes,j.includeScopes.forEach(function(N){x("ace/mode/"+N)})))}))},O=function(I){var R=I.editor,j=R.completer&&R.completer.activated;if(I.command.name==="backspace")j&&!w.getCompletionPrefix(R)&&R.completer.detach();else if(I.command.name==="insertstring"){var N=w.getCompletionPrefix(R);if(N&&!j){var P=h.for(R);P.autoInsert=!1,P.showPopup(R)}}},B=i("../editor").Editor;i("../config").defineOptions(B.prototype,"editor",{enableBasicAutocompletion:{set:function(I){I?(this.completers||(this.completers=Array.isArray(I)?I:A),this.commands.addCommand(h.startCommand)):this.commands.removeCommand(h.startCommand)},value:!1},enableLiveAutocompletion:{set:function(I){I?(this.completers||(this.completers=Array.isArray(I)?I:A),this.commands.on("afterExec",O)):this.commands.removeListener("afterExec",O)},value:!1},enableSnippets:{set:function(I){I?(this.commands.addCommand(_),this.on("changeMode",E),E(null,this)):(this.commands.removeCommand(_),this.off("changeMode",E))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(i){n&&(n.exports=i)})}()})(pie);var gie={exports:{}};(function(n,t){ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(i,o,c){var u=i("../lib/oop"),h=i("./text_highlight_rules").TextHighlightRules,b=function(){var f="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",w="True|False|None|NotImplemented|Ellipsis|__debug__",p="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",v=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":p,"variable.language":"self|cls","constant.language":w,keyword:f},"identifier"),g="[uU]?",k="[rR]",A="[fF]",_="(?:[rR][fF]|[fF][rR])",E="(?:(?:[1-9]\\d*)|(?:0))",x="(?:0[oO]?[0-7]+)",D="(?:0[xX][\\dA-Fa-f]+)",O="(?:0[bB][01]+)",B="(?:"+E+"|"+x+"|"+D+"|"+O+")",I="(?:[eE][+-]?\\d+)",R="(?:\\.\\d+)",j="(?:\\d+)",N="(?:(?:"+j+"?"+R+")|(?:"+j+"\\.))",P="(?:(?:"+N+"|"+j+")"+I+")",F="(?:"+P+"|"+N+")",T=`\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})`;this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:g+'"{3}',next:"qqstring3"},{token:"string",regex:g+'"(?=.)',next:"qqstring"},{token:"string",regex:g+"'{3}",next:"qstring3"},{token:"string",regex:g+"'(?=.)",next:"qstring"},{token:"string",regex:k+'"{3}',next:"rawqqstring3"},{token:"string",regex:k+'"(?=.)',next:"rawqqstring"},{token:"string",regex:k+"'{3}",next:"rawqstring3"},{token:"string",regex:k+"'(?=.)",next:"rawqstring"},{token:"string",regex:A+'"{3}',next:"fqqstring3"},{token:"string",regex:A+'"(?=.)',next:"fqqstring"},{token:"string",regex:A+"'{3}",next:"fqstring3"},{token:"string",regex:A+"'(?=.)",next:"fqstring"},{token:"string",regex:_+'"{3}',next:"rfqqstring3"},{token:"string",regex:_+'"(?=.)',next:"rfqqstring"},{token:"string",regex:_+"'{3}",next:"rfqstring3"},{token:"string",regex:_+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)([\\u00BF-\\u1FFF\\u2C00-\\uD7FF\\w]+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:T},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:T},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:T},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:T},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:T},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:T},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:T},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:T},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+F+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:F},{token:"constant.numeric",regex:B+"[lL]\\b"},{token:"constant.numeric",regex:B+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:v,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};u.inherits(b,h),o.PythonHighlightRules=b}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(i,o,c){var u=i("../../lib/oop"),h=i("./fold_mode").FoldMode,b=o.FoldMode=function(f){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+f+")(?:\\s*)(?:#.*)?$")};u.inherits(b,h),function(){this.getFoldWidgetRange=function(f,w,p){var v=f.getLine(p),g=v.match(this.foldingStartMarker);if(g)return g[1]?this.openingBracketBlock(f,g[1],p,g.index):g[2]?this.indentationBlock(f,p,g.index+g[2].length):this.indentationBlock(f,p)}}.call(b.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(i,o,c){var u=i("../lib/oop"),h=i("./text").Mode,b=i("./python_highlight_rules").PythonHighlightRules,f=i("./folding/pythonic").FoldMode,w=i("../range").Range,p=function(){this.HighlightRules=b,this.foldingRules=new f("\\:"),this.$behaviour=this.$defaultBehaviour};u.inherits(p,h),function(){this.lineCommentStart="#",this.$pairQuotesAfter={"'":/[ruf]/i,'"':/[ruf]/i},this.getNextLineIndent=function(g,k,A){var _=this.$getIndent(k),E=this.getTokenizer().getLineTokens(k,g),x=E.tokens;if(x.length&&x[x.length-1].type=="comment")return _;if(g=="start"){var D=k.match(/^.*[\{\(\[:]\s*$/);D&&(_+=A)}return _};var v={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(g,k,A){if(A!==`\r
`&&A!=="\r"&&A!==`
`)return!1;var _=this.getTokenizer().getLineTokens(k.trim(),g).tokens;if(!_)return!1;do var E=_.pop();while(E&&(E.type=="comment"||E.type=="text"&&E.value.match(/^\s+$/)));return E?E.type=="keyword"&&v[E.value]:!1},this.autoOutdent=function(g,k,A){A+=1;var _=this.$getIndent(k.getLine(A)),E=k.getTabString();_.slice(-E.length)==E&&k.remove(new w(A,_.length-E.length,A,_.length))},this.$id="ace/mode/python",this.snippetFileId="ace/snippets/python"}.call(p.prototype),o.Mode=p}),function(){ace.require(["ace/mode/python"],function(i){n&&(n.exports=i)})}()})(gie);var mie={exports:{}};(function(n,t){ace.define("ace/snippets/python.snippets",["require","exports","module"],function(i,o,c){c.exports=`snippet #!
	#!/usr/bin/env python
snippet imp
	import \${1:module}
snippet from
	from \${1:package} import \${2:module}
# Module Docstring
snippet docs
	'''
	File: \${1:FILENAME:file_name}
	Author: \${2:author}
	Description: \${3}
	'''
snippet wh
	while \${1:condition}:
		\${2:# TODO: write code...}
# dowh - does the same as do...while in other languages
snippet dowh
	while True:
		\${1:# TODO: write code...}
		if \${2:condition}:
			break
snippet with
	with \${1:expr} as \${2:var}:
		\${3:# TODO: write code...}
# New Class
snippet cl
	class \${1:ClassName}(\${2:object}):
		"""\${3:docstring for $1}"""
		def __init__(self, \${4:arg}):
			\${5:super($1, self).__init__()}
			self.$4 = $4
			\${6}
# New Function
snippet def
	def \${1:fname}(\${2:\`indent('.') ? 'self' : ''\`}):
		"""\${3:docstring for $1}"""
		\${4:# TODO: write code...}
snippet deff
	def \${1:fname}(\${2:\`indent('.') ? 'self' : ''\`}):
		\${3:# TODO: write code...}
# New Method
snippet defs
	def \${1:mname}(self, \${2:arg}):
		\${3:# TODO: write code...}
# New Property
snippet property
	def \${1:foo}():
		doc = "\${2:The $1 property.}"
		def fget(self):
			\${3:return self._$1}
		def fset(self, value):
			\${4:self._$1 = value}
# Ifs
snippet if
	if \${1:condition}:
		\${2:# TODO: write code...}
snippet el
	else:
		\${1:# TODO: write code...}
snippet ei
	elif \${1:condition}:
		\${2:# TODO: write code...}
# For
snippet for
	for \${1:item} in \${2:items}:
		\${3:# TODO: write code...}
# Encodes
snippet cutf8
	# -*- coding: utf-8 -*-
snippet clatin1
	# -*- coding: latin-1 -*-
snippet cascii
	# -*- coding: ascii -*-
# Lambda
snippet ld
	\${1:var} = lambda \${2:vars} : \${3:action}
snippet .
	self.
snippet try Try/Except
	try:
		\${1:# TODO: write code...}
	except \${2:Exception}, \${3:e}:
		\${4:raise $3}
snippet try Try/Except/Else
	try:
		\${1:# TODO: write code...}
	except \${2:Exception}, \${3:e}:
		\${4:raise $3}
	else:
		\${5:# TODO: write code...}
snippet try Try/Except/Finally
	try:
		\${1:# TODO: write code...}
	except \${2:Exception}, \${3:e}:
		\${4:raise $3}
	finally:
		\${5:# TODO: write code...}
snippet try Try/Except/Else/Finally
	try:
		\${1:# TODO: write code...}
	except \${2:Exception}, \${3:e}:
		\${4:raise $3}
	else:
		\${5:# TODO: write code...}
	finally:
		\${6:# TODO: write code...}
# if __name__ == '__main__':
snippet ifmain
	if __name__ == '__main__':
		\${1:main()}
# __magic__
snippet _
	__\${1:init}__\${2}
# python debugger (pdb)
snippet pdb
	import pdb; pdb.set_trace()
# ipython debugger (ipdb)
snippet ipdb
	import ipdb; ipdb.set_trace()
# ipython debugger (pdbbb)
snippet pdbbb
	import pdbpp; pdbpp.set_trace()
snippet pprint
	import pprint; pprint.pprint(\${1})\${2}
snippet "
	"""
	\${1:doc}
	"""
# test function/method
snippet test
	def test_\${1:description}(\${2:self}):
		\${3:# TODO: write code...}
# test case
snippet testcase
	class \${1:ExampleCase}(unittest.TestCase):
		
		def test_\${2:description}(self):
			\${3:# TODO: write code...}
snippet fut
	from __future__ import \${1}
#getopt
snippet getopt
	try:
		# Short option syntax: "hv:"
		# Long option syntax: "help" or "verbose="
		opts, args = getopt.getopt(sys.argv[1:], "\${1:short_options}", [\${2:long_options}])
	
	except getopt.GetoptError, err:
		# Print debug info
		print str(err)
		\${3:error_action}

	for option, argument in opts:
		if option in ("-h", "--help"):
			\${4}
		elif option in ("-v", "--verbose"):
			verbose = argument
`}),ace.define("ace/snippets/python",["require","exports","module","ace/snippets/python.snippets"],function(i,o,c){o.snippetText=i("./python.snippets"),o.scope="python"}),function(){ace.require(["ace/snippets/python"],function(i){n&&(n.exports=i)})}()})(mie);var vie={exports:{}};(function(n,t){ace.define("ace/theme/monokai.css",["require","exports","module"],function(i,o,c){c.exports=`.ace-monokai .ace_gutter {
  background: #2F3129;
  color: #8F908A
}

.ace-monokai .ace_print-margin {
  width: 1px;
  background: #555651
}

.ace-monokai {
  background-color: #272822;
  color: #F8F8F2
}

.ace-monokai .ace_cursor {
  color: #F8F8F0
}

.ace-monokai .ace_marker-layer .ace_selection {
  background: #49483E
}

.ace-monokai.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #272822;
}

.ace-monokai .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-monokai .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #49483E
}

.ace-monokai .ace_marker-layer .ace_active-line {
  background: #202020
}

.ace-monokai .ace_gutter-active-line {
  background-color: #272727
}

.ace-monokai .ace_marker-layer .ace_selected-word {
  border: 1px solid #49483E
}

.ace-monokai .ace_invisible {
  color: #52524d
}

.ace-monokai .ace_entity.ace_name.ace_tag,
.ace-monokai .ace_keyword,
.ace-monokai .ace_meta.ace_tag,
.ace-monokai .ace_storage {
  color: #F92672
}

.ace-monokai .ace_punctuation,
.ace-monokai .ace_punctuation.ace_tag {
  color: #fff
}

.ace-monokai .ace_constant.ace_character,
.ace-monokai .ace_constant.ace_language,
.ace-monokai .ace_constant.ace_numeric,
.ace-monokai .ace_constant.ace_other {
  color: #AE81FF
}

.ace-monokai .ace_invalid {
  color: #F8F8F0;
  background-color: #F92672
}

.ace-monokai .ace_invalid.ace_deprecated {
  color: #F8F8F0;
  background-color: #AE81FF
}

.ace-monokai .ace_support.ace_constant,
.ace-monokai .ace_support.ace_function {
  color: #66D9EF
}

.ace-monokai .ace_fold {
  background-color: #A6E22E;
  border-color: #F8F8F2
}

.ace-monokai .ace_storage.ace_type,
.ace-monokai .ace_support.ace_class,
.ace-monokai .ace_support.ace_type {
  font-style: italic;
  color: #66D9EF
}

.ace-monokai .ace_entity.ace_name.ace_function,
.ace-monokai .ace_entity.ace_other,
.ace-monokai .ace_entity.ace_other.ace_attribute-name,
.ace-monokai .ace_variable {
  color: #A6E22E
}

.ace-monokai .ace_variable.ace_parameter {
  font-style: italic;
  color: #FD971F
}

.ace-monokai .ace_string {
  color: #E6DB74
}

.ace-monokai .ace_comment {
  color: #75715E
}

.ace-monokai .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y
}

.ace-monokai .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/monokai",["require","exports","module","ace/theme/monokai.css","ace/lib/dom"],function(i,o,c){o.isDark=!0,o.cssClass="ace-monokai",o.cssText=i("./monokai.css");var u=i("../lib/dom");u.importCssString(o.cssText,o.cssClass,!1)}),function(){ace.require(["ace/theme/monokai"],function(i){n&&(n.exports=i)})}()})(vie);var wie={exports:{}};(function(n,t){ace.define("ace/theme/github.css",["require","exports","module"],function(i,o,c){c.exports=`/* CSS style content from github's default pygments highlighter template.
   Cursor and selection styles from textmate.css. */
.ace-github .ace_gutter {
  background: #e8e8e8;
  color: #AAA;
}

.ace-github  {
  background: #fff;
  color: #000;
}

.ace-github .ace_keyword {
  font-weight: bold;
}

.ace-github .ace_string {
  color: #D14;
}

.ace-github .ace_variable.ace_class {
  color: teal;
}

.ace-github .ace_constant.ace_numeric {
  color: #099;
}

.ace-github .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github .ace_support.ace_function {
  color: #0086B3;
}

.ace-github .ace_comment {
  color: #998;
  font-style: italic;
}

.ace-github .ace_variable.ace_language  {
  color: #0086B3;
}

.ace-github .ace_paren {
  font-weight: bold;
}

.ace-github .ace_boolean {
  font-weight: bold;
}

.ace-github .ace_string.ace_regexp {
  color: #009926;
  font-weight: normal;
}

.ace-github .ace_variable.ace_instance {
  color: teal;
}

.ace-github .ace_constant.ace_language {
  font-weight: bold;
}

.ace-github .ace_cursor {
  color: black;
}

.ace-github.ace_focus .ace_marker-layer .ace_active-line {
  background: rgb(255, 255, 204);
}
.ace-github .ace_marker-layer .ace_active-line {
  background: rgb(245, 245, 245);
}

.ace-github .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-github.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
/* bold keywords cause cursor issues for some fonts */
/* this disables bold style for editor and keeps for static highlighter */
.ace-github.ace_nobold .ace_line > span {
    font-weight: normal !important;
}

.ace-github .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-github .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-github .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-github .ace_gutter-active-line {
    background-color : rgba(0, 0, 0, 0.07);
}

.ace-github .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-github .ace_invisible {
  color: #BFBFBF
}

.ace-github .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-github .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-github .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/github",["require","exports","module","ace/theme/github.css","ace/lib/dom"],function(i,o,c){o.isDark=!1,o.cssClass="ace-github",o.cssText=i("./github.css");var u=i("../lib/dom");u.importCssString(o.cssText,o.cssClass,!1)}),function(){ace.require(["ace/theme/github"],function(i){n&&(n.exports=i)})}()})(wie);var kie={exports:{}};(function(n,t){ace.define("ace/theme/tomorrow.css",["require","exports","module"],function(i,o,c){c.exports=`.ace-tomorrow .ace_gutter {
  background: #f6f6f6;
  color: #4D4D4C
}

.ace-tomorrow .ace_print-margin {
  width: 1px;
  background: #f6f6f6
}

.ace-tomorrow {
  background-color: #FFFFFF;
  color: #4D4D4C
}

.ace-tomorrow .ace_cursor {
  color: #AEAFAD
}

.ace-tomorrow .ace_marker-layer .ace_selection {
  background: #D6D6D6
}

.ace-tomorrow.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #FFFFFF;
}

.ace-tomorrow .ace_marker-layer .ace_step {
  background: rgb(255, 255, 0)
}

.ace-tomorrow .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #D1D1D1
}

.ace-tomorrow .ace_marker-layer .ace_active-line {
  background: #EFEFEF
}

.ace-tomorrow .ace_gutter-active-line {
  background-color : #dcdcdc
}

.ace-tomorrow .ace_marker-layer .ace_selected-word {
  border: 1px solid #D6D6D6
}

.ace-tomorrow .ace_invisible {
  color: #D1D1D1
}

.ace-tomorrow .ace_keyword,
.ace-tomorrow .ace_meta,
.ace-tomorrow .ace_storage,
.ace-tomorrow .ace_storage.ace_type,
.ace-tomorrow .ace_support.ace_type {
  color: #8959A8
}

.ace-tomorrow .ace_keyword.ace_operator {
  color: #3E999F
}

.ace-tomorrow .ace_constant.ace_character,
.ace-tomorrow .ace_constant.ace_language,
.ace-tomorrow .ace_constant.ace_numeric,
.ace-tomorrow .ace_keyword.ace_other.ace_unit,
.ace-tomorrow .ace_support.ace_constant,
.ace-tomorrow .ace_variable.ace_parameter {
  color: #F5871F
}

.ace-tomorrow .ace_constant.ace_other {
  color: #666969
}

.ace-tomorrow .ace_invalid {
  color: #FFFFFF;
  background-color: #C82829
}

.ace-tomorrow .ace_invalid.ace_deprecated {
  color: #FFFFFF;
  background-color: #8959A8
}

.ace-tomorrow .ace_fold {
  background-color: #4271AE;
  border-color: #4D4D4C
}

.ace-tomorrow .ace_entity.ace_name.ace_function,
.ace-tomorrow .ace_support.ace_function,
.ace-tomorrow .ace_variable {
  color: #4271AE
}

.ace-tomorrow .ace_support.ace_class,
.ace-tomorrow .ace_support.ace_type {
  color: #C99E00
}

.ace-tomorrow .ace_heading,
.ace-tomorrow .ace_markup.ace_heading,
.ace-tomorrow .ace_string {
  color: #718C00
}

.ace-tomorrow .ace_entity.ace_name.ace_tag,
.ace-tomorrow .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow .ace_meta.ace_tag,
.ace-tomorrow .ace_string.ace_regexp,
.ace-tomorrow .ace_variable {
  color: #C82829
}

.ace-tomorrow .ace_comment {
  color: #8E908C
}

.ace-tomorrow .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bdu3f/BwAlfgctduB85QAAAABJRU5ErkJggg==) right repeat-y
}

.ace-tomorrow .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
} 
`}),ace.define("ace/theme/tomorrow",["require","exports","module","ace/theme/tomorrow.css","ace/lib/dom"],function(i,o,c){o.isDark=!1,o.cssClass="ace-tomorrow",o.cssText=i("./tomorrow.css");var u=i("../lib/dom");u.importCssString(o.cssText,o.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow"],function(i){n&&(n.exports=i)})}()})(kie);var bie={exports:{}};(function(n,t){ace.define("ace/theme/kuroir.css",["require","exports","module"],function(i,o,c){c.exports=`/* THIS THEME WAS AUTOGENERATED BY Theme.tmpl.css (UUID: 467560D0-6ACE-4409-82FD-4791420837AC) */

.ace-kuroir .ace_gutter {
  background: #e8e8e8;
  color: #333;
}

.ace-kuroir .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-kuroir {
  background-color: #E8E9E8;
  color: #363636;
}

.ace-kuroir .ace_cursor {
  color: #202020;
}

.ace-kuroir .ace_marker-layer .ace_selection {
  background: rgba(245, 170, 0, 0.57);
}

.ace-kuroir.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #E8E9E8;
}

.ace-kuroir .ace_marker-layer .ace_step {
  background: rgb(198, 219, 174);
}

.ace-kuroir .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgba(0, 0, 0, 0.29);
}

.ace-kuroir .ace_marker-layer .ace_active-line {
  background: rgba(203, 220, 47, 0.22);
}

.ace-kuroir .ace_gutter-active-line {
  background-color: rgba(203, 220, 47, 0.22);
}

.ace-kuroir .ace_marker-layer .ace_selected-word {
  border: 1px solid rgba(245, 170, 0, 0.57);
}

.ace-kuroir .ace_invisible {
  color: #BFBFBF
}

.ace-kuroir .ace_fold {
  border-color: #363636;
}





.ace-kuroir .ace_constant{color:#CD6839;}.ace-kuroir .ace_constant.ace_numeric{color:#9A5925;}.ace-kuroir .ace_support{color:#104E8B;}.ace-kuroir .ace_support.ace_function{color:#005273;}.ace-kuroir .ace_support.ace_constant{color:#CF6A4C;}.ace-kuroir .ace_storage{color:#A52A2A;}.ace-kuroir .ace_invalid.ace_illegal{color:#FD1224;
background-color:rgba(255, 6, 0, 0.15);}.ace-kuroir .ace_invalid.ace_deprecated{text-decoration:underline;
font-style:italic;
color:#FD1732;
background-color:#E8E9E8;}.ace-kuroir .ace_string{color:#639300;}.ace-kuroir .ace_string.ace_regexp{color:#417E00;
background-color:#C9D4BE;}.ace-kuroir .ace_comment{color:rgba(148, 148, 148, 0.91);
background-color:rgba(220, 220, 220, 0.56);}.ace-kuroir .ace_variable{color:#009ACD;}.ace-kuroir .ace_meta.ace_tag{color:#005273;}.ace-kuroir .ace_markup.ace_heading{color:#B8012D;
background-color:rgba(191, 97, 51, 0.051);}.ace-kuroir .ace_markup.ace_list{color:#8F5B26;}

.ace-kuroir .ace_indent-guide {
    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-kuroir .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
} 
`}),ace.define("ace/theme/kuroir",["require","exports","module","ace/theme/kuroir.css","ace/lib/dom"],function(i,o,c){o.isDark=!1,o.cssClass="ace-kuroir",o.cssText=i("./kuroir.css");var u=i("../lib/dom");u.importCssString(o.cssText,o.cssClass,!1)}),function(){ace.require(["ace/theme/kuroir"],function(i){n&&(n.exports=i)})}()})(bie);var yie={exports:{}};(function(n,t){ace.define("ace/theme/twilight.css",["require","exports","module"],function(i,o,c){c.exports=`.ace-twilight .ace_gutter {
  background: #232323;
  color: #E2E2E2
}

.ace-twilight .ace_print-margin {
  width: 1px;
  background: #232323
}

.ace-twilight {
  background-color: #141414;
  color: #F8F8F8
}

.ace-twilight .ace_cursor {
  color: #A7A7A7
}

.ace-twilight .ace_marker-layer .ace_selection {
  background: rgba(221, 240, 255, 0.20)
}

.ace-twilight.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #141414;
}

.ace-twilight .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-twilight .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgba(255, 255, 255, 0.25)
}

.ace-twilight .ace_marker-layer .ace_active-line {
  background: rgba(255, 255, 255, 0.031)
}

.ace-twilight .ace_gutter-active-line {
  background-color: rgba(255, 255, 255, 0.031)
}

.ace-twilight .ace_marker-layer .ace_selected-word {
  border: 1px solid rgba(221, 240, 255, 0.20)
}

.ace-twilight .ace_invisible {
  color: rgba(255, 255, 255, 0.25)
}

.ace-twilight .ace_keyword,
.ace-twilight .ace_meta {
  color: #CDA869
}

.ace-twilight .ace_constant,
.ace-twilight .ace_constant.ace_character,
.ace-twilight .ace_constant.ace_character.ace_escape,
.ace-twilight .ace_constant.ace_other,
.ace-twilight .ace_heading,
.ace-twilight .ace_markup.ace_heading,
.ace-twilight .ace_support.ace_constant {
  color: #CF6A4C
}

.ace-twilight .ace_invalid.ace_illegal {
  color: #F8F8F8;
  background-color: rgba(86, 45, 86, 0.75)
}

.ace-twilight .ace_invalid.ace_deprecated {
  text-decoration: underline;
  font-style: italic;
  color: #D2A8A1
}

.ace-twilight .ace_support {
  color: #9B859D
}

.ace-twilight .ace_fold {
  background-color: #AC885B;
  border-color: #F8F8F8
}

.ace-twilight .ace_support.ace_function {
  color: #DAD085
}

.ace-twilight .ace_list,
.ace-twilight .ace_markup.ace_list,
.ace-twilight .ace_storage {
  color: #F9EE98
}

.ace-twilight .ace_entity.ace_name.ace_function,
.ace-twilight .ace_meta.ace_tag {
  color: #AC885B
}

.ace-twilight .ace_string {
  color: #8F9D6A
}

.ace-twilight .ace_string.ace_regexp {
  color: #E9C062
}

.ace-twilight .ace_comment {
  font-style: italic;
  color: #5F5A60
}

.ace-twilight .ace_variable {
  color: #7587A6
}

.ace-twilight .ace_xml-pe {
  color: #494949
}

.ace-twilight .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWMQERFpYLC1tf0PAAgOAnPnhxyiAAAAAElFTkSuQmCC) right repeat-y
}

.ace-twilight .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/twilight",["require","exports","module","ace/theme/twilight.css","ace/lib/dom"],function(i,o,c){o.isDark=!0,o.cssClass="ace-twilight",o.cssText=i("./twilight.css");var u=i("../lib/dom");u.importCssString(o.cssText,o.cssClass,!1)}),function(){ace.require(["ace/theme/twilight"],function(i){n&&(n.exports=i)})}()})(yie);var Aie={exports:{}};(function(n,t){ace.define("ace/theme/xcode.css",["require","exports","module"],function(i,o,c){c.exports=`/* THIS THEME WAS AUTOGENERATED BY Theme.tmpl.css (UUID: EE3AD170-2B7F-4DE1-B724-C75F13FE0085) */

.ace-xcode .ace_gutter {
  background: #e8e8e8;
  color: #333
}

.ace-xcode .ace_print-margin {
  width: 1px;
  background: #e8e8e8
}

.ace-xcode {
  background-color: #FFFFFF;
  color: #000000
}

.ace-xcode .ace_cursor {
  color: #000000
}

.ace-xcode .ace_marker-layer .ace_selection {
  background: #B5D5FF
}

.ace-xcode.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #FFFFFF;
}

.ace-xcode .ace_marker-layer .ace_step {
  background: rgb(198, 219, 174)
}

.ace-xcode .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #BFBFBF
}

.ace-xcode .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.071)
}

.ace-xcode .ace_gutter-active-line {
  background-color: rgba(0, 0, 0, 0.071)
}

.ace-xcode .ace_marker-layer .ace_selected-word {
  border: 1px solid #B5D5FF
}

.ace-xcode .ace_constant.ace_language,
.ace-xcode .ace_keyword,
.ace-xcode .ace_meta,
.ace-xcode .ace_variable.ace_language {
  color: #C800A4
}

.ace-xcode .ace_invisible {
  color: #BFBFBF
}

.ace-xcode .ace_constant.ace_character,
.ace-xcode .ace_constant.ace_other {
  color: #275A5E
}

.ace-xcode .ace_constant.ace_numeric {
  color: #3A00DC
}

.ace-xcode .ace_entity.ace_other.ace_attribute-name,
.ace-xcode .ace_support.ace_constant,
.ace-xcode .ace_support.ace_function {
  color: #450084
}

.ace-xcode .ace_fold {
  background-color: #C800A4;
  border-color: #000000
}

.ace-xcode .ace_entity.ace_name.ace_tag,
.ace-xcode .ace_support.ace_class,
.ace-xcode .ace_support.ace_type {
  color: #790EAD
}

.ace-xcode .ace_storage {
  color: #C900A4
}

.ace-xcode .ace_string {
  color: #DF0002
}

.ace-xcode .ace_comment {
  color: #008E00
}

.ace-xcode .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==) right repeat-y
}

.ace-xcode .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
} 
`}),ace.define("ace/theme/xcode",["require","exports","module","ace/theme/xcode.css","ace/lib/dom"],function(i,o,c){o.isDark=!1,o.cssClass="ace-xcode",o.cssText=i("./xcode.css");var u=i("../lib/dom");u.importCssString(o.cssText,o.cssClass,!1)}),function(){ace.require(["ace/theme/xcode"],function(i){n&&(n.exports=i)})}()})(Aie);var _ie={exports:{}};(function(n,t){ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],function(i,o,c){o.isDark=!1,o.cssClass="ace-tm",o.cssText=i("./textmate.css"),o.$id="ace/theme/textmate";var u=i("../lib/dom");u.importCssString(o.cssText,o.cssClass,!1)}),function(){ace.require(["ace/theme/textmate"],function(i){n&&(n.exports=i)})}()})(_ie);var Cie={exports:{}};(function(n,t){ace.define("ace/theme/solarized_dark.css",["require","exports","module"],function(i,o,c){c.exports=`.ace-solarized-dark .ace_gutter {
  background: #01313f;
  color: #d0edf7
}

.ace-solarized-dark .ace_print-margin {
  width: 1px;
  background: #33555E
}

.ace-solarized-dark {
  background-color: #002B36;
  color: #93A1A1
}

.ace-solarized-dark .ace_entity.ace_other.ace_attribute-name,
.ace-solarized-dark .ace_storage {
  color: #93A1A1
}

.ace-solarized-dark .ace_cursor,
.ace-solarized-dark .ace_string.ace_regexp {
  color: #D30102
}

.ace-solarized-dark .ace_marker-layer .ace_active-line,
.ace-solarized-dark .ace_marker-layer .ace_selection {
  background: rgba(255, 255, 255, 0.1)
}

.ace-solarized-dark.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #002B36;
}

.ace-solarized-dark .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-solarized-dark .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgba(147, 161, 161, 0.50)
}

.ace-solarized-dark .ace_gutter-active-line {
  background-color: #0d3440
}

.ace-solarized-dark .ace_marker-layer .ace_selected-word {
  border: 1px solid #073642
}

.ace-solarized-dark .ace_invisible {
  color: rgba(147, 161, 161, 0.50)
}

.ace-solarized-dark .ace_keyword,
.ace-solarized-dark .ace_meta,
.ace-solarized-dark .ace_support.ace_class,
.ace-solarized-dark .ace_support.ace_type {
  color: #859900
}

.ace-solarized-dark .ace_constant.ace_character,
.ace-solarized-dark .ace_constant.ace_other {
  color: #CB4B16
}

.ace-solarized-dark .ace_constant.ace_language {
  color: #B58900
}

.ace-solarized-dark .ace_constant.ace_numeric {
  color: #D33682
}

.ace-solarized-dark .ace_fold {
  background-color: #268BD2;
  border-color: #93A1A1
}

.ace-solarized-dark .ace_entity.ace_name.ace_function,
.ace-solarized-dark .ace_entity.ace_name.ace_tag,
.ace-solarized-dark .ace_support.ace_function,
.ace-solarized-dark .ace_variable,
.ace-solarized-dark .ace_variable.ace_language {
  color: #268BD2
}

.ace-solarized-dark .ace_string {
  color: #2AA198
}

.ace-solarized-dark .ace_comment {
  font-style: italic;
  color: #657B83
}

.ace-solarized-dark .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNg0Db1ZVCxc/sPAAd4AlUHlLenAAAAAElFTkSuQmCC) right repeat-y
}

.ace-solarized-dark .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/solarized_dark",["require","exports","module","ace/theme/solarized_dark.css","ace/lib/dom"],function(i,o,c){o.isDark=!0,o.cssClass="ace-solarized-dark",o.cssText=i("./solarized_dark.css");var u=i("../lib/dom");u.importCssString(o.cssText,o.cssClass,!1)}),function(){ace.require(["ace/theme/solarized_dark"],function(i){n&&(n.exports=i)})}()})(Cie);var Eie={exports:{}};(function(n,t){ace.define("ace/theme/solarized_light.css",["require","exports","module"],function(i,o,c){c.exports=`.ace-solarized-light .ace_gutter {
  background: #fbf1d3;
  color: #333
}

.ace-solarized-light .ace_print-margin {
  width: 1px;
  background: #e8e8e8
}

.ace-solarized-light {
  background-color: #FDF6E3;
  color: #586E75
}

.ace-solarized-light .ace_cursor {
  color: #000000
}

.ace-solarized-light .ace_marker-layer .ace_selection {
  background: rgba(7, 54, 67, 0.09)
}

.ace-solarized-light.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #FDF6E3;
}

.ace-solarized-light .ace_marker-layer .ace_step {
  background: rgb(255, 255, 0)
}

.ace-solarized-light .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgba(147, 161, 161, 0.50)
}

.ace-solarized-light .ace_marker-layer .ace_active-line {
  background: #EEE8D5
}

.ace-solarized-light .ace_gutter-active-line {
  background-color : #EDE5C1
}

.ace-solarized-light .ace_marker-layer .ace_selected-word {
  border: 1px solid #7f9390
}

.ace-solarized-light .ace_invisible {
  color: rgba(147, 161, 161, 0.50)
}

.ace-solarized-light .ace_keyword,
.ace-solarized-light .ace_meta,
.ace-solarized-light .ace_support.ace_class,
.ace-solarized-light .ace_support.ace_type {
  color: #859900
}

.ace-solarized-light .ace_constant.ace_character,
.ace-solarized-light .ace_constant.ace_other {
  color: #CB4B16
}

.ace-solarized-light .ace_constant.ace_language {
  color: #B58900
}

.ace-solarized-light .ace_constant.ace_numeric {
  color: #D33682
}

.ace-solarized-light .ace_fold {
  background-color: #268BD2;
  border-color: #586E75
}

.ace-solarized-light .ace_entity.ace_name.ace_function,
.ace-solarized-light .ace_entity.ace_name.ace_tag,
.ace-solarized-light .ace_support.ace_function,
.ace-solarized-light .ace_variable,
.ace-solarized-light .ace_variable.ace_language {
  color: #268BD2
}

.ace-solarized-light .ace_storage {
  color: #073642
}

.ace-solarized-light .ace_string {
  color: #2AA198
}

.ace-solarized-light .ace_string.ace_regexp {
  color: #D30102
}

.ace-solarized-light .ace_comment,
.ace-solarized-light .ace_entity.ace_other.ace_attribute-name {
  color: #93A1A1
}

.ace-solarized-light .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHjy8NJ/AAjgA5fzQUmBAAAAAElFTkSuQmCC) right repeat-y
}

.ace-solarized-light .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
} 
`}),ace.define("ace/theme/solarized_light",["require","exports","module","ace/theme/solarized_light.css","ace/lib/dom"],function(i,o,c){o.isDark=!1,o.cssClass="ace-solarized-light",o.cssText=i("./solarized_light.css");var u=i("../lib/dom");u.importCssString(o.cssText,o.cssClass,!1)}),function(){ace.require(["ace/theme/solarized_light"],function(i){n&&(n.exports=i)})}()})(Eie);var Sie={exports:{}};(function(n,t){ace.define("ace/theme/terminal.css",["require","exports","module"],function(i,o,c){c.exports=`.ace-terminal-theme .ace_gutter {
  background: #1a0005;
  color: steelblue
}

.ace-terminal-theme .ace_print-margin {
  width: 1px;
  background: #1a1a1a
}

.ace-terminal-theme {
  background-color: black;
  color: #DEDEDE
}

.ace-terminal-theme .ace_cursor {
  color: #9F9F9F
}

.ace-terminal-theme .ace_marker-layer .ace_selection {
  background: #424242
}

.ace-terminal-theme.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px black;
}

.ace-terminal-theme .ace_marker-layer .ace_step {
  background: rgb(0, 0, 0)
}

.ace-terminal-theme .ace_marker-layer .ace_bracket {
  background: #090;
}

.ace-terminal-theme .ace_marker-layer .ace_bracket-start {
  background: #090;
}

.ace-terminal-theme .ace_marker-layer .ace_bracket-unmatched {
  margin: -1px 0 0 -1px;
  border: 1px solid #900
}

.ace-terminal-theme .ace_marker-layer .ace_active-line {
  background: #2A2A2A
}

.ace-terminal-theme .ace_gutter-active-line {
  background-color: #2A112A
}

.ace-terminal-theme .ace_marker-layer .ace_selected-word {
  border: 1px solid #424242
}

.ace-terminal-theme .ace_invisible {
  color: #343434
}

.ace-terminal-theme .ace_keyword,
.ace-terminal-theme .ace_meta,
.ace-terminal-theme .ace_storage,
.ace-terminal-theme .ace_storage.ace_type,
.ace-terminal-theme .ace_support.ace_type {
  color: tomato
}

.ace-terminal-theme .ace_keyword.ace_operator {
  color: deeppink
}

.ace-terminal-theme .ace_constant.ace_character,
.ace-terminal-theme .ace_constant.ace_language,
.ace-terminal-theme .ace_constant.ace_numeric,
.ace-terminal-theme .ace_keyword.ace_other.ace_unit,
.ace-terminal-theme .ace_support.ace_constant,
.ace-terminal-theme .ace_variable.ace_parameter {
  color: #E78C45
}

.ace-terminal-theme .ace_constant.ace_other {
  color: gold
}

.ace-terminal-theme .ace_invalid {
  color: yellow;
  background-color: red
}

.ace-terminal-theme .ace_invalid.ace_deprecated {
  color: #CED2CF;
  background-color: #B798BF
}

.ace-terminal-theme .ace_fold {
  background-color: #7AA6DA;
  border-color: #DEDEDE
}

.ace-terminal-theme .ace_entity.ace_name.ace_function,
.ace-terminal-theme .ace_support.ace_function,
.ace-terminal-theme .ace_variable {
  color: #7AA6DA
}

.ace-terminal-theme .ace_support.ace_class,
.ace-terminal-theme .ace_support.ace_type {
  color: #E7C547
}

.ace-terminal-theme .ace_heading,
.ace-terminal-theme .ace_string {
  color: #B9CA4A
}

.ace-terminal-theme .ace_entity.ace_name.ace_tag,
.ace-terminal-theme .ace_entity.ace_other.ace_attribute-name,
.ace-terminal-theme .ace_meta.ace_tag,
.ace-terminal-theme .ace_string.ace_regexp,
.ace-terminal-theme .ace_variable {
  color: #D54E53
}

.ace-terminal-theme .ace_comment {
  color: orangered
}

.ace-terminal-theme .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYLBWV/8PAAK4AYnhiq+xAAAAAElFTkSuQmCC) right repeat-y;
}

.ace-terminal-theme .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/terminal",["require","exports","module","ace/theme/terminal.css","ace/lib/dom"],function(i,o,c){o.isDark=!0,o.cssClass="ace-terminal-theme",o.cssText=i("./terminal.css");var u=i("../lib/dom");u.importCssString(o.cssText,o.cssClass,!1)}),function(){ace.require(["ace/theme/terminal"],function(i){n&&(n.exports=i)})}()})(Sie);const o0={monokai:"Monokai",github:"Github",tomorrow:"Tomorrow",kuroir:"Kuroir",twilight:"Twilight",xcode:"Xcode",textmate:"Textmate",solarized_dark:"Solarized Dark",solarized_light:"Solarized Light",terminal:"Terminal"};function xie({problemId:n,handleRun:t}){const[i,o]=Te.useState(""),[c,u]=Te.useState("monokai");return Te.useEffect(()=>{n&&(async()=>{const b=y1(Gw(Ds,"languageCodes"),Fv("problemId","==",n),Fv("landCode","==","py")),w=(await _1(b)).docs[0];w&&o(w.data().code)})()},[]),Wte.config.set("basePath","/node_modules/ace-builds/src-noconflict"),ae.jsxs("div",{style:{height:"90vh"},children:[ae.jsxs("div",{className:"d-flex justify-content-end mb-1 ms-2",children:[i&&ae.jsx("button",{className:"btn btn-sm btn-primary ",onClick:()=>t(i),children:"run"}),ae.jsxs("div",{className:"btn-group ms-2 mr-2 ",children:[ae.jsx("button",{type:"button",className:"btn btn-sm btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",children:o0[c]}),ae.jsx("ul",{className:"dropdown-menu",children:Object.keys(o0).map(h=>ae.jsx("li",{children:ae.jsx("span",{onClick:()=>u(h),className:"dropdown-item",type:"button",children:o0[h]})},h))})]})]}),ae.jsx(fie,{placeholder:"",width:"100%",height:"95%",mode:"python",theme:c,name:"codex-editor",onChange:o,fontSize:17,wrapEnabled:!0,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:i,setOptions:{wrapBehavioursEnabled:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2}})]})}function lF(n,t){return function(){return n.apply(t,arguments)}}const{toString:Tie}=Object.prototype,{getPrototypeOf:B1}=Object,ek=(n=>t=>{const i=Tie.call(t);return n[i]||(n[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),is=n=>(n=n.toLowerCase(),t=>ek(t)===n),tk=n=>t=>typeof t===n,{isArray:Rd}=Array,Wf=tk("undefined");function Die(n){return n!==null&&!Wf(n)&&n.constructor!==null&&!Wf(n.constructor)&&Pr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const cF=is("ArrayBuffer");function Iie(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&cF(n.buffer),t}const Mie=tk("string"),Pr=tk("function"),uF=tk("number"),nk=n=>n!==null&&typeof n=="object",Lie=n=>n===!0||n===!1,Pm=n=>{if(ek(n)!=="object")return!1;const t=B1(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Rie=is("Date"),Nie=is("File"),Oie=is("Blob"),Pie=is("FileList"),$ie=n=>nk(n)&&Pr(n.pipe),Bie=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Pr(n.append)&&((t=ek(n))==="formdata"||t==="object"&&Pr(n.toString)&&n.toString()==="[object FormData]"))},Fie=is("URLSearchParams"),zie=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ep(n,t,{allOwnKeys:i=!1}={}){if(n===null||typeof n>"u")return;let o,c;if(typeof n!="object"&&(n=[n]),Rd(n))for(o=0,c=n.length;o<c;o++)t.call(null,n[o],o,n);else{const u=i?Object.getOwnPropertyNames(n):Object.keys(n),h=u.length;let b;for(o=0;o<h;o++)b=u[o],t.call(null,n[b],b,n)}}function dF(n,t){t=t.toLowerCase();const i=Object.keys(n);let o=i.length,c;for(;o-- >0;)if(c=i[o],t===c.toLowerCase())return c;return null}const hF=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),fF=n=>!Wf(n)&&n!==hF;function n_(){const{caseless:n}=fF(this)&&this||{},t={},i=(o,c)=>{const u=n&&dF(t,c)||c;Pm(t[u])&&Pm(o)?t[u]=n_(t[u],o):Pm(o)?t[u]=n_({},o):Rd(o)?t[u]=o.slice():t[u]=o};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&Ep(arguments[o],i);return t}const jie=(n,t,i,{allOwnKeys:o}={})=>(Ep(t,(c,u)=>{i&&Pr(c)?n[u]=lF(c,i):n[u]=c},{allOwnKeys:o}),n),Vie=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Uie=(n,t,i,o)=>{n.prototype=Object.create(t.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),i&&Object.assign(n.prototype,i)},Hie=(n,t,i,o)=>{let c,u,h;const b={};if(t=t||{},n==null)return t;do{for(c=Object.getOwnPropertyNames(n),u=c.length;u-- >0;)h=c[u],(!o||o(h,n,t))&&!b[h]&&(t[h]=n[h],b[h]=!0);n=i!==!1&&B1(n)}while(n&&(!i||i(n,t))&&n!==Object.prototype);return t},Wie=(n,t,i)=>{n=String(n),(i===void 0||i>n.length)&&(i=n.length),i-=t.length;const o=n.indexOf(t,i);return o!==-1&&o===i},Gie=n=>{if(!n)return null;if(Rd(n))return n;let t=n.length;if(!uF(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=n[t];return i},Kie=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&B1(Uint8Array)),qie=(n,t)=>{const o=(n&&n[Symbol.iterator]).call(n);let c;for(;(c=o.next())&&!c.done;){const u=c.value;t.call(n,u[0],u[1])}},Qie=(n,t)=>{let i;const o=[];for(;(i=n.exec(t))!==null;)o.push(i);return o},Yie=is("HTMLFormElement"),Zie=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,c){return o.toUpperCase()+c}),IN=(({hasOwnProperty:n})=>(t,i)=>n.call(t,i))(Object.prototype),Jie=is("RegExp"),pF=(n,t)=>{const i=Object.getOwnPropertyDescriptors(n),o={};Ep(i,(c,u)=>{t(c,u,n)!==!1&&(o[u]=c)}),Object.defineProperties(n,o)},Xie=n=>{pF(n,(t,i)=>{if(Pr(n)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=n[i];if(Pr(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},ere=(n,t)=>{const i={},o=c=>{c.forEach(u=>{i[u]=!0})};return Rd(n)?o(n):o(String(n).split(t)),i},tre=()=>{},nre=(n,t)=>(n=+n,Number.isFinite(n)?n:t),s0="abcdefghijklmnopqrstuvwxyz",MN="0123456789",gF={DIGIT:MN,ALPHA:s0,ALPHA_DIGIT:s0+s0.toUpperCase()+MN},ire=(n=16,t=gF.ALPHA_DIGIT)=>{let i="";const{length:o}=t;for(;n--;)i+=t[Math.random()*o|0];return i};function rre(n){return!!(n&&Pr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const ore=n=>{const t=new Array(10),i=(o,c)=>{if(nk(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[c]=o;const u=Rd(o)?[]:{};return Ep(o,(h,b)=>{const f=i(h,c+1);!Wf(f)&&(u[b]=f)}),t[c]=void 0,u}}return o};return i(n,0)},sre=is("AsyncFunction"),are=n=>n&&(nk(n)||Pr(n))&&Pr(n.then)&&Pr(n.catch),Ae={isArray:Rd,isArrayBuffer:cF,isBuffer:Die,isFormData:Bie,isArrayBufferView:Iie,isString:Mie,isNumber:uF,isBoolean:Lie,isObject:nk,isPlainObject:Pm,isUndefined:Wf,isDate:Rie,isFile:Nie,isBlob:Oie,isRegExp:Jie,isFunction:Pr,isStream:$ie,isURLSearchParams:Fie,isTypedArray:Kie,isFileList:Pie,forEach:Ep,merge:n_,extend:jie,trim:zie,stripBOM:Vie,inherits:Uie,toFlatObject:Hie,kindOf:ek,kindOfTest:is,endsWith:Wie,toArray:Gie,forEachEntry:qie,matchAll:Qie,isHTMLForm:Yie,hasOwnProperty:IN,hasOwnProp:IN,reduceDescriptors:pF,freezeMethods:Xie,toObjectSet:ere,toCamelCase:Zie,noop:tre,toFiniteNumber:nre,findKey:dF,global:hF,isContextDefined:fF,ALPHABET:gF,generateString:ire,isSpecCompliantForm:rre,toJSONObject:ore,isAsyncFn:sre,isThenable:are};function Mt(n,t,i,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),o&&(this.request=o),c&&(this.response=c)}Ae.inherits(Mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ae.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const mF=Mt.prototype,vF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{vF[n]={value:n}});Object.defineProperties(Mt,vF);Object.defineProperty(mF,"isAxiosError",{value:!0});Mt.from=(n,t,i,o,c,u)=>{const h=Object.create(mF);return Ae.toFlatObject(n,h,function(f){return f!==Error.prototype},b=>b!=="isAxiosError"),Mt.call(h,n.message,t,i,o,c),h.cause=n,h.name=n.name,u&&Object.assign(h,u),h};const lre=null;function i_(n){return Ae.isPlainObject(n)||Ae.isArray(n)}function wF(n){return Ae.endsWith(n,"[]")?n.slice(0,-2):n}function LN(n,t,i){return n?n.concat(t).map(function(c,u){return c=wF(c),!i&&u?"["+c+"]":c}).join(i?".":""):t}function cre(n){return Ae.isArray(n)&&!n.some(i_)}const ure=Ae.toFlatObject(Ae,{},null,function(t){return/^is[A-Z]/.test(t)});function ik(n,t,i){if(!Ae.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,i=Ae.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,E){return!Ae.isUndefined(E[_])});const o=i.metaTokens,c=i.visitor||p,u=i.dots,h=i.indexes,f=(i.Blob||typeof Blob<"u"&&Blob)&&Ae.isSpecCompliantForm(t);if(!Ae.isFunction(c))throw new TypeError("visitor must be a function");function w(A){if(A===null)return"";if(Ae.isDate(A))return A.toISOString();if(!f&&Ae.isBlob(A))throw new Mt("Blob is not supported. Use a Buffer instead.");return Ae.isArrayBuffer(A)||Ae.isTypedArray(A)?f&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function p(A,_,E){let x=A;if(A&&!E&&typeof A=="object"){if(Ae.endsWith(_,"{}"))_=o?_:_.slice(0,-2),A=JSON.stringify(A);else if(Ae.isArray(A)&&cre(A)||(Ae.isFileList(A)||Ae.endsWith(_,"[]"))&&(x=Ae.toArray(A)))return _=wF(_),x.forEach(function(O,B){!(Ae.isUndefined(O)||O===null)&&t.append(h===!0?LN([_],B,u):h===null?_:_+"[]",w(O))}),!1}return i_(A)?!0:(t.append(LN(E,_,u),w(A)),!1)}const v=[],g=Object.assign(ure,{defaultVisitor:p,convertValue:w,isVisitable:i_});function k(A,_){if(!Ae.isUndefined(A)){if(v.indexOf(A)!==-1)throw Error("Circular reference detected in "+_.join("."));v.push(A),Ae.forEach(A,function(x,D){(!(Ae.isUndefined(x)||x===null)&&c.call(t,x,Ae.isString(D)?D.trim():D,_,g))===!0&&k(x,_?_.concat(D):[D])}),v.pop()}}if(!Ae.isObject(n))throw new TypeError("data must be an object");return k(n),t}function RN(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function F1(n,t){this._pairs=[],n&&ik(n,this,t)}const kF=F1.prototype;kF.append=function(t,i){this._pairs.push([t,i])};kF.toString=function(t){const i=t?function(o){return t.call(this,o,RN)}:RN;return this._pairs.map(function(c){return i(c[0])+"="+i(c[1])},"").join("&")};function dre(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bF(n,t,i){if(!t)return n;const o=i&&i.encode||dre,c=i&&i.serialize;let u;if(c?u=c(t,i):u=Ae.isURLSearchParams(t)?t.toString():new F1(t,i).toString(o),u){const h=n.indexOf("#");h!==-1&&(n=n.slice(0,h)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class hre{constructor(){this.handlers=[]}use(t,i,o){return this.handlers.push({fulfilled:t,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ae.forEach(this.handlers,function(o){o!==null&&t(o)})}}const NN=hre,yF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fre=typeof URLSearchParams<"u"?URLSearchParams:F1,pre=typeof FormData<"u"?FormData:null,gre=typeof Blob<"u"?Blob:null,mre=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),vre=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Qo={isBrowser:!0,classes:{URLSearchParams:fre,FormData:pre,Blob:gre},isStandardBrowserEnv:mre,isStandardBrowserWebWorkerEnv:vre,protocols:["http","https","file","blob","url","data"]};function wre(n,t){return ik(n,new Qo.classes.URLSearchParams,Object.assign({visitor:function(i,o,c,u){return Qo.isNode&&Ae.isBuffer(i)?(this.append(o,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function kre(n){return Ae.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bre(n){const t={},i=Object.keys(n);let o;const c=i.length;let u;for(o=0;o<c;o++)u=i[o],t[u]=n[u];return t}function AF(n){function t(i,o,c,u){let h=i[u++];const b=Number.isFinite(+h),f=u>=i.length;return h=!h&&Ae.isArray(c)?c.length:h,f?(Ae.hasOwnProp(c,h)?c[h]=[c[h],o]:c[h]=o,!b):((!c[h]||!Ae.isObject(c[h]))&&(c[h]=[]),t(i,o,c[h],u)&&Ae.isArray(c[h])&&(c[h]=bre(c[h])),!b)}if(Ae.isFormData(n)&&Ae.isFunction(n.entries)){const i={};return Ae.forEachEntry(n,(o,c)=>{t(kre(o),c,i,0)}),i}return null}const yre={"Content-Type":void 0};function Are(n,t,i){if(Ae.isString(n))try{return(t||JSON.parse)(n),Ae.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(n)}const rk={transitional:yF,adapter:["xhr","http"],transformRequest:[function(t,i){const o=i.getContentType()||"",c=o.indexOf("application/json")>-1,u=Ae.isObject(t);if(u&&Ae.isHTMLForm(t)&&(t=new FormData(t)),Ae.isFormData(t))return c&&c?JSON.stringify(AF(t)):t;if(Ae.isArrayBuffer(t)||Ae.isBuffer(t)||Ae.isStream(t)||Ae.isFile(t)||Ae.isBlob(t))return t;if(Ae.isArrayBufferView(t))return t.buffer;if(Ae.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let b;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return wre(t,this.formSerializer).toString();if((b=Ae.isFileList(t))||o.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return ik(b?{"files[]":t}:t,f&&new f,this.formSerializer)}}return u||c?(i.setContentType("application/json",!1),Are(t)):t}],transformResponse:[function(t){const i=this.transitional||rk.transitional,o=i&&i.forcedJSONParsing,c=this.responseType==="json";if(t&&Ae.isString(t)&&(o&&!this.responseType||c)){const h=!(i&&i.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(b){if(h)throw b.name==="SyntaxError"?Mt.from(b,Mt.ERR_BAD_RESPONSE,this,null,this.response):b}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qo.classes.FormData,Blob:Qo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ae.forEach(["delete","get","head"],function(t){rk.headers[t]={}});Ae.forEach(["post","put","patch"],function(t){rk.headers[t]=Ae.merge(yre)});const z1=rk,_re=Ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cre=n=>{const t={};let i,o,c;return n&&n.split(`
`).forEach(function(h){c=h.indexOf(":"),i=h.substring(0,c).trim().toLowerCase(),o=h.substring(c+1).trim(),!(!i||t[i]&&_re[i])&&(i==="set-cookie"?t[i]?t[i].push(o):t[i]=[o]:t[i]=t[i]?t[i]+", "+o:o)}),t},ON=Symbol("internals");function Mh(n){return n&&String(n).trim().toLowerCase()}function $m(n){return n===!1||n==null?n:Ae.isArray(n)?n.map($m):String(n)}function Ere(n){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(n);)t[o[1]]=o[2];return t}const Sre=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function a0(n,t,i,o,c){if(Ae.isFunction(o))return o.call(this,t,i);if(c&&(t=i),!!Ae.isString(t)){if(Ae.isString(o))return t.indexOf(o)!==-1;if(Ae.isRegExp(o))return o.test(t)}}function xre(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,o)=>i.toUpperCase()+o)}function Tre(n,t){const i=Ae.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+i,{value:function(c,u,h){return this[o].call(this,t,c,u,h)},configurable:!0})})}class ok{constructor(t){t&&this.set(t)}set(t,i,o){const c=this;function u(b,f,w){const p=Mh(f);if(!p)throw new Error("header name must be a non-empty string");const v=Ae.findKey(c,p);(!v||c[v]===void 0||w===!0||w===void 0&&c[v]!==!1)&&(c[v||f]=$m(b))}const h=(b,f)=>Ae.forEach(b,(w,p)=>u(w,p,f));return Ae.isPlainObject(t)||t instanceof this.constructor?h(t,i):Ae.isString(t)&&(t=t.trim())&&!Sre(t)?h(Cre(t),i):t!=null&&u(i,t,o),this}get(t,i){if(t=Mh(t),t){const o=Ae.findKey(this,t);if(o){const c=this[o];if(!i)return c;if(i===!0)return Ere(c);if(Ae.isFunction(i))return i.call(this,c,o);if(Ae.isRegExp(i))return i.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Mh(t),t){const o=Ae.findKey(this,t);return!!(o&&this[o]!==void 0&&(!i||a0(this,this[o],o,i)))}return!1}delete(t,i){const o=this;let c=!1;function u(h){if(h=Mh(h),h){const b=Ae.findKey(o,h);b&&(!i||a0(o,o[b],b,i))&&(delete o[b],c=!0)}}return Ae.isArray(t)?t.forEach(u):u(t),c}clear(t){const i=Object.keys(this);let o=i.length,c=!1;for(;o--;){const u=i[o];(!t||a0(this,this[u],u,t,!0))&&(delete this[u],c=!0)}return c}normalize(t){const i=this,o={};return Ae.forEach(this,(c,u)=>{const h=Ae.findKey(o,u);if(h){i[h]=$m(c),delete i[u];return}const b=t?xre(u):String(u).trim();b!==u&&delete i[u],i[b]=$m(c),o[b]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return Ae.forEach(this,(o,c)=>{o!=null&&o!==!1&&(i[c]=t&&Ae.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const o=new this(t);return i.forEach(c=>o.set(c)),o}static accessor(t){const o=(this[ON]=this[ON]={accessors:{}}).accessors,c=this.prototype;function u(h){const b=Mh(h);o[b]||(Tre(c,h),o[b]=!0)}return Ae.isArray(t)?t.forEach(u):u(t),this}}ok.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ae.freezeMethods(ok.prototype);Ae.freezeMethods(ok);const Ls=ok;function l0(n,t){const i=this||z1,o=t||i,c=Ls.from(o.headers);let u=o.data;return Ae.forEach(n,function(b){u=b.call(i,u,c.normalize(),t?t.status:void 0)}),c.normalize(),u}function _F(n){return!!(n&&n.__CANCEL__)}function Sp(n,t,i){Mt.call(this,n??"canceled",Mt.ERR_CANCELED,t,i),this.name="CanceledError"}Ae.inherits(Sp,Mt,{__CANCEL__:!0});function Dre(n,t,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?n(i):t(new Mt("Request failed with status code "+i.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const Ire=Qo.isStandardBrowserEnv?function(){return{write:function(i,o,c,u,h,b){const f=[];f.push(i+"="+encodeURIComponent(o)),Ae.isNumber(c)&&f.push("expires="+new Date(c).toGMTString()),Ae.isString(u)&&f.push("path="+u),Ae.isString(h)&&f.push("domain="+h),b===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(i){const o=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Mre(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Lre(n,t){return t?n.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):n}function CF(n,t){return n&&!Mre(t)?Lre(n,t):t}const Rre=Qo.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let o;function c(u){let h=u;return t&&(i.setAttribute("href",h),h=i.href),i.setAttribute("href",h),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return o=c(window.location.href),function(h){const b=Ae.isString(h)?c(h):h;return b.protocol===o.protocol&&b.host===o.host}}():function(){return function(){return!0}}();function Nre(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function Ore(n,t){n=n||10;const i=new Array(n),o=new Array(n);let c=0,u=0,h;return t=t!==void 0?t:1e3,function(f){const w=Date.now(),p=o[u];h||(h=w),i[c]=f,o[c]=w;let v=u,g=0;for(;v!==c;)g+=i[v++],v=v%n;if(c=(c+1)%n,c===u&&(u=(u+1)%n),w-h<t)return;const k=p&&w-p;return k?Math.round(g*1e3/k):void 0}}function PN(n,t){let i=0;const o=Ore(50,250);return c=>{const u=c.loaded,h=c.lengthComputable?c.total:void 0,b=u-i,f=o(b),w=u<=h;i=u;const p={loaded:u,total:h,progress:h?u/h:void 0,bytes:b,rate:f||void 0,estimated:f&&h&&w?(h-u)/f:void 0,event:c};p[t?"download":"upload"]=!0,n(p)}}const Pre=typeof XMLHttpRequest<"u",$re=Pre&&function(n){return new Promise(function(i,o){let c=n.data;const u=Ls.from(n.headers).normalize(),h=n.responseType;let b;function f(){n.cancelToken&&n.cancelToken.unsubscribe(b),n.signal&&n.signal.removeEventListener("abort",b)}Ae.isFormData(c)&&(Qo.isStandardBrowserEnv||Qo.isStandardBrowserWebWorkerEnv?u.setContentType(!1):u.setContentType("multipart/form-data;",!1));let w=new XMLHttpRequest;if(n.auth){const k=n.auth.username||"",A=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";u.set("Authorization","Basic "+btoa(k+":"+A))}const p=CF(n.baseURL,n.url);w.open(n.method.toUpperCase(),bF(p,n.params,n.paramsSerializer),!0),w.timeout=n.timeout;function v(){if(!w)return;const k=Ls.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),_={data:!h||h==="text"||h==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:k,config:n,request:w};Dre(function(x){i(x),f()},function(x){o(x),f()},_),w=null}if("onloadend"in w?w.onloadend=v:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(v)},w.onabort=function(){w&&(o(new Mt("Request aborted",Mt.ECONNABORTED,n,w)),w=null)},w.onerror=function(){o(new Mt("Network Error",Mt.ERR_NETWORK,n,w)),w=null},w.ontimeout=function(){let A=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||yF;n.timeoutErrorMessage&&(A=n.timeoutErrorMessage),o(new Mt(A,_.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,n,w)),w=null},Qo.isStandardBrowserEnv){const k=(n.withCredentials||Rre(p))&&n.xsrfCookieName&&Ire.read(n.xsrfCookieName);k&&u.set(n.xsrfHeaderName,k)}c===void 0&&u.setContentType(null),"setRequestHeader"in w&&Ae.forEach(u.toJSON(),function(A,_){w.setRequestHeader(_,A)}),Ae.isUndefined(n.withCredentials)||(w.withCredentials=!!n.withCredentials),h&&h!=="json"&&(w.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&w.addEventListener("progress",PN(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&w.upload&&w.upload.addEventListener("progress",PN(n.onUploadProgress)),(n.cancelToken||n.signal)&&(b=k=>{w&&(o(!k||k.type?new Sp(null,n,w):k),w.abort(),w=null)},n.cancelToken&&n.cancelToken.subscribe(b),n.signal&&(n.signal.aborted?b():n.signal.addEventListener("abort",b)));const g=Nre(p);if(g&&Qo.protocols.indexOf(g)===-1){o(new Mt("Unsupported protocol "+g+":",Mt.ERR_BAD_REQUEST,n));return}w.send(c||null)})},Bm={http:lre,xhr:$re};Ae.forEach(Bm,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const Bre={getAdapter:n=>{n=Ae.isArray(n)?n:[n];const{length:t}=n;let i,o;for(let c=0;c<t&&(i=n[c],!(o=Ae.isString(i)?Bm[i.toLowerCase()]:i));c++);if(!o)throw o===!1?new Mt(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Ae.hasOwnProp(Bm,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`);if(!Ae.isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:Bm};function c0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Sp(null,n)}function $N(n){return c0(n),n.headers=Ls.from(n.headers),n.data=l0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Bre.getAdapter(n.adapter||z1.adapter)(n).then(function(o){return c0(n),o.data=l0.call(n,n.transformResponse,o),o.headers=Ls.from(o.headers),o},function(o){return _F(o)||(c0(n),o&&o.response&&(o.response.data=l0.call(n,n.transformResponse,o.response),o.response.headers=Ls.from(o.response.headers))),Promise.reject(o)})}const BN=n=>n instanceof Ls?n.toJSON():n;function ud(n,t){t=t||{};const i={};function o(w,p,v){return Ae.isPlainObject(w)&&Ae.isPlainObject(p)?Ae.merge.call({caseless:v},w,p):Ae.isPlainObject(p)?Ae.merge({},p):Ae.isArray(p)?p.slice():p}function c(w,p,v){if(Ae.isUndefined(p)){if(!Ae.isUndefined(w))return o(void 0,w,v)}else return o(w,p,v)}function u(w,p){if(!Ae.isUndefined(p))return o(void 0,p)}function h(w,p){if(Ae.isUndefined(p)){if(!Ae.isUndefined(w))return o(void 0,w)}else return o(void 0,p)}function b(w,p,v){if(v in t)return o(w,p);if(v in n)return o(void 0,w)}const f={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:b,headers:(w,p)=>c(BN(w),BN(p),!0)};return Ae.forEach(Object.keys(Object.assign({},n,t)),function(p){const v=f[p]||c,g=v(n[p],t[p],p);Ae.isUndefined(g)&&v!==b||(i[p]=g)}),i}const EF="1.4.0",j1={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{j1[n]=function(o){return typeof o===n||"a"+(t<1?"n ":" ")+n}});const FN={};j1.transitional=function(t,i,o){function c(u,h){return"[Axios v"+EF+"] Transitional option '"+u+"'"+h+(o?". "+o:"")}return(u,h,b)=>{if(t===!1)throw new Mt(c(h," has been removed"+(i?" in "+i:"")),Mt.ERR_DEPRECATED);return i&&!FN[h]&&(FN[h]=!0,console.warn(c(h," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(u,h,b):!0}};function Fre(n,t,i){if(typeof n!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let c=o.length;for(;c-- >0;){const u=o[c],h=t[u];if(h){const b=n[u],f=b===void 0||h(b,u,n);if(f!==!0)throw new Mt("option "+u+" must be "+f,Mt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Mt("Unknown option "+u,Mt.ERR_BAD_OPTION)}}const r_={assertOptions:Fre,validators:j1},ga=r_.validators;class Kv{constructor(t){this.defaults=t,this.interceptors={request:new NN,response:new NN}}request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=ud(this.defaults,i);const{transitional:o,paramsSerializer:c,headers:u}=i;o!==void 0&&r_.assertOptions(o,{silentJSONParsing:ga.transitional(ga.boolean),forcedJSONParsing:ga.transitional(ga.boolean),clarifyTimeoutError:ga.transitional(ga.boolean)},!1),c!=null&&(Ae.isFunction(c)?i.paramsSerializer={serialize:c}:r_.assertOptions(c,{encode:ga.function,serialize:ga.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h;h=u&&Ae.merge(u.common,u[i.method]),h&&Ae.forEach(["delete","get","head","post","put","patch","common"],A=>{delete u[A]}),i.headers=Ls.concat(h,u);const b=[];let f=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(i)===!1||(f=f&&_.synchronous,b.unshift(_.fulfilled,_.rejected))});const w=[];this.interceptors.response.forEach(function(_){w.push(_.fulfilled,_.rejected)});let p,v=0,g;if(!f){const A=[$N.bind(this),void 0];for(A.unshift.apply(A,b),A.push.apply(A,w),g=A.length,p=Promise.resolve(i);v<g;)p=p.then(A[v++],A[v++]);return p}g=b.length;let k=i;for(v=0;v<g;){const A=b[v++],_=b[v++];try{k=A(k)}catch(E){_.call(this,E);break}}try{p=$N.call(this,k)}catch(A){return Promise.reject(A)}for(v=0,g=w.length;v<g;)p=p.then(w[v++],w[v++]);return p}getUri(t){t=ud(this.defaults,t);const i=CF(t.baseURL,t.url);return bF(i,t.params,t.paramsSerializer)}}Ae.forEach(["delete","get","head","options"],function(t){Kv.prototype[t]=function(i,o){return this.request(ud(o||{},{method:t,url:i,data:(o||{}).data}))}});Ae.forEach(["post","put","patch"],function(t){function i(o){return function(u,h,b){return this.request(ud(b||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Kv.prototype[t]=i(),Kv.prototype[t+"Form"]=i(!0)});const Fm=Kv;class V1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const o=this;this.promise.then(c=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](c);o._listeners=null}),this.promise.then=c=>{let u;const h=new Promise(b=>{o.subscribe(b),u=b}).then(c);return h.cancel=function(){o.unsubscribe(u)},h},t(function(u,h,b){o.reason||(o.reason=new Sp(u,h,b),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new V1(function(c){t=c}),cancel:t}}}const zre=V1;function jre(n){return function(i){return n.apply(null,i)}}function Vre(n){return Ae.isObject(n)&&n.isAxiosError===!0}const o_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(o_).forEach(([n,t])=>{o_[t]=n});const Ure=o_;function SF(n){const t=new Fm(n),i=lF(Fm.prototype.request,t);return Ae.extend(i,Fm.prototype,t,{allOwnKeys:!0}),Ae.extend(i,t,null,{allOwnKeys:!0}),i.create=function(c){return SF(ud(n,c))},i}const qn=SF(z1);qn.Axios=Fm;qn.CanceledError=Sp;qn.CancelToken=zre;qn.isCancel=_F;qn.VERSION=EF;qn.toFormData=ik;qn.AxiosError=Mt;qn.Cancel=qn.CanceledError;qn.all=function(t){return Promise.all(t)};qn.spread=jre;qn.isAxiosError=Vre;qn.mergeConfig=ud;qn.AxiosHeaders=Ls;qn.formToJSON=n=>AF(Ae.isHTMLForm(n)?new FormData(n):n);qn.HttpStatusCode=Ure;qn.default=qn;const Hre=qn;var Wre=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},i=Symbol("test"),o=Object(i);if(typeof i=="string"||Object.prototype.toString.call(i)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var c=42;t[i]=c;for(i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var u=Object.getOwnPropertySymbols(t);if(u.length!==1||u[0]!==i||!Object.prototype.propertyIsEnumerable.call(t,i))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(t,i);if(h.value!==c||h.enumerable!==!0)return!1}return!0},zN=typeof Symbol<"u"&&Symbol,Gre=Wre,Kre=function(){return typeof zN!="function"||typeof Symbol!="function"||typeof zN("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Gre()},qre="Function.prototype.bind called on incompatible ",u0=Array.prototype.slice,Qre=Object.prototype.toString,Yre="[object Function]",Zre=function(t){var i=this;if(typeof i!="function"||Qre.call(i)!==Yre)throw new TypeError(qre+i);for(var o=u0.call(arguments,1),c,u=function(){if(this instanceof c){var p=i.apply(this,o.concat(u0.call(arguments)));return Object(p)===p?p:this}else return i.apply(t,o.concat(u0.call(arguments)))},h=Math.max(0,i.length-o.length),b=[],f=0;f<h;f++)b.push("$"+f);if(c=Function("binder","return function ("+b.join(",")+"){ return binder.apply(this,arguments); }")(u),i.prototype){var w=function(){};w.prototype=i.prototype,c.prototype=new w,w.prototype=null}return c},Jre=Zre,U1=Function.prototype.bind||Jre,Xre=U1,eoe=Xre.call(Function.call,Object.prototype.hasOwnProperty),At,dd=SyntaxError,xF=Function,Gu=TypeError,d0=function(n){try{return xF('"use strict"; return ('+n+").constructor;")()}catch{}},ic=Object.getOwnPropertyDescriptor;if(ic)try{ic({},"")}catch{ic=null}var h0=function(){throw new Gu},toe=ic?function(){try{return arguments.callee,h0}catch{try{return ic(arguments,"callee").get}catch{return h0}}}():h0,hu=Kre(),Uo=Object.getPrototypeOf||function(n){return n.__proto__},mu={},noe=typeof Uint8Array>"u"?At:Uo(Uint8Array),rc={"%AggregateError%":typeof AggregateError>"u"?At:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?At:ArrayBuffer,"%ArrayIteratorPrototype%":hu?Uo([][Symbol.iterator]()):At,"%AsyncFromSyncIteratorPrototype%":At,"%AsyncFunction%":mu,"%AsyncGenerator%":mu,"%AsyncGeneratorFunction%":mu,"%AsyncIteratorPrototype%":mu,"%Atomics%":typeof Atomics>"u"?At:Atomics,"%BigInt%":typeof BigInt>"u"?At:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?At:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?At:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?At:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?At:Float32Array,"%Float64Array%":typeof Float64Array>"u"?At:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?At:FinalizationRegistry,"%Function%":xF,"%GeneratorFunction%":mu,"%Int8Array%":typeof Int8Array>"u"?At:Int8Array,"%Int16Array%":typeof Int16Array>"u"?At:Int16Array,"%Int32Array%":typeof Int32Array>"u"?At:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hu?Uo(Uo([][Symbol.iterator]())):At,"%JSON%":typeof JSON=="object"?JSON:At,"%Map%":typeof Map>"u"?At:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hu?At:Uo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?At:Promise,"%Proxy%":typeof Proxy>"u"?At:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?At:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?At:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hu?At:Uo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?At:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hu?Uo(""[Symbol.iterator]()):At,"%Symbol%":hu?Symbol:At,"%SyntaxError%":dd,"%ThrowTypeError%":toe,"%TypedArray%":noe,"%TypeError%":Gu,"%Uint8Array%":typeof Uint8Array>"u"?At:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?At:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?At:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?At:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?At:WeakMap,"%WeakRef%":typeof WeakRef>"u"?At:WeakRef,"%WeakSet%":typeof WeakSet>"u"?At:WeakSet};try{null.error}catch(n){var ioe=Uo(Uo(n));rc["%Error.prototype%"]=ioe}var roe=function n(t){var i;if(t==="%AsyncFunction%")i=d0("async function () {}");else if(t==="%GeneratorFunction%")i=d0("function* () {}");else if(t==="%AsyncGeneratorFunction%")i=d0("async function* () {}");else if(t==="%AsyncGenerator%"){var o=n("%AsyncGeneratorFunction%");o&&(i=o.prototype)}else if(t==="%AsyncIteratorPrototype%"){var c=n("%AsyncGenerator%");c&&(i=Uo(c.prototype))}return rc[t]=i,i},jN={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xp=U1,qv=eoe,ooe=xp.call(Function.call,Array.prototype.concat),soe=xp.call(Function.apply,Array.prototype.splice),VN=xp.call(Function.call,String.prototype.replace),Qv=xp.call(Function.call,String.prototype.slice),aoe=xp.call(Function.call,RegExp.prototype.exec),loe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,coe=/\\(\\)?/g,uoe=function(t){var i=Qv(t,0,1),o=Qv(t,-1);if(i==="%"&&o!=="%")throw new dd("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&i!=="%")throw new dd("invalid intrinsic syntax, expected opening `%`");var c=[];return VN(t,loe,function(u,h,b,f){c[c.length]=b?VN(f,coe,"$1"):h||u}),c},doe=function(t,i){var o=t,c;if(qv(jN,o)&&(c=jN[o],o="%"+c[0]+"%"),qv(rc,o)){var u=rc[o];if(u===mu&&(u=roe(o)),typeof u>"u"&&!i)throw new Gu("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:c,name:o,value:u}}throw new dd("intrinsic "+t+" does not exist!")},H1=function(t,i){if(typeof t!="string"||t.length===0)throw new Gu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof i!="boolean")throw new Gu('"allowMissing" argument must be a boolean');if(aoe(/^%?[^%]*%?$/,t)===null)throw new dd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=uoe(t),c=o.length>0?o[0]:"",u=doe("%"+c+"%",i),h=u.name,b=u.value,f=!1,w=u.alias;w&&(c=w[0],soe(o,ooe([0,1],w)));for(var p=1,v=!0;p<o.length;p+=1){var g=o[p],k=Qv(g,0,1),A=Qv(g,-1);if((k==='"'||k==="'"||k==="`"||A==='"'||A==="'"||A==="`")&&k!==A)throw new dd("property names with quotes must have matching quotes");if((g==="constructor"||!v)&&(f=!0),c+="."+g,h="%"+c+"%",qv(rc,h))b=rc[h];else if(b!=null){if(!(g in b)){if(!i)throw new Gu("base intrinsic for "+t+" exists, but the property is not available.");return}if(ic&&p+1>=o.length){var _=ic(b,g);v=!!_,v&&"get"in _&&!("originalValue"in _.get)?b=_.get:b=b[g]}else v=qv(b,g),b=b[g];v&&!f&&(rc[h]=b)}}return b},TF={exports:{}};(function(n){var t=U1,i=H1,o=i("%Function.prototype.apply%"),c=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||t.call(c,o),h=i("%Object.getOwnPropertyDescriptor%",!0),b=i("%Object.defineProperty%",!0),f=i("%Math.max%");if(b)try{b({},"a",{value:1})}catch{b=null}n.exports=function(v){var g=u(t,c,arguments);if(h&&b){var k=h(g,"length");k.configurable&&b(g,"length",{value:1+f(0,v.length-(arguments.length-1))})}return g};var w=function(){return u(t,o,arguments)};b?b(n.exports,"apply",{value:w}):n.exports.apply=w})(TF);var hoe=TF.exports,DF=H1,IF=hoe,foe=IF(DF("String.prototype.indexOf")),poe=function(t,i){var o=DF(t,!!i);return typeof o=="function"&&foe(t,".prototype.")>-1?IF(o):o};const goe={},moe=Object.freeze(Object.defineProperty({__proto__:null,default:goe},Symbol.toStringTag,{value:"Module"})),voe=Y7(moe);var W1=typeof Map=="function"&&Map.prototype,f0=Object.getOwnPropertyDescriptor&&W1?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Yv=W1&&f0&&typeof f0.get=="function"?f0.get:null,UN=W1&&Map.prototype.forEach,G1=typeof Set=="function"&&Set.prototype,p0=Object.getOwnPropertyDescriptor&&G1?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Zv=G1&&p0&&typeof p0.get=="function"?p0.get:null,HN=G1&&Set.prototype.forEach,woe=typeof WeakMap=="function"&&WeakMap.prototype,sf=woe?WeakMap.prototype.has:null,koe=typeof WeakSet=="function"&&WeakSet.prototype,af=koe?WeakSet.prototype.has:null,boe=typeof WeakRef=="function"&&WeakRef.prototype,WN=boe?WeakRef.prototype.deref:null,yoe=Boolean.prototype.valueOf,Aoe=Object.prototype.toString,_oe=Function.prototype.toString,Coe=String.prototype.match,K1=String.prototype.slice,La=String.prototype.replace,Eoe=String.prototype.toUpperCase,GN=String.prototype.toLowerCase,MF=RegExp.prototype.test,KN=Array.prototype.concat,Ho=Array.prototype.join,Soe=Array.prototype.slice,qN=Math.floor,s_=typeof BigInt=="function"?BigInt.prototype.valueOf:null,g0=Object.getOwnPropertySymbols,a_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hd=typeof Symbol=="function"&&typeof Symbol.iterator=="object",$i=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hd||"symbol")?Symbol.toStringTag:null,LF=Object.prototype.propertyIsEnumerable,QN=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function YN(n,t){if(n===1/0||n===-1/0||n!==n||n&&n>-1e3&&n<1e3||MF.call(/e/,t))return t;var i=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof n=="number"){var o=n<0?-qN(-n):qN(n);if(o!==n){var c=String(o),u=K1.call(t,c.length+1);return La.call(c,i,"$&_")+"."+La.call(La.call(u,/([0-9]{3})/g,"$&_"),/_$/,"")}}return La.call(t,i,"$&_")}var l_=voe,ZN=l_.custom,JN=NF(ZN)?ZN:null,xoe=function n(t,i,o,c){var u=i||{};if(ka(u,"quoteStyle")&&u.quoteStyle!=="single"&&u.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ka(u,"maxStringLength")&&(typeof u.maxStringLength=="number"?u.maxStringLength<0&&u.maxStringLength!==1/0:u.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=ka(u,"customInspect")?u.customInspect:!0;if(typeof h!="boolean"&&h!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ka(u,"indent")&&u.indent!==null&&u.indent!=="	"&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ka(u,"numericSeparator")&&typeof u.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=u.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return PF(t,u);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var f=String(t);return b?YN(t,f):f}if(typeof t=="bigint"){var w=String(t)+"n";return b?YN(t,w):w}var p=typeof u.depth>"u"?5:u.depth;if(typeof o>"u"&&(o=0),o>=p&&p>0&&typeof t=="object")return c_(t)?"[Array]":"[Object]";var v=Woe(u,o);if(typeof c>"u")c=[];else if(OF(c,t)>=0)return"[Circular]";function g(z,V,H){if(V&&(c=Soe.call(c),c.push(V)),H){var G={depth:u.depth};return ka(u,"quoteStyle")&&(G.quoteStyle=u.quoteStyle),n(z,G,o+1,c)}return n(z,u,o+1,c)}if(typeof t=="function"&&!XN(t)){var k=Poe(t),A=dm(t,g);return"[Function"+(k?": "+k:" (anonymous)")+"]"+(A.length>0?" { "+Ho.call(A,", ")+" }":"")}if(NF(t)){var _=hd?La.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):a_.call(t);return typeof t=="object"&&!hd?Lh(_):_}if(Voe(t)){for(var E="<"+GN.call(String(t.nodeName)),x=t.attributes||[],D=0;D<x.length;D++)E+=" "+x[D].name+"="+RF(Toe(x[D].value),"double",u);return E+=">",t.childNodes&&t.childNodes.length&&(E+="..."),E+="</"+GN.call(String(t.nodeName))+">",E}if(c_(t)){if(t.length===0)return"[]";var O=dm(t,g);return v&&!Hoe(O)?"["+u_(O,v)+"]":"[ "+Ho.call(O,", ")+" ]"}if(Ioe(t)){var B=dm(t,g);return!("cause"in Error.prototype)&&"cause"in t&&!LF.call(t,"cause")?"{ ["+String(t)+"] "+Ho.call(KN.call("[cause]: "+g(t.cause),B),", ")+" }":B.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+Ho.call(B,", ")+" }"}if(typeof t=="object"&&h){if(JN&&typeof t[JN]=="function"&&l_)return l_(t,{depth:p-o});if(h!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if($oe(t)){var I=[];return UN&&UN.call(t,function(z,V){I.push(g(V,t,!0)+" => "+g(z,t))}),eO("Map",Yv.call(t),I,v)}if(zoe(t)){var R=[];return HN&&HN.call(t,function(z){R.push(g(z,t))}),eO("Set",Zv.call(t),R,v)}if(Boe(t))return m0("WeakMap");if(joe(t))return m0("WeakSet");if(Foe(t))return m0("WeakRef");if(Loe(t))return Lh(g(Number(t)));if(Noe(t))return Lh(g(s_.call(t)));if(Roe(t))return Lh(yoe.call(t));if(Moe(t))return Lh(g(String(t)));if(!Doe(t)&&!XN(t)){var j=dm(t,g),N=QN?QN(t)===Object.prototype:t instanceof Object||t.constructor===Object,P=t instanceof Object?"":"null prototype",F=!N&&$i&&Object(t)===t&&$i in t?K1.call(rl(t),8,-1):P?"Object":"",T=N||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",L=T+(F||P?"["+Ho.call(KN.call([],F||[],P||[]),": ")+"] ":"");return j.length===0?L+"{}":v?L+"{"+u_(j,v)+"}":L+"{ "+Ho.call(j,", ")+" }"}return String(t)};function RF(n,t,i){var o=(i.quoteStyle||t)==="double"?'"':"'";return o+n+o}function Toe(n){return La.call(String(n),/"/g,"&quot;")}function c_(n){return rl(n)==="[object Array]"&&(!$i||!(typeof n=="object"&&$i in n))}function Doe(n){return rl(n)==="[object Date]"&&(!$i||!(typeof n=="object"&&$i in n))}function XN(n){return rl(n)==="[object RegExp]"&&(!$i||!(typeof n=="object"&&$i in n))}function Ioe(n){return rl(n)==="[object Error]"&&(!$i||!(typeof n=="object"&&$i in n))}function Moe(n){return rl(n)==="[object String]"&&(!$i||!(typeof n=="object"&&$i in n))}function Loe(n){return rl(n)==="[object Number]"&&(!$i||!(typeof n=="object"&&$i in n))}function Roe(n){return rl(n)==="[object Boolean]"&&(!$i||!(typeof n=="object"&&$i in n))}function NF(n){if(hd)return n&&typeof n=="object"&&n instanceof Symbol;if(typeof n=="symbol")return!0;if(!n||typeof n!="object"||!a_)return!1;try{return a_.call(n),!0}catch{}return!1}function Noe(n){if(!n||typeof n!="object"||!s_)return!1;try{return s_.call(n),!0}catch{}return!1}var Ooe=Object.prototype.hasOwnProperty||function(n){return n in this};function ka(n,t){return Ooe.call(n,t)}function rl(n){return Aoe.call(n)}function Poe(n){if(n.name)return n.name;var t=Coe.call(_oe.call(n),/^function\s*([\w$]+)/);return t?t[1]:null}function OF(n,t){if(n.indexOf)return n.indexOf(t);for(var i=0,o=n.length;i<o;i++)if(n[i]===t)return i;return-1}function $oe(n){if(!Yv||!n||typeof n!="object")return!1;try{Yv.call(n);try{Zv.call(n)}catch{return!0}return n instanceof Map}catch{}return!1}function Boe(n){if(!sf||!n||typeof n!="object")return!1;try{sf.call(n,sf);try{af.call(n,af)}catch{return!0}return n instanceof WeakMap}catch{}return!1}function Foe(n){if(!WN||!n||typeof n!="object")return!1;try{return WN.call(n),!0}catch{}return!1}function zoe(n){if(!Zv||!n||typeof n!="object")return!1;try{Zv.call(n);try{Yv.call(n)}catch{return!0}return n instanceof Set}catch{}return!1}function joe(n){if(!af||!n||typeof n!="object")return!1;try{af.call(n,af);try{sf.call(n,sf)}catch{return!0}return n instanceof WeakSet}catch{}return!1}function Voe(n){return!n||typeof n!="object"?!1:typeof HTMLElement<"u"&&n instanceof HTMLElement?!0:typeof n.nodeName=="string"&&typeof n.getAttribute=="function"}function PF(n,t){if(n.length>t.maxStringLength){var i=n.length-t.maxStringLength,o="... "+i+" more character"+(i>1?"s":"");return PF(K1.call(n,0,t.maxStringLength),t)+o}var c=La.call(La.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Uoe);return RF(c,"single",t)}function Uoe(n){var t=n.charCodeAt(0),i={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return i?"\\"+i:"\\x"+(t<16?"0":"")+Eoe.call(t.toString(16))}function Lh(n){return"Object("+n+")"}function m0(n){return n+" { ? }"}function eO(n,t,i,o){var c=o?u_(i,o):Ho.call(i,", ");return n+" ("+t+") {"+c+"}"}function Hoe(n){for(var t=0;t<n.length;t++)if(OF(n[t],`
`)>=0)return!1;return!0}function Woe(n,t){var i;if(n.indent==="	")i="	";else if(typeof n.indent=="number"&&n.indent>0)i=Ho.call(Array(n.indent+1)," ");else return null;return{base:i,prev:Ho.call(Array(t+1),i)}}function u_(n,t){if(n.length===0)return"";var i=`
`+t.prev+t.base;return i+Ho.call(n,","+i)+`
`+t.prev}function dm(n,t){var i=c_(n),o=[];if(i){o.length=n.length;for(var c=0;c<n.length;c++)o[c]=ka(n,c)?t(n[c],n):""}var u=typeof g0=="function"?g0(n):[],h;if(hd){h={};for(var b=0;b<u.length;b++)h["$"+u[b]]=u[b]}for(var f in n)ka(n,f)&&(i&&String(Number(f))===f&&f<n.length||hd&&h["$"+f]instanceof Symbol||(MF.call(/[^\w$]/,f)?o.push(t(f,n)+": "+t(n[f],n)):o.push(f+": "+t(n[f],n))));if(typeof g0=="function")for(var w=0;w<u.length;w++)LF.call(n,u[w])&&o.push("["+t(u[w])+"]: "+t(n[u[w]],n));return o}var q1=H1,Nd=poe,Goe=xoe,Koe=q1("%TypeError%"),hm=q1("%WeakMap%",!0),fm=q1("%Map%",!0),qoe=Nd("WeakMap.prototype.get",!0),Qoe=Nd("WeakMap.prototype.set",!0),Yoe=Nd("WeakMap.prototype.has",!0),Zoe=Nd("Map.prototype.get",!0),Joe=Nd("Map.prototype.set",!0),Xoe=Nd("Map.prototype.has",!0),Q1=function(n,t){for(var i=n,o;(o=i.next)!==null;i=o)if(o.key===t)return i.next=o.next,o.next=n.next,n.next=o,o},ese=function(n,t){var i=Q1(n,t);return i&&i.value},tse=function(n,t,i){var o=Q1(n,t);o?o.value=i:n.next={key:t,next:n.next,value:i}},nse=function(n,t){return!!Q1(n,t)},ise=function(){var t,i,o,c={assert:function(u){if(!c.has(u))throw new Koe("Side channel does not contain "+Goe(u))},get:function(u){if(hm&&u&&(typeof u=="object"||typeof u=="function")){if(t)return qoe(t,u)}else if(fm){if(i)return Zoe(i,u)}else if(o)return ese(o,u)},has:function(u){if(hm&&u&&(typeof u=="object"||typeof u=="function")){if(t)return Yoe(t,u)}else if(fm){if(i)return Xoe(i,u)}else if(o)return nse(o,u);return!1},set:function(u,h){hm&&u&&(typeof u=="object"||typeof u=="function")?(t||(t=new hm),Qoe(t,u,h)):fm?(i||(i=new fm),Joe(i,u,h)):(o||(o={key:{},next:null}),tse(o,u,h))}};return c},rse=String.prototype.replace,ose=/%20/g,v0={RFC1738:"RFC1738",RFC3986:"RFC3986"},Y1={default:v0.RFC3986,formatters:{RFC1738:function(n){return rse.call(n,ose,"+")},RFC3986:function(n){return String(n)}},RFC1738:v0.RFC1738,RFC3986:v0.RFC3986},sse=Y1,w0=Object.prototype.hasOwnProperty,Wl=Array.isArray,jo=function(){for(var n=[],t=0;t<256;++t)n.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return n}(),ase=function(t){for(;t.length>1;){var i=t.pop(),o=i.obj[i.prop];if(Wl(o)){for(var c=[],u=0;u<o.length;++u)typeof o[u]<"u"&&c.push(o[u]);i.obj[i.prop]=c}}},$F=function(t,i){for(var o=i&&i.plainObjects?Object.create(null):{},c=0;c<t.length;++c)typeof t[c]<"u"&&(o[c]=t[c]);return o},lse=function n(t,i,o){if(!i)return t;if(typeof i!="object"){if(Wl(t))t.push(i);else if(t&&typeof t=="object")(o&&(o.plainObjects||o.allowPrototypes)||!w0.call(Object.prototype,i))&&(t[i]=!0);else return[t,i];return t}if(!t||typeof t!="object")return[t].concat(i);var c=t;return Wl(t)&&!Wl(i)&&(c=$F(t,o)),Wl(t)&&Wl(i)?(i.forEach(function(u,h){if(w0.call(t,h)){var b=t[h];b&&typeof b=="object"&&u&&typeof u=="object"?t[h]=n(b,u,o):t.push(u)}else t[h]=u}),t):Object.keys(i).reduce(function(u,h){var b=i[h];return w0.call(u,h)?u[h]=n(u[h],b,o):u[h]=b,u},c)},cse=function(t,i){return Object.keys(i).reduce(function(o,c){return o[c]=i[c],o},t)},use=function(n,t,i){var o=n.replace(/\+/g," ");if(i==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},dse=function(t,i,o,c,u){if(t.length===0)return t;var h=t;if(typeof t=="symbol"?h=Symbol.prototype.toString.call(t):typeof t!="string"&&(h=String(t)),o==="iso-8859-1")return escape(h).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var b="",f=0;f<h.length;++f){var w=h.charCodeAt(f);if(w===45||w===46||w===95||w===126||w>=48&&w<=57||w>=65&&w<=90||w>=97&&w<=122||u===sse.RFC1738&&(w===40||w===41)){b+=h.charAt(f);continue}if(w<128){b=b+jo[w];continue}if(w<2048){b=b+(jo[192|w>>6]+jo[128|w&63]);continue}if(w<55296||w>=57344){b=b+(jo[224|w>>12]+jo[128|w>>6&63]+jo[128|w&63]);continue}f+=1,w=65536+((w&1023)<<10|h.charCodeAt(f)&1023),b+=jo[240|w>>18]+jo[128|w>>12&63]+jo[128|w>>6&63]+jo[128|w&63]}return b},hse=function(t){for(var i=[{obj:{o:t},prop:"o"}],o=[],c=0;c<i.length;++c)for(var u=i[c],h=u.obj[u.prop],b=Object.keys(h),f=0;f<b.length;++f){var w=b[f],p=h[w];typeof p=="object"&&p!==null&&o.indexOf(p)===-1&&(i.push({obj:h,prop:w}),o.push(p))}return ase(i),t},fse=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},pse=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},gse=function(t,i){return[].concat(t,i)},mse=function(t,i){if(Wl(t)){for(var o=[],c=0;c<t.length;c+=1)o.push(i(t[c]));return o}return i(t)},BF={arrayToObject:$F,assign:cse,combine:gse,compact:hse,decode:use,encode:dse,isBuffer:pse,isRegExp:fse,maybeMap:mse,merge:lse},FF=ise,zm=BF,lf=Y1,vse=Object.prototype.hasOwnProperty,tO={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,i){return t+"["+i+"]"},repeat:function(t){return t}},As=Array.isArray,wse=Array.prototype.push,zF=function(n,t){wse.apply(n,As(t)?t:[t])},kse=Date.prototype.toISOString,nO=lf.default,Si={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:zm.encode,encodeValuesOnly:!1,format:nO,formatter:lf.formatters[nO],indices:!1,serializeDate:function(t){return kse.call(t)},skipNulls:!1,strictNullHandling:!1},bse=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},k0={},yse=function n(t,i,o,c,u,h,b,f,w,p,v,g,k,A,_,E){for(var x=t,D=E,O=0,B=!1;(D=D.get(k0))!==void 0&&!B;){var I=D.get(t);if(O+=1,typeof I<"u"){if(I===O)throw new RangeError("Cyclic object value");B=!0}typeof D.get(k0)>"u"&&(O=0)}if(typeof f=="function"?x=f(i,x):x instanceof Date?x=v(x):o==="comma"&&As(x)&&(x=zm.maybeMap(x,function(G){return G instanceof Date?v(G):G})),x===null){if(u)return b&&!A?b(i,Si.encoder,_,"key",g):i;x=""}if(bse(x)||zm.isBuffer(x)){if(b){var R=A?i:b(i,Si.encoder,_,"key",g);return[k(R)+"="+k(b(x,Si.encoder,_,"value",g))]}return[k(i)+"="+k(String(x))]}var j=[];if(typeof x>"u")return j;var N;if(o==="comma"&&As(x))A&&b&&(x=zm.maybeMap(x,b)),N=[{value:x.length>0?x.join(",")||null:void 0}];else if(As(f))N=f;else{var P=Object.keys(x);N=w?P.sort(w):P}for(var F=c&&As(x)&&x.length===1?i+"[]":i,T=0;T<N.length;++T){var L=N[T],z=typeof L=="object"&&typeof L.value<"u"?L.value:x[L];if(!(h&&z===null)){var V=As(x)?typeof o=="function"?o(F,L):F:F+(p?"."+L:"["+L+"]");E.set(t,O);var H=FF();H.set(k0,E),zF(j,n(z,V,o,c,u,h,o==="comma"&&A&&As(x)?null:b,f,w,p,v,g,k,A,_,H))}}return j},Ase=function(t){if(!t)return Si;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var i=t.charset||Si.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=lf.default;if(typeof t.format<"u"){if(!vse.call(lf.formatters,t.format))throw new TypeError("Unknown format option provided.");o=t.format}var c=lf.formatters[o],u=Si.filter;return(typeof t.filter=="function"||As(t.filter))&&(u=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Si.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Si.allowDots:!!t.allowDots,charset:i,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Si.charsetSentinel,delimiter:typeof t.delimiter>"u"?Si.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Si.encode,encoder:typeof t.encoder=="function"?t.encoder:Si.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Si.encodeValuesOnly,filter:u,format:o,formatter:c,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Si.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Si.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Si.strictNullHandling}},_se=function(n,t){var i=n,o=Ase(t),c,u;typeof o.filter=="function"?(u=o.filter,i=u("",i)):As(o.filter)&&(u=o.filter,c=u);var h=[];if(typeof i!="object"||i===null)return"";var b;t&&t.arrayFormat in tO?b=t.arrayFormat:t&&"indices"in t?b=t.indices?"indices":"repeat":b="indices";var f=tO[b];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var w=f==="comma"&&t&&t.commaRoundTrip;c||(c=Object.keys(i)),o.sort&&c.sort(o.sort);for(var p=FF(),v=0;v<c.length;++v){var g=c[v];o.skipNulls&&i[g]===null||zF(h,yse(i[g],g,f,w,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,p))}var k=h.join(o.delimiter),A=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?A+="utf8=%26%2310003%3B&":A+="utf8=%E2%9C%93&"),k.length>0?A+k:""},fd=BF,d_=Object.prototype.hasOwnProperty,Cse=Array.isArray,Xn={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:fd.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Ese=function(n){return n.replace(/&#(\d+);/g,function(t,i){return String.fromCharCode(parseInt(i,10))})},jF=function(n,t){return n&&typeof n=="string"&&t.comma&&n.indexOf(",")>-1?n.split(","):n},Sse="utf8=%26%2310003%3B",xse="utf8=%E2%9C%93",Tse=function(t,i){var o={},c=i.ignoreQueryPrefix?t.replace(/^\?/,""):t,u=i.parameterLimit===1/0?void 0:i.parameterLimit,h=c.split(i.delimiter,u),b=-1,f,w=i.charset;if(i.charsetSentinel)for(f=0;f<h.length;++f)h[f].indexOf("utf8=")===0&&(h[f]===xse?w="utf-8":h[f]===Sse&&(w="iso-8859-1"),b=f,f=h.length);for(f=0;f<h.length;++f)if(f!==b){var p=h[f],v=p.indexOf("]="),g=v===-1?p.indexOf("="):v+1,k,A;g===-1?(k=i.decoder(p,Xn.decoder,w,"key"),A=i.strictNullHandling?null:""):(k=i.decoder(p.slice(0,g),Xn.decoder,w,"key"),A=fd.maybeMap(jF(p.slice(g+1),i),function(_){return i.decoder(_,Xn.decoder,w,"value")})),A&&i.interpretNumericEntities&&w==="iso-8859-1"&&(A=Ese(A)),p.indexOf("[]=")>-1&&(A=Cse(A)?[A]:A),d_.call(o,k)?o[k]=fd.combine(o[k],A):o[k]=A}return o},Dse=function(n,t,i,o){for(var c=o?t:jF(t,i),u=n.length-1;u>=0;--u){var h,b=n[u];if(b==="[]"&&i.parseArrays)h=[].concat(c);else{h=i.plainObjects?Object.create(null):{};var f=b.charAt(0)==="["&&b.charAt(b.length-1)==="]"?b.slice(1,-1):b,w=parseInt(f,10);!i.parseArrays&&f===""?h={0:c}:!isNaN(w)&&b!==f&&String(w)===f&&w>=0&&i.parseArrays&&w<=i.arrayLimit?(h=[],h[w]=c):f!=="__proto__"&&(h[f]=c)}c=h}return c},Ise=function(t,i,o,c){if(t){var u=o.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,h=/(\[[^[\]]*])/,b=/(\[[^[\]]*])/g,f=o.depth>0&&h.exec(u),w=f?u.slice(0,f.index):u,p=[];if(w){if(!o.plainObjects&&d_.call(Object.prototype,w)&&!o.allowPrototypes)return;p.push(w)}for(var v=0;o.depth>0&&(f=b.exec(u))!==null&&v<o.depth;){if(v+=1,!o.plainObjects&&d_.call(Object.prototype,f[1].slice(1,-1))&&!o.allowPrototypes)return;p.push(f[1])}return f&&p.push("["+u.slice(f.index)+"]"),Dse(p,i,o,c)}},Mse=function(t){if(!t)return Xn;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=typeof t.charset>"u"?Xn.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?Xn.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Xn.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:Xn.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Xn.arrayLimit,charset:i,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Xn.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Xn.comma,decoder:typeof t.decoder=="function"?t.decoder:Xn.decoder,delimiter:typeof t.delimiter=="string"||fd.isRegExp(t.delimiter)?t.delimiter:Xn.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Xn.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Xn.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Xn.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Xn.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Xn.strictNullHandling}},Lse=function(n,t){var i=Mse(t);if(n===""||n===null||typeof n>"u")return i.plainObjects?Object.create(null):{};for(var o=typeof n=="string"?Tse(n,i):n,c=i.plainObjects?Object.create(null):{},u=Object.keys(o),h=0;h<u.length;++h){var b=u[h],f=Ise(b,o[b],i,typeof n=="string");c=fd.merge(c,f,i)}return i.allowSparse===!0?c:fd.compact(c)},Rse=_se,Nse=Lse,Ose=Y1,Pse={formats:Ose,parse:Nse,stringify:Rse};const $se=Gf(Pse);function Bse({status:n,error:t,test:i,executedOutput:o,color:c,handleClose:u}){return ae.jsx("div",{className:`modal d-block bg-${c()} bg-opacity-50`,tabIndex:"-1",children:ae.jsx("div",{className:"modal-dialog modal-dialog-centered",children:ae.jsxs("div",{className:`modal-content bg-${c()}`,children:[ae.jsxs("div",{className:"modal-header",children:[ae.jsx("h5",{className:"modal-title",children:n}),ae.jsx("button",{type:"button",className:"btn-close",onClick:u})]}),ae.jsx("div",{className:"modal-body",children:ae.jsxs("div",{className:"row",children:[t.length!==0&&ae.jsxs("div",{className:"col-12 p-2 mb-1 bg-light border rounded",children:[ae.jsx("p",{children:"Error : "}),ae.jsx("pre",{children:t})]}),ae.jsxs("div",{className:"col-12 p-2 mb-1 bg-light border rounded",children:[ae.jsx("p",{children:"Input : "}),ae.jsx("pre",{children:i.inputValue})]}),ae.jsxs("div",{className:"col-6 bg-light mb-1 border rounded",children:[ae.jsx("p",{children:"Expected Output : "}),ae.jsx("pre",{children:i.outputValue})]}),ae.jsxs("div",{className:"col-6 bg-light mb-1 border rounded",children:[ae.jsx("p",{children:"Your Output : "}),ae.jsx("pre",{children:o})]})]})})]})})})}function Fse({test:n,code:t,index:i,event:o}){const[c,u]=Te.useState(!1),[h,b]=Te.useState("Not Started Yet"),[f,w]=Te.useState(""),[p,v]=Te.useState(null),[g,k]=Te.useState(!1),A=O=>(O.endsWith(`
`)&&(O=O.slice(0,-1)),O),_=(O,B)=>A(O)==A(B),E=async()=>{u(!0),b("Checking");try{let O=$se.stringify({code:t,language:"py",input:n.inputValue});const R=(await Hre({method:"post",url:"https://api.codex.jaagrav.in",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:O})).data;R.error.length===0&&_(n.outputValue,R.output)?(b("Success"),w("")):(b("Failure"),w(R.error)),v(R.output)}catch(O){w(O.message),b("Request Failure")}u(!1),o.emit(`run-next-testcase-${i+1}`)};Te.useEffect(()=>{let O=null;return o.once(`run-next-testcase-${i}`,()=>{E()}),i===0&&(O=setTimeout(()=>{E()},500)),()=>{i===0&&clearTimeout(O)}},[t]);const x=()=>{switch(h){case"Checking":return"secondary";case"Failure":return"danger";case"Request Failure":return"warning";case"Success":return"success";default:return"secondary"}},D=()=>{switch(h){case"Checking":return"Test Case";case"Failure":return"Failed";case"Request Failure":return"Failed";case"Success":return"Passed";default:return"Test Case"}};return ae.jsxs(ae.Fragment,{children:[ae.jsxs("button",{type:"button",onClick:()=>k(!0),disabled:h==="Checking"||h==="Not Started Yet",className:`btn btn-${x()} btn-sm m-1`,children:[c&&ae.jsx(XA,{})," ",D()]}),g&&ae.jsx(Bse,{color:x,status:h,executedOutput:p,error:f,test:n,handleClose:()=>k(!1)})]})}var VF={exports:{}};(function(n){var t=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function c(f,w,p){this.fn=f,this.context=w,this.once=p||!1}function u(f,w,p,v,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var k=new c(p,v||f,g),A=i?i+w:w;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],k]:f._events[A].push(k):(f._events[A]=k,f._eventsCount++),f}function h(f,w){--f._eventsCount===0?f._events=new o:delete f._events[w]}function b(){this._events=new o,this._eventsCount=0}b.prototype.eventNames=function(){var w=[],p,v;if(this._eventsCount===0)return w;for(v in p=this._events)t.call(p,v)&&w.push(i?v.slice(1):v);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(p)):w},b.prototype.listeners=function(w){var p=i?i+w:w,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var g=0,k=v.length,A=new Array(k);g<k;g++)A[g]=v[g].fn;return A},b.prototype.listenerCount=function(w){var p=i?i+w:w,v=this._events[p];return v?v.fn?1:v.length:0},b.prototype.emit=function(w,p,v,g,k,A){var _=i?i+w:w;if(!this._events[_])return!1;var E=this._events[_],x=arguments.length,D,O;if(E.fn){switch(E.once&&this.removeListener(w,E.fn,void 0,!0),x){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,v),!0;case 4:return E.fn.call(E.context,p,v,g),!0;case 5:return E.fn.call(E.context,p,v,g,k),!0;case 6:return E.fn.call(E.context,p,v,g,k,A),!0}for(O=1,D=new Array(x-1);O<x;O++)D[O-1]=arguments[O];E.fn.apply(E.context,D)}else{var B=E.length,I;for(O=0;O<B;O++)switch(E[O].once&&this.removeListener(w,E[O].fn,void 0,!0),x){case 1:E[O].fn.call(E[O].context);break;case 2:E[O].fn.call(E[O].context,p);break;case 3:E[O].fn.call(E[O].context,p,v);break;case 4:E[O].fn.call(E[O].context,p,v,g);break;default:if(!D)for(I=1,D=new Array(x-1);I<x;I++)D[I-1]=arguments[I];E[O].fn.apply(E[O].context,D)}}return!0},b.prototype.on=function(w,p,v){return u(this,w,p,v,!1)},b.prototype.once=function(w,p,v){return u(this,w,p,v,!0)},b.prototype.removeListener=function(w,p,v,g){var k=i?i+w:w;if(!this._events[k])return this;if(!p)return h(this,k),this;var A=this._events[k];if(A.fn)A.fn===p&&(!g||A.once)&&(!v||A.context===v)&&h(this,k);else{for(var _=0,E=[],x=A.length;_<x;_++)(A[_].fn!==p||g&&!A[_].once||v&&A[_].context!==v)&&E.push(A[_]);E.length?this._events[k]=E.length===1?E[0]:E:h(this,k)}return this},b.prototype.removeAllListeners=function(w){var p;return w?(p=i?i+w:w,this._events[p]&&h(this,p)):(this._events=new o,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=i,b.EventEmitter=b,n.exports=b})(VF);var zse=VF.exports;const jse=Gf(zse);function Vse({problemId:n,handleClose:t,code:i}){const[o,c]=Te.useState([]),[u,h]=Te.useState(!1),b=new jse;return Te.useEffect(()=>{n&&(async()=>{h(!0);const w=y1(Gw(Ds,"testCases"),Fv("problemId","==",n)),v=(await _1(w)).docs.map(g=>({id:g.id,...g.data()}));c(v),h(!1)})()},[]),ae.jsxs("div",{className:"offcanvas offcanvas-bottom show d-block",tabIndex:"-1","aria-labelledby":"offcanvasBottomLabel",children:[ae.jsxs("div",{className:"offcanvas-header",children:[ae.jsx("h5",{className:"offcanvas-title",children:"Test Cases (*click on test case to see details)"}),ae.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:t})]}),ae.jsx("div",{className:"offcanvas-body p-2",style:{height:"200px"},children:ae.jsxs("div",{className:"overflow-auto",children:[u&&ae.jsx("h3",{children:"Loading Test Cases..."}),!u&&o.map((f,w)=>ae.jsx(Fse,{test:f,index:w,event:b,code:i},f.id))]})})]})}function Use(){const{problemId:n}=YG(),[t,i]=Te.useState(null),[o,c]=Te.useState(!1),[u,h]=Te.useState(!1),[b,f]=Te.useState("");Te.useEffect(()=>{n&&(async()=>{c(!0);try{const g=(await rte(Hu(Ds,"problems",n))).data();g&&i(g)}catch(v){alert(v.message)}c(!1)})()},[]);const w=p=>{p.length!==0&&(f(p),h(!0))};return ae.jsx(ae.Fragment,{children:ae.jsx("div",{className:"container-fluid",children:ae.jsxs("div",{className:"row mt-2",children:[ae.jsxs("div",{className:"col-lg-6 col-md-6 col-sm-12",children:[o&&ae.jsx("h3",{children:"Loading..."}),!o&&t&&ae.jsx(Hte,{...t})]}),ae.jsx("div",{className:"col-lg-6 col-md-6 col-sm-12",children:ae.jsx(xie,{problemId:n,handleRun:w})}),u&&ae.jsx(Vse,{handleClose:()=>h(!1),problemId:n,code:b})]})})})}function Hse(){return ae.jsxs(hK,{children:[ae.jsxs(ma,{path:"/",element:ae.jsx(Ute,{}),children:[ae.jsx(ma,{index:!0,element:ae.jsx(Yy,{children:ae.jsx(hte,{})})}),ae.jsxs(ma,{path:"/problems",children:[ae.jsx(ma,{path:"new",exact:!0,element:ae.jsx(Yy,{children:ae.jsx(Vte,{})})}),ae.jsx(ma,{path:":problemId/solve",exact:!0,element:ae.jsx(Yy,{children:ae.jsx(Use,{})})})]})]}),ae.jsx(ma,{path:"/sign-up",element:ae.jsx(uN,{children:ae.jsx(Rte,{})}),exact:!0}),ae.jsx(ma,{path:"/sign-in",element:ae.jsx(uN,{children:ae.jsx(Lte,{})}),exact:!0})]})}function Wse(){return ae.jsx(ae.Fragment,{children:ae.jsx(Hse,{})})}b0.createRoot(document.getElementById("root")).render(ae.jsx(Sa.StrictMode,{children:ae.jsx(ute,{children:ae.jsx(vK,{children:ae.jsx(Wse,{})})})}));
